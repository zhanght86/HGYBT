20:38:25,360 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@3bce4a8a
20:38:25,370 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:38:25,374 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:38:25,375 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:38:26,872 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:38:26,874 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:38:26,875 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:38:26,886 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
20:38:26,968 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:38:27,058 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:38:27,059 INFO common.Log4jPrint(20) - End reset System.out!
20:38:27,061 INFO net.SocketConf(27) - Into SocketConf.load()...
20:38:27,062 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:38:27,063 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
20:38:27,067 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:38:27,067 INFO net.SocketConf(60) - Out SocketConf.load()!
20:38:27,102 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:38:27,103 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:38:27,114 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:38:27,114 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:38:27,114 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:38:27,120 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:38:27,121 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:38:27,121 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:38:27,128 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:38:27,128 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:38:27,128 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:38:27,136 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:38:27,136 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:38:27,136 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:42:39,487 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:42:39,487 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:42:39,487 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
20:42:39,514 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:42:39,537 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:42:39,537 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:42:39,537 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:42:39,547 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:42:40,269 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:42:40,350 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:42:40,415 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:42:40,424 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:42:40,424 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:42:40,424 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:42:40,434 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
20:42:40,444 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161127145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

20:42:40,464 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:42:40,464 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:42:40,618 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:42:40,618 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:42:40,625 INFO common.SaveMessage(59) - 1313_3_1012_in.xml IO输出耗时:0.0070s
20:42:40,625 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1313_3_1012_in.xml
20:42:40,635 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:42:40,635 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:42:40,635 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:42:40,645 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
20:42:40,645 INFO common.Log4jPrint(20) - 
20:42:40,645 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:42:40,645 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:42:40,655 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
20:42:41,047 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:42:41,071 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:42:41,073 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:42:41,304 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:42:41,305 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:42:41,321 INFO common.Log4jPrint(20) - ================0133011
20:42:41,322 INFO common.Log4jPrint(20) - ================03
20:42:41,322 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:42:41,322 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
20:42:41,322 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:42:41,328 INFO service.NewContInput(43) - Into NewContInput.service()...
20:42:41,329 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:42:41,339 INFO common.Log4jPrint(20) - 进程名：1313
20:42:41,339 INFO common.Log4jPrint(20) - trancom:3
20:42:41,339 INFO common.Log4jPrint(20) - FuncFlag:1012
20:42:41,340 INFO common.Log4jPrint(20) - mHeadEle.getChildText1313_3_1012_in.xml
20:42:41,381 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:42:41,381 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1313,3,'13099','demaxiya200164','5201300004',1012,20161127,145205,'210414131200027',-1,-1,'????','127.0.0.1','1313_3_1012_in.xml',20161202,204241,20161202,204241,'230803197906010035','????','230803197906010035','011A0100' )
20:42:41,393 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:42:41,394 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161202 and MakeTime>=203921
20:42:41,465 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:42:41,465 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:42:41,475 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
20:42:41,512 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:42:41,512 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:42:41,513 INFO common.RuleXml(198) - Into RuleXml.load()...
20:42:41,513 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:42:41,513 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
20:42:41,533 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:42:41,533 INFO common.RuleXml(215) - Out RuleXml.load()!
20:42:41,533 INFO common.RuleParser(49) - Into RuleParser.check()...
20:42:41,533 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:42:41,542 INFO common.Log4jPrint(20) - 对邮编进行校验
20:42:41,565 INFO common.Log4jPrint(20) - 对邮编进行校验
20:42:41,565 INFO common.Log4jPrint(20) - 返回的结果是:0
20:42:41,565 INFO common.Log4jPrint(20) - 对邮编进行校验
20:42:41,565 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

20:42:41,575 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:42:41,612 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:42:41,612 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:42:41,612 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1313,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1313_3_1012_in.xml',MakeDate=20161202,InDoc=null,OutDoc=null,MakeTime=204241,ModifyDate=20161202,ModifyTime=204241,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1313
20:42:41,631 INFO service.NewContInput(245) - Out NewContInput.service()!
20:42:41,631 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
20:42:41,641 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:42:41,641 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:42:41,642 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
20:42:41,651 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:42:41,657 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:42:41,657 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:42:41,661 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
20:42:41,661 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:42:41,666 INFO common.SaveMessage(59) - 1313_6_1012_out.xml IO输出耗时:0.0020s
20:42:41,666 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1313_6_1012_out.xml
20:42:41,667 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2046</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161202204240645</SYS_RECV_TIME><SYS_RESP_TIME>20161202204241661</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:42:41,668 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:42:41,717 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:42:41,718 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1313
20:42:41,743 INFO common.Log4jPrint(20) - -------------------------
20:42:41,745 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:42:41,745 INFO common.Log4jPrint(20) - -------------------------
20:42:41,753 INFO common.Log4jPrint(20) - i=1
20:42:41,790 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:42:41,790 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:42:41,790 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1313,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='1.329',Bak4=null,Bak5=null,InNoDoc='1313_3_1012_in.xml',MakeDate=20161202,InDoc=null,OutDoc=null,MakeTime=204241,ModifyDate=20161202,ModifyTime=204241,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1313_6_1012_out.xml' where LogNo=1313
20:42:41,835 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.411s
20:42:41,835 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
s.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
20:45:21,339 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
20:45:21,347 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:45:21,352 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:45:21,352 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:45:21,355 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:45:21,356 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:45:21,356 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:45:21,360 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
20:45:21,429 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:45:21,439 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:45:21,440 INFO common.Log4jPrint(20) - End reset System.out!
20:45:21,442 INFO net.SocketConf(27) - Into SocketConf.load()...
20:45:21,442 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:45:21,443 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
20:45:21,446 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:45:21,446 INFO net.SocketConf(60) - Out SocketConf.load()!
20:45:21,462 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:45:21,463 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:45:21,474 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:45:21,474 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:45:21,475 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:45:21,481 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:45:21,481 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:45:21,482 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:45:21,488 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:45:21,489 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:45:21,489 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:45:21,495 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:45:21,496 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:45:21,497 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:45:25,749 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
20:45:25,759 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:45:25,760 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:45:25,760 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
20:45:25,769 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:45:25,770 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
20:45:25,771 INFO test.NewCCBTestUI(430) - 收到返回报文！
20:45:25,792 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:45:25,793 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:45:25,796 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:45:25,803 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:45:26,811 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:45:26,871 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:45:26,942 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:45:26,953 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:45:26,954 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:45:26,955 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:45:26,961 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
20:45:26,969 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161202145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200029</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

20:45:27,001 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:45:27,001 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:45:27,128 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:45:27,129 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:45:27,135 INFO common.SaveMessage(59) - 1319_3_1012_in.xml IO输出耗时:0.0060s
20:45:27,135 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1319_3_1012_in.xml
20:45:27,137 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:45:27,140 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:45:27,143 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:45:27,150 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
20:45:27,151 INFO common.Log4jPrint(20) - 
20:45:27,160 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:45:27,160 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:45:27,160 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
20:45:27,487 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:45:27,505 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:45:27,506 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:45:27,664 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:45:27,664 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:45:27,684 INFO common.Log4jPrint(20) - ================0133011
20:45:27,684 INFO common.Log4jPrint(20) - ================03
20:45:27,684 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:45:27,684 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
20:45:27,684 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:45:27,694 INFO service.NewContInput(43) - Into NewContInput.service()...
20:45:27,695 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:45:27,705 INFO common.Log4jPrint(20) - 进程名：1319
20:45:27,706 INFO common.Log4jPrint(20) - trancom:3
20:45:27,706 INFO common.Log4jPrint(20) - FuncFlag:1012
20:45:27,706 INFO common.Log4jPrint(20) - mHeadEle.getChildText1319_3_1012_in.xml
20:45:27,745 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:45:27,746 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1319,3,'13099','demaxiya200164','5201300004',1012,20161202,145205,'210414131200029',-1,-1,'????','127.0.0.1','1319_3_1012_in.xml',20161202,204527,20161202,204527,'230803197906010035','????','230803197906010035','011A0100' )
20:45:27,760 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:45:27,761 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200029' and MakeDate>=20161202 and MakeTime>=204207
20:45:27,841 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:45:27,841 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:45:27,841 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
20:45:27,878 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:45:27,878 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:45:27,878 INFO common.RuleXml(198) - Into RuleXml.load()...
20:45:27,879 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:45:27,879 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
20:45:27,885 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:45:27,885 INFO common.RuleXml(215) - Out RuleXml.load()!
20:45:27,886 INFO common.RuleParser(49) - Into RuleParser.check()...
20:45:27,886 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:45:27,894 INFO common.Log4jPrint(20) - 对邮编进行校验
20:45:27,896 INFO common.Log4jPrint(20) - 对邮编进行校验
20:45:27,896 INFO common.Log4jPrint(20) - 返回的结果是:0
20:45:27,898 INFO common.Log4jPrint(20) - 对邮编进行校验
20:45:27,902 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:45:27,903 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:45:27,903 INFO common.RuleParser(62) - Out RuleParser.check()!
20:45:27,903 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
20:45:27,908 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:45:27,911 INFO common.SaveMessage(59) - 1319_6_0_inSvc.xml IO输出耗时:0.0020s
20:45:27,911 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1319_6_0_inSvc.xml
20:45:27,912 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:45:27,912 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:45:33,088 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:47:02,196 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
20:47:02,197 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
20:47:02,198 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
20:47:02,198 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
20:47:02,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
20:47:02,200 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
20:47:02,200 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
20:47:02,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
20:47:02,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
20:47:02,202 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
20:47:02,203 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
20:47:02,203 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
20:47:02,204 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
20:47:02,204 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
20:47:02,205 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:47:02,206 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
20:47:02,207 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
20:47:02,207 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
20:47:02,208 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
20:47:02,208 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
20:47:02,208 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
20:47:02,209 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
20:47:02,209 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
20:47:02,210 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
20:47:02,210 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
20:47:02,210 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
20:47:02,211 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
20:47:02,211 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
20:47:02,211 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
20:47:02,212 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
20:47:02,212 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
20:47:02,213 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
20:47:02,213 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
20:47:02,213 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
20:47:02,214 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
20:47:02,214 INFO common.Log4jPrint(20) - 	... 13 more
20:47:02,215 INFO common.Log4jPrint(20) - -----------------------------------------------
20:47:02,215 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:47:02,219 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:47:02,262 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:47:02,263 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:47:02,263 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1319,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161202,TranTime=145205,ProposalPrtNo='210414131200029',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=94,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1319_3_1012_in.xml',MakeDate=20161202,InDoc=null,OutDoc=null,MakeTime=204527,ModifyDate=20161202,ModifyTime=204702,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1319
20:47:02,279 INFO service.NewContInput(245) - Out NewContInput.service()!
20:47:02,280 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
20:47:02,288 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:47:02,288 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:47:02,288 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
20:47:02,297 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:47:02,302 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:47:02,302 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:47:02,306 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
20:47:02,306 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:47:02,310 INFO common.SaveMessage(59) - 1319_9_1012_out.xml IO输出耗时:0.0020s
20:47:02,311 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1319_9_1012_out.xml
20:47:02,312 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2019</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161202204527151</SYS_RECV_TIME><SYS_RESP_TIME>20161202204702306</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:47:02,312 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:47:02,314 INFO test.NewCCBTestUI(444) - 返回报文长度：2029
20:47:02,316 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：96.556s
20:47:02,348 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:47:02,348 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1319
20:47:02,377 INFO common.Log4jPrint(20) - -------------------------
20:47:02,378 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:47:02,379 INFO common.Log4jPrint(20) - -------------------------
20:47:02,386 INFO common.Log4jPrint(20) - i=1
20:47:02,410 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:47:02,411 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:47:02,411 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1319,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161202,TranTime=145205,ProposalPrtNo='210414131200029',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=94,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='95.432',Bak4=null,Bak5=null,InNoDoc='1319_3_1012_in.xml',MakeDate=20161202,InDoc=null,OutDoc=null,MakeTime=204527,ModifyDate=20161202,ModifyTime=204702,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1319_9_1012_out.xml' where LogNo=1319
20:47:02,424 INFO midplat.Ybt4Socket(170) - 处理总耗时：95.47s
20:47:02,425 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
