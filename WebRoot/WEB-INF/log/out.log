15:50:17,288 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
15:50:17,342 INFO service.ContBatchSendDisk(53) - 1
15:50:18,701 ERROR service.ContBatchSendDisk(91) - 文件解密失败........
15:50:18,706 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
15:52:51,946 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
15:52:51,951 INFO service.ContBatchSendDisk(54) - 1
15:52:51,957 ERROR service.ContBatchSendDisk(92) - 文件解密失败........
15:52:51,958 INFO service.ContBatchSendDisk(110) - Out Get_PayRetServ.service()!
15:53:15,402 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
15:53:15,406 INFO service.ContBatchSendDisk(54) - 1
15:53:15,413 ERROR service.ContBatchSendDisk(92) - 文件解密失败........
15:53:15,414 INFO service.ContBatchSendDisk(110) - Out Get_PayRetServ.service()!
15:53:46,952 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
15:53:46,956 INFO service.ContBatchSendDisk(53) - 1
15:53:46,963 ERROR service.ContBatchSendDisk(91) - 文件解密失败........
15:53:46,964 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
15:55:37,938 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
15:55:37,962 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:55:37,966 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:55:37,966 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:55:38,002 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
15:55:38,003 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:55:38,003 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:55:38,015 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
15:55:38,095 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:55:38,105 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:55:38,106 INFO common.Log4jPrint(20) - End reset System.out!
15:55:38,107 INFO net.SocketConf(27) - Into SocketConf.load()...
15:55:38,108 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:55:38,109 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
15:55:38,120 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:55:38,121 INFO net.SocketConf(60) - Out SocketConf.load()!
15:55:38,165 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
15:55:38,166 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:55:38,193 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
15:55:38,193 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
15:55:38,193 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:55:38,220 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
15:55:38,220 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
15:55:38,221 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:55:38,238 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
15:55:38,238 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
15:55:38,238 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:55:38,258 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
15:55:38,258 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
15:55:38,258 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
15:56:18,194 ERROR common.JdomUtil(88) - xml煎璇锛瑙ｆ澶辫触锛
org.jdom.input.JDOMParseException: Error on line 7: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
15:56:18,229 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
15:56:18,249 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
15:56:18,249 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:56:18,249 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
15:56:18,259 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:56:18,288 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

15:56:18,289 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
15:56:18,305 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
15:56:18,348 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:56:19,620 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:56:19,806 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:56:20,023 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
15:56:20,025 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
15:56:20,026 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:56:20,085 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
15:56:20,087 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:56:20,088 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
15:56:20,147 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:80)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
15:56:20,188 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
15:56:20,190 INFO common.Log4jPrint(20) - ==================send====
15:56:20,190 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:116)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
15:56:20,359 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:56:20,359 INFO common.Log4jPrint(20) - null
15:56:20,359 INFO common.Log4jPrint(20) - null
15:56:20,360 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:56:20,568 INFO common.Log4jPrint(20) - i=0
15:56:20,573 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
15:56:20,615 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.528s
15:56:20,616 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:02:01,265 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
16:02:01,272 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:02:01,276 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:02:01,277 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:02:01,279 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:02:01,279 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:02:01,280 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:02:01,283 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:02:01,345 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:02:01,353 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:02:01,353 INFO common.Log4jPrint(20) - End reset System.out!
16:02:01,355 INFO net.SocketConf(27) - Into SocketConf.load()...
16:02:01,356 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:02:01,356 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:02:01,359 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:02:01,360 INFO net.SocketConf(60) - Out SocketConf.load()!
16:02:01,376 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:02:01,377 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:02:01,385 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:02:01,386 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:02:01,386 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:02:01,392 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:02:01,393 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:02:01,394 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:02:01,397 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:02:01,398 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:02:01,397 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:02:01,402 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:02:01,403 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:02:01,403 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:02:44,054 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
16:02:44,061 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:02:44,065 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:02:44,065 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:02:44,067 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:02:44,068 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:02:44,068 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:02:44,072 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:02:44,131 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:02:44,139 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:02:44,140 INFO common.Log4jPrint(20) - End reset System.out!
16:02:44,142 INFO net.SocketConf(27) - Into SocketConf.load()...
16:02:44,143 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:02:44,143 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:02:44,146 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:02:44,147 INFO net.SocketConf(60) - Out SocketConf.load()!
16:02:44,163 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:02:44,164 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:02:44,172 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:02:44,172 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:02:44,172 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:02:44,178 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:02:44,178 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:02:44,179 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:02:44,184 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:02:44,184 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:02:44,184 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:02:44,189 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:02:44,190 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:02:44,189 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:02:46,976 ERROR common.JdomUtil(88) - xml煎璇锛瑙ｆ澶辫触锛
org.jdom.input.JDOMParseException: Error on line 53: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
16:02:46,982 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:02:46,991 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:02:46,992 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:02:46,992 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:02:47,002 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:02:47,025 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:02:47,026 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:02:47,029 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:02:47,036 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:02:47,595 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:02:47,738 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:02:47,830 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:02:47,833 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:02:47,834 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:02:47,848 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:02:47,850 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:02:47,852 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:02:47,856 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:80)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:48)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
16:02:47,861 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:02:47,861 INFO common.Log4jPrint(20) - ==================send====
16:02:47,862 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:116)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
16:02:47,990 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:02:47,991 INFO common.Log4jPrint(20) - null
16:02:47,992 INFO common.Log4jPrint(20) - null
16:02:47,992 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:02:48,109 INFO common.Log4jPrint(20) - i=0
16:02:48,114 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:02:48,115 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.265s
16:02:48,116 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:03:07,847 ERROR common.JdomUtil(88) - xml煎璇锛瑙ｆ澶辫触锛
org.jdom.input.JDOMParseException: Error on line 53: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:202)
16:04:20,018 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
16:04:20,025 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:04:20,029 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:04:20,029 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:04:20,031 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:04:20,032 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:04:20,032 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:04:20,035 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:04:20,096 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:04:20,104 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:04:20,105 INFO common.Log4jPrint(20) - End reset System.out!
16:04:20,107 INFO net.SocketConf(27) - Into SocketConf.load()...
16:04:20,107 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:04:20,108 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:04:20,111 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:04:20,111 INFO net.SocketConf(60) - Out SocketConf.load()!
16:04:20,132 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:04:20,133 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:04:20,143 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:04:20,143 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:04:20,144 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:04:20,149 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:04:20,150 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:04:20,150 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:04:20,155 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:04:20,156 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:04:20,156 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:04:20,160 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:04:20,161 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:04:20,161 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:04:38,234 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:04:38,268 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:04:38,268 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:04:38,269 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:04:38,285 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:04:38,292 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1799
16:04:38,294 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:04:38,306 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:04:38,307 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:04:38,310 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:04:38,316 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:04:38,774 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:04:38,841 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:04:38,926 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:04:38,928 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:04:38,929 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:04:38,944 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:04:38,946 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:04:38,947 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:04:38,956 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1799
16:04:38,965 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:04:38,966 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:04:38,967 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:04:39,168 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:04:39,168 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:04:39,171 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:04:39,171 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:04:39,172 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:04:39,173 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:04:39,175 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:04:39,180 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:04:39,206 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:04:39,207 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:04:39,296 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:04:39,297 INFO service.ContBatchSendDisk(53) - 1
16:04:39,300 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.service(ContBatchSendDisk.java:66)
16:04:39,300 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
16:04:39,301 ERROR service.ContBatchSendDisk(91) - 文件解密失败........
16:04:39,310 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:04:39,311 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:04:39,360 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:04:39,361 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:04:39,363 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:04:39,866 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:04:39,869 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:04:39,870 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:04:40,123 INFO format.BatchSendDisk(183) - 配置节点element:
16:04:40,124 INFO common.Log4jPrint(20) - 加密前文件路径：/ybttest/newccb/snd/
16:04:40,124 INFO common.Log4jPrint(20) - 交易码：P53816107
16:04:40,124 INFO common.Log4jPrint(20) - 文件绝对路径：/ybttest/newccb/snd/AL02100612017011301.xml
16:04:40,125 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:216)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
16:04:40,125 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:04:40,125 INFO common.Log4jPrint(20) - ==================send====
16:04:40,141 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
16:04:40,142 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
16:04:40,142 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
16:04:40,152 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
16:04:40,156 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:04:40,156 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
16:04:40,161 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0020s
16:04:40,161 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
16:04:40,164 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:04:40,164 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:04:40,168 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:04:40,170 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.902s
16:04:40,217 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:04:40,217 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:04:40,217 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:04:40,217 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:04:40,256 INFO common.Log4jPrint(20) - i=0
16:04:40,257 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:04:40,258 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.312s
16:04:40,258 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:06:38,014 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
16:06:38,021 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:06:38,025 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:06:38,026 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:06:38,027 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:06:38,028 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:06:38,029 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:06:38,032 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:06:38,092 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:06:38,101 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:06:38,101 INFO common.Log4jPrint(20) - End reset System.out!
16:06:38,103 INFO net.SocketConf(27) - Into SocketConf.load()...
16:06:38,104 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:06:38,104 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:06:38,107 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:06:38,108 INFO net.SocketConf(60) - Out SocketConf.load()!
16:06:38,128 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:06:38,129 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:06:38,139 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:06:38,140 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:06:38,140 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:06:38,146 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:06:38,147 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:06:38,147 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:06:38,151 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:06:38,152 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:06:38,152 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:06:38,156 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:06:38,157 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:06:38,157 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:06:42,740 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:06:42,750 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:06:42,750 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:06:42,751 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:06:42,758 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1799
16:06:42,759 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:06:42,760 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:06:42,781 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:06:42,782 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:06:42,784 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:06:42,790 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:06:43,251 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:06:43,341 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:06:43,405 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:06:43,407 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:06:43,408 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:06:43,423 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:06:43,425 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:06:43,427 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:06:43,435 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1799
16:06:43,444 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:06:43,445 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:06:43,445 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:06:43,577 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:06:43,577 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:06:43,580 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:06:43,580 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:06:43,582 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:06:43,583 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:06:43,585 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:06:43,590 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:06:43,593 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:06:43,593 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:06:43,599 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:06:43,599 INFO service.ContBatchSendDisk(53) - 1
16:06:43,600 INFO service.ContBatchSendDisk(72) - 接收文件为：AL02100612017011301_RESULT.XML    /home/ap/fserver2/rcv
16:06:43,600 INFO service.ContBatchSendDisk(78) - 密文路径：AL02100612017011301_RESULT.XML//home/ap/fserver2/rcv    明文路径：/home/ap/fserver2/snd//home/ap/fserver2/rcv
16:06:43,600 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:06:43,604 INFO common.Log4jPrint(20) - start load jniSecApi
16:06:43,604 INFO common.Log4jPrint(20) - F:\Java\jdk6\jdk1.6.0_45\bin;F:\MyEclipse\Common\plugins\com.genuitec.eclipse.easie.tomcat.myeclipse_9.0.0.me201211011550\tomcat\bin
16:06:43,605 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.UnsatisfiedLinkError: no jniSecApi in java.library.path
	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)
	at java.lang.Runtime.loadLibrary0(Runtime.java:823)
	at java.lang.System.loadLibrary(System.java:1028)
	at cn.ccb.secapi.SecAPI.<clinit>(SecAPI.java:3224)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.service(ContBatchSendDisk.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
16:06:43,608 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:06:43,608 INFO common.Log4jPrint(20) - ==================send====
16:06:43,612 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
16:06:43,612 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
16:06:43,613 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
16:06:43,882 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
16:06:43,885 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:06:43,886 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
16:06:44,014 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
16:06:44,014 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
16:06:44,017 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:06:44,018 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:06:44,019 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:06:44,020 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.27s
16:06:44,061 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:06:44,061 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:06:44,061 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:06:44,062 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:06:44,111 INFO common.Log4jPrint(20) - i=0
16:06:44,113 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:06:44,113 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.688s
16:06:44,113 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:08:35,823 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
16:08:35,830 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:08:35,834 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:08:35,834 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:08:35,836 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:08:35,837 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:08:35,837 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:08:35,840 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:08:35,899 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:08:35,907 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:08:35,908 INFO common.Log4jPrint(20) - End reset System.out!
16:08:35,910 INFO net.SocketConf(27) - Into SocketConf.load()...
16:08:35,911 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:08:35,911 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:08:35,914 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:08:35,914 INFO net.SocketConf(60) - Out SocketConf.load()!
16:08:35,930 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:08:35,931 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:08:35,939 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:08:35,940 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:08:35,940 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:08:35,946 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:08:35,947 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:08:35,947 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:08:35,955 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:08:35,955 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:08:35,955 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:08:35,960 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:08:35,961 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:08:35,961 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:08:41,708 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:08:41,718 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:08:41,718 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:08:41,719 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:08:41,726 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1799
16:08:41,727 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:08:41,728 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:08:41,751 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:08:41,752 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:08:41,755 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:08:41,761 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:08:42,249 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:08:42,326 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:08:42,387 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:08:42,389 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:08:42,390 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:08:42,403 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:08:42,404 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:08:42,405 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:08:42,412 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1799
16:08:42,420 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:08:42,420 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:08:42,421 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:08:42,548 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:08:42,548 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:08:42,551 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:08:42,552 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:08:42,552 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:08:42,553 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:08:42,555 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:08:42,560 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:08:42,563 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:08:42,563 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:08:42,569 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:08:42,569 INFO service.ContBatchSendDisk(53) - 1
16:08:42,570 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:08:42,570 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:08:42,570 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:08:42,573 INFO common.Log4jPrint(20) - start load jniSecApi
16:08:42,574 INFO common.Log4jPrint(20) - F:\Java\jdk6\jdk1.6.0_45\bin;F:\MyEclipse\Common\plugins\com.genuitec.eclipse.easie.tomcat.myeclipse_9.0.0.me201211011550\tomcat\bin
16:08:42,575 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.UnsatisfiedLinkError: no jniSecApi in java.library.path
	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)
	at java.lang.Runtime.loadLibrary0(Runtime.java:823)
	at java.lang.System.loadLibrary(System.java:1028)
	at cn.ccb.secapi.SecAPI.<clinit>(SecAPI.java:3224)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.service(ContBatchSendDisk.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
16:08:42,578 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:08:42,578 INFO common.Log4jPrint(20) - ==================send====
16:08:42,582 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
16:08:42,582 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
16:08:42,582 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
16:08:42,853 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
16:08:42,856 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:08:42,856 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
16:08:42,977 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
16:08:42,977 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
16:08:42,979 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:08:42,980 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:08:42,981 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:08:42,983 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.264s
16:08:43,026 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:08:43,026 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:08:43,027 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:08:43,027 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:08:43,067 INFO common.Log4jPrint(20) - i=0
16:08:43,069 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:08:43,069 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.665s
16:08:43,069 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:15:18,504 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:15:18,515 INFO midplat.Ybt4Socket(34) - TranLogNo:15059
16:15:18,516 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:15:18,516 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:15:18,517 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:15:18,517 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:15:18,524 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1799
16:15:18,525 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1799
16:15:18,525 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:15:18,528 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:15:18,528 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:15:18,528 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:15:18,558 INFO common.SaveMessage(94) - 15062_9_1059_in.xml IO输出耗时:0.028s
16:15:18,559 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15062_9_1059_in.xml
16:15:18,559 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:15:18,560 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:15:18,562 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:15:18,562 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:15:18,563 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:15:18,563 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:15:18,563 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:15:18,564 INFO service.ContBatchSendDisk(53) - 1
16:15:18,564 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:15:18,565 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:15:18,565 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:15:18,575 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NoClassDefFoundError: Could not initialize class cn.ccb.secapi.SecAPI
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.service(ContBatchSendDisk.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
16:15:18,575 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:15:18,576 INFO common.Log4jPrint(20) - ==================send====
16:15:18,580 INFO common.SaveMessage(94) - 15062_12_1059_out.xml IO输出耗时:0.0010s
16:15:18,580 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15062_12_1059_out.xml
16:15:18,582 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:15:18,583 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:15:18,584 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:15:18,586 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.07s
16:15:18,614 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:15:18,615 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:15:18,615 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:15:18,615 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:15:18,643 INFO common.Log4jPrint(20) - i=0
16:15:18,643 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:15:18,643 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.126s
16:15:18,643 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:18:41,174 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
16:18:41,182 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:18:41,185 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:18:41,186 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:18:41,188 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:18:41,188 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:18:41,189 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:18:41,192 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:18:41,252 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:18:41,260 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:18:41,261 INFO common.Log4jPrint(20) - End reset System.out!
16:18:41,263 INFO net.SocketConf(27) - Into SocketConf.load()...
16:18:41,264 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:18:41,264 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:18:41,267 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:18:41,268 INFO net.SocketConf(60) - Out SocketConf.load()!
16:18:41,284 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:18:41,284 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:18:41,293 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:18:41,294 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:18:41,294 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:18:41,299 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:18:41,300 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:18:41,300 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:18:41,306 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:18:41,306 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:18:41,306 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:18:41,311 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:18:41,311 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:18:41,311 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:18:49,798 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:18:49,808 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:18:49,808 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:18:49,809 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:18:49,816 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1799
16:18:49,817 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:18:49,818 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:18:49,840 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:18:49,841 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:18:49,844 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:18:49,851 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:18:50,535 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:18:50,634 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:18:50,747 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:18:50,748 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:18:50,748 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:18:50,753 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:18:50,754 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:18:50,754 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:18:50,757 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1799
16:18:50,759 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:18:50,760 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:18:50,760 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:18:50,910 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:18:50,911 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:18:50,914 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0030s
16:18:50,914 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:18:50,915 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:18:50,916 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:18:50,918 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:18:50,925 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:18:50,928 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:18:50,928 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:18:50,934 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:18:50,935 INFO service.ContBatchSendDisk(53) - 1
16:18:50,935 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:18:50,936 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:18:50,936 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:18:50,936 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:18:50,941 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:18:50,942 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:18:50,942 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:18:50,942 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:18:50,943 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:18:50,943 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:18:50,946 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:251)
16:18:50,946 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:18:50,947 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:18:50,947 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:18:51,238 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:18:51,241 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:18:51,242 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:18:51,362 INFO format.BatchSendDisk(183) - 配置节点element:
16:18:51,363 INFO common.Log4jPrint(20) - 加密前文件路径：/ybttest/newccb/snd/
16:18:51,363 INFO common.Log4jPrint(20) - 交易码：P53816107
16:18:51,363 INFO common.Log4jPrint(20) - 文件绝对路径：/ybttest/newccb/snd/AL02100612017011301.xml
16:18:51,364 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:216)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
16:18:51,364 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:18:51,365 INFO common.Log4jPrint(20) - ==================send====
16:18:51,367 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
16:18:51,367 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
16:18:51,368 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
16:18:51,372 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
16:18:51,375 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:18:51,375 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
16:18:51,379 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
16:18:51,379 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
16:18:51,382 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:18:51,382 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:18:51,383 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:18:51,385 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.576s
16:18:51,442 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:18:51,442 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:18:51,443 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:18:51,443 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:18:51,562 INFO common.Log4jPrint(20) - i=0
16:18:51,567 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:18:51,569 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.814s
16:18:51,569 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:24:10,550 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
16:24:10,557 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:24:10,561 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:24:10,562 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:24:10,564 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:24:10,564 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:24:10,565 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:24:10,568 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:24:10,629 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:24:10,637 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:24:10,638 INFO common.Log4jPrint(20) - End reset System.out!
16:24:10,640 INFO net.SocketConf(27) - Into SocketConf.load()...
16:24:10,640 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:24:10,641 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:24:10,644 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:24:10,644 INFO net.SocketConf(60) - Out SocketConf.load()!
16:24:10,660 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:24:10,661 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:24:10,671 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:24:10,671 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:24:10,672 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:24:10,679 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:24:10,680 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:24:10,679 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:24:10,686 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:24:10,687 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:24:10,686 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:24:10,691 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:24:10,691 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:24:10,691 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:24:14,447 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:24:14,458 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:24:14,458 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:24:14,459 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:24:14,466 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1799
16:24:14,467 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:24:14,468 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:24:14,491 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:24:14,492 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:24:14,495 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:24:14,501 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:24:20,067 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:24:21,012 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:24:23,100 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:24:23,101 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:24:23,102 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:24:23,108 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:24:23,109 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:24:23,109 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:24:23,113 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1799
16:24:23,117 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:24:23,117 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:24:23,118 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:24:23,259 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:24:23,259 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:24:23,262 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0030s
16:24:23,262 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:24:23,263 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:24:23,264 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:24:23,265 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:24:23,271 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:24:23,273 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:24:23,273 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:24:23,284 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:24:29,447 INFO service.ContBatchSendDisk(53) - 1
16:28:48,582 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
16:28:48,590 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:28:48,594 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:28:48,594 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:28:48,596 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:28:48,596 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:28:48,597 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:28:48,600 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:28:48,660 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:28:48,668 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:28:48,669 INFO common.Log4jPrint(20) - End reset System.out!
16:28:48,671 INFO net.SocketConf(27) - Into SocketConf.load()...
16:28:48,671 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:28:48,672 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:28:48,675 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:28:48,675 INFO net.SocketConf(60) - Out SocketConf.load()!
16:28:48,692 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:28:48,692 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:28:48,701 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:28:48,701 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:28:48,702 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:28:48,708 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:28:48,708 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:28:48,708 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:28:48,713 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:28:48,713 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:28:48,713 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:28:48,718 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:28:48,719 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:28:48,718 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:29:02,915 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:29:02,925 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:29:02,925 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:29:02,926 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:29:02,933 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:29:02,934 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:29:02,935 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:29:02,957 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:29:02,958 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:29:02,961 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:29:02,967 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:29:03,641 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:29:03,729 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:29:04,009 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:29:04,012 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:29:04,013 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:29:04,027 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:29:04,028 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:29:04,030 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:29:04,036 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:29:04,044 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:29:04,045 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:29:04,046 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:29:04,179 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:29:04,180 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:29:04,182 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:29:04,183 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:29:04,183 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:29:04,184 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:29:04,186 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:29:04,192 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:29:04,195 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:29:04,195 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:29:04,205 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:29:14,829 INFO service.ContBatchSendDisk(53) - 1
16:30:57,628 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:30:59,693 INFO service.ContBatchSendDisk(53) - 1
16:31:27,801 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:31:59,175 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:32:01,261 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:32:06,236 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:32:15,401 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:32:15,402 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:32:15,402 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:32:15,403 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:32:15,403 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:251)
16:32:31,650 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:32:31,651 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:32:31,657 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:32:31,657 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:32:31,658 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:32:31,935 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:32:31,938 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:32:31,938 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:32:32,059 INFO format.BatchSendDisk(183) - 配置节点element:
16:32:32,060 INFO common.Log4jPrint(20) - 加密前文件路径：/ybttest/newccb/snd/
16:32:32,060 INFO common.Log4jPrint(20) - 交易码：P53816107
16:32:32,060 INFO common.Log4jPrint(20) - 文件绝对路径：/ybttest/newccb/snd/AL02100612017011301.xml
16:32:32,061 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:216)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
16:32:32,061 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:32:32,061 INFO common.Log4jPrint(20) - ==================send====
16:32:32,064 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
16:32:32,064 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
16:32:32,064 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
16:32:32,068 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
16:32:32,072 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:32:32,072 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
16:32:32,075 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0s
16:32:32,076 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
16:32:32,078 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:32:32,079 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:32:32,080 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:32:32,082 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹209.157s
16:32:32,580 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:32:32,581 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:32:32,582 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:32:32,583 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:32:32,681 INFO common.Log4jPrint(20) - i=0
16:32:32,686 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:32:32,687 INFO midplat.Ybt4Socket(192) - 处理总耗时：208.659s
16:32:32,688 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:32:58,993 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:32:59,003 INFO midplat.Ybt4Socket(34) - TranLogNo:15059
16:32:59,004 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:32:59,004 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:32:59,005 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:32:59,005 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:32:59,012 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:32:59,013 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:32:59,013 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:32:59,016 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:32:59,016 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:32:59,017 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:32:59,020 INFO common.SaveMessage(94) - 15062_9_1059_in.xml IO输出耗时:0.0010s
16:32:59,020 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15062_9_1059_in.xml
16:32:59,021 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:32:59,022 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:32:59,023 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:32:59,024 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:32:59,024 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:32:59,024 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:32:59,025 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:32:59,025 INFO service.ContBatchSendDisk(53) - 1
16:32:59,025 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:32:59,026 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:32:59,026 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:32:59,026 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:33:45,429 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:33:45,432 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:33:45,440 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:33:45,443 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:33:45,443 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:251)
16:34:35,990 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:34:36,000 INFO midplat.Ybt4Socket(34) - TranLogNo:15065
16:34:36,001 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:34:36,001 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:34:36,001 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:34:36,001 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:34:36,009 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:34:36,010 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:34:36,010 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:34:36,013 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:34:36,013 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:34:36,013 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:34:36,017 INFO common.SaveMessage(94) - 15068_12_1059_in.xml IO输出耗时:0.0020s
16:34:36,017 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15068_12_1059_in.xml
16:34:36,018 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:34:36,019 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:34:36,021 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:34:36,021 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:34:36,022 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:34:36,022 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:34:36,022 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:34:36,022 INFO service.ContBatchSendDisk(53) - 1
16:34:36,023 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:34:36,023 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:34:36,024 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:34:36,024 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:35:11,322 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:35:13,644 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:35:13,686 INFO format.BatchSendDisk(183) - 配置节点element:
16:35:13,692 INFO common.Log4jPrint(20) - 加密前文件路径：/ybttest/newccb/snd/
16:35:13,695 INFO common.Log4jPrint(20) - 交易码：P53816107
16:35:13,698 INFO common.Log4jPrint(20) - 文件绝对路径：/ybttest/newccb/snd/AL02100612017011301.xml
16:35:19,867 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:216)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
16:35:22,171 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:35:22,176 INFO common.Log4jPrint(20) - ==================send====
16:35:22,228 INFO common.SaveMessage(94) - 15062_15_1059_out.xml IO输出耗时:0.012s
16:35:22,232 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15062_15_1059_out.xml
16:35:22,260 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:35:22,267 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:35:22,272 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:35:22,276 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹143.27s
16:38:02,783 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
16:38:02,790 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:38:02,794 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:38:02,794 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:38:02,796 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:38:02,797 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:38:02,797 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:38:02,800 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:38:02,862 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:38:02,871 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:38:02,871 INFO common.Log4jPrint(20) - End reset System.out!
16:38:02,873 INFO net.SocketConf(27) - Into SocketConf.load()...
16:38:02,874 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:38:02,875 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:38:02,877 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:38:02,878 INFO net.SocketConf(60) - Out SocketConf.load()!
16:38:02,895 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:38:02,897 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:38:02,906 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:38:02,907 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:38:02,907 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:38:02,914 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:38:02,915 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:38:02,914 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:38:02,920 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:38:02,920 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:38:02,920 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:38:02,925 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:38:02,926 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:38:02,926 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:38:05,897 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:38:05,907 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:38:05,908 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:38:05,908 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:38:05,916 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:38:05,917 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:38:05,917 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:38:05,939 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:38:05,940 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:38:05,943 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:38:05,949 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:38:06,468 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:38:06,523 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:38:06,608 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:38:06,610 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:38:06,611 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:38:06,623 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:38:06,624 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:38:06,625 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:38:06,633 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:38:06,638 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:38:06,638 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:38:06,639 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:38:06,764 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:38:06,764 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:38:06,767 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0030s
16:38:06,767 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:38:06,768 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:38:06,769 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:38:06,771 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:38:06,776 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:38:06,780 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:38:06,780 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:38:06,792 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:38:06,792 INFO service.ContBatchSendDisk(53) - 1
16:38:06,793 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:38:06,793 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:38:06,793 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:38:06,793 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:38:44,593 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:38:58,800 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:39:05,298 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:39:05,324 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:39:05,327 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:39:05,331 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:39:05,931 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:39:05,947 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:39:05,950 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:39:06,207 INFO format.BatchSendDisk(183) - 配置节点element:
16:39:06,209 INFO common.Log4jPrint(20) - 加密前文件路径：null
16:39:06,210 INFO common.Log4jPrint(20) - 交易码：P53818105
16:39:06,211 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
16:39:27,721 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:216)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
16:39:30,817 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:39:30,822 INFO common.Log4jPrint(20) - ==================send====
16:39:30,845 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
16:39:30,847 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
16:39:30,850 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
16:39:30,877 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
16:39:30,899 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:39:30,904 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
16:39:30,918 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0040s
16:39:30,919 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
16:39:30,929 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:39:30,932 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:39:30,934 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:39:30,935 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹85.027s
16:39:33,290 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:39:33,291 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:39:33,291 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:39:33,291 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:39:33,501 INFO common.Log4jPrint(20) - i=0
16:39:33,504 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:39:33,505 INFO midplat.Ybt4Socket(192) - 处理总耗时：86.881s
16:39:33,506 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:39:34,888 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:39:34,890 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:39:34,891 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:39:34,892 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:251)
16:43:09,307 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
16:43:09,314 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:43:09,318 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:43:09,319 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:43:09,320 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:43:09,321 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:43:09,321 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:43:09,325 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:43:09,385 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:43:09,393 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:43:09,394 INFO common.Log4jPrint(20) - End reset System.out!
16:43:09,396 INFO net.SocketConf(27) - Into SocketConf.load()...
16:43:09,396 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:43:09,397 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:43:09,400 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:43:09,400 INFO net.SocketConf(60) - Out SocketConf.load()!
16:43:09,417 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:43:09,417 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:43:09,427 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:43:09,428 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:43:09,427 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:43:09,435 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:43:09,436 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:43:09,437 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:43:09,443 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:43:09,444 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:43:09,444 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:43:09,449 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:43:09,450 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:43:09,450 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:43:14,121 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:43:14,131 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:43:14,131 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:43:14,132 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:43:14,139 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:43:14,140 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:43:14,141 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:43:14,162 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:43:14,163 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:43:14,165 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:43:14,171 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:43:14,663 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:43:14,722 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:43:14,812 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:43:14,813 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:43:14,814 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:43:14,820 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:43:14,821 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:43:14,822 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:43:14,825 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:43:14,828 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:43:14,829 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:43:14,829 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:43:14,948 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:43:14,949 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:43:14,952 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:43:14,952 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:43:14,953 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:43:14,953 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:43:14,955 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:43:14,962 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:43:14,965 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:43:14,965 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:43:14,976 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:43:14,976 INFO service.ContBatchSendDisk(53) - 1
16:43:14,977 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:43:14,977 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:43:14,977 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:43:14,978 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:43:20,790 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:43:22,784 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:43:24,904 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:43:24,935 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:43:24,937 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:43:24,940 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:43:25,536 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:43:25,551 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:43:25,555 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:43:25,813 INFO format.BatchSendDisk(183) - 配置节点element:
16:43:25,815 INFO common.Log4jPrint(20) - 加密前文件路径：null
16:43:25,816 INFO common.Log4jPrint(20) - 交易码：P53818105
16:43:25,817 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
16:44:18,301 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:216)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
16:44:21,534 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
16:44:21,535 INFO common.Log4jPrint(20) - ==================send====
16:44:21,545 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
16:44:21,546 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
16:44:21,548 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
16:44:21,564 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
16:44:21,574 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:44:21,575 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
16:44:21,580 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
16:44:21,581 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
16:44:21,584 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


16:44:21,585 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
16:44:21,587 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
16:44:21,589 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹67.457s
16:44:21,640 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:44:21,640 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:44:21,641 INFO common.Log4jPrint(20) - 108011rv11484294694478099
16:44:21,641 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
16:44:21,669 INFO common.Log4jPrint(20) - i=0
16:44:21,671 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
16:44:21,671 INFO midplat.Ybt4Socket(192) - 处理总耗时：66.85s
16:44:21,671 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
16:44:22,685 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:44:22,687 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:44:22,688 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:44:22,690 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:251)
16:45:42,282 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:45:42,292 INFO midplat.Ybt4Socket(34) - TranLogNo:15059
16:45:42,292 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:45:42,293 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:45:42,293 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:45:42,293 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:45:42,301 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:45:42,302 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:45:42,302 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:45:42,305 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:45:42,305 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:45:42,305 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:45:42,309 INFO common.SaveMessage(94) - 15062_9_1059_in.xml IO输出耗时:0.0020s
16:45:42,309 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15062_9_1059_in.xml
16:45:42,310 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:45:42,311 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:45:42,313 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:45:42,313 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:45:42,314 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:45:42,314 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:45:42,314 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:45:42,314 INFO service.ContBatchSendDisk(53) - 1
16:45:42,315 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:45:42,315 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:45:42,315 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:45:42,316 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:45:42,316 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:45:42,316 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:45:42,318 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:45:42,318 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:45:42,318 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:45:42,319 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:45:42,319 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:251)
16:45:42,325 INFO format.BatchSendDisk(183) - 配置节点element:
16:45:42,325 INFO common.Log4jPrint(20) - 加密前文件路径：null
16:45:42,326 INFO common.Log4jPrint(20) - 交易码：P53818105
16:45:42,326 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
16:48:02,901 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
16:48:02,908 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:48:02,912 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:48:02,912 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:48:02,914 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:48:02,915 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:48:02,915 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:48:02,918 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:48:02,979 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:48:02,987 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:48:02,987 INFO common.Log4jPrint(20) - End reset System.out!
16:48:02,989 INFO net.SocketConf(27) - Into SocketConf.load()...
16:48:02,990 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:48:02,991 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:48:02,994 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:48:02,994 INFO net.SocketConf(60) - Out SocketConf.load()!
16:48:03,013 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:48:03,014 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:48:03,023 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:48:03,024 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:48:03,023 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:48:03,029 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:48:03,030 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:48:03,030 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:48:03,037 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:48:03,037 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:48:03,037 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:48:03,042 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:48:03,042 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:48:03,042 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:48:07,277 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:48:07,287 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:48:07,287 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:48:07,288 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:48:07,296 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:48:07,297 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:48:07,298 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:48:07,321 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:48:07,322 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:48:07,325 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:48:07,332 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:48:07,869 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:48:07,924 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:48:07,990 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:48:07,993 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:48:07,994 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:48:08,008 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:48:08,011 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:48:08,012 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:48:08,017 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:48:08,022 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:48:08,022 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:48:08,022 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:48:08,158 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:48:08,158 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:48:08,161 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:48:08,161 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:48:08,162 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:48:08,163 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:48:08,165 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:48:08,175 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:48:08,178 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:48:08,178 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:48:08,183 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:48:08,183 INFO service.ContBatchSendDisk(53) - 1
16:48:08,184 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:48:08,184 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:48:08,184 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:48:08,185 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:48:08,189 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:48:08,190 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:48:08,190 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:48:08,190 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:48:08,190 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:48:08,190 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:48:08,194 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
16:48:08,194 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:48:08,194 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
16:48:08,195 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:48:08,195 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:48:08,195 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
16:48:08,208 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:185)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
16:48:08,474 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:48:08,477 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:48:08,477 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:48:08,598 INFO format.BatchSendDisk(183) - 配置节点element:
16:48:08,599 INFO common.Log4jPrint(20) - 加密前文件路径：null
16:48:08,599 INFO common.Log4jPrint(20) - 交易码：P53818105
16:48:08,599 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
16:56:32,149 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
16:56:32,156 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:56:32,160 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:56:32,160 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:56:32,162 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:56:32,163 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:56:32,163 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:56:32,166 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:56:32,228 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:56:32,236 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:56:32,238 INFO common.Log4jPrint(20) - End reset System.out!
16:56:32,240 INFO net.SocketConf(27) - Into SocketConf.load()...
16:56:32,241 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:56:32,242 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:56:32,245 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:56:32,245 INFO net.SocketConf(60) - Out SocketConf.load()!
16:56:32,261 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:56:32,262 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:56:32,272 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:56:32,272 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:56:32,272 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:56:32,278 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:56:32,279 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:56:32,279 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:56:32,284 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:56:32,285 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:56:32,285 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:56:32,290 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:56:32,290 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:56:32,290 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:56:41,291 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:56:41,301 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:56:41,301 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:56:41,301 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:56:41,309 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:56:41,310 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:56:41,311 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:56:41,332 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:56:41,333 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:56:41,335 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:56:41,341 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:56:41,914 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:56:42,007 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:56:42,106 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:56:42,108 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:56:42,109 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:56:42,124 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:56:42,125 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:56:42,126 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:56:42,130 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:56:42,135 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:56:42,136 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:56:42,136 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:56:42,259 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:56:42,259 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:56:42,262 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:56:42,262 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:56:42,263 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:56:42,264 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:56:42,266 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:56:42,276 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:56:42,279 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:56:42,279 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:56:42,285 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:56:42,286 INFO service.ContBatchSendDisk(53) - 1
16:56:42,286 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:56:42,287 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:56:42,287 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:56:42,287 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:56:42,292 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:56:42,293 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:56:42,293 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:56:42,293 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:56:42,293 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:56:42,294 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:56:42,298 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
16:56:42,298 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
16:56:42,298 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:56:42,299 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:56:42,299 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
16:56:42,300 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:56:42,358 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:56:42,359 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,165642,20170116,165642 )
16:56:42,455 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
16:56:42,456 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
16:56:42,641 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:56:42,645 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:56:42,646 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:56:42,781 INFO format.BatchSendDisk(183) - 配置节点element:
16:56:42,782 INFO common.Log4jPrint(20) - 加密前文件路径：null
16:56:42,782 INFO common.Log4jPrint(20) - 交易码：P53818105
16:56:42,782 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
16:58:07,448 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
16:58:07,456 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:58:07,459 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:58:07,460 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:58:07,462 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
16:58:07,462 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:58:07,463 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:58:07,466 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
16:58:07,526 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:58:07,534 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:58:07,534 INFO common.Log4jPrint(20) - End reset System.out!
16:58:07,536 INFO net.SocketConf(27) - Into SocketConf.load()...
16:58:07,537 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:58:07,537 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
16:58:07,540 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:58:07,541 INFO net.SocketConf(60) - Out SocketConf.load()!
16:58:07,558 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
16:58:07,558 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:58:07,569 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
16:58:07,569 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
16:58:07,571 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:58:07,576 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
16:58:07,576 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
16:58:07,576 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:58:07,582 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
16:58:07,582 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
16:58:07,583 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:58:07,590 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
16:58:07,590 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
16:58:07,590 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
16:58:10,440 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
16:58:10,450 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
16:58:10,450 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:58:10,451 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
16:58:10,458 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
16:58:10,459 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
16:58:10,460 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:58:10,483 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

16:58:10,484 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
16:58:10,486 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
16:58:10,493 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:58:11,008 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:58:11,115 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:58:11,219 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
16:58:11,221 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
16:58:11,222 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:58:11,235 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
16:58:11,237 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:58:11,238 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
16:58:11,246 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
16:58:11,254 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
16:58:11,254 INFO newNet.CcbNetImpl(65) - mTranCom==============03
16:58:11,255 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
16:58:11,378 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
16:58:11,379 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
16:58:11,381 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
16:58:11,382 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
16:58:11,383 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
16:58:11,383 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
16:58:11,385 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
16:58:11,398 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
16:58:11,401 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
16:58:11,401 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
16:58:11,406 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
16:58:11,406 INFO service.ContBatchSendDisk(53) - 1
16:58:11,407 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
16:58:11,407 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
16:58:11,407 INFO service.ContBatchSendDisk(80) - 文件解密开始...
16:58:11,407 INFO service.ContBatchSendDisk(85) - 文件解密完成...
16:58:11,412 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
16:58:11,412 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
16:58:11,413 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
16:58:11,413 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
16:58:11,413 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
16:58:11,413 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
16:58:11,417 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
16:58:11,417 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
16:58:11,417 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
16:58:11,418 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
16:58:11,418 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
16:58:11,418 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
16:58:11,697 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
16:58:11,700 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:58:11,700 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
16:58:11,821 INFO format.BatchSendDisk(183) - 配置节点element:
16:58:11,821 INFO common.Log4jPrint(20) - 加密前文件路径：null
16:58:11,822 INFO common.Log4jPrint(20) - 交易码：P53818105
16:58:11,822 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
16:58:12,130 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:58:12,132 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,165811,20170116,165811 )
16:58:12,227 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
16:58:12,228 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:01:05,893 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:01:05,898 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
org.jdom.IllegalAddException: The Content already has an existing parent "ENTITY"
	at org.jdom.ContentList.add(ContentList.java:209)
	at org.jdom.ContentList.add(ContentList.java:131)
	at java.util.AbstractList.add(AbstractList.java:91)
	at org.jdom.Element.addContent(Element.java:811)
	at com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.setComEntity(NewCcbFormatUtil.java:65)
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:124)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
17:01:05,898 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:01:05,899 INFO common.Log4jPrint(20) - ==================send====
17:01:05,917 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
17:01:05,917 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
17:01:05,918 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
17:01:05,922 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
17:01:05,926 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:01:05,926 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
17:01:05,930 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
17:01:05,930 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:01:05,933 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


17:01:05,936 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:01:05,938 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
17:01:05,939 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹175.488s
17:01:05,971 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:01:05,972 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:01:05,972 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:01:05,972 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:01:05,999 INFO common.Log4jPrint(20) - i=0
17:01:06,000 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:01:06,000 INFO midplat.Ybt4Socket(192) - 处理总耗时：174.763s
17:01:06,000 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:02:25,872 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:02:25,882 INFO midplat.Ybt4Socket(34) - TranLogNo:15062
17:02:25,883 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:02:25,883 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:02:25,883 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:02:25,884 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:02:25,891 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:02:25,892 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:02:25,892 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:02:25,895 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:02:25,895 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:02:25,895 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:02:25,899 INFO common.SaveMessage(94) - 15065_9_1059_in.xml IO输出耗时:0.0020s
17:02:25,899 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15065_9_1059_in.xml
17:02:25,899 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:02:25,906 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:02:25,908 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:02:25,908 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:02:25,908 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:02:25,909 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:02:25,909 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:02:25,909 INFO service.ContBatchSendDisk(53) - 1
17:02:25,910 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:02:25,910 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:02:25,910 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:02:25,910 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:02:25,911 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:02:25,921 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:02:25,920 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:02:25,924 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:02:25,925 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:02:25,926 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:02:25,926 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:02:25,926 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:02:25,927 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:02:25,955 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:02:25,956 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15068,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,170225,20170116,170225 )
17:02:25,975 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:02:25,975 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:04:09,495 INFO format.BatchSendDisk(183) - 配置节点element:
17:04:19,616 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:04:20,072 INFO common.Log4jPrint(20) - 交易码：P53818105
17:04:21,793 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:05:55,855 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
17:05:55,863 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:05:55,866 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:05:55,867 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:05:55,868 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
17:05:55,869 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:05:55,870 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:05:55,873 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
17:05:55,932 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:05:55,940 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:05:55,941 INFO common.Log4jPrint(20) - End reset System.out!
17:05:55,943 INFO net.SocketConf(27) - Into SocketConf.load()...
17:05:55,943 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:05:55,944 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
17:05:55,947 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:05:55,947 INFO net.SocketConf(60) - Out SocketConf.load()!
17:05:55,965 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
17:05:55,966 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:05:55,975 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
17:05:55,976 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
17:05:55,976 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:05:55,983 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
17:05:55,983 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
17:05:55,984 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:05:55,989 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
17:05:55,989 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
17:05:55,989 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:05:55,995 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
17:05:55,995 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
17:05:55,995 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
17:05:59,349 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:05:59,359 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
17:05:59,359 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:05:59,359 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
17:05:59,367 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:05:59,368 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:05:59,369 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:05:59,390 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

17:05:59,391 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
17:05:59,393 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
17:05:59,399 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:05:59,937 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:06:00,031 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:06:00,148 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
17:06:00,150 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
17:06:00,150 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:06:00,160 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:06:00,161 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:06:00,163 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:06:00,169 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:06:00,176 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:06:00,176 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:06:00,177 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:06:00,306 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
17:06:00,306 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
17:06:00,310 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
17:06:00,310 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
17:06:00,311 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:06:00,311 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:06:00,313 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:06:00,323 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:06:00,326 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:06:00,326 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:06:00,331 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:06:00,331 INFO service.ContBatchSendDisk(53) - 1
17:06:00,332 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:06:00,332 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:06:00,332 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:06:00,332 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:06:00,337 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:06:00,338 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:06:00,338 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:06:00,338 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:06:00,338 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:06:00,339 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:06:00,342 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:06:00,342 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
17:06:00,342 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:06:00,342 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
17:06:00,343 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
17:06:00,343 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:06:00,444 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:06:00,449 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,170600,20170116,170600 )
17:06:00,507 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:06:00,508 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:06:00,635 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
17:06:00,638 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:06:00,638 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
17:06:00,759 INFO format.BatchSendDisk(183) - 配置节点element:
17:06:00,759 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:06:00,760 INFO common.Log4jPrint(20) - 交易码：P53818105
17:06:00,760 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:06:59,635 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:06:59,639 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
org.jdom.IllegalAddException: The Content already has an existing parent "ENTITY"
	at org.jdom.ContentList.add(ContentList.java:209)
	at org.jdom.ContentList.add(ContentList.java:131)
	at java.util.AbstractList.add(AbstractList.java:91)
	at org.jdom.Element.addContent(Element.java:811)
	at com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.setComEntity(NewCcbFormatUtil.java:65)
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.std2NoStd(BatchSendDisk.java:124)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:148)
17:06:59,640 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:06:59,640 INFO common.Log4jPrint(20) - ==================send====
17:06:59,644 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
17:06:59,645 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
17:06:59,645 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
17:06:59,652 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
17:06:59,657 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:06:59,658 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
17:06:59,663 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
17:06:59,664 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:06:59,667 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


17:06:59,668 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:06:59,670 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
17:06:59,672 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹60.313s
17:06:59,713 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:06:59,713 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:06:59,713 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:06:59,713 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:06:59,745 INFO common.Log4jPrint(20) - i=0
17:06:59,745 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:06:59,745 INFO midplat.Ybt4Socket(192) - 处理总耗时：59.584s
17:06:59,746 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:07:11,747 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
17:07:11,754 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:07:11,758 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:07:11,758 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:07:11,760 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
17:07:11,761 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:07:11,761 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:07:11,764 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
17:07:11,825 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:07:11,833 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:07:11,834 INFO common.Log4jPrint(20) - End reset System.out!
17:07:11,836 INFO net.SocketConf(27) - Into SocketConf.load()...
17:07:11,836 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:07:11,837 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
17:07:11,840 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:07:11,840 INFO net.SocketConf(60) - Out SocketConf.load()!
17:07:11,856 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
17:07:11,857 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:07:11,866 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
17:07:11,867 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
17:07:11,867 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:07:11,873 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
17:07:11,873 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
17:07:11,873 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:07:11,879 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
17:07:11,879 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
17:07:11,879 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:07:11,885 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
17:07:11,886 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
17:07:11,886 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
17:07:15,387 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:07:15,397 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
17:07:15,397 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:07:15,397 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
17:07:15,405 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:07:15,406 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:07:15,407 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:07:15,428 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

17:07:15,429 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
17:07:15,431 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
17:07:15,437 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:07:15,972 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:07:16,035 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:07:16,127 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
17:07:16,128 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
17:07:16,129 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:07:16,135 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:07:16,136 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:07:16,137 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:07:16,140 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:07:16,144 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:07:16,145 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:07:16,145 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:07:16,272 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
17:07:16,272 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
17:07:16,275 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0030s
17:07:16,275 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
17:07:16,276 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:07:16,277 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:07:16,279 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:07:16,289 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:07:16,292 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:07:16,292 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:07:16,297 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:07:16,297 INFO service.ContBatchSendDisk(53) - 1
17:07:16,298 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:07:16,298 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:07:16,299 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:07:16,299 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:07:16,304 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:07:16,305 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:07:16,305 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:07:16,305 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:07:16,305 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:07:16,305 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:07:16,309 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:07:16,309 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:07:16,309 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
17:07:16,310 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
17:07:16,310 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:07:16,310 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
17:07:16,389 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:07:16,391 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,170716,20170116,170716 )
17:07:16,435 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:07:16,436 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:07:16,601 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
17:07:16,604 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:07:16,604 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
17:07:16,726 INFO format.BatchSendDisk(183) - 配置节点element:
17:07:16,726 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:07:16,726 INFO common.Log4jPrint(20) - 交易码：P53818105
17:07:16,727 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:07:44,877 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:07:50,438 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:07:50,477 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.012s
17:07:50,479 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:07:50,500 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116170716290</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116170716724</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:07:50,504 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:07:50,505 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:07:50,507 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹35.11s
17:07:52,567 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:07:52,571 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:07:52,576 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:07:52,580 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:07:52,650 INFO common.Log4jPrint(20) - i=0
17:07:52,761 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:07:53,327 INFO midplat.Ybt4Socket(192) - 处理总耗时：37.189s
17:07:53,573 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:08:24,286 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:08:24,297 INFO midplat.Ybt4Socket(34) - TranLogNo:15062
17:08:24,297 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:08:24,297 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:08:24,298 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:08:24,298 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:08:24,305 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:08:24,306 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:08:24,306 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:08:24,309 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:08:24,309 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:08:24,309 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:08:24,313 INFO common.SaveMessage(94) - 15065_9_1059_in.xml IO输出耗时:0.0010s
17:08:24,313 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15065_9_1059_in.xml
17:08:24,313 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:08:24,314 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:08:24,316 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:08:24,316 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:08:24,316 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:08:24,317 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:08:24,317 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:08:24,317 INFO service.ContBatchSendDisk(53) - 1
17:08:24,318 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:08:24,318 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:08:24,318 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:08:24,318 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:08:24,319 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:08:24,319 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:08:24,319 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:08:24,319 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:08:24,319 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:08:24,320 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:08:24,320 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:08:24,320 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:08:24,321 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:08:24,323 INFO format.BatchSendDisk(183) - 配置节点element:
17:08:24,324 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:08:24,324 INFO common.Log4jPrint(20) - 交易码：P53818105
17:08:24,324 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:08:24,348 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:08:24,349 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15068,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,170824,20170116,170824 )
17:08:24,365 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:08:24,366 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:08:26,324 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:08:26,324 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:08:26,328 INFO common.SaveMessage(94) - 15065_12_1059_out.xml IO输出耗时:0.0020s
17:08:26,328 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15065_12_1059_out.xml
17:08:26,333 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116170824316</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116170824321</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:08:26,353 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:08:26,355 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:08:26,357 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.06s
17:08:26,397 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:08:26,397 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:08:26,397 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:08:26,398 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:08:26,427 INFO common.Log4jPrint(20) - i=0
17:08:26,428 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:08:26,428 INFO midplat.Ybt4Socket(192) - 处理总耗时：2.13s
17:08:26,428 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:10:25,933 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
17:10:25,934 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
17:10:25,934 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@409ba134
17:10:25,934 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
17:10:25,934 INFO common.Log4jPrint(20) - Start revert System.out...
17:10:25,934 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
17:10:25,934 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
17:10:25,934 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
17:10:25,935 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
17:10:35,133 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78688954
17:10:35,141 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:10:35,144 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:10:35,145 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:10:35,147 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
17:10:35,148 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:10:35,148 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:10:35,151 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
17:10:35,215 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:10:35,223 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:10:35,224 INFO common.Log4jPrint(20) - End reset System.out!
17:10:35,227 INFO net.SocketConf(27) - Into SocketConf.load()...
17:10:35,228 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:10:35,228 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
17:10:35,231 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:10:35,232 INFO net.SocketConf(60) - Out SocketConf.load()!
17:10:35,248 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
17:10:35,249 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:10:35,261 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
17:10:35,261 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
17:10:35,261 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:10:35,267 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
17:10:35,267 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:10:35,267 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
17:10:35,272 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
17:10:35,272 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
17:10:35,272 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:10:35,277 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
17:10:35,278 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
17:10:35,278 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
17:11:30,575 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:11:30,585 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
17:11:30,586 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:11:30,586 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
17:11:30,594 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:11:30,596 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:11:30,597 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:11:30,620 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

17:11:30,621 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
17:11:30,624 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
17:11:30,631 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:11:32,508 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:11:32,773 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:11:33,002 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
17:11:33,005 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
17:11:33,006 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:11:33,020 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:11:33,022 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:11:33,024 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:11:33,032 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:11:33,038 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:11:33,039 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:11:33,039 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:11:33,174 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
17:11:33,175 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
17:11:33,177 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
17:11:33,178 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
17:11:33,178 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:11:33,179 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:11:33,181 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:11:33,187 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:11:33,190 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:11:33,190 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:11:33,195 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:11:33,195 INFO service.ContBatchSendDisk(53) - 1
17:11:33,196 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:11:33,196 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:11:33,197 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:11:33,197 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:11:33,205 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:11:33,206 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:11:33,206 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:11:33,211 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
17:11:33,211 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
17:11:33,212 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
17:11:33,496 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
17:11:33,500 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:11:33,500 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
17:11:33,627 INFO format.BatchSendDisk(183) - 配置节点element:
17:11:33,627 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:11:33,627 INFO common.Log4jPrint(20) - 交易码：P53818105
17:11:33,627 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:11:33,629 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:11:33,629 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:11:33,633 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0020s
17:11:33,633 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:11:33,636 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116171133187</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116171133624</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:11:33,636 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:11:33,638 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:11:33,640 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹3.054s
17:11:33,798 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:11:33,799 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:11:33,799 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:11:33,799 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:11:33,899 INFO common.Log4jPrint(20) - i=0
17:11:33,902 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:11:33,902 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.88s
17:11:33,903 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:11:43,358 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:12:30,825 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:12:30,826 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:12:30,827 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:12:30,827 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:12:30,828 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:12:30,866 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:12:30,867 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,171230,20170116,171230 )
17:12:30,930 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:12:30,931 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:12:48,528 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:12:48,538 INFO midplat.Ybt4Socket(34) - TranLogNo:15062
17:12:48,538 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:12:48,539 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:12:48,539 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:12:48,539 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:12:48,547 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:12:48,548 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:12:48,548 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:12:48,551 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:12:48,551 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:12:48,551 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:12:48,555 INFO common.SaveMessage(94) - 15065_9_1059_in.xml IO输出耗时:0.0020s
17:12:48,555 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15065_9_1059_in.xml
17:12:48,555 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:12:48,556 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:12:48,558 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:12:48,558 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:12:48,559 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:12:48,559 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:12:48,559 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:12:48,559 INFO service.ContBatchSendDisk(53) - 1
17:12:48,560 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:12:48,560 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:12:48,560 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:12:48,561 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:12:48,561 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:12:48,561 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:12:48,561 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:12:48,566 INFO format.BatchSendDisk(183) - 配置节点element:
17:12:48,566 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:12:48,567 INFO common.Log4jPrint(20) - 交易码：P53818105
17:12:48,567 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:12:48,568 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:12:48,568 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:12:48,571 INFO common.SaveMessage(94) - 15065_12_1059_out.xml IO输出耗时:0.0010s
17:12:48,571 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15065_12_1059_out.xml
17:12:48,575 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116171248559</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116171248564</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:12:48,582 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:12:48,585 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:12:48,586 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.047s
17:12:48,629 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:12:48,629 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:12:48,630 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:12:48,630 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:12:48,664 INFO common.Log4jPrint(20) - i=0
17:12:48,664 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:12:48,665 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.126s
17:12:48,665 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:13:12,993 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:13:13,004 INFO midplat.Ybt4Socket(34) - TranLogNo:15068
17:13:13,004 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:13:13,005 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:13:13,005 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:13:13,005 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:13:13,012 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:13:13,013 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:13:13,013 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:13:13,016 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:13:13,016 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:13:13,016 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:13:13,020 INFO common.SaveMessage(94) - 15071_15_1059_in.xml IO输出耗时:0.0020s
17:13:13,020 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15071_15_1059_in.xml
17:13:13,021 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:13:13,021 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:13:13,024 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:13:13,024 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:13:13,025 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:13:13,025 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:13:13,025 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:13:13,025 INFO service.ContBatchSendDisk(53) - 1
17:13:13,026 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:13:13,026 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:13:13,026 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:13:13,027 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:13:13,027 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:13:13,027 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:13:13,028 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:13:13,032 INFO format.BatchSendDisk(183) - 配置节点element:
17:13:13,032 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:13:13,032 INFO common.Log4jPrint(20) - 交易码：P53818105
17:13:13,033 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:13:13,034 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:13:13,034 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:13:13,037 INFO common.SaveMessage(94) - 15071_18_1059_out.xml IO输出耗时:0.0010s
17:13:13,037 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15071_18_1059_out.xml
17:13:13,040 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116171313025</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116171313029</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:13:13,041 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:13:13,042 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:13:13,044 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.04s
17:13:13,079 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:13:13,080 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:13:13,080 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:13:13,080 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:13:13,151 INFO common.Log4jPrint(20) - i=0
17:13:13,152 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:13:13,152 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.147s
17:13:13,153 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:13:26,564 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:14:25,812 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
17:14:25,820 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:14:25,824 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:14:25,825 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:14:25,826 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
17:14:25,827 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:14:25,828 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:14:25,831 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
17:14:25,892 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:14:25,900 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:14:25,901 INFO common.Log4jPrint(20) - End reset System.out!
17:14:25,903 INFO net.SocketConf(27) - Into SocketConf.load()...
17:14:25,903 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:14:25,904 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
17:14:25,907 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:14:25,907 INFO net.SocketConf(60) - Out SocketConf.load()!
17:14:25,931 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
17:14:25,932 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:14:25,942 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
17:14:25,942 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
17:14:25,942 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:14:25,948 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
17:14:25,949 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
17:14:25,949 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:14:25,954 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
17:14:25,954 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
17:14:25,954 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:14:25,959 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
17:14:25,959 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
17:14:25,961 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
17:14:31,456 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:14:31,467 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
17:14:31,467 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:14:31,467 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
17:14:31,475 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:14:31,477 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:14:31,477 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:14:31,500 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

17:14:31,501 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
17:14:31,504 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
17:14:31,511 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:14:32,117 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:14:32,200 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:14:32,282 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
17:14:32,284 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
17:14:32,285 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:14:32,296 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:14:32,297 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:14:32,298 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:14:32,305 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:14:32,313 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:14:32,313 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:14:32,314 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:14:32,439 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
17:14:32,440 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
17:14:32,442 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
17:14:32,443 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
17:14:32,443 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:14:32,444 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:14:32,446 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:14:32,451 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:14:32,454 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:14:32,454 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:14:32,460 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:14:32,460 INFO service.ContBatchSendDisk(53) - 1
17:14:32,461 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:14:32,461 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:14:32,461 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:14:32,462 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:14:32,470 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:14:32,471 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:14:32,471 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:14:32,471 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:14:32,472 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:14:32,472 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:14:32,475 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:14:32,475 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
17:14:32,475 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:14:32,475 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
17:14:32,476 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
17:14:32,476 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:14:32,554 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:14:32,555 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,171432,20170116,171432 )
17:14:32,597 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:14:32,601 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:14:32,769 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
17:14:32,773 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:14:32,773 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
17:14:32,896 INFO format.BatchSendDisk(183) - 配置节点element:
17:14:32,896 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:14:32,897 INFO common.Log4jPrint(20) - 交易码：P53818105
17:14:32,897 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:14:32,898 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:14:32,899 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:14:32,902 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0020s
17:14:32,902 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:14:32,905 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116171432452</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116171432894</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:14:32,906 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:14:32,908 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:14:32,909 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.443s
17:14:32,953 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:14:32,954 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:14:32,954 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:14:32,954 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:14:33,008 INFO common.Log4jPrint(20) - i=0
17:14:33,009 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:14:33,010 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.713s
17:14:33,011 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:14:50,822 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
17:14:50,830 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:14:50,834 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:14:50,834 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:14:50,836 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
17:14:50,837 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:14:50,837 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:14:50,840 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
17:14:50,901 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:14:50,909 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:14:50,910 INFO common.Log4jPrint(20) - End reset System.out!
17:14:50,912 INFO net.SocketConf(27) - Into SocketConf.load()...
17:14:50,913 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:14:50,913 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
17:14:50,916 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:14:50,917 INFO net.SocketConf(60) - Out SocketConf.load()!
17:14:50,933 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
17:14:50,934 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:14:50,943 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
17:14:50,944 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
17:14:50,944 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:14:50,950 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
17:14:50,951 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
17:14:50,951 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:14:50,956 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
17:14:50,956 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
17:14:50,956 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:14:50,961 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
17:14:50,961 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
17:14:50,961 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
17:15:10,363 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:15:10,372 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
17:15:10,373 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:15:10,373 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
17:15:10,381 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:15:10,382 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:15:10,383 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:15:10,405 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

17:15:10,406 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
17:15:10,409 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
17:15:10,416 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:15:11,272 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:15:11,410 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:15:11,588 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
17:15:11,590 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
17:15:11,591 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:15:11,605 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:15:11,607 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:15:11,609 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:15:11,615 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:15:11,620 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:15:11,620 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:15:11,620 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:15:11,748 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
17:15:11,749 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
17:15:11,751 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
17:15:11,751 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
17:15:11,752 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:15:11,753 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:15:11,755 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:15:11,760 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:15:11,763 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:15:11,763 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:15:11,768 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:15:11,768 INFO service.ContBatchSendDisk(53) - 1
17:15:11,769 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:15:11,769 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:15:11,769 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:15:11,769 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:15:11,779 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:15:11,780 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:15:11,780 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:15:11,780 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:15:11,784 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
17:15:11,785 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
17:15:11,785 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
17:15:12,064 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
17:15:12,067 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:15:12,067 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
17:15:12,188 INFO format.BatchSendDisk(183) - 配置节点element:
17:15:12,188 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:15:12,188 INFO common.Log4jPrint(20) - 交易码：P53818105
17:15:12,188 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:15:12,190 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:15:12,190 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:15:12,194 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
17:15:12,194 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:15:12,197 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116171511761</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116171512185</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:15:12,198 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:15:12,200 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:15:12,202 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.829s
17:15:12,253 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:15:12,254 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:15:12,254 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:15:12,254 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:15:12,325 INFO common.Log4jPrint(20) - i=0
17:15:12,330 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:15:12,331 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.724s
17:15:12,332 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:15:43,808 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
17:15:43,815 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:15:43,819 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:15:43,820 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:15:43,821 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
17:15:43,822 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:15:43,822 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:15:43,825 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
17:15:43,888 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:15:43,896 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:15:43,897 INFO common.Log4jPrint(20) - End reset System.out!
17:15:43,899 INFO net.SocketConf(27) - Into SocketConf.load()...
17:15:43,899 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:15:43,900 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
17:15:43,903 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:15:43,903 INFO net.SocketConf(60) - Out SocketConf.load()!
17:15:43,922 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
17:15:43,923 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:15:43,933 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
17:15:43,934 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:15:43,934 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
17:15:43,939 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
17:15:43,940 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:15:43,940 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
17:15:43,945 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
17:15:43,945 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
17:15:43,945 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:15:43,952 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
17:15:43,952 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
17:15:43,952 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
17:15:47,785 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:15:47,795 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
17:15:47,796 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:15:47,796 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
17:15:47,804 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:15:47,805 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:15:47,805 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:15:47,827 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

17:15:47,827 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
17:15:47,830 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
17:15:47,836 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:15:48,473 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:15:48,577 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:15:48,745 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
17:15:48,748 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
17:15:48,749 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:15:48,764 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:15:48,766 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:15:48,767 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:15:48,776 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:15:48,785 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:15:48,786 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:15:48,786 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:15:48,921 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
17:15:48,921 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
17:15:48,924 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0030s
17:15:48,924 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
17:15:48,925 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:15:48,926 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:15:48,928 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:15:48,934 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:15:48,936 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:15:48,936 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:15:48,942 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:15:48,942 INFO service.ContBatchSendDisk(53) - 1
17:15:48,943 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:15:48,943 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:15:48,943 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:15:48,943 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:15:48,955 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:15:48,955 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:15:48,956 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:15:48,960 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
17:15:48,960 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
17:15:48,961 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
17:15:49,249 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
17:15:49,253 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:15:49,253 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
17:15:49,374 INFO format.BatchSendDisk(183) - 配置节点element:
17:15:49,374 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:15:49,374 INFO common.Log4jPrint(20) - 交易码：P53818105
17:15:49,375 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:15:49,376 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:15:49,376 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:15:49,380 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
17:15:49,380 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:15:49,383 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116171548934</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116171549372</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:15:49,384 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:15:49,385 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:15:49,386 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.591s
17:15:49,441 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:15:49,441 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:15:49,441 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:15:49,441 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:15:49,551 INFO common.Log4jPrint(20) - i=0
17:15:49,554 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:15:49,555 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.789s
17:15:49,555 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:16:10,899 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:17:35,056 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:17:35,057 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:17:35,057 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:17:35,058 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:17:35,059 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:17:35,133 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:17:35,133 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,171735,20170116,171735 )
17:17:35,201 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:17:35,201 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:27:51,988 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:27:51,999 INFO midplat.Ybt4Socket(34) - TranLogNo:15062
17:27:51,999 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:27:51,999 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:27:52,000 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:27:52,000 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:27:52,008 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:27:52,009 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:27:52,009 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:27:52,012 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:27:52,012 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:27:52,012 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:27:52,015 INFO common.SaveMessage(94) - 15065_9_1059_in.xml IO输出耗时:0.0010s
17:27:52,016 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15065_9_1059_in.xml
17:27:52,016 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:27:52,017 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:27:52,019 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:27:52,019 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:27:52,020 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:27:52,020 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:27:52,020 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:27:52,020 INFO service.ContBatchSendDisk(53) - 1
17:27:52,021 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL02100612017011301_RESULT.XML
17:27:52,021 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL02100612017011301_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL02100612017011301_RESULT.XML
17:27:52,021 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:27:52,021 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:27:52,022 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:27:52,030 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:27:52,031 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:27:52,039 INFO format.BatchSendDisk(183) - 配置节点element:
17:27:52,040 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:27:52,040 INFO common.Log4jPrint(20) - 交易码：P53818105
17:27:52,040 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL02100612017011301.xml
17:27:52,042 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:27:52,042 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:27:52,044 INFO common.SaveMessage(94) - 15065_12_1059_out.xml IO输出耗时:0.0010s
17:27:52,045 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15065_12_1059_out.xml
17:27:52,048 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116172752019</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116172752037</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL02100612017011301.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:27:52,048 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:27:52,050 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:27:52,052 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.052s
17:27:52,163 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:27:52,163 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:27:52,163 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:27:52,163 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:27:52,227 INFO common.Log4jPrint(20) - i=0
17:27:52,227 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:27:52,228 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.228s
17:27:52,228 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:30:34,269 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:30:35,267 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:30:35,268 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:30:35,268 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:30:35,269 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:30:35,271 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:30:36,328 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:30:36,329 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15068,3,'AL02100612017011301',1059,0,0,-1,-1,'127.0.0.1',20170116,173035,20170116,173035 )
17:30:38,368 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:30:38,369 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:31:02,418 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
17:31:02,425 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:31:02,429 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:31:02,429 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:31:02,431 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
17:31:02,432 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:31:02,432 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:31:02,435 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
17:31:02,496 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:31:02,506 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:31:02,507 INFO common.Log4jPrint(20) - End reset System.out!
17:31:02,508 INFO net.SocketConf(27) - Into SocketConf.load()...
17:31:02,509 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:31:02,510 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
17:31:02,512 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:31:02,513 INFO net.SocketConf(60) - Out SocketConf.load()!
17:31:02,529 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
17:31:02,530 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:31:02,539 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
17:31:02,539 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
17:31:02,539 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:31:02,546 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
17:31:02,546 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
17:31:02,547 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:31:02,554 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
17:31:02,554 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
17:31:02,554 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:31:02,560 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
17:31:02,561 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
17:31:02,561 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
17:31:05,564 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:31:05,574 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
17:31:05,575 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:31:05,575 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
17:31:05,583 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:31:05,584 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:31:05,584 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:31:05,605 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

17:31:05,606 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
17:31:05,609 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
17:31:05,614 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:31:06,178 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:31:06,262 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:31:06,334 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
17:31:06,335 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
17:31:06,335 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:31:06,340 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:31:06,341 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:31:06,342 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:31:06,346 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:31:06,350 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:31:06,350 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:31:06,350 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:31:06,474 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
17:31:06,474 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
17:31:06,477 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
17:31:06,477 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
17:31:06,479 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:31:06,480 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:31:06,482 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:31:06,489 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:31:06,493 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:31:06,493 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:31:06,498 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:31:06,499 INFO service.ContBatchSendDisk(53) - 1
17:31:06,500 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:31:06,500 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:31:06,500 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:31:06,500 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:31:06,513 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:31:06,514 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:31:06,514 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:31:06,519 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
17:31:06,519 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
17:31:06,520 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
17:31:06,844 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
17:31:06,849 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

17:31:06,849 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
17:31:06,978 INFO format.BatchSendDisk(183) - 配置节点element:
17:31:06,978 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:31:06,978 INFO common.Log4jPrint(20) - 交易码：P53818105
17:31:06,978 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:31:06,980 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:31:06,981 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:31:06,984 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0020s
17:31:06,984 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
17:31:06,987 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116173106490</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116173106975</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:31:06,988 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:31:06,989 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:31:06,991 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.416s
17:31:07,048 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:31:07,049 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:31:07,049 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:31:07,050 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:31:07,080 INFO common.Log4jPrint(20) - i=0
17:31:07,082 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:31:07,083 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.742s
17:31:07,083 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:31:30,589 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:31:33,340 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:31:35,148 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:31:39,235 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:31:40,251 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:31:42,371 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:31:42,419 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:31:42,425 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'AL03100192017011101',1059,0,0,-1,-1,'127.0.0.1',20170116,173142,20170116,173142 )
17:31:42,481 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:31:43,318 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:32:15,812 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:32:15,823 INFO midplat.Ybt4Socket(34) - TranLogNo:15062
17:32:15,823 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:32:15,823 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:32:15,824 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:32:15,824 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:32:15,831 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:32:15,832 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:32:15,832 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:32:15,834 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:32:15,835 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:32:15,835 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:32:15,838 INFO common.SaveMessage(94) - 15065_9_1059_in.xml IO输出耗时:0.0010s
17:32:15,839 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15065_9_1059_in.xml
17:32:15,839 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:32:15,840 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:32:15,842 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:32:15,842 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:32:15,843 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:32:15,843 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:32:15,843 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:32:15,843 INFO service.ContBatchSendDisk(53) - 1
17:32:15,844 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:32:15,844 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:32:15,844 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:32:15,844 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:32:15,845 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:32:15,845 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:32:15,845 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:32:15,850 INFO format.BatchSendDisk(183) - 配置节点element:
17:32:15,850 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:32:15,850 INFO common.Log4jPrint(20) - 交易码：P53818105
17:32:15,850 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:32:15,852 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:32:15,852 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:32:15,854 INFO common.SaveMessage(94) - 15065_12_1059_out.xml IO输出耗时:0.0010s
17:32:15,854 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15065_12_1059_out.xml
17:32:15,857 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116173215842</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116173215847</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:32:15,863 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:32:15,865 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:32:15,866 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.044s
17:32:15,891 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:32:15,891 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:32:15,891 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:32:15,891 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:32:15,917 INFO common.Log4jPrint(20) - i=0
17:32:15,917 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:32:15,918 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.094s
17:32:15,918 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:32:18,864 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:32:20,522 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:32:20,523 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:32:20,523 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:32:20,524 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:32:20,526 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:32:20,579 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:32:20,580 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15068,3,'AL03100192017011101',1059,0,0,-1,-1,'127.0.0.1',20170116,173220,20170116,173220 )
17:32:20,594 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . NODENO ) 
17:32:20,595 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:38:07,412 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:38:07,423 INFO midplat.Ybt4Socket(34) - TranLogNo:15071
17:38:07,423 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:38:07,424 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:38:07,424 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:38:07,424 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:38:07,431 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:38:07,432 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:38:07,432 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:38:07,435 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:38:07,435 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:38:07,435 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:38:07,439 INFO common.SaveMessage(94) - 15074_15_1059_in.xml IO输出耗时:0.0010s
17:38:07,439 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15074_15_1059_in.xml
17:38:07,440 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:38:07,440 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:38:07,442 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:38:07,442 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:38:07,443 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:38:07,443 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:38:07,443 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:38:07,443 INFO service.ContBatchSendDisk(53) - 1
17:38:07,444 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:38:07,444 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:38:07,445 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:38:07,445 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:38:07,445 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:38:07,445 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:38:07,445 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:38:07,450 INFO format.BatchSendDisk(183) - 配置节点element:
17:38:07,450 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:38:07,450 INFO common.Log4jPrint(20) - 交易码：P53818105
17:38:07,450 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:38:07,451 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:38:07,452 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:38:07,455 INFO common.SaveMessage(94) - 15074_18_1059_out.xml IO输出耗时:0.0020s
17:38:07,456 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15074_18_1059_out.xml
17:38:07,459 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116173807443</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116173807447</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:38:07,459 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:38:07,461 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:38:07,463 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.039s
17:38:07,560 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:38:07,561 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:38:07,561 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:38:07,562 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:38:07,653 INFO common.Log4jPrint(20) - i=0
17:38:07,654 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:38:07,654 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.23s
17:38:07,654 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:38:21,192 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:38:21,193 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:38:21,194 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:38:21,194 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:38:21,195 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:38:21,196 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:38:21,551 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:38:21,553 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15077,3,'210000000','AL03100192017011101',1059,0,0,-1,-1,'127.0.0.1',20170116,173821,20170116,173821 )
17:38:21,855 ERROR service.ContBatchSendDisk(197) - ORA-01400: 无法将 NULL 插入 ( YBT . TRANLOG . OPERATOR ) 
17:38:21,856 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:40:26,407 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:40:26,418 INFO midplat.Ybt4Socket(34) - TranLogNo:15080
17:40:26,418 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:40:26,418 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:40:26,419 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:40:26,419 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:40:26,426 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:40:26,427 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:40:26,427 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:40:26,430 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:40:26,430 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:40:26,430 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:40:26,434 INFO common.SaveMessage(94) - 15083_21_1059_in.xml IO输出耗时:0.0010s
17:40:26,434 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15083_21_1059_in.xml
17:40:26,434 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:40:26,435 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:40:26,437 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:40:26,437 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:40:26,438 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:40:26,438 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:40:26,438 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:40:26,438 INFO service.ContBatchSendDisk(53) - 1
17:40:26,439 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:40:26,439 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:40:26,439 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:40:26,439 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:40:26,440 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:40:26,440 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:40:26,444 INFO format.BatchSendDisk(183) - 配置节点element:
17:40:26,444 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:40:26,444 INFO common.Log4jPrint(20) - 交易码：P53818105
17:40:26,445 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:40:26,446 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:40:26,446 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:40:26,449 INFO common.SaveMessage(94) - 15083_24_1059_out.xml IO输出耗时:0.0020s
17:40:26,449 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15083_24_1059_out.xml
17:40:26,452 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116174026437</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116174026442</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>210000000</CCBIns_ID>
            <CCB_EmpID>00000000</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:40:26,452 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:40:26,454 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:40:26,455 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.038s
17:40:26,489 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:40:26,489 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:40:26,489 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:40:26,489 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:40:26,517 INFO common.Log4jPrint(20) - i=0
17:40:26,517 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:40:26,517 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.098s
17:40:26,517 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:40:28,686 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:40:28,688 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:40:28,689 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:40:28,690 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:40:28,691 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:40:28,691 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:40:28,693 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:40:28,732 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:40:28,733 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15086,3,'210000000','AL03100192017011101','00000000',1059,0,0,-1,-1,'127.0.0.1',20170116,174028,20170116,174028 )
17:40:28,751 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
17:40:28,751 INFO service.ContBatchSendDisk(131) - 通过银行,地区,网点号查询代理机构号,并添加！
17:40:28,752 INFO common.Log4jPrint(20) - ExecSQL : select AgentCom from NodeMap where TranCom='03' and NodeNo='null'
17:40:28,842 INFO service.ContBatchSendDisk(135) - authority-->
17:40:28,842 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 此网点不存在，请确认！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.authority(ContBatchSendDisk.java:137)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.access$5(ContBatchSendDisk.java:120)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:267)
17:40:29,782 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:349)
17:44:47,451 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:44:47,462 INFO midplat.Ybt4Socket(34) - TranLogNo:15089
17:44:47,462 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:44:47,462 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:44:47,463 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:44:47,463 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:44:47,470 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:44:47,471 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:44:47,471 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:44:47,473 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:44:47,473 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:44:47,474 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:44:47,477 INFO common.SaveMessage(94) - 15092_27_1059_in.xml IO输出耗时:0.0010s
17:44:47,477 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15092_27_1059_in.xml
17:44:47,477 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:44:47,478 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:44:47,480 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:44:47,480 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:44:47,481 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:44:47,481 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:44:47,481 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:44:47,481 INFO service.ContBatchSendDisk(53) - 1
17:44:47,482 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:44:47,482 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:44:47,482 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:44:47,482 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:44:47,483 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:44:47,483 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:44:47,486 INFO format.BatchSendDisk(183) - 配置节点element:
17:44:47,487 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:44:47,487 INFO common.Log4jPrint(20) - 交易码：P53818105
17:44:47,487 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:44:47,488 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:44:47,488 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:44:47,490 INFO common.SaveMessage(94) - 15092_30_1059_out.xml IO输出耗时:0.0010s
17:44:47,491 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15092_30_1059_out.xml
17:44:47,493 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116174447480</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116174447484</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:44:47,493 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:44:47,495 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:44:47,496 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.034s
17:44:47,549 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:44:47,550 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:44:47,550 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:44:47,550 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:44:47,608 INFO common.Log4jPrint(20) - i=0
17:44:47,608 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:44:47,609 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.146s
17:44:47,609 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:44:58,227 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:44:58,227 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:44:58,228 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:44:58,228 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:44:58,228 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:44:58,228 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:44:58,229 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:44:58,260 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:44:58,260 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15095,3,'110378300','AL03100192017011101','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,174458,20170116,174458 )
17:44:58,277 ERROR service.ContBatchSendDisk(197) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
17:44:58,278 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:46:48,674 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:46:48,684 INFO midplat.Ybt4Socket(34) - TranLogNo:15098
17:46:48,684 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:46:48,685 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:46:48,685 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:46:48,685 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:46:48,692 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:46:48,693 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:46:48,693 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:46:48,696 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:46:48,696 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:46:48,696 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:46:48,700 INFO common.SaveMessage(94) - 15101_33_1059_in.xml IO输出耗时:0.0010s
17:46:48,701 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15101_33_1059_in.xml
17:46:48,701 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:46:48,702 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:46:48,704 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:46:48,704 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:46:48,705 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:46:48,705 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:46:48,705 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:46:48,706 INFO service.ContBatchSendDisk(53) - 1
17:46:48,706 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:46:48,706 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:46:48,707 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:46:48,707 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:46:48,707 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:46:48,707 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:46:48,711 INFO format.BatchSendDisk(183) - 配置节点element:
17:46:48,711 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:46:48,712 INFO common.Log4jPrint(20) - 交易码：P53818105
17:46:48,712 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:46:48,713 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:46:48,713 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:46:48,715 INFO common.SaveMessage(94) - 15101_36_1059_out.xml IO输出耗时:0.0010s
17:46:48,716 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15101_36_1059_out.xml
17:46:48,719 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116174648705</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116174648709</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:46:48,719 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:46:48,721 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:46:48,722 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.037s
17:46:48,762 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:46:48,762 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:46:48,762 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:46:48,762 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:46:48,785 INFO common.Log4jPrint(20) - i=0
17:46:48,785 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
17:46:48,785 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.1s
17:46:48,785 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:47:19,162 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:47:19,162 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:47:19,163 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:47:19,163 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:47:19,164 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:47:19,164 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:47:19,165 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:47:19,226 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:47:19,227 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15104,3,'110378300','108011rv11484294694478099','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,174719,20170116,174719 )
17:47:19,245 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
17:47:19,246 INFO service.ContBatchSendDisk(131) - 通过银行,地区,网点号查询代理机构号,并添加！
17:47:19,247 INFO common.Log4jPrint(20) - ExecSQL : select AgentCom from NodeMap where TranCom='03' and NodeNo='null'
17:47:19,314 INFO service.ContBatchSendDisk(135) - authority-->
17:47:19,315 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 此网点不存在，请确认！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.authority(ContBatchSendDisk.java:137)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.access$5(ContBatchSendDisk.java:120)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:267)
17:47:20,507 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:349)
17:49:29,651 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:49:29,662 INFO midplat.Ybt4Socket(34) - TranLogNo:15107
17:49:29,662 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:49:29,662 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:49:29,663 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:49:29,663 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:49:29,670 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:49:29,671 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:49:29,671 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:49:29,674 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:49:29,674 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:49:29,675 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:49:29,677 INFO common.SaveMessage(94) - 15110_39_1059_in.xml IO输出耗时:0.0010s
17:49:29,677 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15110_39_1059_in.xml
17:49:29,678 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:49:29,679 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:49:29,680 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:49:29,680 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:49:29,681 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:49:29,681 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:49:29,681 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:49:29,681 INFO service.ContBatchSendDisk(53) - 1
17:49:29,682 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:49:29,682 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:49:29,682 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:49:29,682 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:49:29,683 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:49:29,683 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:49:29,686 INFO format.BatchSendDisk(183) - 配置节点element:
17:49:29,686 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:49:29,686 INFO common.Log4jPrint(20) - 交易码：P53818105
17:49:29,686 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:49:29,687 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:49:29,688 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:49:29,690 INFO common.SaveMessage(94) - 15110_42_1059_out.xml IO输出耗时:0.0010s
17:49:29,690 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15110_42_1059_out.xml
17:49:29,692 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116174929680</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116174929685</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478099</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478099</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:49:29,692 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:49:29,694 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:49:29,695 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.032s
17:49:29,756 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:49:29,756 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:49:29,756 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:49:29,756 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478099'
17:49:29,782 INFO common.Log4jPrint(20) - -------------------------
17:49:29,783 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
17:49:29,783 INFO common.Log4jPrint(20) - -------------------------
17:49:29,837 INFO common.Log4jPrint(20) - i=1
17:49:30,077 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:49:30,077 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:49:30,078 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:49:30,078 INFO common.Log4jPrint(20) - 108011rv11484294694478099
17:49:30,078 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15104,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478099',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=-1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.175',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=174719,ModifyDate=20170116,ModifyTime=174719,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15110_42_1059_out.xml' where TranNo='108011rv11484294694478099'
17:49:30,127 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.464s
17:49:30,128 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:49:36,930 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:49:36,931 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:49:36,933 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:49:36,933 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:49:36,934 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:49:36,935 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:49:36,936 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:49:37,328 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:49:37,329 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15113,3,'110378300','108011rv11484294694478099','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,174936,20170116,174936 )
17:49:37,506 ERROR service.ContBatchSendDisk(197) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
17:49:37,507 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:50:22,405 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:50:22,415 INFO midplat.Ybt4Socket(34) - TranLogNo:15116
17:50:22,416 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:50:22,416 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:50:22,416 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:50:22,417 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:50:22,423 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:50:22,424 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:50:22,424 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:50:22,427 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:50:22,427 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:50:22,427 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:50:22,429 INFO common.SaveMessage(94) - 15119_45_1059_in.xml IO输出耗时:0.0010s
17:50:22,429 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15119_45_1059_in.xml
17:50:22,430 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:50:22,430 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:50:22,431 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:50:22,432 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:50:22,432 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:50:22,432 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:50:22,432 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:50:22,433 INFO service.ContBatchSendDisk(53) - 1
17:50:22,433 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:50:22,433 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:50:22,434 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:50:22,434 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:50:22,434 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:50:22,434 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:50:22,436 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:50:22,436 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:50:22,437 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:50:22,437 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:50:22,437 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:50:22,437 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:50:22,437 INFO format.BatchSendDisk(183) - 配置节点element:
17:50:22,438 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:50:22,438 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:50:22,439 INFO common.Log4jPrint(20) - 交易码：P53818105
17:50:22,439 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:50:22,440 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:50:22,440 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:50:22,443 INFO common.SaveMessage(94) - 15119_48_1059_out.xml IO输出耗时:0.0020s
17:50:22,443 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15119_48_1059_out.xml
17:50:22,445 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116175022432</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116175022436</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478100</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478100</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:50:22,446 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:50:22,448 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:50:22,449 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.034s
17:50:22,491 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:50:22,492 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15122,3,'110378300','108011rv11484294694478100','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,175022,20170116,175022 )
17:50:22,508 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
17:50:22,508 INFO service.ContBatchSendDisk(131) - 通过银行,地区,网点号查询代理机构号,并添加！
17:50:22,509 INFO common.Log4jPrint(20) - ExecSQL : select AgentCom from NodeMap where TranCom='03' and NodeNo='null'
17:50:22,574 INFO service.ContBatchSendDisk(135) - authority-->
17:50:22,574 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 此网点不存在，请确认！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.authority(ContBatchSendDisk.java:137)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.access$5(ContBatchSendDisk.java:120)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:267)
17:50:22,786 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
17:50:22,826 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:50:22,827 INFO common.Log4jPrint(20) - 108011rv11484294694478100
17:50:22,827 INFO common.Log4jPrint(20) - 108011rv11484294694478100
17:50:22,827 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478100'
17:50:22,858 INFO common.Log4jPrint(20) - -------------------------
17:50:22,860 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
17:50:22,860 INFO common.Log4jPrint(20) - -------------------------
17:50:22,883 INFO common.Log4jPrint(20) - i=1
17:50:22,919 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:50:22,919 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:50:22,919 INFO common.Log4jPrint(20) - 108011rv11484294694478100
17:50:22,920 INFO common.Log4jPrint(20) - 108011rv11484294694478100
17:50:22,920 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15122,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478100',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此网点不存在，请确认！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175022,ModifyDate=20170116,ModifyTime=175022,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478100'
17:50:23,045 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:50:23,046 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:50:23,046 INFO common.Log4jPrint(20) - 108011rv11484294694478100
17:50:23,046 INFO common.Log4jPrint(20) - 108011rv11484294694478100
17:50:23,046 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15122,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478100',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=-1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.467',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175022,ModifyDate=20170116,ModifyTime=175022,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15119_48_1059_out.xml' where TranNo='108011rv11484294694478100'
17:50:23,066 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.65s
17:50:23,066 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:55:24,655 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:55:24,666 INFO midplat.Ybt4Socket(34) - TranLogNo:15125
17:55:24,666 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:55:24,667 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:55:24,667 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:55:24,667 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:55:24,674 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:55:24,675 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:55:24,675 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:55:24,677 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:55:24,678 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:55:24,678 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:55:24,680 INFO common.SaveMessage(94) - 15128_51_1059_in.xml IO输出耗时:0.0010s
17:55:24,680 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15128_51_1059_in.xml
17:55:24,680 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:55:24,681 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:55:24,682 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:55:24,682 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:55:24,682 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:55:24,682 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:55:24,683 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:55:24,683 INFO service.ContBatchSendDisk(53) - 1
17:55:24,683 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:55:24,683 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:55:24,683 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:55:24,684 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:55:24,684 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:55:24,684 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:55:24,684 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:55:24,684 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:55:24,685 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:55:24,685 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:55:24,685 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:55:24,685 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:55:24,685 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:55:24,687 INFO format.BatchSendDisk(183) - 配置节点element:
17:55:24,688 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:55:24,688 INFO common.Log4jPrint(20) - 交易码：P53818105
17:55:24,688 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:55:24,689 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:55:24,689 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:55:24,690 INFO common.SaveMessage(94) - 15128_54_1059_out.xml IO输出耗时:0.0010s
17:55:24,690 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15128_54_1059_out.xml
17:55:24,692 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116175524682</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116175524686</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478101</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478101</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:55:24,693 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:55:24,694 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:55:24,696 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.029s
17:55:24,724 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:55:24,724 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15131,3,'110378300','108011rv11484294694478101','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,175524,20170116,175524 )
17:55:24,739 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
17:55:24,739 INFO service.ContBatchSendDisk(131) - 通过银行,地区,网点号查询代理机构号,并添加！
17:55:24,739 INFO common.Log4jPrint(20) - ExecSQL : select AgentCom from NodeMap where TranCom='03' and NodeNo='null'
17:55:24,858 INFO service.ContBatchSendDisk(135) - authority-->
17:55:24,858 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
17:55:24,859 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 此网点不存在，请确认！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.authority(ContBatchSendDisk.java:137)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.access$5(ContBatchSendDisk.java:120)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:267)
17:55:24,882 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:55:24,882 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:55:24,883 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:55:24,883 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478101'
17:55:24,916 INFO common.Log4jPrint(20) - -------------------------
17:55:24,917 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
17:55:24,917 INFO common.Log4jPrint(20) - -------------------------
17:55:24,930 INFO common.Log4jPrint(20) - i=1
17:55:24,981 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:55:24,982 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:55:24,983 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:55:24,983 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:55:24,984 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15131,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478101',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=-1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.263',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175524,ModifyDate=20170116,ModifyTime=175524,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15128_54_1059_out.xml' where TranNo='108011rv11484294694478101'
17:55:25,010 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.343s
17:55:25,010 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:55:25,220 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:55:25,222 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:55:25,222 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:55:25,223 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:55:25,223 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15131,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478101',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此网点不存在，请确认！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175524,ModifyDate=20170116,ModifyTime=175524,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478101'
17:57:38,461 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:57:38,472 INFO midplat.Ybt4Socket(34) - TranLogNo:15134
17:57:38,472 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:57:38,473 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:57:38,473 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:57:38,473 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:57:38,480 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:57:38,481 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:57:38,481 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:57:38,484 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:57:38,484 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:57:38,484 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:57:38,486 INFO common.SaveMessage(94) - 15137_57_1059_in.xml IO输出耗时:0.0010s
17:57:38,487 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15137_57_1059_in.xml
17:57:38,487 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:57:38,487 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:57:38,488 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:57:38,489 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:57:38,489 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:57:38,489 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:57:38,489 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:57:38,489 INFO service.ContBatchSendDisk(53) - 1
17:57:38,490 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:57:38,490 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:57:38,490 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:57:38,491 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:57:38,491 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:57:38,491 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:57:38,491 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:57:38,491 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:57:38,493 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:57:38,493 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:57:38,493 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:57:38,493 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:57:38,494 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:57:38,495 INFO format.BatchSendDisk(183) - 配置节点element:
17:57:38,495 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:57:38,495 INFO common.Log4jPrint(20) - 交易码：P53818105
17:57:38,496 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:57:38,496 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:57:38,497 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:57:38,523 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:57:38,523 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15140,3,'110378300','108011rv11484294694478101','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,175738,20170116,175738 )
17:57:38,539 INFO common.SaveMessage(94) - 15137_60_1059_out.xml IO输出耗时:0.042s
17:57:38,539 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15137_60_1059_out.xml
17:57:38,541 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116175738489</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116175738494</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478101</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478101</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:57:38,541 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:57:38,543 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:57:38,544 ERROR service.ContBatchSendDisk(197) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
17:57:38,544 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:57:38,544 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.072s
17:57:38,568 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
17:57:38,577 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:57:38,578 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:38,578 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:38,578 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478101'
17:57:38,598 INFO common.Log4jPrint(20) - -------------------------
17:57:38,599 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
17:57:38,599 INFO common.Log4jPrint(20) - -------------------------
17:57:38,609 INFO common.Log4jPrint(20) - i=1
17:57:38,662 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:57:38,662 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:57:38,662 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:38,662 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:38,663 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15131,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478101',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此网点不存在，请确认！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.136',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175524,ModifyDate=20170116,ModifyTime=175524,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15137_60_1059_out.xml' where TranNo='108011rv11484294694478101'
17:57:38,676 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.203s
17:57:38,677 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:57:48,424 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:57:48,434 INFO midplat.Ybt4Socket(34) - TranLogNo:15143
17:57:48,434 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:57:48,435 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:57:48,435 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:57:48,435 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:57:48,442 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:57:48,443 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:57:48,443 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:57:48,445 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:57:48,446 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:57:48,446 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:57:48,448 INFO common.SaveMessage(94) - 15146_63_1059_in.xml IO输出耗时:0.0010s
17:57:48,448 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15146_63_1059_in.xml
17:57:48,448 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:57:48,449 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:57:48,450 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:57:48,450 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:57:48,450 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:57:48,451 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:57:48,451 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:57:48,451 INFO service.ContBatchSendDisk(53) - 1
17:57:48,451 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:57:48,451 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:57:48,451 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:57:48,452 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:57:48,452 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:57:48,452 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:57:48,452 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:57:48,452 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:57:48,453 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:57:48,453 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:57:48,453 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:57:48,453 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:57:48,454 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:57:48,455 INFO format.BatchSendDisk(183) - 配置节点element:
17:57:48,455 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:57:48,455 INFO common.Log4jPrint(20) - 交易码：P53818105
17:57:48,455 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:57:48,456 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:57:48,456 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:57:48,458 INFO common.SaveMessage(94) - 15146_66_1059_out.xml IO输出耗时:0.0010s
17:57:48,458 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15146_66_1059_out.xml
17:57:48,460 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116175748450</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116175748454</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478101</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478101</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:57:48,461 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:57:48,462 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:57:48,463 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.029s
17:57:48,494 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:57:48,495 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15149,3,'110378300','108011rv11484294694478101','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,175748,20170116,175748 )
17:57:48,508 ERROR service.ContBatchSendDisk(197) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
17:57:48,509 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
17:57:48,607 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:57:48,607 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:48,608 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:48,608 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478101'
17:57:48,623 INFO common.Log4jPrint(20) - -------------------------
17:57:48,623 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
17:57:48,624 INFO common.Log4jPrint(20) - -------------------------
17:57:48,654 INFO common.Log4jPrint(20) - i=1
17:57:48,689 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:57:48,689 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:57:48,689 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:48,690 INFO common.Log4jPrint(20) - 108011rv11484294694478101
17:57:48,690 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15131,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478101',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此网点不存在，请确认！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.219',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175524,ModifyDate=20170116,ModifyTime=175524,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15146_66_1059_out.xml' where TranNo='108011rv11484294694478101'
17:57:48,705 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.27s
17:57:48,705 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
17:58:00,809 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
17:58:00,820 INFO midplat.Ybt4Socket(34) - TranLogNo:15152
17:58:00,820 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:58:00,820 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
17:58:00,821 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:58:00,821 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
17:58:00,829 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
17:58:00,830 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
17:58:00,830 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
17:58:00,832 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
17:58:00,832 INFO newNet.CcbNetImpl(65) - mTranCom==============03
17:58:00,833 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
17:58:00,834 INFO common.SaveMessage(94) - 15155_69_1059_in.xml IO输出耗时:0.0s
17:58:00,835 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15155_69_1059_in.xml
17:58:00,835 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
17:58:00,836 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
17:58:00,837 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
17:58:00,837 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
17:58:00,838 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
17:58:00,838 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
17:58:00,838 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
17:58:00,838 INFO service.ContBatchSendDisk(53) - 1
17:58:00,839 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
17:58:00,839 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
17:58:00,839 INFO service.ContBatchSendDisk(80) - 文件解密开始...
17:58:00,839 INFO service.ContBatchSendDisk(85) - 文件解密完成...
17:58:00,840 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
17:58:00,840 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
17:58:00,840 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
17:58:00,840 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
17:58:00,840 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
17:58:00,841 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
17:58:00,841 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
17:58:00,841 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
17:58:00,841 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
17:58:00,843 INFO format.BatchSendDisk(183) - 配置节点element:
17:58:00,843 INFO common.Log4jPrint(20) - 加密前文件路径：null
17:58:00,843 INFO common.Log4jPrint(20) - 交易码：P53818105
17:58:00,843 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
17:58:00,844 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
17:58:00,844 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
17:58:00,846 INFO common.SaveMessage(94) - 15155_72_1059_out.xml IO输出耗时:0.0010s
17:58:00,846 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15155_72_1059_out.xml
17:58:00,848 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116175800838</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116175800842</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478102</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478102</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


17:58:00,848 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
17:58:00,850 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
17:58:00,851 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.031s
17:58:00,908 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:58:00,909 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15158,3,'110378300','108011rv11484294694478102','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,175800,20170116,175800 )
17:58:00,924 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
17:58:00,924 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:271)
17:58:00,966 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:58:00,967 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:58:00,967 INFO common.Log4jPrint(20) - 108011rv11484294694478102
17:58:00,968 INFO common.Log4jPrint(20) - 108011rv11484294694478102
17:58:00,968 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15158,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478102',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175800,ModifyDate=20170116,ModifyTime=175800,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478102'
17:58:01,093 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:58:01,093 INFO common.Log4jPrint(20) - 108011rv11484294694478102
17:58:01,093 INFO common.Log4jPrint(20) - 108011rv11484294694478102
17:58:01,093 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478102'
17:58:01,122 INFO common.Log4jPrint(20) - -------------------------
17:58:01,124 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
17:58:01,124 INFO common.Log4jPrint(20) - -------------------------
17:58:01,135 INFO common.Log4jPrint(20) - i=1
17:58:01,178 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:58:01,179 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:58:01,179 INFO common.Log4jPrint(20) - 108011rv11484294694478102
17:58:01,180 INFO common.Log4jPrint(20) - 108011rv11484294694478102
17:58:01,180 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15158,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478102',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.314',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=175800,ModifyDate=20170116,ModifyTime=175800,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15155_72_1059_out.xml' where TranNo='108011rv11484294694478102'
17:58:01,196 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.375s
17:58:01,197 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:00:35,989 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:00:44,782 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
18:00:44,789 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:00:44,793 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:00:44,793 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:00:44,795 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:00:44,796 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:00:44,796 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:00:44,799 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:00:44,859 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:00:44,867 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:00:44,868 INFO common.Log4jPrint(20) - End reset System.out!
18:00:44,870 INFO net.SocketConf(27) - Into SocketConf.load()...
18:00:44,870 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:00:44,871 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:00:44,874 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:00:44,874 INFO net.SocketConf(60) - Out SocketConf.load()!
18:00:44,890 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:00:44,891 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:00:44,901 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:00:44,901 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:00:44,902 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:00:44,909 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:00:44,909 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:00:44,909 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:00:44,916 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:00:44,917 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:00:44,917 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:00:44,923 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:00:44,923 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:00:44,924 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:00:54,168 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:00:54,179 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:00:54,179 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:00:54,179 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:00:54,187 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:00:54,188 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:00:54,189 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:00:54,210 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:00:54,211 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:00:54,213 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:00:54,219 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:00:54,981 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:00:55,090 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:00:55,297 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:00:55,299 INFO midplat.Ybt4Socket(34) - TranLogNo:15161
18:00:55,300 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:00:55,315 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:00:55,316 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:00:55,318 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:00:55,325 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:00:55,330 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:00:55,330 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:00:55,331 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:00:55,459 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:00:55,459 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:00:55,462 INFO common.SaveMessage(94) - 15164_3_1059_in.xml IO输出耗时:0.0030s
18:00:55,462 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15164_3_1059_in.xml
18:00:55,463 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:00:55,464 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:00:55,466 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:00:55,473 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:00:55,476 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:00:55,476 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:00:55,481 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:00:55,481 INFO service.ContBatchSendDisk(53) - 1
18:00:55,482 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:00:55,482 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:00:55,483 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:00:55,483 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:00:55,488 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:00:55,488 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:00:55,488 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:00:55,489 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:00:55,489 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:00:55,489 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:00:55,493 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:00:55,493 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:00:55,493 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:00:55,493 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:00:55,494 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:00:55,494 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:00:55,552 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:00:55,553 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15167,3,'110378300','108011rv11484294694478103','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,180055,20170116,180055 )
18:00:55,572 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:00:55,573 INFO service.ContBatchSendDisk$PayRetServ(330) - 发送核心报文：<?xml version="1.0"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818105</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20170113160454863</SYS_REQ_TIME><SYS_TIME_LEFT>000300000</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><!--?????????????--><remoteID>105005</remoteID><!--????????--></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>1</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME>AL03100192017011101_RESULT.XML</FILE_NAME><FILE_PATH>/home/ap/fserver2/rcv</FILE_PATH></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010061</Ins_Co_ID><SvPt_Jrnl_No>108011rv11484294694478103</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>93910092</CCB_EmpID><OprgDay_Prd>20170113</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><AgIns_BtchBag_Nm>AL03100192017011101</AgIns_BtchBag_Nm><AgInsBtchBagPcsg_StCd>00</AgInsBtchBagPcsg_StCd><Rsp_Inf>??????к??????</Rsp_Inf><Cur_Btch_Dtl_TDnum>37</Cur_Btch_Dtl_TDnum><Cur_Btch_Dtl_TAmt>179349.70</Cur_Btch_Dtl_TAmt><AgIns_BtchBag_TpCd>1</AgIns_BtchBag_TpCd></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:00:55,593 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
18:00:55,594 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:76)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:331)
18:00:55,663 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:00:55,664 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:00:55,664 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:00:55,664 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:00:55,664 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15167,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478103',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180055,ModifyDate=20170116,ModifyTime=180055,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478103'
18:00:55,795 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:00:55,799 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:00:55,799 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:00:55,919 INFO format.BatchSendDisk(183) - 配置节点element:
18:00:55,919 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:00:55,919 INFO common.Log4jPrint(20) - 交易码：P53818105
18:00:55,919 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:00:55,921 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:00:55,921 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:00:55,925 INFO common.SaveMessage(94) - 15164_6_1059_out.xml IO输出耗时:0.0010s
18:00:55,925 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15164_6_1059_out.xml
18:00:55,928 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116180055473</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116180055916</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478103</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478103</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:00:55,929 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:00:55,930 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:00:55,931 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.753s
18:00:55,977 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:00:55,977 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:00:55,977 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:00:55,977 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478103'
18:00:56,003 INFO common.Log4jPrint(20) - -------------------------
18:00:56,004 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:00:56,004 INFO common.Log4jPrint(20) - -------------------------
18:00:56,014 INFO common.Log4jPrint(20) - i=1
18:00:56,082 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:00:56,083 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:00:56,084 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:00:56,085 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:00:56,085 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15167,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478103',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.698',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180055,ModifyDate=20170116,ModifyTime=180055,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15164_6_1059_out.xml' where TranNo='108011rv11484294694478103'
18:00:56,104 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.788s
18:00:56,104 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:02:12,074 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
18:02:12,082 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:02:12,085 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:02:12,086 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:02:12,087 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:02:12,088 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:02:12,089 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:02:12,092 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:02:12,156 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:02:12,164 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:02:12,165 INFO common.Log4jPrint(20) - End reset System.out!
18:02:12,166 INFO net.SocketConf(27) - Into SocketConf.load()...
18:02:12,167 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:02:12,167 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:02:12,170 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:02:12,171 INFO net.SocketConf(60) - Out SocketConf.load()!
18:02:12,189 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:02:12,190 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:02:12,198 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:02:12,199 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:02:12,199 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:02:12,206 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:02:12,206 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:02:12,207 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:02:12,213 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:02:12,214 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:02:12,214 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:02:12,219 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:02:12,220 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:02:12,219 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:02:14,908 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:02:14,919 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:02:14,920 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:02:14,920 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:02:14,927 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:02:14,928 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:02:14,929 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:02:14,952 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:02:14,953 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:02:14,957 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:02:14,963 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:02:15,473 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:02:15,527 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:02:15,597 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:02:15,599 INFO midplat.Ybt4Socket(34) - TranLogNo:15170
18:02:15,600 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:02:15,612 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:02:15,613 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:02:15,615 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:02:15,621 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:02:15,630 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:02:15,630 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:02:15,631 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:02:15,753 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:02:15,754 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:02:15,756 INFO common.SaveMessage(94) - 15173_3_1059_in.xml IO输出耗时:0.0020s
18:02:15,757 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15173_3_1059_in.xml
18:02:15,758 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:02:15,758 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:02:15,760 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:02:15,766 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:02:15,769 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:02:15,769 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:02:15,774 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:02:15,774 INFO service.ContBatchSendDisk(53) - 1
18:02:15,775 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:02:15,775 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:02:15,776 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:02:15,776 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:02:15,780 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:02:15,781 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:02:15,781 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:02:15,781 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:02:15,781 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:02:15,782 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:02:15,785 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:02:15,785 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:02:15,786 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:02:15,786 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:02:15,786 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:02:15,786 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:02:15,831 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:02:15,832 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15176,3,'110378300','108011rv11484294694478103','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,180215,20170116,180215 )
18:02:15,887 ERROR service.ContBatchSendDisk(197) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
18:02:15,888 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
18:02:16,078 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:02:16,081 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:02:16,082 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:02:16,206 INFO format.BatchSendDisk(183) - 配置节点element:
18:02:16,206 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:02:16,206 INFO common.Log4jPrint(20) - 交易码：P53818105
18:02:16,206 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:02:16,208 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:02:16,208 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:02:16,212 INFO common.SaveMessage(94) - 15173_6_1059_out.xml IO输出耗时:0.0020s
18:02:16,212 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15173_6_1059_out.xml
18:02:16,215 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116180215767</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116180216203</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478103</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478103</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:02:16,215 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:02:16,217 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:02:16,219 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.299s
18:02:16,274 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:02:16,274 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:02:16,275 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:02:16,275 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478103'
18:02:16,312 INFO common.Log4jPrint(20) - -------------------------
18:02:16,313 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:02:16,313 INFO common.Log4jPrint(20) - -------------------------
18:02:16,322 INFO common.Log4jPrint(20) - i=1
18:02:16,351 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:02:16,351 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:02:16,351 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:02:16,352 INFO common.Log4jPrint(20) - 108011rv11484294694478103
18:02:16,352 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15167,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478103',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.71',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180055,ModifyDate=20170116,ModifyTime=180055,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15173_6_1059_out.xml' where TranNo='108011rv11484294694478103'
18:02:16,367 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.754s
18:02:16,368 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:02:35,156 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:02:35,166 INFO midplat.Ybt4Socket(34) - TranLogNo:15179
18:02:35,167 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:02:35,167 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:02:35,168 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:02:35,168 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:02:35,175 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:02:35,175 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:02:35,176 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:02:35,178 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:02:35,179 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:02:35,179 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:02:35,182 INFO common.SaveMessage(94) - 15182_9_1059_in.xml IO输出耗时:0.0010s
18:02:35,183 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15182_9_1059_in.xml
18:02:35,183 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:02:35,184 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:02:35,186 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:02:35,186 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:02:35,186 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:02:35,187 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:02:35,187 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:02:35,187 INFO service.ContBatchSendDisk(53) - 1
18:02:35,188 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:02:35,188 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:02:35,188 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:02:35,188 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:02:35,188 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:02:35,189 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:02:35,189 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:02:35,189 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:02:35,190 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:02:35,190 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:02:35,190 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:02:35,190 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:02:35,191 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:02:35,193 INFO format.BatchSendDisk(183) - 配置节点element:
18:02:35,194 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:02:35,194 INFO common.Log4jPrint(20) - 交易码：P53818105
18:02:35,194 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:02:35,195 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:02:35,195 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:02:35,198 INFO common.SaveMessage(94) - 15182_12_1059_out.xml IO输出耗时:0.0010s
18:02:35,198 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15182_12_1059_out.xml
18:02:35,201 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116180235186</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116180235191</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478104</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478104</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:02:35,208 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:02:35,210 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:02:35,211 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.044s
18:02:35,293 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:02:35,294 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15185,3,'110378300','108011rv11484294694478104','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,180235,20170116,180235 )
18:02:35,311 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:02:35,312 INFO service.ContBatchSendDisk$PayRetServ(330) - 发送核心报文：<?xml version="1.0"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818105</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20170113160454863</SYS_REQ_TIME><SYS_TIME_LEFT>000300000</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><!--?????????????--><remoteID>105005</remoteID><!--????????--></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>1</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME>AL03100192017011101_RESULT.XML</FILE_NAME><FILE_PATH>/home/ap/fserver2/rcv</FILE_PATH></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010061</Ins_Co_ID><SvPt_Jrnl_No>108011rv11484294694478104</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>93910092</CCB_EmpID><OprgDay_Prd>20170113</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><AgIns_BtchBag_Nm>AL03100192017011101</AgIns_BtchBag_Nm><AgInsBtchBagPcsg_StCd>00</AgInsBtchBagPcsg_StCd><Rsp_Inf>??????к??????</Rsp_Inf><Cur_Btch_Dtl_TDnum>37</Cur_Btch_Dtl_TDnum><Cur_Btch_Dtl_TAmt>179349.70</Cur_Btch_Dtl_TAmt><AgIns_BtchBag_TpCd>1</AgIns_BtchBag_TpCd></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:02:35,312 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:333)
18:02:35,508 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
18:02:35,524 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:02:35,524 INFO common.Log4jPrint(20) - 108011rv11484294694478104
18:02:35,524 INFO common.Log4jPrint(20) - 108011rv11484294694478104
18:02:35,525 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478104'
18:02:35,562 INFO common.Log4jPrint(20) - -------------------------
18:02:35,563 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:02:35,563 INFO common.Log4jPrint(20) - -------------------------
18:02:35,579 INFO common.Log4jPrint(20) - i=1
18:02:35,620 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:02:35,621 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:02:35,621 INFO common.Log4jPrint(20) - 108011rv11484294694478104
18:02:35,621 INFO common.Log4jPrint(20) - 108011rv11484294694478104
18:02:35,621 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15185,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478104',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=-1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.411',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180235,ModifyDate=20170116,ModifyTime=180235,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15182_12_1059_out.xml' where TranNo='108011rv11484294694478104'
18:02:35,642 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.474s
18:02:35,643 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:02:35,753 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:02:35,754 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:02:35,754 INFO common.Log4jPrint(20) - 108011rv11484294694478104
18:02:35,755 INFO common.Log4jPrint(20) - 108011rv11484294694478104
18:02:35,755 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15185,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478104',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180235,ModifyDate=20170116,ModifyTime=180235,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478104'
18:04:07,578 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:04:17,443 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
18:04:17,450 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:04:17,454 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:04:17,454 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:04:17,456 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:04:17,457 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:04:17,457 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:04:17,461 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:04:17,521 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:04:17,529 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:04:17,530 INFO common.Log4jPrint(20) - End reset System.out!
18:04:17,532 INFO net.SocketConf(27) - Into SocketConf.load()...
18:04:17,532 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:04:17,533 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:04:17,536 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:04:17,536 INFO net.SocketConf(60) - Out SocketConf.load()!
18:04:17,552 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:04:17,552 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:04:17,565 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:04:17,566 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:04:17,566 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:04:17,572 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:04:17,572 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:04:17,572 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:04:17,578 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:04:17,578 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:04:17,578 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:04:17,583 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:04:17,584 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:04:17,583 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:04:31,435 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:04:31,446 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:04:31,446 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:04:31,446 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:04:31,453 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:04:31,454 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:04:31,456 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:04:31,477 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:04:31,478 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:04:31,480 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:04:31,486 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:04:31,962 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:04:32,026 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:04:32,108 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:04:32,110 INFO midplat.Ybt4Socket(34) - TranLogNo:15188
18:04:32,111 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:04:32,126 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:04:32,127 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:04:32,129 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:04:32,135 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:04:32,140 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:04:32,140 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:04:32,141 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:04:32,270 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:04:32,271 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:04:32,274 INFO common.SaveMessage(94) - 15191_3_1059_in.xml IO输出耗时:0.0030s
18:04:32,275 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15191_3_1059_in.xml
18:04:32,276 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:04:32,276 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:04:32,278 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:04:32,284 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:04:32,287 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:04:32,287 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:04:32,293 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:04:32,294 INFO service.ContBatchSendDisk(53) - 1
18:04:32,294 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:04:32,295 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:04:32,295 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:04:32,295 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:04:32,300 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:04:32,300 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:04:32,300 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:04:32,301 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:04:32,301 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:04:32,301 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:04:32,304 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:04:32,305 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:04:32,305 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:04:32,305 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:04:32,306 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:04:32,306 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:04:32,347 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:04:32,352 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15194,3,'110378300','108011rv11484294694478105','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,180432,20170116,180432 )
18:04:32,366 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:04:32,367 INFO service.ContBatchSendDisk$PayRetServ(330) - 发送核心报文：<?xml version="1.0"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818105</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20170113160454863</SYS_REQ_TIME><SYS_TIME_LEFT>000300000</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><!--?????????????--><remoteID>105005</remoteID><!--????????--></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>1</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME>AL03100192017011101_RESULT.XML</FILE_NAME><FILE_PATH>/home/ap/fserver2/rcv</FILE_PATH></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010061</Ins_Co_ID><SvPt_Jrnl_No>108011rv11484294694478105</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>93910092</CCB_EmpID><OprgDay_Prd>20170113</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><AgIns_BtchBag_Nm>AL03100192017011101</AgIns_BtchBag_Nm><AgInsBtchBagPcsg_StCd>00</AgInsBtchBagPcsg_StCd><Rsp_Inf>??????к??????</Rsp_Inf><Cur_Btch_Dtl_TDnum>37</Cur_Btch_Dtl_TDnum><Cur_Btch_Dtl_TAmt>179349.70</Cur_Btch_Dtl_TAmt><AgIns_BtchBag_TpCd>1</AgIns_BtchBag_TpCd></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:04:32,367 ERROR service.ContBatchSendDisk$PayRetServ(343) - 批量代收代付送盘交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:334)
18:04:32,397 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:04:32,397 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:04:32,398 INFO common.Log4jPrint(20) - 108011rv11484294694478105
18:04:32,398 INFO common.Log4jPrint(20) - 108011rv11484294694478105
18:04:32,398 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15194,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478105',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180432,ModifyDate=20170116,ModifyTime=180432,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478105'
18:04:32,594 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:04:32,597 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:04:32,598 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:04:32,718 INFO format.BatchSendDisk(183) - 配置节点element:
18:04:32,718 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:04:32,718 INFO common.Log4jPrint(20) - 交易码：P53818105
18:04:32,718 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:04:32,720 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:04:32,720 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:04:32,723 INFO common.SaveMessage(94) - 15191_6_1059_out.xml IO输出耗时:0.0020s
18:04:32,723 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15191_6_1059_out.xml
18:04:32,726 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116180432285</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116180432715</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478105</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478105</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:04:32,727 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:04:32,728 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:04:32,730 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.284s
18:04:32,758 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:04:32,758 INFO common.Log4jPrint(20) - 108011rv11484294694478105
18:04:32,758 INFO common.Log4jPrint(20) - 108011rv11484294694478105
18:04:32,759 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478105'
18:04:32,782 INFO common.Log4jPrint(20) - -------------------------
18:04:32,783 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:04:32,783 INFO common.Log4jPrint(20) - -------------------------
18:04:32,792 INFO common.Log4jPrint(20) - i=1
18:04:32,829 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:04:32,830 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:04:32,830 INFO common.Log4jPrint(20) - 108011rv11484294694478105
18:04:32,831 INFO common.Log4jPrint(20) - 108011rv11484294694478105
18:04:32,832 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15194,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478105',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.665',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180432,ModifyDate=20170116,ModifyTime=180432,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15191_6_1059_out.xml' where TranNo='108011rv11484294694478105'
18:04:32,849 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.722s
18:04:32,850 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:06:57,970 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:07:05,177 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
18:07:05,185 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:07:05,188 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:07:05,189 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:07:05,191 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:07:05,191 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:07:05,192 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:07:05,195 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:07:05,256 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:07:05,264 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:07:05,265 INFO common.Log4jPrint(20) - End reset System.out!
18:07:05,267 INFO net.SocketConf(27) - Into SocketConf.load()...
18:07:05,268 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:07:05,268 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:07:05,271 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:07:05,272 INFO net.SocketConf(60) - Out SocketConf.load()!
18:07:05,289 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:07:05,291 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:07:05,300 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:07:05,300 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:07:05,300 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:07:05,306 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:07:05,307 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:07:05,307 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:07:05,313 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:07:05,313 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:07:05,313 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:07:05,318 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:07:05,318 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:07:05,318 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:07:08,007 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:07:08,017 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:07:08,018 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:07:08,018 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:07:08,025 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:07:08,026 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:07:08,028 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:07:08,050 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:07:08,051 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:07:08,053 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:07:08,060 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:07:08,613 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:07:08,686 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:07:08,747 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:07:08,750 INFO midplat.Ybt4Socket(34) - TranLogNo:15197
18:07:08,751 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:07:08,766 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:07:08,768 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:07:08,769 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:07:08,778 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:07:08,788 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:07:08,790 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:07:08,790 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:07:08,934 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:07:08,934 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:07:08,937 INFO common.SaveMessage(94) - 15200_3_1059_in.xml IO输出耗时:0.0030s
18:07:08,937 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15200_3_1059_in.xml
18:07:08,938 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:07:08,939 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:07:08,940 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:07:08,948 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:07:08,951 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:07:08,952 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:07:08,957 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:07:08,957 INFO service.ContBatchSendDisk(53) - 1
18:07:08,958 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:07:08,958 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:07:08,958 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:07:08,959 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:07:08,964 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:07:08,964 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:07:08,964 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:07:08,965 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:07:08,965 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:07:08,965 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:07:08,969 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:07:08,969 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:07:08,969 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:07:08,969 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:07:08,970 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:07:08,970 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:07:09,019 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:07:09,021 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15203,3,'110378300','108011rv11484294694478106','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,180708,20170116,180708 )
18:07:09,037 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:07:09,271 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:07:09,275 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:07:09,276 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:07:09,409 INFO format.BatchSendDisk(183) - 配置节点element:
18:07:09,410 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:07:09,410 INFO common.Log4jPrint(20) - 交易码：P53818105
18:07:09,410 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:07:09,412 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:07:09,413 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:07:09,417 INFO common.SaveMessage(94) - 15200_6_1059_out.xml IO输出耗时:0.0020s
18:07:09,417 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15200_6_1059_out.xml
18:07:09,421 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116180708949</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116180709407</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478106</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478106</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:07:09,422 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:07:09,424 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:07:09,425 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.407s
18:07:09,451 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:07:09,452 INFO common.Log4jPrint(20) - 108011rv11484294694478106
18:07:09,452 INFO common.Log4jPrint(20) - 108011rv11484294694478106
18:07:09,452 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478106'
18:07:09,496 INFO common.Log4jPrint(20) - -------------------------
18:07:09,497 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:07:09,497 INFO common.Log4jPrint(20) - -------------------------
18:07:09,507 INFO common.Log4jPrint(20) - i=1
18:07:09,535 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:07:09,536 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:07:09,536 INFO common.Log4jPrint(20) - 108011rv11484294694478106
18:07:09,536 INFO common.Log4jPrint(20) - 108011rv11484294694478106
18:07:09,536 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15203,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478106',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=-1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.739',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180708,ModifyDate=20170116,ModifyTime=180708,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15200_6_1059_out.xml' where TranNo='108011rv11484294694478106'
18:07:09,553 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.785s
18:07:09,554 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:07:13,905 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:348)
18:07:46,223 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:07:52,503 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
18:07:52,511 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:07:52,515 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:07:52,515 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:07:52,517 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:07:52,518 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:07:52,518 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:07:52,521 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:07:52,583 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:07:52,592 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:07:52,592 INFO common.Log4jPrint(20) - End reset System.out!
18:07:52,594 INFO net.SocketConf(27) - Into SocketConf.load()...
18:07:52,595 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:07:52,596 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:07:52,598 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:07:52,599 INFO net.SocketConf(60) - Out SocketConf.load()!
18:07:52,616 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:07:52,617 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:07:52,626 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:07:52,627 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:07:52,627 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:07:52,633 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:07:52,635 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:07:52,636 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:07:52,641 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:07:52,642 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:07:52,642 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:07:52,649 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:07:52,650 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:07:52,650 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:08:01,572 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:08:01,583 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:08:01,583 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:08:01,584 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:08:01,591 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:08:01,592 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:08:01,593 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:08:01,614 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:08:01,615 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:08:01,618 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:08:01,623 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:08:02,199 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:08:02,292 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:08:02,378 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:08:02,381 INFO midplat.Ybt4Socket(34) - TranLogNo:15206
18:08:02,382 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:08:02,396 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:08:02,398 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:08:02,400 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:08:02,406 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:08:02,411 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:08:02,411 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:08:02,411 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:08:02,538 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:08:02,538 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:08:02,541 INFO common.SaveMessage(94) - 15209_3_1059_in.xml IO输出耗时:0.0030s
18:08:02,541 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15209_3_1059_in.xml
18:08:02,542 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:08:02,542 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:08:02,545 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:08:02,550 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:08:02,552 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:08:02,553 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:08:02,558 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:08:02,558 INFO service.ContBatchSendDisk(53) - 1
18:08:02,559 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:08:02,559 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:08:02,559 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:08:02,559 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:08:02,564 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:08:02,564 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:08:02,564 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:08:02,565 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:08:02,565 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:08:02,565 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:08:02,569 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:08:02,569 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:08:02,569 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:08:02,569 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:08:02,570 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:08:02,570 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:08:02,626 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:08:02,627 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15212,3,'110378300','108011rv11484294694478108','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,180802,20170116,180802 )
18:08:02,648 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:08:02,715 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:08:02,715 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:08:02,717 INFO common.Log4jPrint(20) - 108011rv11484294694478108
18:08:02,718 INFO common.Log4jPrint(20) - 108011rv11484294694478108
18:08:02,718 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15212,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478108',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180802,ModifyDate=20170116,ModifyTime=180802,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478108'
18:08:02,869 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:08:02,873 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:08:02,873 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:08:03,000 INFO format.BatchSendDisk(183) - 配置节点element:
18:08:03,000 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:08:03,000 INFO common.Log4jPrint(20) - 交易码：P53818105
18:08:03,001 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:08:03,002 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:08:03,002 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:08:03,006 INFO common.SaveMessage(94) - 15209_6_1059_out.xml IO输出耗时:0.0010s
18:08:03,006 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15209_6_1059_out.xml
18:08:03,009 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116180802550</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116180802997</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478108</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478108</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:08:03,009 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:08:03,011 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:08:03,012 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.429s
18:08:03,056 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:08:03,056 INFO common.Log4jPrint(20) - 108011rv11484294694478108
18:08:03,056 INFO common.Log4jPrint(20) - 108011rv11484294694478108
18:08:03,056 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478108'
18:08:03,134 INFO common.Log4jPrint(20) - -------------------------
18:08:03,136 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:08:03,136 INFO common.Log4jPrint(20) - -------------------------
18:08:03,147 INFO common.Log4jPrint(20) - i=1
18:08:03,205 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:08:03,207 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:08:03,207 INFO common.Log4jPrint(20) - 108011rv11484294694478108
18:08:03,208 INFO common.Log4jPrint(20) - 108011rv11484294694478108
18:08:03,209 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15212,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478108',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.749',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180802,ModifyDate=20170116,ModifyTime=180802,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15209_6_1059_out.xml' where TranNo='108011rv11484294694478108'
18:08:03,229 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.831s
18:08:03,230 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:09:54,849 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:09:54,859 INFO midplat.Ybt4Socket(34) - TranLogNo:15215
18:09:54,860 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:09:54,860 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:09:54,860 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:09:54,861 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:09:54,867 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:09:54,868 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:09:54,868 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:09:54,871 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:09:54,871 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:09:54,872 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:09:54,876 INFO common.SaveMessage(94) - 15218_9_1059_in.xml IO输出耗时:0.0010s
18:09:54,876 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15218_9_1059_in.xml
18:09:54,876 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:09:54,877 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:09:54,879 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:09:54,879 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:09:54,880 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:09:54,880 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:09:54,880 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:09:54,880 INFO service.ContBatchSendDisk(53) - 1
18:09:54,881 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:09:54,881 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:09:54,881 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:09:54,881 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:09:54,882 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:09:54,882 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:09:54,882 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:09:54,883 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:09:54,883 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:09:54,883 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:09:54,883 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:09:54,884 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:09:54,924 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:09:54,924 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15221,3,'110378300','108011rv11484294694478109','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,180954,20170116,180954 )
18:09:54,938 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:09:54,988 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:09:54,989 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:09:55,002 INFO common.Log4jPrint(20) - 108011rv11484294694478109
18:09:55,003 INFO common.Log4jPrint(20) - 108011rv11484294694478109
18:09:55,004 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15221,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478109',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180954,ModifyDate=20170116,ModifyTime=180954,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478109'
18:10:00,739 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:11:19,649 INFO format.BatchSendDisk(183) - 配置节点element:
18:11:27,044 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:11:27,291 INFO common.Log4jPrint(20) - 交易码：P53818105
18:11:32,019 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:11:42,858 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:12:36,913 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:12:36,947 INFO common.SaveMessage(94) - 15218_12_1059_out.xml IO输出耗时:0.0090s
18:12:36,949 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15218_12_1059_out.xml
18:12:36,968 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116180954879</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116181050098</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478109</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478109</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:12:36,972 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:12:36,975 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:12:36,976 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹162.116s
18:12:39,803 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:12:39,808 INFO common.Log4jPrint(20) - 108011rv11484294694478109
18:12:39,812 INFO common.Log4jPrint(20) - 108011rv11484294694478109
18:12:39,817 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478109'
18:12:39,909 INFO common.Log4jPrint(20) - -------------------------
18:12:39,914 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:12:39,915 INFO common.Log4jPrint(20) - -------------------------
18:12:39,930 INFO common.Log4jPrint(20) - i=1
18:12:40,970 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:12:40,972 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:12:40,973 INFO common.Log4jPrint(20) - 108011rv11484294694478109
18:12:40,975 INFO common.Log4jPrint(20) - 108011rv11484294694478109
18:12:40,976 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15221,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478109',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='165.294',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=180954,ModifyDate=20170116,ModifyTime=180954,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15218_12_1059_out.xml' where TranNo='108011rv11484294694478109'
18:12:42,524 INFO midplat.Ybt4Socket(192) - 处理总耗时：167.662s
18:12:43,369 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:13:17,704 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:13:17,714 INFO midplat.Ybt4Socket(34) - TranLogNo:15224
18:13:17,715 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:13:17,715 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:13:17,716 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:13:17,716 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:13:17,723 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:13:17,724 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:13:17,724 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:13:17,727 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:13:17,728 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:13:17,728 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:13:17,731 INFO common.SaveMessage(94) - 15227_15_1059_in.xml IO输出耗时:0.0010s
18:13:17,732 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15227_15_1059_in.xml
18:13:17,732 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:13:17,733 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:13:17,736 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:13:17,736 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:13:17,737 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:13:17,737 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:13:17,737 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:13:17,737 INFO service.ContBatchSendDisk(53) - 1
18:13:17,738 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:13:17,738 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:13:17,738 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:13:17,739 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:13:17,739 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:13:17,739 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:13:17,740 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:13:17,740 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:13:17,740 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:13:17,741 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:13:17,741 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:13:17,741 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:13:17,972 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:13:17,973 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15230,3,'110378300','108011rv11484294694478110','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,181317,20170116,181317 )
18:13:18,023 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:13:18,146 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:13:18,148 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:13:18,148 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:13:18,149 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:13:18,150 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15230,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478110',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=181317,ModifyDate=20170116,ModifyTime=181318,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478110'
18:13:28,288 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:13:28,303 INFO format.BatchSendDisk(183) - 配置节点element:
18:13:28,304 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:13:28,305 INFO common.Log4jPrint(20) - 交易码：P53818105
18:13:28,305 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:13:28,310 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:13:28,310 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:13:28,319 INFO common.SaveMessage(94) - 15227_18_1059_out.xml IO输出耗时:0.0040s
18:13:28,320 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15227_18_1059_out.xml
18:13:28,327 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116181317736</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116181328295</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478110</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478110</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:13:28,327 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:13:28,330 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:13:28,332 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹10.616s
18:13:28,367 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:13:28,368 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:13:28,368 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:13:28,368 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478110'
18:13:28,399 INFO common.Log4jPrint(20) - -------------------------
18:13:28,399 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:13:28,399 INFO common.Log4jPrint(20) - -------------------------
18:13:28,412 INFO common.Log4jPrint(20) - i=1
18:13:28,452 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:13:28,452 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:13:28,453 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:13:28,453 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:13:28,453 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15230,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478110',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='10.696',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=181317,ModifyDate=20170116,ModifyTime=181318,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15227_18_1059_out.xml' where TranNo='108011rv11484294694478110'
18:13:28,471 INFO midplat.Ybt4Socket(192) - 处理总耗时：10.755s
18:13:28,472 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:16:01,622 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:16:01,624 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
18:16:01,625 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
18:16:01,626 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:16:01,627 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
18:16:01,628 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml...
18:16:01,629 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,339) and length=26672 bytes!
18:16:01,645 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml!
18:16:01,647 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:16:01,652 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
18:16:09,577 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
18:16:09,584 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:16:09,588 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:16:09,589 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:16:09,590 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:16:09,591 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:16:09,592 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:16:09,595 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:16:09,658 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:16:09,666 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:16:09,667 INFO common.Log4jPrint(20) - End reset System.out!
18:16:09,669 INFO net.SocketConf(27) - Into SocketConf.load()...
18:16:09,670 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:16:09,670 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:16:09,673 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:16:09,674 INFO net.SocketConf(60) - Out SocketConf.load()!
18:16:09,690 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:16:09,690 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:16:09,699 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:16:09,700 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:16:09,700 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:16:09,707 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:16:09,707 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:16:09,707 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:16:09,713 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:16:09,713 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:16:09,714 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:16:09,719 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:16:09,719 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:16:09,719 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:16:13,345 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:16:13,348 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
18:16:13,348 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
18:16:13,350 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:16:13,351 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
18:16:13,352 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml...
18:16:13,353 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,339) and length=26672 bytes!
18:16:13,372 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml!
18:16:13,373 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:16:13,379 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
18:16:26,114 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@37b82d69
18:16:26,122 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:16:26,125 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:16:26,126 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:16:26,128 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:16:26,128 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:16:26,129 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:16:26,132 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:16:26,191 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:16:26,199 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:16:26,200 INFO common.Log4jPrint(20) - End reset System.out!
18:16:26,202 INFO net.SocketConf(27) - Into SocketConf.load()...
18:16:26,203 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:16:26,203 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:16:26,206 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:16:26,207 INFO net.SocketConf(60) - Out SocketConf.load()!
18:16:26,225 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:16:26,225 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:16:26,234 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:16:26,235 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:16:26,235 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:16:26,240 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:16:26,241 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:16:26,241 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:16:26,247 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:16:26,248 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:16:26,248 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:16:26,254 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:16:26,254 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:16:26,254 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:16:31,627 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:16:31,637 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:16:31,637 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:16:31,638 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:16:31,645 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:16:31,646 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:16:31,647 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:16:31,668 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:16:31,669 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:16:31,671 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:16:31,677 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:16:32,197 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:16:32,279 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:16:32,376 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:16:32,377 INFO midplat.Ybt4Socket(34) - TranLogNo:15233
18:16:32,377 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:16:32,383 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:16:32,384 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:16:32,385 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:16:32,388 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:16:32,392 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:16:32,392 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:16:32,392 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:16:32,519 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:16:32,519 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:16:32,522 INFO common.SaveMessage(94) - 15236_3_1059_in.xml IO输出耗时:0.0030s
18:16:32,522 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15236_3_1059_in.xml
18:16:32,523 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:16:32,524 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:16:32,525 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:16:32,531 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:16:32,533 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:16:32,534 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:16:32,538 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:16:32,539 INFO service.ContBatchSendDisk(53) - 1
18:16:32,539 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:16:32,540 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:16:32,540 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:16:32,540 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:16:32,549 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:16:32,550 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:16:32,550 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:16:32,555 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:16:32,555 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:16:32,556 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:16:32,836 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:16:32,839 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:16:32,839 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:16:32,960 INFO format.BatchSendDisk(183) - 配置节点element:
18:16:32,960 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:16:32,960 INFO common.Log4jPrint(20) - 交易码：P53818105
18:16:32,960 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:16:32,962 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:16:32,962 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:16:32,966 INFO common.SaveMessage(94) - 15236_6_1059_out.xml IO输出耗时:0.0010s
18:16:32,966 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15236_6_1059_out.xml
18:16:32,969 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116181632531</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116181632957</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478110</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478110</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:16:32,970 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:16:32,972 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:16:32,973 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.335s
18:16:33,021 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:16:33,021 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:16:33,021 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:16:33,021 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478110'
18:16:33,066 INFO common.Log4jPrint(20) - -------------------------
18:16:33,068 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:16:33,069 INFO common.Log4jPrint(20) - -------------------------
18:16:33,084 INFO common.Log4jPrint(20) - i=1
18:16:33,163 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:16:33,164 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:16:33,165 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:16:33,165 INFO common.Log4jPrint(20) - 108011rv11484294694478110
18:16:33,166 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15230,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478110',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.7',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=181317,ModifyDate=20170116,ModifyTime=181318,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15236_6_1059_out.xml' where TranNo='108011rv11484294694478110'
18:16:33,202 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.818s
18:16:33,203 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:18:33,001 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:19:25,685 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:19:25,686 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:19:25,687 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:19:25,688 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:19:25,690 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:19:26,886 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:19:26,888 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15239,3,'110378300','108011rv11484294694478110','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,181925,20170116,181925 )
18:19:28,387 ERROR service.ContBatchSendDisk(197) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
18:19:28,387 INFO service.ContBatchSendDisk$PayRetServ(339) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:265)
18:19:55,035 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:19:55,046 INFO midplat.Ybt4Socket(34) - TranLogNo:15242
18:19:55,047 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:19:55,047 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:19:55,047 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:19:55,047 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:19:55,055 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:19:55,056 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:19:55,056 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:19:55,059 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:19:55,059 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:19:55,059 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:19:55,070 INFO common.SaveMessage(94) - 15245_9_1059_in.xml IO输出耗时:0.0090s
18:19:55,071 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15245_9_1059_in.xml
18:19:55,072 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:19:55,073 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:19:55,075 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:19:55,075 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:19:55,076 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:19:55,076 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:19:55,076 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:19:55,076 INFO service.ContBatchSendDisk(53) - 1
18:19:55,077 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:19:55,077 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:19:55,077 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:19:55,077 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:19:55,078 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:19:55,078 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:19:55,078 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:19:55,082 INFO format.BatchSendDisk(183) - 配置节点element:
18:19:55,083 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:19:55,083 INFO common.Log4jPrint(20) - 交易码：P53818105
18:19:55,083 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:19:55,084 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:19:55,085 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:19:55,087 INFO common.SaveMessage(94) - 15245_12_1059_out.xml IO输出耗时:0.0010s
18:19:55,087 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15245_12_1059_out.xml
18:19:55,090 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116181955075</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116181955080</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478112</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478112</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:19:55,091 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:19:55,093 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:19:55,094 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.048s
18:19:55,155 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:19:55,155 INFO common.Log4jPrint(20) - 108011rv11484294694478112
18:19:55,155 INFO common.Log4jPrint(20) - 108011rv11484294694478112
18:19:55,155 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478112'
18:19:55,215 INFO common.Log4jPrint(20) - i=0
18:19:55,215 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
18:19:55,216 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.168s
18:19:55,216 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:19:59,109 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:19:59,111 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:19:59,111 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:19:59,112 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:19:59,113 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:19:59,115 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:19:59,162 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:19:59,162 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15248,3,'110378300','108011rv11484294694478112','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,181959,20170116,181959 )
18:19:59,180 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:19:59,216 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:19:59,217 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:19:59,217 INFO common.Log4jPrint(20) - 108011rv11484294694478112
18:19:59,217 INFO common.Log4jPrint(20) - 108011rv11484294694478112
18:19:59,218 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15248,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478112',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=4,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=181959,ModifyDate=20170116,ModifyTime=181959,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478112'
18:20:43,802 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
18:20:43,810 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:20:43,813 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:20:43,814 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:20:43,816 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:20:43,816 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:20:43,817 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:20:43,820 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:20:43,882 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:20:43,890 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:20:43,890 INFO common.Log4jPrint(20) - End reset System.out!
18:20:43,892 INFO net.SocketConf(27) - Into SocketConf.load()...
18:20:43,893 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:20:43,894 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:20:43,897 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:20:43,897 INFO net.SocketConf(60) - Out SocketConf.load()!
18:20:43,920 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:20:43,921 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:20:43,933 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:20:43,933 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:20:43,934 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:20:43,938 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:20:43,938 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:20:43,939 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:20:43,943 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:20:43,944 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:20:43,944 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:20:43,950 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:20:43,950 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:20:43,951 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:20:59,091 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:20:59,101 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:20:59,101 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:20:59,102 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:20:59,110 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:20:59,111 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:20:59,112 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:20:59,135 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:20:59,136 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:20:59,139 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:20:59,146 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:20:59,733 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:20:59,808 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:20:59,883 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:20:59,886 INFO midplat.Ybt4Socket(34) - TranLogNo:15251
18:20:59,887 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:20:59,902 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:20:59,904 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:20:59,906 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:20:59,914 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:20:59,919 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:20:59,919 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:20:59,919 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:21:00,050 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:21:00,051 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:21:00,054 INFO common.SaveMessage(94) - 15254_3_1059_in.xml IO输出耗时:0.0020s
18:21:00,054 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15254_3_1059_in.xml
18:21:00,055 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:21:00,055 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:21:00,058 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:21:00,064 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:21:00,067 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:21:00,067 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:21:00,072 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:21:00,072 INFO service.ContBatchSendDisk(53) - 1
18:21:00,073 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:21:00,074 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:21:00,074 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:21:00,074 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:21:00,079 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:21:00,079 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:21:00,079 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:21:00,080 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:21:00,080 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:21:00,080 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:21:00,084 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:21:00,084 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:21:00,084 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:21:00,084 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:21:00,085 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:21:00,085 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:21:00,167 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:21:00,168 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15257,3,'110378300','108011rv11484294694478113','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,182100,20170116,182100 )
18:21:00,193 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:21:00,233 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:21:00,234 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:21:00,235 INFO common.Log4jPrint(20) - 108011rv11484294694478113
18:21:00,236 INFO common.Log4jPrint(20) - 108011rv11484294694478113
18:21:00,236 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15257,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478113',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=182100,ModifyDate=20170116,ModifyTime=182100,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478113'
18:21:00,372 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:21:00,375 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:21:00,376 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:21:00,498 INFO format.BatchSendDisk(183) - 配置节点element:
18:21:00,498 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:21:00,498 INFO common.Log4jPrint(20) - 交易码：P53818105
18:21:00,498 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:21:00,500 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:21:00,500 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:21:00,524 INFO common.SaveMessage(94) - 15254_6_1059_out.xml IO输出耗时:0.022s
18:21:00,524 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15254_6_1059_out.xml
18:21:00,527 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116182100065</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116182100495</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478113</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478113</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:21:00,527 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:21:00,529 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:21:00,530 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.428s
18:21:00,563 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:21:00,563 INFO common.Log4jPrint(20) - 108011rv11484294694478113
18:21:00,563 INFO common.Log4jPrint(20) - 108011rv11484294694478113
18:21:00,564 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478113'
18:21:00,588 INFO common.Log4jPrint(20) - -------------------------
18:21:00,589 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:21:00,589 INFO common.Log4jPrint(20) - -------------------------
18:21:00,598 INFO common.Log4jPrint(20) - i=1
18:21:00,637 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:21:00,637 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:21:00,637 INFO common.Log4jPrint(20) - 108011rv11484294694478113
18:21:00,638 INFO common.Log4jPrint(20) - 108011rv11484294694478113
18:21:00,638 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15257,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478113',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.695',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=182100,ModifyDate=20170116,ModifyTime=182100,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15254_6_1059_out.xml' where TranNo='108011rv11484294694478113'
18:21:00,654 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.75s
18:21:00,654 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:30:48,001 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:30:48,012 INFO midplat.Ybt4Socket(34) - TranLogNo:15260
18:30:48,012 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:30:48,013 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:30:48,013 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:30:48,013 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:30:48,020 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1725
18:30:48,021 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1725
18:30:48,021 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:30:48,023 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53817103
18:30:48,023 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:30:48,024 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:30:48,027 INFO common.SaveMessage(94) - 15263_9_3005_in.xml IO输出耗时:0.0020s
18:30:48,027 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15263_9_3005_in.xml
18:30:48,028 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:30:48,028 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:30:48,031 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BusiBlc
18:30:49,201 INFO format.BusiBlc(45) - Into BusiBlc.noStd2Std()...
18:30:49,203 INFO format.BusiBlc(62) - Out BusiBlc.noStd2Std()!
18:30:49,204 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContBlc
18:30:49,764 INFO service.NewContBlc(85) - Into NewContBlc.service()...
18:30:49,830 INFO util.FileUtil(81) - into init FileUtil()..
18:30:49,830 INFO common.Log4jPrint(20) - 传给FileUtil的报文：
18:30:49,831 INFO util.FileUtil(124) - out init FileUtil()..
18:30:49,831 INFO util.FileUtil(131) - Into FileUtil.fileSecurity()...
18:30:49,833 INFO util.FileUtil(148) - FileName = RcnclFile_20170115_010079_110000000_001.xml
18:30:49,833 INFO util.FileUtil(149) - FilePath==/home/ap/fserver2/rcv/
18:30:49,833 INFO util.FileUtil(155) - 解密前的对账文件存放路径：/home/ap/fserver2/rcv/RcnclFile_20170115_010079_110000000_001.xml
18:30:49,834 INFO util.FileUtil(157) - 解密后的对账文件存放路径：/ybttest/newccb/zw/RcnclFile_20170115_010079_110000000_001.xml
18:30:49,842 INFO common.Log4jPrint(20) - start load jniSecApi
18:30:49,843 INFO common.Log4jPrint(20) - F:\Java\jdk6\jdk1.6.0_45\bin;F:\MyEclipse\Common\plugins\com.genuitec.eclipse.easie.tomcat.myeclipse_9.0.0.me201211011550\tomcat\bin
18:30:49,856 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.UnsatisfiedLinkError: no jniSecApi in java.library.path
	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)
	at java.lang.Runtime.loadLibrary0(Runtime.java:823)
	at java.lang.System.loadLibrary(System.java:1028)
	at cn.ccb.secapi.SecAPI.<clinit>(SecAPI.java:3224)
	at com.sinosoft.midplat.newccb.util.FileUtil.fileSecurity(FileUtil.java:160)
	at com.sinosoft.midplat.newccb.service.NewContBlc.service(NewContBlc.java:98)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
18:30:49,857 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:30:49,857 INFO common.Log4jPrint(20) - ==================send====
18:30:49,864 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
18:30:49,864 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
18:30:49,865 INFO common.XslCache(70) - conf file modified at (2017-01-14 14:48:26,252) and length=2787 bytes!
18:30:49,871 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
18:30:49,926 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:30:49,926 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
18:30:49,933 INFO common.SaveMessage(94) - 15263_12_3005_out.xml IO输出耗时:0.0010s
18:30:49,933 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15263_12_3005_out.xml
18:30:49,937 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


18:30:49,938 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:30:49,946 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
18:30:49,948 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.934s
18:30:50,000 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:30:50,001 INFO common.Log4jPrint(20) - 108011rv11484558477014029
18:30:50,001 INFO common.Log4jPrint(20) - 108011rv11484558477014029
18:30:50,001 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484558477014029'
18:30:50,025 INFO common.Log4jPrint(20) - -------------------------
18:30:50,025 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:30:50,026 INFO common.Log4jPrint(20) - -------------------------
18:30:50,038 INFO common.Log4jPrint(20) - i=1
18:30:50,082 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:30:50,083 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:30:50,084 INFO common.Log4jPrint(20) - 108011rv11484558477014029
18:30:50,084 INFO common.Log4jPrint(20) - 108011rv11484558477014029
18:30:50,085 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=32376,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484558477014029',Operator='sys',FuncFlag=3005,TranDate=20170116,TranTime=171942,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=0,RText='新单、续期对账文件接收成功，待对账！',UsedTime=0,AppntName=null,Bak1='1',Bak2=null,Bak3='2.025',Bak4=null,Bak5=null,InNoDoc='32376_732_3005_in.xml',MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=171942,ModifyDate=20170116,ModifyTime=171942,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15263_12_3005_out.xml' where TranNo='108011rv11484558477014029'
18:30:50,105 INFO midplat.Ybt4Socket(192) - 处理总耗时：2.092s
18:30:50,106 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:37:07,066 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:37:07,077 INFO midplat.Ybt4Socket(34) - TranLogNo:15266
18:37:07,078 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:37:07,078 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:37:07,079 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:37:07,079 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:37:07,086 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:37:07,087 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:37:07,087 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:37:07,090 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:37:07,090 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:37:07,090 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:37:07,094 INFO common.SaveMessage(94) - 15269_15_1059_in.xml IO输出耗时:0.0010s
18:37:07,094 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15269_15_1059_in.xml
18:37:07,095 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:37:07,096 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:37:07,098 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:37:07,098 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:37:07,099 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:37:07,099 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:37:07,099 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:37:07,099 INFO service.ContBatchSendDisk(53) - 1
18:37:07,100 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:37:07,100 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:37:07,101 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:37:07,103 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.lang.NoClassDefFoundError: Could not initialize class cn.ccb.secapi.SecAPI
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.service(ContBatchSendDisk.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
18:37:07,103 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:37:07,103 INFO common.Log4jPrint(20) - ==================send====
18:37:07,107 INFO common.SaveMessage(94) - 15269_18_1059_out.xml IO输出耗时:0.0010s
18:37:07,107 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15269_18_1059_out.xml
18:37:07,110 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>674</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>952</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID />
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID />
      <SYS_SND_SERIAL_NO />
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN />
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME />
      <SYS_RESP_TIME />
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>系统异常，请联系保险公司！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE />
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY />
   </TX_BODY>
</TX>


18:37:07,110 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:37:07,113 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛937
18:37:07,114 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.036s
18:37:07,181 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:37:07,182 INFO common.Log4jPrint(20) - 108011rv11484294694478114
18:37:07,183 INFO common.Log4jPrint(20) - 108011rv11484294694478114
18:37:07,183 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478114'
18:37:07,233 INFO common.Log4jPrint(20) - i=0
18:37:07,247 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
18:37:07,248 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.169s
18:37:07,248 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:38:08,319 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:38:08,329 INFO midplat.Ybt4Socket(34) - TranLogNo:15272
18:38:08,330 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:38:08,330 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:38:08,330 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:38:08,331 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:38:08,338 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1897
18:38:08,338 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1897
18:38:08,339 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:38:08,341 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:38:08,342 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:38:08,342 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:38:08,345 INFO common.SaveMessage(94) - 15275_21_1059_in.xml IO输出耗时:0.0010s
18:38:08,345 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15275_21_1059_in.xml
18:38:08,346 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:38:08,346 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:38:08,348 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:38:08,348 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:38:08,349 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:38:08,349 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:38:08,349 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:38:08,350 INFO service.ContBatchSendDisk(53) - 1
18:38:08,350 INFO service.ContBatchSendDisk(72) - 接收文件为：/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:38:08,351 INFO service.ContBatchSendDisk(78) - 密文路径：/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:38:08,351 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:38:08,351 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:38:08,351 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:38:08,351 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:38:08,352 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:38:08,351 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:38:08,352 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:38:08,352 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:38:08,353 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:38:08,353 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:38:08,353 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:38:08,356 INFO format.BatchSendDisk(183) - 配置节点element:
18:38:08,356 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:38:08,356 INFO common.Log4jPrint(20) - 交易码：P53818105
18:38:08,356 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:38:08,358 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:38:08,358 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:38:08,360 INFO common.SaveMessage(94) - 15275_24_1059_out.xml IO输出耗时:0.0010s
18:38:08,360 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15275_24_1059_out.xml
18:38:08,363 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116183808349</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116183808354</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478115</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478115</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:38:08,364 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:38:08,365 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:38:08,367 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.037s
18:38:08,422 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:38:08,422 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15278,3,'110378300','108011rv11484294694478115','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,183808,20170116,183808 )
18:38:08,440 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:38:08,641 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:38:08,642 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:38:08,642 INFO common.Log4jPrint(20) - 108011rv11484294694478115
18:38:08,643 INFO common.Log4jPrint(20) - 108011rv11484294694478115
18:38:08,644 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15278,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478115',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=183808,ModifyDate=20170116,ModifyTime=183808,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478115'
18:38:08,901 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
18:38:08,919 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:38:08,919 INFO common.Log4jPrint(20) - 108011rv11484294694478115
18:38:08,920 INFO common.Log4jPrint(20) - 108011rv11484294694478115
18:38:08,921 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478115'
18:38:08,989 INFO common.Log4jPrint(20) - -------------------------
18:38:08,990 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:38:08,991 INFO common.Log4jPrint(20) - -------------------------
18:38:09,002 INFO common.Log4jPrint(20) - i=1
18:38:09,043 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:38:09,043 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:38:09,043 INFO common.Log4jPrint(20) - 108011rv11484294694478115
18:38:09,044 INFO common.Log4jPrint(20) - 108011rv11484294694478115
18:38:09,044 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15278,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478115',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.673',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=183808,ModifyDate=20170116,ModifyTime=183808,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15275_24_1059_out.xml' where TranNo='108011rv11484294694478115'
18:38:09,063 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.733s
18:38:09,063 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:56:46,046 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
18:56:46,053 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:56:46,057 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:56:46,057 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:56:46,059 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:56:46,060 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:56:46,060 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:56:46,063 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:56:46,124 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:56:46,132 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:56:46,132 INFO common.Log4jPrint(20) - End reset System.out!
18:56:46,134 INFO net.SocketConf(27) - Into SocketConf.load()...
18:56:46,135 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:56:46,136 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:56:46,139 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:56:46,139 INFO net.SocketConf(60) - Out SocketConf.load()!
18:56:46,156 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:56:46,157 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:56:46,166 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:56:46,167 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:56:46,167 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:56:46,173 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:56:46,173 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:56:46,173 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:56:46,179 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:56:46,179 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:56:46,180 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:56:46,185 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:56:46,185 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:56:46,186 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:56:49,259 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:56:49,261 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
18:56:49,262 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
18:56:49,263 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:56:49,265 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
18:56:49,265 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml...
18:56:49,266 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,339) and length=26672 bytes!
18:56:49,282 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml!
18:56:49,284 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:56:49,289 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
18:56:50,741 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:56:50,744 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
18:56:50,744 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
18:56:50,746 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:56:50,747 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
18:56:50,747 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml...
18:56:50,749 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,339) and length=26672 bytes!
18:56:50,764 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml!
18:56:50,765 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:56:50,770 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
18:56:55,834 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:56:55,844 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:56:55,845 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:56:55,845 INFO common.XmlConf(80) - conf file modified at (2017-01-16 15:44:14,510) and length=15303 bytes!
18:56:55,854 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
18:56:55,855 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:56:55,858 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:56:55,879 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:56:55,880 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:56:55,883 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:56:55,889 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:56:56,468 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:56:56,552 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:56:56,676 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:56:56,679 INFO midplat.Ybt4Socket(34) - TranLogNo:15281
18:56:56,680 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:56:56,695 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:56:56,697 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:56:56,698 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:56:56,705 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
18:56:56,712 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:56:56,712 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:56:56,712 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:56:56,847 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:56:56,848 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:56:56,851 INFO common.SaveMessage(94) - 15284_3_1059_in.xml IO输出耗时:0.0030s
18:56:56,851 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15284_3_1059_in.xml
18:56:56,852 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:56:56,853 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:56:56,855 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:56:56,860 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:56:56,862 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:56:56,863 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:56:56,869 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:56:56,870 INFO service.ContBatchSendDisk(53) - 1
18:56:56,871 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:56:56,872 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:56:56,872 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:56:56,872 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:56:56,878 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:56:56,879 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:56:56,879 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:56:56,879 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:56:56,879 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:56:56,880 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:56:56,883 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:56:56,883 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:56:56,883 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:56:56,884 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:56:56,884 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:56:56,884 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:56:57,056 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:56:57,057 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15287,3,'110378300','108011rv11484294694478116','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,185656,20170116,185656 )
18:56:57,079 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:56:57,122 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:56:57,122 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:56:57,124 INFO common.Log4jPrint(20) - 108011rv11484294694478116
18:56:57,125 INFO common.Log4jPrint(20) - 108011rv11484294694478116
18:56:57,125 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15287,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478116',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=185656,ModifyDate=20170116,ModifyTime=185657,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478116'
18:56:57,198 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:56:57,202 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:56:57,202 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:56:57,334 INFO format.BatchSendDisk(183) - 配置节点element:
18:56:57,335 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:56:57,335 INFO common.Log4jPrint(20) - 交易码：P53818105
18:56:57,335 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:56:57,337 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:56:57,337 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:56:57,342 INFO common.SaveMessage(94) - 15284_6_1059_out.xml IO输出耗时:0.0030s
18:56:57,342 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15284_6_1059_out.xml
18:56:57,346 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116185656860</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116185657332</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478116</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478116</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:56:57,347 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:56:57,348 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:56:57,349 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.505s
18:56:57,397 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:56:57,397 INFO common.Log4jPrint(20) - 108011rv11484294694478116
18:56:57,397 INFO common.Log4jPrint(20) - 108011rv11484294694478116
18:56:57,397 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478116'
18:56:57,421 INFO common.Log4jPrint(20) - -------------------------
18:56:57,422 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:56:57,422 INFO common.Log4jPrint(20) - -------------------------
18:56:57,464 INFO common.Log4jPrint(20) - i=1
18:56:57,502 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:56:57,502 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:56:57,502 INFO common.Log4jPrint(20) - 108011rv11484294694478116
18:56:57,503 INFO common.Log4jPrint(20) - 108011rv11484294694478116
18:56:57,503 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15287,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478116',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.767',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=185656,ModifyDate=20170116,ModifyTime=185657,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15284_6_1059_out.xml' where TranNo='108011rv11484294694478116'
18:56:57,521 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.824s
18:56:57,521 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:58:16,809 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:58:16,819 INFO midplat.Ybt4Socket(34) - TranLogNo:15290
18:58:16,820 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:58:16,820 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:58:16,821 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:58:16,821 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:58:16,827 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
18:58:16,828 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
18:58:16,828 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:58:16,831 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:58:16,831 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:58:16,832 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:58:16,835 INFO common.SaveMessage(94) - 15293_9_1059_in.xml IO输出耗时:0.0010s
18:58:16,835 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15293_9_1059_in.xml
18:58:16,836 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:58:16,837 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:58:16,839 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:58:16,839 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:58:16,839 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:58:16,840 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:58:16,840 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:58:16,840 INFO service.ContBatchSendDisk(53) - 1
18:58:16,841 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:58:16,841 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:58:16,841 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:58:16,841 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:58:16,841 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:58:16,841 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:58:16,842 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:58:16,842 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:58:16,842 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:58:16,843 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:58:16,843 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:58:16,843 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:58:16,844 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:58:16,846 INFO format.BatchSendDisk(183) - 配置节点element:
18:58:16,846 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:58:16,846 INFO common.Log4jPrint(20) - 交易码：P53818105
18:58:16,846 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:58:16,854 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:58:16,855 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:58:16,858 INFO common.SaveMessage(94) - 15293_12_1059_out.xml IO输出耗时:0.0010s
18:58:16,858 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15293_12_1059_out.xml
18:58:16,861 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116185816839</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116185816844</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478117</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478117</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:58:16,861 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:58:16,863 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:58:16,864 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.045s
18:58:16,909 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:58:16,909 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15296,3,'110378300','108011rv11484294694478117','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,185816,20170116,185816 )
18:58:16,927 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:58:17,005 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:58:17,006 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:58:17,006 INFO common.Log4jPrint(20) - 108011rv11484294694478117
18:58:17,006 INFO common.Log4jPrint(20) - 108011rv11484294694478117
18:58:17,007 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15296,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478117',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=185816,ModifyDate=20170116,ModifyTime=185816,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478117'
18:58:17,119 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:58:17,120 INFO common.Log4jPrint(20) - 108011rv11484294694478117
18:58:17,120 INFO common.Log4jPrint(20) - 108011rv11484294694478117
18:58:17,121 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478117'
18:58:17,181 INFO common.Log4jPrint(20) - -------------------------
18:58:17,183 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:58:17,184 INFO common.Log4jPrint(20) - -------------------------
18:58:17,198 INFO common.Log4jPrint(20) - i=1
18:58:17,337 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:58:17,338 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:58:17,339 INFO common.Log4jPrint(20) - 108011rv11484294694478117
18:58:17,339 INFO common.Log4jPrint(20) - 108011rv11484294694478117
18:58:17,340 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15296,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478117',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.377',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=185816,ModifyDate=20170116,ModifyTime=185816,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15293_12_1059_out.xml' where TranNo='108011rv11484294694478117'
18:58:17,360 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.539s
18:58:17,361 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
18:58:48,402 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
18:58:48,410 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:58:48,413 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:58:48,414 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:58:48,416 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:58:48,416 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:58:48,417 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:58:48,420 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
18:58:48,482 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:58:48,490 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:58:48,491 INFO common.Log4jPrint(20) - End reset System.out!
18:58:48,493 INFO net.SocketConf(27) - Into SocketConf.load()...
18:58:48,494 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:58:48,494 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
18:58:48,497 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:58:48,498 INFO net.SocketConf(60) - Out SocketConf.load()!
18:58:48,513 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
18:58:48,514 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:58:48,524 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
18:58:48,525 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:58:48,525 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
18:58:48,530 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
18:58:48,531 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:58:48,531 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
18:58:48,536 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
18:58:48,537 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
18:58:48,537 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:58:48,544 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
18:58:48,544 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
18:58:48,544 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
18:59:25,454 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:59:25,457 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/basepath.r
18:59:25,458 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/classes/
18:59:25,459 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
18:59:25,460 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/
18:59:25,461 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml...
18:59:25,462 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,339) and length=26672 bytes!
18:59:25,478 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/HGLIFE/WebRoot/WEB-INF/conf/midplat.xml!
18:59:25,480 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:59:25,485 INFO net.CallWebsvcAtomSvc(74) - Into CallWebsvcAtomSvc.service()...
18:59:32,479 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
18:59:32,490 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
18:59:32,490 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:59:32,491 INFO common.XmlConf(80) - conf file modified at (2017-01-16 18:57:52,106) and length=15305 bytes!
18:59:32,498 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
18:59:32,499 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
18:59:32,500 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:59:32,522 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

18:59:32,523 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
18:59:32,526 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
18:59:32,531 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:59:33,664 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:59:33,769 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:59:33,874 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
18:59:33,875 INFO midplat.Ybt4Socket(34) - TranLogNo:15299
18:59:33,876 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:59:33,887 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
18:59:33,889 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:59:33,890 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
18:59:33,896 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
18:59:33,903 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
18:59:33,904 INFO newNet.CcbNetImpl(65) - mTranCom==============03
18:59:33,904 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
18:59:34,033 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
18:59:34,034 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
18:59:34,037 INFO common.SaveMessage(94) - 15302_3_1059_in.xml IO输出耗时:0.0020s
18:59:34,037 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15302_3_1059_in.xml
18:59:34,038 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
18:59:34,038 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
18:59:34,041 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
18:59:34,047 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
18:59:34,050 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
18:59:34,050 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
18:59:34,056 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
18:59:34,056 INFO service.ContBatchSendDisk(53) - 1
18:59:34,057 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
18:59:34,057 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:59:34,058 INFO service.ContBatchSendDisk(80) - 文件解密开始...
18:59:34,058 INFO common.Log4jPrint(20) - 文件存在，进行备份：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
18:59:34,059 INFO service.ContBatchSendDisk(85) - 文件解密完成...
18:59:34,064 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
18:59:34,064 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
18:59:34,064 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
18:59:34,064 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
18:59:34,065 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
18:59:34,065 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
18:59:34,068 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
18:59:34,068 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
18:59:34,068 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
18:59:34,069 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
18:59:34,069 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
18:59:34,069 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
18:59:34,181 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:59:34,182 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15305,3,'110378300','108011rv11484294694478118','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,185934,20170116,185934 )
18:59:34,202 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
18:59:34,299 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:59:34,300 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:59:34,300 INFO common.Log4jPrint(20) - 108011rv11484294694478118
18:59:34,301 INFO common.Log4jPrint(20) - 108011rv11484294694478118
18:59:34,301 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15305,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478118',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=185934,ModifyDate=20170116,ModifyTime=185934,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478118'
18:59:34,354 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
18:59:34,358 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

18:59:34,358 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
18:59:34,481 INFO format.BatchSendDisk(183) - 配置节点element:
18:59:34,481 INFO common.Log4jPrint(20) - 加密前文件路径：null
18:59:34,481 INFO common.Log4jPrint(20) - 交易码：P53818105
18:59:34,481 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
18:59:34,483 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
18:59:34,483 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
18:59:34,486 INFO common.SaveMessage(94) - 15302_6_1059_out.xml IO输出耗时:0.0010s
18:59:34,487 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15302_6_1059_out.xml
18:59:34,490 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116185934047</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116185934478</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478118</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478118</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


18:59:34,490 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
18:59:34,492 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
18:59:34,493 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.003s
18:59:34,530 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:59:34,530 INFO common.Log4jPrint(20) - 108011rv11484294694478118
18:59:34,530 INFO common.Log4jPrint(20) - 108011rv11484294694478118
18:59:34,531 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478118'
18:59:34,560 INFO common.Log4jPrint(20) - -------------------------
18:59:34,561 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:59:34,561 INFO common.Log4jPrint(20) - -------------------------
18:59:34,571 INFO common.Log4jPrint(20) - i=1
18:59:34,609 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:59:34,609 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:59:34,609 INFO common.Log4jPrint(20) - 108011rv11484294694478118
18:59:34,610 INFO common.Log4jPrint(20) - 108011rv11484294694478118
18:59:34,610 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15305,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478118',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.682',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=185934,ModifyDate=20170116,ModifyTime=185934,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15302_6_1059_out.xml' where TranNo='108011rv11484294694478118'
18:59:34,628 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.739s
18:59:34,628 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:06:26,698 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:06:26,708 INFO midplat.Ybt4Socket(34) - TranLogNo:15308
19:06:26,709 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:06:26,709 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:06:26,710 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:06:26,710 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:06:26,717 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:06:26,718 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:06:26,718 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:06:26,721 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:06:26,721 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:06:26,721 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:06:26,725 INFO common.SaveMessage(94) - 15311_9_1059_in.xml IO输出耗时:0.0020s
19:06:26,725 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15311_9_1059_in.xml
19:06:26,726 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:06:26,727 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:06:26,729 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:06:26,729 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:06:26,730 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:06:26,730 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:06:26,730 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:06:26,730 INFO service.ContBatchSendDisk(53) - 1
19:06:26,731 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:06:26,731 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:06:26,731 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:06:26,731 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:06:26,732 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:06:26,739 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:06:26,739 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:06:26,745 INFO format.BatchSendDisk(183) - 配置节点element:
19:06:26,746 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:06:26,746 INFO common.Log4jPrint(20) - 交易码：P53818105
19:06:26,746 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:06:26,747 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:06:26,747 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:06:26,750 INFO common.SaveMessage(94) - 15311_12_1059_out.xml IO输出耗时:0.0010s
19:06:26,750 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15311_12_1059_out.xml
19:06:26,753 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116190626729</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116190626743</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478119</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478119</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:06:26,754 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:06:26,756 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:06:26,757 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.048s
19:06:26,801 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:06:26,801 INFO common.Log4jPrint(20) - 108011rv11484294694478119
19:06:26,801 INFO common.Log4jPrint(20) - 108011rv11484294694478119
19:06:26,801 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478119'
19:06:26,836 INFO common.Log4jPrint(20) - i=0
19:06:26,846 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:06:26,847 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.137s
19:06:26,847 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:07:36,757 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:09:15,135 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
19:09:15,135 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
19:09:15,136 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
19:09:15,136 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
19:09:15,137 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
19:09:15,549 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:09:15,550 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15314,3,'110378300','108011rv11484294694478119','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,190915,20170116,190915 )
19:09:15,577 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
19:09:15,640 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:09:15,641 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:09:15,641 INFO common.Log4jPrint(20) - 108011rv11484294694478119
19:09:15,642 INFO common.Log4jPrint(20) - 108011rv11484294694478119
19:09:15,643 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15314,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478119',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=168,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=190915,ModifyDate=20170116,ModifyTime=190915,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478119'
19:09:21,056 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:09:21,066 INFO midplat.Ybt4Socket(34) - TranLogNo:15317
19:09:21,066 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:09:21,066 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:09:21,067 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:09:21,067 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:09:21,074 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:09:21,075 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:09:21,075 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:09:21,078 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:09:21,078 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:09:21,079 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:09:21,082 INFO common.SaveMessage(94) - 15320_15_1059_in.xml IO输出耗时:0.0010s
19:09:21,083 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15320_15_1059_in.xml
19:09:21,083 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:09:21,084 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:09:21,086 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:09:21,086 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:09:21,087 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:09:21,087 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:09:21,087 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:09:21,087 INFO service.ContBatchSendDisk(53) - 1
19:09:21,088 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:09:21,088 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:09:21,088 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:09:21,089 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:09:21,089 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:09:21,089 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:09:21,089 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:09:21,095 INFO format.BatchSendDisk(183) - 配置节点element:
19:09:21,095 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:09:21,096 INFO common.Log4jPrint(20) - 交易码：P53818105
19:09:21,096 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:09:21,098 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:09:21,098 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:09:21,101 INFO common.SaveMessage(94) - 15320_18_1059_out.xml IO输出耗时:0.0010s
19:09:21,101 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15320_18_1059_out.xml
19:09:21,105 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116190921086</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116190921092</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478120</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478120</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:09:21,105 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:09:21,107 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:09:21,108 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.042s
19:09:21,151 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:09:21,151 INFO common.Log4jPrint(20) - 108011rv11484294694478120
19:09:21,151 INFO common.Log4jPrint(20) - 108011rv11484294694478120
19:09:21,152 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478120'
19:09:21,202 INFO common.Log4jPrint(20) - i=0
19:09:21,203 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:09:21,203 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.136s
19:09:21,204 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:09:23,835 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:09:41,392 ERROR service.ContBatchSendDisk$PayRetServ(244) - 处理回盘文件失败...
19:09:41,392 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:246)
19:09:41,393 DEBUG service.ContBatchSendDisk$PayRetServ(259) - 处理文件内容有误....
19:09:41,393 INFO service.ContBatchSendDisk$PayRetServ(262) - 完成拼接发送核心报文....
19:09:41,394 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
19:09:41,445 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:09:41,446 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15323,3,'110378300','108011rv11484294694478120','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,190941,20170116,190941 )
19:09:41,462 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
19:09:41,532 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:09:41,534 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:09:41,534 INFO common.Log4jPrint(20) - 108011rv11484294694478120
19:09:41,535 INFO common.Log4jPrint(20) - 108011rv11484294694478120
19:09:41,536 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15323,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478120',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=20,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=190941,ModifyDate=20170116,ModifyTime=190941,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478120'
19:09:48,878 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:09:48,888 INFO midplat.Ybt4Socket(34) - TranLogNo:15326
19:09:48,888 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:09:48,888 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:09:48,889 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:09:48,889 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:09:48,897 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:09:48,897 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:09:48,898 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:09:48,901 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:09:48,901 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:09:48,901 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:09:48,904 INFO common.SaveMessage(94) - 15329_21_1059_in.xml IO输出耗时:0.0010s
19:09:48,904 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15329_21_1059_in.xml
19:09:48,905 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:09:48,905 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:09:48,907 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:09:48,907 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:09:48,908 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:09:48,908 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:09:48,908 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:09:48,909 INFO service.ContBatchSendDisk(53) - 1
19:09:48,909 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:09:48,910 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:09:48,910 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:09:48,910 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:09:48,910 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:09:48,910 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:09:48,910 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:09:48,915 INFO format.BatchSendDisk(183) - 配置节点element:
19:09:48,915 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:09:48,915 INFO common.Log4jPrint(20) - 交易码：P53818105
19:09:48,916 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:09:48,917 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:09:48,917 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:09:48,919 INFO common.SaveMessage(94) - 15329_24_1059_out.xml IO输出耗时:0.0010s
19:09:48,920 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15329_24_1059_out.xml
19:09:48,923 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116190948908</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116190948912</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478121</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478121</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:09:48,923 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:09:48,925 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:09:48,926 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.037s
19:09:48,968 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:09:48,968 INFO common.Log4jPrint(20) - 108011rv11484294694478121
19:09:48,968 INFO common.Log4jPrint(20) - 108011rv11484294694478121
19:09:48,968 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478121'
19:09:49,005 INFO common.Log4jPrint(20) - i=0
19:09:49,005 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:09:49,006 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.117s
19:09:49,006 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:09:57,467 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:09:58,025 INFO common.Log4jPrint(20) - D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:10:30,087 ERROR service.ContBatchSendDisk$PayRetServ(244) - 处理回盘文件失败...
19:10:31,426 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:246)
19:12:27,120 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
19:12:27,128 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:12:27,131 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:12:27,132 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:12:27,134 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:12:27,134 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:12:27,135 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:12:27,138 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:12:27,198 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:12:27,206 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:12:27,207 INFO common.Log4jPrint(20) - End reset System.out!
19:12:27,208 INFO net.SocketConf(27) - Into SocketConf.load()...
19:12:27,209 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:12:27,210 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:12:27,212 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:12:27,213 INFO net.SocketConf(60) - Out SocketConf.load()!
19:12:27,229 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:12:27,230 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:12:27,239 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:12:27,240 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:12:27,240 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:12:27,245 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:12:27,246 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:12:27,246 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:12:27,250 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:12:27,251 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:12:27,251 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:12:27,255 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:12:27,256 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:12:27,255 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:12:33,463 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:12:33,473 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:12:33,474 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:12:33,474 INFO common.XmlConf(80) - conf file modified at (2017-01-16 18:57:52,106) and length=15305 bytes!
19:12:33,481 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:12:33,483 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:12:33,484 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:12:33,506 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:12:33,507 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:12:33,510 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:12:33,517 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:12:34,406 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:12:34,607 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:12:34,773 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:12:34,775 INFO midplat.Ybt4Socket(34) - TranLogNo:15326
19:12:34,776 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:12:34,789 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:12:34,791 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:12:34,792 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:12:34,800 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:12:34,807 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:12:34,807 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:12:34,808 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:12:34,943 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:12:34,944 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:12:34,947 INFO common.SaveMessage(94) - 15329_3_1059_in.xml IO输出耗时:0.0020s
19:12:34,947 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15329_3_1059_in.xml
19:12:34,948 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:12:34,948 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:12:34,950 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:12:34,956 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:12:34,959 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:12:34,960 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:12:34,965 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:12:34,965 INFO service.ContBatchSendDisk(53) - 1
19:12:34,966 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:12:34,966 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:12:34,966 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:12:34,967 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:12:34,974 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:12:34,974 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:12:34,978 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:12:34,979 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:12:34,979 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:12:34,979 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:12:34,979 INFO common.Log4jPrint(20) - D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:12:34,980 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:12:34,980 ERROR service.ContBatchSendDisk$PayRetServ(245) - 处理回盘文件失败...
19:12:34,980 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:247)
19:12:34,983 DEBUG service.ContBatchSendDisk$PayRetServ(260) - 处理文件内容有误....
19:12:34,983 INFO service.ContBatchSendDisk$PayRetServ(263) - 完成拼接发送核心报文....
19:12:34,984 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
19:12:35,122 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:12:35,124 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15332,3,'110378300','108011rv11484294694478122','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,191235,20170116,191235 )
19:12:35,142 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
19:12:35,189 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:12:35,189 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:12:35,190 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:35,190 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:35,190 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15332,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478122',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=191235,ModifyDate=20170116,ModifyTime=191235,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478122'
19:12:35,275 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:12:35,279 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:12:35,279 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:12:35,403 INFO format.BatchSendDisk(183) - 配置节点element:
19:12:35,403 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:12:35,403 INFO common.Log4jPrint(20) - 交易码：P53818105
19:12:35,403 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:12:35,405 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:12:35,405 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:12:35,409 INFO common.SaveMessage(94) - 15329_6_1059_out.xml IO输出耗时:0.0010s
19:12:35,409 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15329_6_1059_out.xml
19:12:35,412 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116191234957</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116191235400</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478122</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478122</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:12:35,412 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:12:35,414 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:12:35,415 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.941s
19:12:35,452 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:12:35,452 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:35,452 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:35,452 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478122'
19:12:35,509 INFO common.Log4jPrint(20) - -------------------------
19:12:35,509 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:12:35,510 INFO common.Log4jPrint(20) - -------------------------
19:12:35,522 INFO common.Log4jPrint(20) - i=1
19:12:35,621 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:12:35,621 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:12:35,622 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:35,622 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:35,622 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15332,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478122',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.731',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=191235,ModifyDate=20170116,ModifyTime=191235,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15329_6_1059_out.xml' where TranNo='108011rv11484294694478122'
19:12:35,660 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.869s
19:12:35,661 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:12:52,990 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
19:12:52,997 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:12:53,001 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:12:53,002 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:12:53,003 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:12:53,004 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:12:53,005 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:12:53,008 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:12:53,070 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:12:53,078 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:12:53,079 INFO common.Log4jPrint(20) - End reset System.out!
19:12:53,081 INFO net.SocketConf(27) - Into SocketConf.load()...
19:12:53,081 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:12:53,082 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:12:53,085 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:12:53,085 INFO net.SocketConf(60) - Out SocketConf.load()!
19:12:53,101 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:12:53,101 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:12:53,112 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:12:53,112 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:12:53,112 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:12:53,118 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:12:53,118 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:12:53,118 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:12:53,124 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:12:53,124 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:12:53,124 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:12:53,132 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:12:53,133 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:12:53,132 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:12:56,360 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:12:56,370 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:12:56,371 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:12:56,371 INFO common.XmlConf(80) - conf file modified at (2017-01-16 18:57:52,106) and length=15305 bytes!
19:12:56,379 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:12:56,380 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:12:56,380 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:12:56,401 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:12:56,402 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:12:56,405 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:12:56,411 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:12:57,017 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:12:57,130 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:12:57,253 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:12:57,255 INFO midplat.Ybt4Socket(34) - TranLogNo:15335
19:12:57,257 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:12:57,271 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:12:57,273 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:12:57,274 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:12:57,278 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:12:57,282 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:12:57,282 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:12:57,282 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:12:57,405 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:12:57,406 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:12:57,409 INFO common.SaveMessage(94) - 15338_3_1059_in.xml IO输出耗时:0.0030s
19:12:57,409 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15338_3_1059_in.xml
19:12:57,410 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:12:57,411 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:12:57,413 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:12:57,419 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:12:57,422 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:12:57,422 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:12:57,427 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:12:57,427 INFO service.ContBatchSendDisk(53) - 1
19:12:57,428 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:12:57,428 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:12:57,428 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:12:57,429 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:12:57,438 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:12:57,439 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:12:57,439 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:12:57,443 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:12:57,443 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:12:57,444 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:12:57,730 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:12:57,734 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:12:57,734 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:12:57,855 INFO format.BatchSendDisk(183) - 配置节点element:
19:12:57,856 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:12:57,856 INFO common.Log4jPrint(20) - 交易码：P53818105
19:12:57,856 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:12:57,858 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:12:57,858 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:12:57,861 INFO common.SaveMessage(94) - 15338_6_1059_out.xml IO输出耗时:0.0020s
19:12:57,861 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15338_6_1059_out.xml
19:12:57,864 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116191257419</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116191257853</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478122</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478122</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:12:57,865 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:12:57,866 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:12:57,868 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.497s
19:12:57,992 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:12:57,994 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:57,994 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:57,994 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478122'
19:12:58,039 INFO common.Log4jPrint(20) - -------------------------
19:12:58,040 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:12:58,040 INFO common.Log4jPrint(20) - -------------------------
19:12:58,074 INFO common.Log4jPrint(20) - i=1
19:12:58,312 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:12:58,313 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:12:58,314 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:58,315 INFO common.Log4jPrint(20) - 108011rv11484294694478122
19:12:58,315 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15332,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478122',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.802',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=191235,ModifyDate=20170116,ModifyTime=191235,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15338_6_1059_out.xml' where TranNo='108011rv11484294694478122'
19:12:58,430 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.157s
19:12:58,431 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:13:03,122 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:13:04,038 INFO common.Log4jPrint(20) - D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:13:48,355 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:13:55,393 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
19:13:55,401 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:13:55,405 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:13:55,405 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:13:55,407 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:13:55,408 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:13:55,408 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:13:55,411 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:13:55,413 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:13:55,478 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:13:55,486 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:13:55,486 INFO common.Log4jPrint(20) - End reset System.out!
19:13:55,488 INFO net.SocketConf(27) - Into SocketConf.load()...
19:13:55,489 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:13:55,489 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:13:55,492 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:13:55,493 INFO net.SocketConf(60) - Out SocketConf.load()!
19:13:55,512 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:13:55,512 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:13:55,523 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:13:55,524 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:13:55,523 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:13:55,530 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:13:55,531 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:13:55,531 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:13:55,537 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:13:55,538 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:13:55,538 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:13:55,546 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:13:55,547 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:13:55,547 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:13:55,925 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:13:55,926 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:13:55,926 INFO common.XmlConf(80) - conf file modified at (2017-01-16 18:57:52,106) and length=15305 bytes!
19:13:55,934 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:13:55,935 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:13:55,942 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:13:55,968 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:13:55,969 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:13:55,972 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:13:55,978 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:14:00,740 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:14:00,980 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:14:01,375 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:14:01,378 INFO midplat.Ybt4Socket(34) - TranLogNo:15335
19:14:01,379 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:14:01,393 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:14:01,395 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:14:01,396 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:14:01,405 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:14:01,414 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:14:01,414 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:14:01,415 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:14:01,540 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:14:01,541 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:14:01,543 INFO common.SaveMessage(94) - 15338_3_1059_in.xml IO输出耗时:0.0020s
19:14:01,544 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15338_3_1059_in.xml
19:14:01,545 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:14:01,545 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:14:01,547 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:14:01,553 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:14:01,555 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:14:01,555 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:14:01,560 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:14:01,561 INFO service.ContBatchSendDisk(53) - 1
19:14:01,562 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:14:01,562 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:14:01,562 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:14:01,562 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:14:01,572 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:14:01,572 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:14:01,572 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:14:01,576 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:14:01,577 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:14:01,577 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:14:01,859 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:14:01,862 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:14:01,862 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:14:01,983 INFO format.BatchSendDisk(183) - 配置节点element:
19:14:01,984 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:14:01,984 INFO common.Log4jPrint(20) - 交易码：P53818105
19:14:01,984 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:14:01,986 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:14:01,986 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:14:01,989 INFO common.SaveMessage(94) - 15338_6_1059_out.xml IO输出耗时:0.0010s
19:14:01,990 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15338_6_1059_out.xml
19:14:01,993 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116191401553</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116191401981</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478123</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478123</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:14:01,994 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:14:01,996 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:14:01,997 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹6.071s
19:14:02,337 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:14:02,338 INFO common.Log4jPrint(20) - 108011rv11484294694478123
19:14:02,338 INFO common.Log4jPrint(20) - 108011rv11484294694478123
19:14:02,339 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478123'
19:14:02,396 INFO common.Log4jPrint(20) - i=0
19:14:02,399 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:14:02,400 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.005s
19:14:02,400 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:14:04,650 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:14:04,920 INFO common.Log4jPrint(20) - D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:19:51,906 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
19:19:51,914 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:19:51,918 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:19:51,918 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:19:51,920 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:19:51,921 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:19:51,921 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:19:51,924 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:19:51,986 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:19:51,994 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:19:51,995 INFO common.Log4jPrint(20) - End reset System.out!
19:19:51,997 INFO net.SocketConf(27) - Into SocketConf.load()...
19:19:51,997 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:19:51,998 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:19:52,001 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:19:52,002 INFO net.SocketConf(60) - Out SocketConf.load()!
19:19:52,018 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:19:52,019 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:19:52,027 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:19:52,028 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:19:52,028 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:19:52,033 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:19:52,033 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:19:52,034 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:19:52,039 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:19:52,039 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:19:52,039 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:19:52,044 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:19:52,044 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:19:52,044 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:20:01,239 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:20:01,250 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:20:01,250 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:20:01,251 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:19:34,719) and length=15306 bytes!
19:20:01,258 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1900
19:20:01,259 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:20:01,260 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:20:01,283 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd/</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:20:01,284 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:20:01,287 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:20:01,294 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:20:02,183 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:20:02,273 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:20:02,495 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:20:02,496 INFO midplat.Ybt4Socket(34) - TranLogNo:15335
19:20:02,497 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:20:02,504 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:20:02,505 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:20:02,506 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:20:02,510 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1900
19:20:02,515 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:20:02,515 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:20:02,515 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:20:02,653 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:20:02,654 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:20:02,656 INFO common.SaveMessage(94) - 15338_3_1059_in.xml IO输出耗时:0.0020s
19:20:02,657 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15338_3_1059_in.xml
19:20:02,658 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:20:02,658 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:20:02,660 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:20:02,666 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:20:02,669 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:20:02,669 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:20:02,674 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:20:02,675 INFO service.ContBatchSendDisk(53) - 1
19:20:02,676 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv/    AL03100192017011101_RESULT.XML
19:20:02,676 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv//AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd//AL03100192017011101_RESULT.XML
19:20:02,676 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:20:02,676 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:20:02,686 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:20:02,686 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:20:02,687 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:20:02,691 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:20:02,691 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:20:02,691 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:20:02,989 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:20:02,993 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:20:02,994 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:20:03,130 INFO format.BatchSendDisk(183) - 配置节点element:
19:20:03,131 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:20:03,131 INFO common.Log4jPrint(20) - 交易码：P53818105
19:20:03,131 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:20:03,133 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:20:03,133 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:20:03,136 INFO common.SaveMessage(94) - 15338_6_1059_out.xml IO输出耗时:0.0020s
19:20:03,136 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15338_6_1059_out.xml
19:20:03,139 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116192002667</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116192003128</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478124</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478124</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:20:03,140 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:20:03,141 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:20:03,142 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.893s
19:20:03,195 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:20:03,195 INFO common.Log4jPrint(20) - 108011rv11484294694478124
19:20:03,195 INFO common.Log4jPrint(20) - 108011rv11484294694478124
19:20:03,196 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478124'
19:20:03,252 INFO common.Log4jPrint(20) - i=0
19:20:03,257 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:20:03,258 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.753s
19:20:03,259 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:20:16,791 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:20:17,811 INFO common.Log4jPrint(20) - D:/home/ap/fserver2/snd//AL03100192017011101_RESULT.XML
19:20:57,440 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
19:20:57,448 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:20:57,452 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:20:57,452 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:20:57,454 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:20:57,455 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:20:57,455 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:20:57,458 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:20:57,522 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:20:57,529 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:20:57,530 INFO common.Log4jPrint(20) - End reset System.out!
19:20:57,532 INFO net.SocketConf(27) - Into SocketConf.load()...
19:20:57,533 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:20:57,533 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:20:57,536 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:20:57,537 INFO net.SocketConf(60) - Out SocketConf.load()!
19:20:57,553 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:20:57,553 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:20:57,562 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:20:57,562 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:20:57,562 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:20:57,567 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:20:57,568 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:20:57,568 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:20:57,573 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:20:57,574 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:20:57,574 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:20:57,578 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:20:57,579 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:20:57,579 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:20:58,329 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:20:58,339 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:20:58,339 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:20:58,340 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
19:20:58,347 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1900
19:20:58,348 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:20:58,349 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:20:58,372 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:20:58,373 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:20:58,376 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:20:58,382 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:21:00,009 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:21:00,239 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:21:00,380 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:21:00,383 INFO midplat.Ybt4Socket(34) - TranLogNo:15335
19:21:00,384 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:21:00,398 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:21:00,400 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:21:00,401 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:21:00,409 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1900
19:21:00,419 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:21:00,420 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:21:00,421 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:21:00,555 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:21:00,556 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:21:00,558 INFO common.SaveMessage(94) - 15338_3_1059_in.xml IO输出耗时:0.0020s
19:21:00,559 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15338_3_1059_in.xml
19:21:00,560 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:21:00,560 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:21:00,562 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:21:00,568 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:21:00,570 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:21:00,570 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:21:00,575 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:21:00,575 INFO service.ContBatchSendDisk(53) - 1
19:21:00,576 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv/    AL03100192017011101_RESULT.XML
19:21:00,576 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv//AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:21:00,577 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:21:00,577 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:21:00,587 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:21:00,587 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:21:00,587 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:21:00,591 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:21:00,592 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:21:00,592 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:21:00,891 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:21:00,894 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:21:00,895 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:21:01,035 INFO format.BatchSendDisk(183) - 配置节点element:
19:21:01,036 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:21:01,036 INFO common.Log4jPrint(20) - 交易码：P53818105
19:21:01,036 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:21:01,038 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:21:01,038 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:21:01,042 INFO common.SaveMessage(94) - 15338_6_1059_out.xml IO输出耗时:0.0010s
19:21:01,042 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15338_6_1059_out.xml
19:21:01,045 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116192100568</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116192101033</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478125</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478125</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:21:01,046 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:21:01,047 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:21:01,049 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.709s
19:21:01,146 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:21:01,147 INFO common.Log4jPrint(20) - 108011rv11484294694478125
19:21:01,147 INFO common.Log4jPrint(20) - 108011rv11484294694478125
19:21:01,147 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478125'
19:21:01,195 INFO common.Log4jPrint(20) - i=0
19:21:01,196 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:21:01,197 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.797s
19:21:01,197 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:21:40,359 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:21:40,819 INFO common.Log4jPrint(20) - D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:21:44,173 ERROR service.ContBatchSendDisk$PayRetServ(244) - 处理回盘文件失败...
19:21:45,781 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:246)
19:22:04,589 DEBUG service.ContBatchSendDisk$PayRetServ(259) - 处理文件内容有误....
19:22:04,589 INFO service.ContBatchSendDisk$PayRetServ(262) - 完成拼接发送核心报文....
19:22:04,591 DEBUG service.ContBatchSendDisk(171) - Into ServiceImpl.insertTranLog()...
19:22:04,636 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:22:04,637 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15341,3,'110378300','108011rv11484294694478125','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,192204,20170116,192204 )
19:22:04,652 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
19:22:04,701 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:22:04,702 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:22:04,703 INFO common.Log4jPrint(20) - 108011rv11484294694478125
19:22:04,703 INFO common.Log4jPrint(20) - 108011rv11484294694478125
19:22:04,704 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15341,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478125',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=64,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=192204,ModifyDate=20170116,ModifyTime=192204,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478125'
19:24:11,248 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
19:24:11,256 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:24:11,259 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:24:11,260 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:24:11,262 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:24:11,263 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:24:11,263 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:24:11,266 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:24:11,326 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:24:11,334 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:24:11,335 INFO common.Log4jPrint(20) - End reset System.out!
19:24:11,337 INFO net.SocketConf(27) - Into SocketConf.load()...
19:24:11,338 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:24:11,338 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:24:11,341 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:24:11,342 INFO net.SocketConf(60) - Out SocketConf.load()!
19:24:11,358 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:24:11,358 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:24:11,367 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:24:11,368 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:24:11,367 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:24:11,376 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:24:11,377 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:24:11,376 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:24:11,384 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:24:11,384 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:24:11,385 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:24:11,392 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:24:11,392 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:24:11,392 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:24:11,830 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:24:11,843 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:24:11,844 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:24:11,844 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
19:24:11,855 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:24:11,856 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:24:11,857 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:24:11,880 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:24:11,881 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:24:11,883 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:24:11,892 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:24:13,220 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:24:13,292 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:24:13,455 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:24:13,458 INFO midplat.Ybt4Socket(34) - TranLogNo:15344
19:24:13,459 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:24:13,475 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:24:13,477 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:24:13,477 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:24:13,486 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:24:13,496 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:24:13,497 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:24:13,498 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:24:13,634 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:24:13,634 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:24:13,637 INFO common.SaveMessage(94) - 15347_3_1059_in.xml IO输出耗时:0.0030s
19:24:13,637 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15347_3_1059_in.xml
19:24:13,638 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:24:13,639 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:24:13,641 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:24:13,646 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:24:13,649 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:24:13,649 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:24:13,654 INFO service.ContBatchSendDisk(50) - Into Get_PayRetServ.service()...
19:24:13,654 INFO service.ContBatchSendDisk(53) - 1
19:24:13,655 INFO service.ContBatchSendDisk(72) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:24:13,655 INFO service.ContBatchSendDisk(78) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:24:13,656 INFO service.ContBatchSendDisk(80) - 文件解密开始...
19:24:13,656 INFO service.ContBatchSendDisk(85) - 文件解密完成...
19:24:13,665 INFO service.ContBatchSendDisk$PayRetServ(220) - 开始拼接发送核心报文....
19:24:13,666 INFO service.ContBatchSendDisk(109) - Out Get_PayRetServ.service()!
19:24:13,666 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:24:13,670 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:24:13,670 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:24:13,671 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:24:13,953 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:24:13,956 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:24:13,957 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:24:14,076 INFO format.BatchSendDisk(183) - 配置节点element:
19:24:14,077 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:24:14,077 INFO common.Log4jPrint(20) - 交易码：P53818105
19:24:14,077 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:24:14,079 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:24:14,079 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:24:14,082 INFO common.SaveMessage(94) - 15347_6_1059_out.xml IO输出耗时:0.0010s
19:24:14,083 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15347_6_1059_out.xml
19:24:14,086 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116192413647</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116192414074</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478126</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478126</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:24:14,086 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:24:14,088 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:24:14,089 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.246s
19:24:14,172 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:24:14,173 INFO common.Log4jPrint(20) - 108011rv11484294694478126
19:24:14,173 INFO common.Log4jPrint(20) - 108011rv11484294694478126
19:24:14,174 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478126'
19:24:14,229 INFO common.Log4jPrint(20) - i=0
19:24:14,232 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:24:14,233 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.756s
19:24:14,234 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:24:16,286 INFO service.ContBatchSendDisk$PayRetServ(224) - 888888888881
19:24:20,180 INFO common.Log4jPrint(20) - 文件输入流异常!
19:26:15,853 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:26:22,872 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
19:26:22,879 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:26:22,883 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:26:22,884 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:26:22,885 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:26:22,886 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:26:22,887 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:26:22,890 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:26:22,927 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:26:22,952 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:26:22,960 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:26:22,961 INFO common.Log4jPrint(20) - End reset System.out!
19:26:22,963 INFO net.SocketConf(27) - Into SocketConf.load()...
19:26:22,963 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:26:22,964 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:26:22,967 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:26:22,967 INFO net.SocketConf(60) - Out SocketConf.load()!
19:26:22,982 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:26:22,983 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:26:22,992 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:26:22,993 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:26:22,993 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:26:22,998 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:26:22,999 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:26:23,000 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:26:23,007 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:26:23,007 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:26:23,007 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:26:23,012 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:26:23,013 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:26:23,013 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:26:23,430 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:26:23,431 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:26:23,431 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
19:26:23,440 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:26:23,442 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:26:23,447 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:26:23,472 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:26:23,473 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:26:23,475 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:26:23,481 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:26:24,106 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:26:24,236 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:26:24,395 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:26:24,397 INFO midplat.Ybt4Socket(34) - TranLogNo:15344
19:26:24,398 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:26:24,413 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:26:24,414 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:26:24,415 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:26:24,424 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:26:24,429 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:26:24,429 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:26:24,429 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:26:24,559 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:26:24,559 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:26:24,562 INFO common.SaveMessage(94) - 15347_3_1059_in.xml IO输出耗时:0.0030s
19:26:24,562 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15347_3_1059_in.xml
19:26:24,563 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:26:24,563 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:26:24,565 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:26:24,571 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:26:24,573 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:26:24,573 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:26:24,578 INFO service.ContBatchSendDisk(44) - Into Get_PayRetServ.service()...
19:26:24,579 INFO service.ContBatchSendDisk(47) - 1
19:26:24,579 INFO service.ContBatchSendDisk(66) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:26:24,580 INFO service.ContBatchSendDisk(72) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:26:24,580 INFO service.ContBatchSendDisk(74) - 文件解密开始...
19:26:24,580 INFO service.ContBatchSendDisk(79) - 文件解密完成...
19:26:24,589 INFO service.ContBatchSendDisk$PayRetServ(214) - 开始拼接发送核心报文....
19:26:24,590 INFO service.ContBatchSendDisk(103) - Out Get_PayRetServ.service()!
19:26:24,590 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:26:24,594 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:26:24,595 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:26:24,595 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:26:24,885 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:26:24,889 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:26:24,889 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:26:25,011 INFO format.BatchSendDisk(183) - 配置节点element:
19:26:25,012 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:26:25,012 INFO common.Log4jPrint(20) - 交易码：P53818105
19:26:25,012 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:26:25,013 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:26:25,014 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:26:25,017 INFO common.SaveMessage(94) - 15347_6_1059_out.xml IO输出耗时:0.0020s
19:26:25,017 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15347_6_1059_out.xml
19:26:25,020 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116192624571</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116192625009</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478127</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478127</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:26:25,020 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:26:25,022 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:26:25,023 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.593s
19:26:25,073 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:26:25,073 INFO common.Log4jPrint(20) - 108011rv11484294694478127
19:26:25,073 INFO common.Log4jPrint(20) - 108011rv11484294694478127
19:26:25,074 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478127'
19:26:25,114 INFO common.Log4jPrint(20) - i=0
19:26:25,119 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:26:25,120 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.706s
19:26:25,120 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:26:29,060 INFO service.ContBatchSendDisk$PayRetServ(218) - 888888888881
19:26:33,227 INFO common.Log4jPrint(20) - 文件输入流异常!
19:27:05,282 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
java.net.MalformedURLException
	at java.net.URL.<init>(URL.java:601)
	at java.net.URL.<init>(URL.java:464)
	at java.net.URL.<init>(URL.java:413)
	at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:226)
19:27:05,320 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
19:27:05,320 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
19:27:05,320 INFO common.XslCache(70) - conf file modified at (2017-01-16 14:58:30,684) and length=4755 bytes!
19:27:05,333 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
19:27:05,338 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

19:27:05,339 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
19:27:05,356 ERROR service.ContBatchSendDisk$PayRetServ(243) - 处理回盘文件失败...
19:27:05,357 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:245)
19:27:05,357 DEBUG service.ContBatchSendDisk$PayRetServ(258) - 处理文件内容有误....
19:27:05,357 INFO service.ContBatchSendDisk$PayRetServ(261) - 完成拼接发送核心报文....
19:27:05,358 DEBUG service.ContBatchSendDisk(165) - Into ServiceImpl.insertTranLog()...
19:27:05,445 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:27:05,446 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15350,3,'110378300','108011rv11484294694478127','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,192705,20170116,192705 )
19:27:05,467 DEBUG service.ContBatchSendDisk(195) - Out ServiceImpl.insertTranLog()!
19:27:05,656 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:27:05,657 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:27:05,658 INFO common.Log4jPrint(20) - 108011rv11484294694478127
19:27:05,659 INFO common.Log4jPrint(20) - 108011rv11484294694478127
19:27:05,659 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15350,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478127',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=40,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=192705,ModifyDate=20170116,ModifyTime=192705,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478127'
19:27:14,336 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:27:14,347 INFO midplat.Ybt4Socket(34) - TranLogNo:15353
19:27:14,347 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:27:14,348 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:27:14,348 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:27:14,348 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:27:14,356 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:27:14,357 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:27:14,357 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:27:14,359 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:27:14,360 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:27:14,360 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:27:14,364 INFO common.SaveMessage(94) - 15356_9_1059_in.xml IO输出耗时:0.0010s
19:27:14,364 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15356_9_1059_in.xml
19:27:14,364 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:27:14,372 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:27:14,375 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:27:14,376 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:27:14,376 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:27:14,377 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:27:14,377 INFO service.ContBatchSendDisk(44) - Into Get_PayRetServ.service()...
19:27:14,377 INFO service.ContBatchSendDisk(47) - 1
19:27:14,378 INFO service.ContBatchSendDisk(66) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:27:14,378 INFO service.ContBatchSendDisk(72) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:27:14,378 INFO service.ContBatchSendDisk(74) - 文件解密开始...
19:27:14,379 INFO service.ContBatchSendDisk(79) - 文件解密完成...
19:27:14,379 INFO service.ContBatchSendDisk(103) - Out Get_PayRetServ.service()!
19:27:14,379 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:27:14,379 INFO service.ContBatchSendDisk$PayRetServ(214) - 开始拼接发送核心报文....
19:27:14,385 INFO format.BatchSendDisk(183) - 配置节点element:
19:27:14,386 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:27:14,386 INFO common.Log4jPrint(20) - 交易码：P53818105
19:27:14,386 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:27:14,388 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:27:14,389 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:27:14,393 INFO common.SaveMessage(94) - 15356_12_1059_out.xml IO输出耗时:0.0020s
19:27:14,393 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15356_12_1059_out.xml
19:27:14,397 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116192714376</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116192714382</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478128</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478128</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:27:14,398 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:27:14,400 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:27:14,401 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.053s
19:27:14,683 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:27:14,684 INFO common.Log4jPrint(20) - 108011rv11484294694478128
19:27:14,684 INFO common.Log4jPrint(20) - 108011rv11484294694478128
19:27:14,685 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478128'
19:27:14,751 INFO common.Log4jPrint(20) - i=0
19:27:14,751 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:27:14,752 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.404s
19:27:14,753 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:27:16,588 INFO service.ContBatchSendDisk$PayRetServ(218) - 888888888881
19:27:18,378 INFO common.Log4jPrint(20) - 文件输入流异常!
19:27:19,412 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
java.net.MalformedURLException
	at java.net.URL.<init>(URL.java:601)
	at java.net.URL.<init>(URL.java:464)
	at java.net.URL.<init>(URL.java:413)
	at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:226)
19:28:33,656 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
19:28:33,664 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:28:33,668 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:28:33,669 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:28:33,671 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:28:33,672 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:28:33,673 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:28:33,678 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:28:33,770 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:28:33,781 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:28:33,782 INFO common.Log4jPrint(20) - End reset System.out!
19:28:33,785 INFO net.SocketConf(27) - Into SocketConf.load()...
19:28:33,786 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:28:33,787 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:28:33,792 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:28:33,792 INFO net.SocketConf(60) - Out SocketConf.load()!
19:28:33,814 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:28:33,815 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:28:33,827 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:28:33,828 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:28:33,828 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:28:33,834 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:28:33,834 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:28:33,834 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:28:33,841 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:28:33,842 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:28:33,841 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:28:33,848 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:28:33,849 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:28:33,849 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:28:34,016 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:28:34,030 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:28:34,031 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:28:34,031 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
19:28:34,042 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:28:34,044 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:28:34,047 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:28:34,075 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:28:34,076 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:28:34,080 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:28:34,091 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:28:35,386 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:28:35,485 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:28:35,597 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:28:35,600 INFO midplat.Ybt4Socket(34) - TranLogNo:15353
19:28:35,601 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:28:35,615 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:28:35,615 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:28:35,616 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:28:35,620 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:28:35,625 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:28:35,625 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:28:35,626 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:28:35,746 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:28:35,747 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:28:35,749 INFO common.SaveMessage(94) - 15356_3_1059_in.xml IO输出耗时:0.0020s
19:28:35,750 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15356_3_1059_in.xml
19:28:35,751 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:28:35,751 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:28:35,753 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:28:35,758 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:28:35,761 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:28:35,761 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:28:35,766 INFO service.ContBatchSendDisk(44) - Into Get_PayRetServ.service()...
19:28:35,767 INFO service.ContBatchSendDisk(47) - 1
19:28:35,767 INFO service.ContBatchSendDisk(66) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:28:35,768 INFO service.ContBatchSendDisk(72) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:28:35,768 INFO service.ContBatchSendDisk(74) - 文件解密开始...
19:28:35,768 INFO service.ContBatchSendDisk(79) - 文件解密完成...
19:28:35,778 INFO service.ContBatchSendDisk$PayRetServ(214) - 开始拼接发送核心报文....
19:28:35,778 INFO service.ContBatchSendDisk(103) - Out Get_PayRetServ.service()!
19:28:35,779 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:28:35,783 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:28:35,783 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:28:35,783 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:28:36,072 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:28:36,076 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:28:36,076 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:28:36,199 INFO format.BatchSendDisk(183) - 配置节点element:
19:28:36,200 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:28:36,200 INFO common.Log4jPrint(20) - 交易码：P53818105
19:28:36,200 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:28:36,202 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:28:36,202 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:28:36,205 INFO common.SaveMessage(94) - 15356_6_1059_out.xml IO输出耗时:0.0010s
19:28:36,206 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15356_6_1059_out.xml
19:28:36,209 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116192835759</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116192836197</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478129</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478129</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:28:36,209 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:28:36,211 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:28:36,212 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.182s
19:28:36,293 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:28:36,294 INFO common.Log4jPrint(20) - 108011rv11484294694478129
19:28:36,295 INFO common.Log4jPrint(20) - 108011rv11484294694478129
19:28:36,295 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478129'
19:28:36,391 INFO common.Log4jPrint(20) - i=0
19:28:36,394 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:28:36,395 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.78s
19:28:36,395 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:28:38,516 INFO service.ContBatchSendDisk$PayRetServ(218) - 888888888881
19:28:40,049 INFO common.Log4jPrint(20) - 文件输入流异常!
19:28:40,618 INFO common.Log4jPrint(20) - 	at java.io.FileInputStream.open(Native Method)
19:28:40,622 INFO common.Log4jPrint(20) - 	at java.io.FileInputStream.<init>(FileInputStream.java:120)
19:28:40,626 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:222)
19:29:35,722 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
java.net.MalformedURLException
	at java.net.URL.<init>(URL.java:601)
	at java.net.URL.<init>(URL.java:464)
	at java.net.URL.<init>(URL.java:413)
	at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:227)
19:29:35,732 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
19:29:35,733 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
19:29:35,735 INFO common.XslCache(70) - conf file modified at (2017-01-16 14:58:30,684) and length=4755 bytes!
19:29:35,771 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
19:29:35,779 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

19:29:35,779 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
19:29:35,789 ERROR service.ContBatchSendDisk$PayRetServ(244) - 处理回盘文件失败...
19:29:35,790 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:246)
19:29:35,790 DEBUG service.ContBatchSendDisk$PayRetServ(259) - 处理文件内容有误....
19:29:35,791 INFO service.ContBatchSendDisk$PayRetServ(262) - 完成拼接发送核心报文....
19:29:35,792 DEBUG service.ContBatchSendDisk(165) - Into ServiceImpl.insertTranLog()...
19:29:36,195 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:29:36,197 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15359,3,'110378300','108011rv11484294694478129','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,192935,20170116,192935 )
19:29:36,214 DEBUG service.ContBatchSendDisk(195) - Out ServiceImpl.insertTranLog()!
19:29:36,518 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:29:36,519 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:29:36,520 INFO common.Log4jPrint(20) - 108011rv11484294694478129
19:29:36,520 INFO common.Log4jPrint(20) - 108011rv11484294694478129
19:29:36,521 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15359,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478129',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=60,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=192935,ModifyDate=20170116,ModifyTime=192936,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478129'
19:29:42,785 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
19:29:42,793 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:29:42,797 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:29:42,797 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:29:42,799 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
19:29:42,800 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:29:42,800 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:29:42,803 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
19:29:42,864 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:29:42,872 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:29:42,873 INFO common.Log4jPrint(20) - End reset System.out!
19:29:42,875 INFO net.SocketConf(27) - Into SocketConf.load()...
19:29:42,875 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:29:42,876 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
19:29:42,879 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:29:42,879 INFO net.SocketConf(60) - Out SocketConf.load()!
19:29:42,895 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
19:29:42,895 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:29:42,904 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
19:29:42,905 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
19:29:42,905 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:29:42,913 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
19:29:42,914 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:29:42,914 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
19:29:42,919 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
19:29:42,920 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:29:42,920 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
19:29:42,925 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
19:29:42,926 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
19:29:42,926 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
19:30:00,122 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:30:00,133 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
19:30:00,133 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:30:00,134 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
19:30:00,141 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:30:00,142 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:30:00,144 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:30:00,165 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

19:30:00,166 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
19:30:00,169 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
19:30:00,175 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:30:05,729 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:30:05,847 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:30:05,971 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
19:30:05,972 INFO midplat.Ybt4Socket(34) - TranLogNo:15362
19:30:05,973 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:30:05,983 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:30:05,985 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:30:05,986 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:30:05,992 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:30:05,998 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:30:05,999 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:30:06,000 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:30:06,135 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
19:30:06,135 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
19:30:06,138 INFO common.SaveMessage(94) - 15365_3_1059_in.xml IO输出耗时:0.0030s
19:30:06,138 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15365_3_1059_in.xml
19:30:06,139 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:30:06,139 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:30:06,141 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:30:06,148 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:30:06,151 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:30:06,151 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:30:06,156 INFO service.ContBatchSendDisk(44) - Into Get_PayRetServ.service()...
19:30:06,156 INFO service.ContBatchSendDisk(47) - 1
19:30:06,157 INFO service.ContBatchSendDisk(66) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:30:06,157 INFO service.ContBatchSendDisk(72) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:30:06,157 INFO service.ContBatchSendDisk(74) - 文件解密开始...
19:30:06,158 INFO common.Log4jPrint(20) - 文件存在，进行备份：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:30:06,159 INFO service.ContBatchSendDisk(79) - 文件解密完成...
19:30:06,168 INFO service.ContBatchSendDisk$PayRetServ(214) - 开始拼接发送核心报文....
19:30:06,169 INFO service.ContBatchSendDisk(103) - Out Get_PayRetServ.service()!
19:30:06,169 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:30:06,173 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
19:30:06,173 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
19:30:06,174 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
19:30:06,462 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
19:30:06,466 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:30:06,466 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
19:30:06,589 INFO format.BatchSendDisk(183) - 配置节点element:
19:30:06,589 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:30:06,589 INFO common.Log4jPrint(20) - 交易码：P53818105
19:30:06,590 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:30:06,591 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:30:06,591 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:30:06,595 INFO common.SaveMessage(94) - 15365_6_1059_out.xml IO输出耗时:0.0020s
19:30:06,595 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15365_6_1059_out.xml
19:30:06,598 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116193006148</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116193006586</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478130</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478130</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:30:06,599 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:30:06,602 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:30:06,603 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹6.47s
19:30:06,849 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:30:06,850 INFO common.Log4jPrint(20) - 108011rv11484294694478130
19:30:06,851 INFO common.Log4jPrint(20) - 108011rv11484294694478130
19:30:06,852 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478130'
19:30:06,917 INFO common.Log4jPrint(20) - i=0
19:30:06,921 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:30:06,922 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.937s
19:30:06,922 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:30:08,271 INFO service.ContBatchSendDisk$PayRetServ(218) - 888888888881
19:30:08,272 INFO common.Log4jPrint(20) - 文件输入流异常!
19:30:08,273 INFO common.Log4jPrint(20) - 	at java.io.FileInputStream.open(Native Method)
19:30:08,273 INFO common.Log4jPrint(20) - 	at java.io.FileInputStream.<init>(FileInputStream.java:120)
19:30:08,274 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:222)
19:30:08,276 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
java.net.MalformedURLException
	at java.net.URL.<init>(URL.java:601)
	at java.net.URL.<init>(URL.java:464)
	at java.net.URL.<init>(URL.java:413)
	at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:227)
19:30:08,281 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
19:30:08,281 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
19:30:08,282 INFO common.XslCache(70) - conf file modified at (2017-01-16 14:58:30,684) and length=4755 bytes!
19:30:08,311 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
19:30:08,318 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

19:30:08,318 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
19:30:08,326 ERROR service.ContBatchSendDisk$PayRetServ(244) - 处理回盘文件失败...
19:30:08,326 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:246)
19:30:08,326 DEBUG service.ContBatchSendDisk$PayRetServ(259) - 处理文件内容有误....
19:30:08,327 INFO service.ContBatchSendDisk$PayRetServ(262) - 完成拼接发送核心报文....
19:30:08,327 DEBUG service.ContBatchSendDisk(165) - Into ServiceImpl.insertTranLog()...
19:30:08,642 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:30:08,643 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15368,3,'110378300','108011rv11484294694478130','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,193008,20170116,193008 )
19:30:08,679 DEBUG service.ContBatchSendDisk(195) - Out ServiceImpl.insertTranLog()!
19:30:08,984 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:30:08,985 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:30:08,986 INFO common.Log4jPrint(20) - 108011rv11484294694478130
19:30:08,987 INFO common.Log4jPrint(20) - 108011rv11484294694478130
19:30:08,988 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15368,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478130',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=2,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=193008,ModifyDate=20170116,ModifyTime=193008,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478130'
19:31:14,857 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:31:14,867 INFO midplat.Ybt4Socket(34) - TranLogNo:15371
19:31:14,868 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:31:14,868 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:31:14,869 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:31:14,869 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:31:14,876 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:31:14,877 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:31:14,878 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:31:14,881 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:31:14,881 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:31:14,881 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:31:14,885 INFO common.SaveMessage(94) - 15374_9_1059_in.xml IO输出耗时:0.0010s
19:31:14,893 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15374_9_1059_in.xml
19:31:14,895 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:31:14,896 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:31:14,898 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:31:14,898 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:31:14,898 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:31:14,899 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:31:14,899 INFO service.ContBatchSendDisk(44) - Into Get_PayRetServ.service()...
19:31:14,899 INFO service.ContBatchSendDisk(47) - 1
19:31:14,900 INFO service.ContBatchSendDisk(66) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:31:14,900 INFO service.ContBatchSendDisk(72) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:31:14,900 INFO service.ContBatchSendDisk(74) - 文件解密开始...
19:31:14,900 INFO service.ContBatchSendDisk(79) - 文件解密完成...
19:31:14,901 INFO service.ContBatchSendDisk(103) - Out Get_PayRetServ.service()!
19:31:14,901 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:31:14,901 INFO service.ContBatchSendDisk$PayRetServ(214) - 开始拼接发送核心报文....
19:31:14,906 INFO format.BatchSendDisk(183) - 配置节点element:
19:31:14,906 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:31:14,907 INFO common.Log4jPrint(20) - 交易码：P53818105
19:31:14,907 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:31:14,908 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:31:14,908 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:31:14,911 INFO common.SaveMessage(94) - 15374_12_1059_out.xml IO输出耗时:0.0010s
19:31:14,911 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15374_12_1059_out.xml
19:31:14,915 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116193114898</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116193114903</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478131</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478131</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:31:14,915 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:31:14,917 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:31:14,918 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.05s
19:31:15,305 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:31:15,306 INFO common.Log4jPrint(20) - 108011rv11484294694478131
19:31:15,306 INFO common.Log4jPrint(20) - 108011rv11484294694478131
19:31:15,306 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478131'
19:31:15,601 INFO common.Log4jPrint(20) - i=0
19:31:15,602 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:31:15,603 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.733s
19:31:15,603 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:31:35,633 INFO service.ContBatchSendDisk$PayRetServ(218) - 888888888881
19:31:43,919 ERROR service.ContBatchSendDisk$PayRetServ(244) - 处理回盘文件失败...
19:31:46,248 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:246)
19:31:50,915 ERROR service.ContBatchSendDisk$PayRetServ(344) - 批量代收代付送盘交易失败！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:257)
19:33:21,111 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:33:21,122 INFO midplat.Ybt4Socket(34) - TranLogNo:15377
19:33:21,122 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:33:21,122 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
19:33:21,123 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:33:21,123 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
19:33:21,130 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
19:33:21,131 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
19:33:21,131 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
19:33:21,134 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
19:33:21,134 INFO newNet.CcbNetImpl(65) - mTranCom==============03
19:33:21,135 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
19:33:21,138 INFO common.SaveMessage(94) - 15380_15_1059_in.xml IO输出耗时:0.0010s
19:33:21,139 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15380_15_1059_in.xml
19:33:21,139 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
19:33:21,140 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
19:33:21,141 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
19:33:21,142 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
19:33:21,142 INFO format.BatchSendDisk(104) - Out GetContList.noStd2Std()!
19:33:21,142 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
19:33:21,143 INFO service.ContBatchSendDisk(44) - Into Get_PayRetServ.service()...
19:33:21,143 INFO service.ContBatchSendDisk(47) - 1
19:33:21,144 INFO service.ContBatchSendDisk(66) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
19:33:21,144 INFO service.ContBatchSendDisk(72) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
19:33:21,144 INFO service.ContBatchSendDisk(74) - 文件解密开始...
19:33:21,144 INFO service.ContBatchSendDisk(79) - 文件解密完成...
19:33:21,144 INFO service.ContBatchSendDisk(103) - Out Get_PayRetServ.service()!
19:33:21,145 INFO service.ContBatchSendDisk$PayRetServ(214) - 开始拼接发送核心报文....
19:33:21,145 INFO format.BatchSendDisk(109) - Into GetContList2.std2NoStd()...
19:33:21,149 INFO format.BatchSendDisk(183) - 配置节点element:
19:33:21,149 INFO common.Log4jPrint(20) - 加密前文件路径：null
19:33:21,149 INFO common.Log4jPrint(20) - 交易码：P53818105
19:33:21,149 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
19:33:21,151 INFO format.BatchSendDisk(241) - Out GetContList2.std2NoStd()!
19:33:21,151 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
19:33:21,153 INFO common.SaveMessage(94) - 15380_18_1059_out.xml IO输出耗时:0.0010s
19:33:21,153 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15380_18_1059_out.xml
19:33:21,156 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116193321142</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116193321147</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478132</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478132</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


19:33:21,156 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
19:33:21,158 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
19:33:21,159 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.037s
19:33:21,480 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:33:21,480 INFO common.Log4jPrint(20) - 108011rv11484294694478132
19:33:21,480 INFO common.Log4jPrint(20) - 108011rv11484294694478132
19:33:21,480 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478132'
19:33:21,530 INFO common.Log4jPrint(20) - i=0
19:33:21,530 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
19:33:21,530 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.407s
19:33:21,530 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
19:33:23,801 INFO service.ContBatchSendDisk$PayRetServ(218) - 888888888881
19:35:20,946 ERROR service.ContBatchSendDisk$PayRetServ(344) - 批量代收代付送盘交易失败！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:257)
19:38:39,274 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
19:47:28,444 ERROR common.JdomUtil(107) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: Content is not allowed in prolog.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:888)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:104)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:92)
	at test.XmlTransferTxt.main(XmlTransferTxt.java:27)
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:1036)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:1036)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:888)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:104)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:92)
	at test.XmlTransferTxt.main(XmlTransferTxt.java:27)
19:52:42,002 ERROR common.JdomUtil(107) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: Content is not allowed in prolog.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:888)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:104)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:92)
	at test.XmlTransferTxt.main(XmlTransferTxt.java:27)
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:1036)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:1036)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
	at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
	at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:888)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:104)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:92)
	at test.XmlTransferTxt.main(XmlTransferTxt.java:27)
19:53:37,657 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: Content is not allowed in prolog.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:172)
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: Content is not allowed in prolog.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.util.XmlTransferTest.main(XmlTransferTest.java:172)
19:54:51,652 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 27: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.main(BatchSendDisk.java:257)
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.main(BatchSendDisk.java:257)
19:54:51,657 INFO format.BatchSendDisk(60) - Into GetContList2.noStd2Std()...
20:02:12,204 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
20:02:12,212 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:02:12,215 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:02:12,216 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:02:12,217 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
20:02:12,218 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:02:12,219 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:02:12,222 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
20:02:12,282 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:02:12,290 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:02:12,291 INFO common.Log4jPrint(20) - End reset System.out!
20:02:12,293 INFO net.SocketConf(27) - Into SocketConf.load()...
20:02:12,293 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:02:12,294 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
20:02:12,297 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:02:12,298 INFO net.SocketConf(60) - Out SocketConf.load()!
20:02:12,315 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
20:02:12,316 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:02:12,326 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
20:02:12,326 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:02:12,330 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
20:02:12,332 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
20:02:12,333 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
20:02:12,333 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:02:12,339 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
20:02:12,339 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
20:02:12,340 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:02:12,345 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
20:02:12,345 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
20:02:12,346 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
20:02:20,682 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 27: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.main(BatchSendDisk.java:264)
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.format.BatchSendDisk.main(BatchSendDisk.java:264)
20:02:20,686 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:02:32,263 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
20:02:32,274 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
20:02:32,274 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:02:32,274 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
20:02:32,281 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
20:02:32,282 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
20:02:32,284 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:02:32,305 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

20:02:32,306 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
20:02:32,308 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
20:02:32,314 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:02:32,937 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:02:33,072 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:02:33,166 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
20:02:33,169 INFO midplat.Ybt4Socket(34) - TranLogNo:15371
20:02:33,170 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:02:33,184 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
20:02:33,185 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:02:33,186 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
20:02:33,191 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
20:02:33,196 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
20:02:33,197 INFO newNet.CcbNetImpl(65) - mTranCom==============03
20:02:33,197 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
20:02:33,324 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
20:02:33,324 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
20:02:33,327 INFO common.SaveMessage(94) - 15374_3_1059_in.xml IO输出耗时:0.0030s
20:02:33,327 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15374_3_1059_in.xml
20:02:33,328 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
20:02:33,329 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
20:02:33,331 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
20:02:33,336 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:02:33,339 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
20:02:33,340 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
20:02:33,345 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
20:02:33,345 INFO service.ContBatchSendDisk(55) - 1
20:02:33,346 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
20:02:33,346 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
20:02:33,346 INFO service.ContBatchSendDisk(82) - 文件解密开始...
20:02:33,346 INFO service.ContBatchSendDisk(87) - 文件解密完成...
20:02:33,352 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
20:02:33,353 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
20:02:33,353 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
20:02:33,353 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
20:02:33,357 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
20:02:33,357 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
20:02:33,357 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
20:02:33,672 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
20:02:33,675 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

20:02:33,676 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
20:02:33,838 ERROR service.ContBatchSendDisk$PayRetServ(254) - 处理回盘文件失败...
20:02:33,839 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:256)
20:02:33,839 DEBUG service.ContBatchSendDisk$PayRetServ(269) - 处理文件内容有误....
20:02:33,840 INFO service.ContBatchSendDisk$PayRetServ(272) - 完成拼接发送核心报文....
20:02:33,840 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
20:02:33,862 INFO format.BatchSendDisk(190) - 配置节点element:
20:02:33,863 INFO common.Log4jPrint(20) - 加密前文件路径：null
20:02:33,863 INFO common.Log4jPrint(20) - 交易码：P53818105
20:02:33,863 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
20:02:33,865 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
20:02:33,865 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
20:02:33,869 INFO common.SaveMessage(94) - 15374_6_1059_out.xml IO输出耗时:0.0020s
20:02:33,870 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15374_6_1059_out.xml
20:02:33,873 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116200233337</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116200233860</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478133</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478133</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


20:02:33,874 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
20:02:33,877 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
20:02:33,879 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.604s
20:02:33,908 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:02:33,909 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15377,3,'110378300','108011rv11484294694478133','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,200233,20170116,200233 )
20:02:33,925 DEBUG service.ContBatchSendDisk(203) - Out ServiceImpl.insertTranLog()!
20:02:33,983 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:02:33,984 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:02:33,984 INFO common.Log4jPrint(20) - 108011rv11484294694478133
20:02:33,984 INFO common.Log4jPrint(20) - 108011rv11484294694478133
20:02:33,984 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15377,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478133',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200233,ModifyDate=20170116,ModifyTime=200233,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478133'
20:02:34,131 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:02:34,132 INFO common.Log4jPrint(20) - 108011rv11484294694478133
20:02:34,133 INFO common.Log4jPrint(20) - 108011rv11484294694478133
20:02:34,133 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478133'
20:02:34,167 INFO common.Log4jPrint(20) - -------------------------
20:02:34,169 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:02:34,169 INFO common.Log4jPrint(20) - -------------------------
20:02:34,185 INFO common.Log4jPrint(20) - i=1
20:02:34,259 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:02:34,261 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:02:34,261 INFO common.Log4jPrint(20) - 108011rv11484294694478133
20:02:34,262 INFO common.Log4jPrint(20) - 108011rv11484294694478133
20:02:34,263 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15377,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478133',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='1.0',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200233,ModifyDate=20170116,ModifyTime=200233,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15374_6_1059_out.xml' where TranNo='108011rv11484294694478133'
20:02:34,291 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.106s
20:02:34,291 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
20:03:48,133 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
20:03:48,141 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:03:48,144 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:03:48,145 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:03:48,146 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
20:03:48,147 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:03:48,148 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:03:48,151 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
20:03:48,212 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:03:48,220 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:03:48,221 INFO common.Log4jPrint(20) - End reset System.out!
20:03:48,223 INFO net.SocketConf(27) - Into SocketConf.load()...
20:03:48,223 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:03:48,224 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
20:03:48,227 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:03:48,227 INFO net.SocketConf(60) - Out SocketConf.load()!
20:03:48,243 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
20:03:48,244 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:03:48,254 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
20:03:48,255 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
20:03:48,255 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:03:48,261 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
20:03:48,262 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:03:48,262 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
20:03:48,267 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
20:03:48,268 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:03:48,268 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
20:03:48,272 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
20:03:48,273 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
20:03:48,273 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
20:03:53,299 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
20:03:53,309 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
20:03:53,310 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:03:53,310 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
20:03:53,317 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
20:03:53,318 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
20:03:53,320 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:03:53,341 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

20:03:53,342 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
20:03:53,344 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
20:03:53,350 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:03:53,954 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:03:54,066 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:03:54,173 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
20:03:54,176 INFO midplat.Ybt4Socket(34) - TranLogNo:15380
20:03:54,177 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:03:54,192 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
20:03:54,194 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:03:54,195 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
20:03:54,204 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
20:03:54,214 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
20:03:54,214 INFO newNet.CcbNetImpl(65) - mTranCom==============03
20:03:54,215 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
20:03:54,358 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
20:03:54,359 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
20:03:54,363 INFO common.SaveMessage(94) - 15383_3_1059_in.xml IO输出耗时:0.0040s
20:03:54,363 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15383_3_1059_in.xml
20:03:54,364 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
20:03:54,365 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
20:03:54,367 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
20:03:54,374 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:03:54,378 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
20:03:54,378 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
20:03:54,383 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
20:03:54,384 INFO service.ContBatchSendDisk(55) - 1
20:03:54,385 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
20:03:54,385 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
20:03:54,385 INFO service.ContBatchSendDisk(82) - 文件解密开始...
20:03:54,385 INFO service.ContBatchSendDisk(87) - 文件解密完成...
20:03:54,392 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
20:03:54,393 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
20:03:54,393 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
20:03:54,393 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
20:03:54,400 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
20:03:54,404 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
20:03:54,406 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
20:03:54,706 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
20:03:54,710 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

20:03:54,710 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
20:03:54,831 ERROR service.ContBatchSendDisk$PayRetServ(254) - 处理回盘文件失败...
20:03:54,831 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:256)
20:03:54,832 DEBUG service.ContBatchSendDisk$PayRetServ(269) - 处理文件内容有误....
20:03:54,832 INFO service.ContBatchSendDisk$PayRetServ(272) - 完成拼接发送核心报文....
20:03:54,834 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
20:03:54,852 INFO format.BatchSendDisk(190) - 配置节点element:
20:03:54,852 INFO common.Log4jPrint(20) - 加密前文件路径：null
20:03:54,853 INFO common.Log4jPrint(20) - 交易码：P53818105
20:03:54,853 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
20:03:54,854 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
20:03:54,854 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
20:03:54,858 INFO common.SaveMessage(94) - 15383_6_1059_out.xml IO输出耗时:0.0020s
20:03:54,858 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15383_6_1059_out.xml
20:03:54,861 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116200354375</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116200354850</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478134</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478134</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


20:03:54,862 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
20:03:54,864 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
20:03:54,866 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.556s
20:03:54,917 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:03:54,918 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15386,3,'110378300','108011rv11484294694478134','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,200354,20170116,200354 )
20:03:54,938 DEBUG service.ContBatchSendDisk(203) - Out ServiceImpl.insertTranLog()!
20:03:54,998 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:03:54,999 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:03:54,999 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:03:54,999 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:03:54,999 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15386,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478134',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200354,ModifyDate=20170116,ModifyTime=200354,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478134'
20:03:55,121 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:03:55,121 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:03:55,122 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:03:55,122 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478134'
20:03:55,164 INFO common.Log4jPrint(20) - -------------------------
20:03:55,165 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:03:55,165 INFO common.Log4jPrint(20) - -------------------------
20:03:55,179 INFO common.Log4jPrint(20) - i=1
20:03:55,219 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:03:55,220 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:03:55,221 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:03:55,221 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:03:55,222 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15386,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478134',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.985',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200354,ModifyDate=20170116,ModifyTime=200354,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15383_6_1059_out.xml' where TranNo='108011rv11484294694478134'
20:03:55,270 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.076s
20:03:55,271 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
20:04:21,705 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
20:04:21,715 INFO midplat.Ybt4Socket(34) - TranLogNo:15389
20:04:21,716 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:04:21,716 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
20:04:21,716 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:04:21,717 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
20:04:21,723 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
20:04:21,724 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
20:04:21,725 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
20:04:21,727 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
20:04:21,727 INFO newNet.CcbNetImpl(65) - mTranCom==============03
20:04:21,728 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
20:04:21,731 INFO common.SaveMessage(94) - 15392_9_1059_in.xml IO输出耗时:0.0010s
20:04:21,732 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15392_9_1059_in.xml
20:04:21,733 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
20:04:21,733 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
20:04:21,742 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
20:04:21,742 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:04:21,743 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
20:04:21,743 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
20:04:21,744 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
20:04:21,744 INFO service.ContBatchSendDisk(55) - 1
20:04:21,745 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
20:04:21,745 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
20:04:21,745 INFO service.ContBatchSendDisk(82) - 文件解密开始...
20:04:21,745 INFO service.ContBatchSendDisk(87) - 文件解密完成...
20:04:21,746 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
20:04:21,746 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
20:04:21,746 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
20:04:21,751 INFO format.BatchSendDisk(190) - 配置节点element:
20:04:21,751 INFO common.Log4jPrint(20) - 加密前文件路径：null
20:04:21,751 INFO common.Log4jPrint(20) - 交易码：P53818105
20:04:21,752 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
20:04:21,753 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
20:04:21,753 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
20:04:21,756 INFO common.SaveMessage(94) - 15392_12_1059_out.xml IO输出耗时:0.0020s
20:04:21,756 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15392_12_1059_out.xml
20:04:21,759 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116200421743</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116200421749</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478134</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478134</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


20:04:21,760 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
20:04:21,762 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
20:04:21,763 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.048s
20:04:21,801 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:04:21,801 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:04:21,801 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:04:21,801 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478134'
20:04:21,825 INFO common.Log4jPrint(20) - -------------------------
20:04:21,826 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:04:21,826 INFO common.Log4jPrint(20) - -------------------------
20:04:21,865 INFO common.Log4jPrint(20) - i=1
20:04:21,906 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:04:21,906 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:04:21,906 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:04:21,906 INFO common.Log4jPrint(20) - 108011rv11484294694478134
20:04:21,906 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15386,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478134',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.149',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200354,ModifyDate=20170116,ModifyTime=200354,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15392_12_1059_out.xml' where TranNo='108011rv11484294694478134'
20:04:21,924 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.208s
20:04:21,924 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
20:04:24,539 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
20:05:15,911 ERROR service.ContBatchSendDisk$PayRetServ(254) - 处理回盘文件失败...
20:05:15,912 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:256)
20:05:15,913 DEBUG service.ContBatchSendDisk$PayRetServ(269) - 处理文件内容有误....
20:05:15,913 INFO service.ContBatchSendDisk$PayRetServ(272) - 完成拼接发送核心报文....
20:05:15,915 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
20:05:16,019 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:05:16,019 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15395,3,'110378300','108011rv11484294694478134','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,200515,20170116,200515 )
20:05:16,076 ERROR service.ContBatchSendDisk(199) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
20:05:16,076 INFO service.ContBatchSendDisk$PayRetServ(350) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:200)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:276)
20:05:28,571 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
20:05:28,581 INFO midplat.Ybt4Socket(34) - TranLogNo:15398
20:05:28,582 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:05:28,582 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
20:05:28,582 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:05:28,582 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
20:05:28,589 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
20:05:28,590 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
20:05:28,590 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
20:05:28,593 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
20:05:28,593 INFO newNet.CcbNetImpl(65) - mTranCom==============03
20:05:28,593 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
20:05:28,596 INFO common.SaveMessage(94) - 15401_15_1059_in.xml IO输出耗时:0.0010s
20:05:28,597 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15401_15_1059_in.xml
20:05:28,597 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
20:05:28,598 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
20:05:28,600 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
20:05:28,600 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:05:28,601 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
20:05:28,601 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
20:05:28,601 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
20:05:28,601 INFO service.ContBatchSendDisk(55) - 1
20:05:28,602 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
20:05:28,602 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
20:05:28,602 INFO service.ContBatchSendDisk(82) - 文件解密开始...
20:05:28,602 INFO service.ContBatchSendDisk(87) - 文件解密完成...
20:05:28,603 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
20:05:28,603 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
20:05:28,603 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
20:05:28,607 INFO format.BatchSendDisk(190) - 配置节点element:
20:05:28,608 INFO common.Log4jPrint(20) - 加密前文件路径：null
20:05:28,608 INFO common.Log4jPrint(20) - 交易码：P53818105
20:05:28,608 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
20:05:28,609 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
20:05:28,609 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
20:05:28,611 INFO common.SaveMessage(94) - 15401_18_1059_out.xml IO输出耗时:0.0010s
20:05:28,612 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15401_18_1059_out.xml
20:05:28,615 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116200528600</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116200528605</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478135</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478135</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


20:05:28,615 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
20:05:28,617 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
20:05:28,618 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.036s
20:05:28,695 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:05:28,695 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:28,695 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:28,695 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478135'
20:05:28,732 INFO common.Log4jPrint(20) - i=0
20:05:28,732 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
20:05:28,732 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.15s
20:05:28,732 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
20:05:33,032 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
20:05:33,064 ERROR service.ContBatchSendDisk$PayRetServ(254) - 处理回盘文件失败...
20:05:33,065 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:256)
20:05:33,065 DEBUG service.ContBatchSendDisk$PayRetServ(269) - 处理文件内容有误....
20:05:33,065 INFO service.ContBatchSendDisk$PayRetServ(272) - 完成拼接发送核心报文....
20:05:33,066 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
20:05:33,103 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:05:33,104 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15404,3,'110378300','108011rv11484294694478135','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,200533,20170116,200533 )
20:05:33,117 DEBUG service.ContBatchSendDisk(203) - Out ServiceImpl.insertTranLog()!
20:05:33,197 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:05:33,198 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:05:33,199 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:33,200 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:33,200 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15404,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478135',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=4,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200533,ModifyDate=20170116,ModifyTime=200533,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478135'
20:05:55,889 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
20:05:55,899 INFO midplat.Ybt4Socket(34) - TranLogNo:15407
20:05:55,899 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:05:55,900 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
20:05:55,900 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:05:55,901 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
20:05:55,908 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
20:05:55,909 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
20:05:55,909 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
20:05:55,911 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
20:05:55,911 INFO newNet.CcbNetImpl(65) - mTranCom==============03
20:05:55,912 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
20:05:55,915 INFO common.SaveMessage(94) - 15410_21_1059_in.xml IO输出耗时:0.0010s
20:05:55,915 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15410_21_1059_in.xml
20:05:55,916 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
20:05:55,916 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
20:05:55,919 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
20:05:55,919 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:05:55,920 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
20:05:55,920 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
20:05:55,920 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
20:05:55,921 INFO service.ContBatchSendDisk(55) - 1
20:05:55,921 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
20:05:55,922 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
20:05:55,922 INFO service.ContBatchSendDisk(82) - 文件解密开始...
20:05:55,922 INFO service.ContBatchSendDisk(87) - 文件解密完成...
20:05:55,922 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
20:05:55,922 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
20:05:55,922 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
20:05:55,927 INFO format.BatchSendDisk(190) - 配置节点element:
20:05:55,927 INFO common.Log4jPrint(20) - 加密前文件路径：null
20:05:55,927 INFO common.Log4jPrint(20) - 交易码：P53818105
20:05:55,927 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
20:05:55,929 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
20:05:55,929 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
20:05:55,931 INFO common.SaveMessage(94) - 15410_24_1059_out.xml IO输出耗时:0.0010s
20:05:55,931 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15410_24_1059_out.xml
20:05:55,934 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116200555920</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116200555925</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478135</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478135</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


20:05:55,934 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
20:05:55,936 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
20:05:55,937 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.037s
20:05:55,983 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:05:55,983 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:55,983 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:55,984 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478135'
20:05:56,009 INFO common.Log4jPrint(20) - -------------------------
20:05:56,010 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:05:56,010 INFO common.Log4jPrint(20) - -------------------------
20:05:56,022 INFO common.Log4jPrint(20) - i=1
20:05:56,085 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:05:56,085 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:05:56,086 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:56,086 INFO common.Log4jPrint(20) - 108011rv11484294694478135
20:05:56,086 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15404,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478135',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=4,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.122',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200533,ModifyDate=20170116,ModifyTime=200533,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15410_24_1059_out.xml' where TranNo='108011rv11484294694478135'
20:05:56,103 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.203s
20:05:56,104 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
20:05:58,261 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
20:07:55,116 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
20:07:55,124 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:07:55,128 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:07:55,128 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:07:55,130 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
20:07:55,131 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:07:55,131 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:07:55,134 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
20:07:55,200 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:07:55,209 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:07:55,210 INFO common.Log4jPrint(20) - End reset System.out!
20:07:55,212 INFO net.SocketConf(27) - Into SocketConf.load()...
20:07:55,212 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:07:55,213 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
20:07:55,216 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:07:55,216 INFO net.SocketConf(60) - Out SocketConf.load()!
20:07:55,233 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
20:07:55,233 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:07:55,243 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
20:07:55,243 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
20:07:55,243 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:07:55,250 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
20:07:55,250 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
20:07:55,251 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:07:55,256 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
20:07:55,257 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:07:55,257 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
20:07:55,264 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
20:07:55,265 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
20:07:55,265 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
20:08:00,300 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
20:08:00,310 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
20:08:00,311 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:08:00,311 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
20:08:00,318 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
20:08:00,319 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
20:08:00,320 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:08:00,344 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

20:08:00,345 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
20:08:00,348 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
20:08:00,354 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:08:00,887 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:08:00,958 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:08:01,099 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
20:08:01,102 INFO midplat.Ybt4Socket(34) - TranLogNo:15407
20:08:01,103 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:08:01,116 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
20:08:01,117 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:08:01,119 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
20:08:01,124 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
20:08:01,130 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
20:08:01,130 INFO newNet.CcbNetImpl(65) - mTranCom==============03
20:08:01,131 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
20:08:01,264 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
20:08:01,264 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
20:08:01,267 INFO common.SaveMessage(94) - 15410_3_1059_in.xml IO输出耗时:0.0020s
20:08:01,267 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15410_3_1059_in.xml
20:08:01,268 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
20:08:01,269 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
20:08:01,271 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
20:08:01,277 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:08:01,279 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
20:08:01,280 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
20:08:01,285 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
20:08:01,285 INFO service.ContBatchSendDisk(55) - 1
20:08:01,286 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
20:08:01,286 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
20:08:01,286 INFO service.ContBatchSendDisk(82) - 文件解密开始...
20:08:01,286 INFO service.ContBatchSendDisk(87) - 文件解密完成...
20:08:01,296 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
20:08:01,296 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
20:08:01,296 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
20:08:01,301 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
20:08:01,301 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
20:08:01,301 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
20:08:01,599 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
20:08:01,602 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

20:08:01,603 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
20:08:01,724 INFO format.BatchSendDisk(190) - 配置节点element:
20:08:01,725 INFO common.Log4jPrint(20) - 加密前文件路径：null
20:08:01,725 INFO common.Log4jPrint(20) - 交易码：P53818105
20:08:01,725 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
20:08:01,727 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
20:08:01,727 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
20:08:01,730 INFO common.SaveMessage(94) - 15410_6_1059_out.xml IO输出耗时:0.0020s
20:08:01,730 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15410_6_1059_out.xml
20:08:01,733 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116200801277</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116200801722</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478136</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478136</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


20:08:01,734 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
20:08:01,736 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
20:08:01,738 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.427s
20:08:01,783 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:08:01,783 INFO common.Log4jPrint(20) - 108011rv11484294694478136
20:08:01,783 INFO common.Log4jPrint(20) - 108011rv11484294694478136
20:08:01,784 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478136'
20:08:01,820 INFO common.Log4jPrint(20) - i=0
20:08:01,822 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
20:08:01,823 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.706s
20:08:01,823 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
20:08:02,958 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
20:08:04,735 DEBUG service.ContBatchSendDisk$PayRetServ(269) - 处理文件内容有误....
20:08:04,736 INFO service.ContBatchSendDisk$PayRetServ(272) - 完成拼接发送核心报文....
20:08:04,738 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
20:08:04,798 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:08:04,799 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15413,3,'110378300','108011rv11484294694478136','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,200804,20170116,200804 )
20:08:04,838 DEBUG service.ContBatchSendDisk(203) - Out ServiceImpl.insertTranLog()!
20:08:04,995 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:08:04,997 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:08:04,997 INFO common.Log4jPrint(20) - 108011rv11484294694478136
20:08:04,998 INFO common.Log4jPrint(20) - 108011rv11484294694478136
20:08:04,999 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15413,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478136',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=3,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=200804,ModifyDate=20170116,ModifyTime=200804,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478136'
20:21:03,363 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
20:21:03,371 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:21:03,374 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:21:03,375 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:21:03,377 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
20:21:03,377 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:21:03,378 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:21:03,381 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
20:21:03,441 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:21:03,449 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:21:03,450 INFO common.Log4jPrint(20) - End reset System.out!
20:21:03,452 INFO net.SocketConf(27) - Into SocketConf.load()...
20:21:03,453 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:21:03,453 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
20:21:03,456 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:21:03,457 INFO net.SocketConf(60) - Out SocketConf.load()!
20:21:03,474 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
20:21:03,475 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:21:03,485 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
20:21:03,486 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
20:21:03,487 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:21:03,494 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
20:21:03,495 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
20:21:03,495 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:21:03,502 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
20:21:03,503 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
20:21:03,503 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:21:03,508 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
20:21:03,508 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
20:21:03,509 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
20:21:04,542 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
20:21:04,553 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
20:21:04,553 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:21:04,553 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
20:21:04,561 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
20:21:04,562 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
20:21:04,563 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:21:04,584 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

20:21:04,585 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
20:21:04,588 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
20:21:04,593 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:21:08,931 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:21:09,013 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:21:09,134 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
20:21:09,135 INFO midplat.Ybt4Socket(34) - TranLogNo:15416
20:21:09,135 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:21:09,140 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
20:21:09,141 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:21:09,141 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
20:21:09,144 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
20:21:09,147 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
20:21:09,148 INFO newNet.CcbNetImpl(65) - mTranCom==============03
20:21:09,148 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
20:21:09,292 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
20:21:09,293 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
20:21:09,296 INFO common.SaveMessage(94) - 15419_3_1059_in.xml IO输出耗时:0.0030s
20:21:09,296 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15419_3_1059_in.xml
20:21:09,297 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
20:21:09,298 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
20:21:09,300 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
20:21:09,306 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
20:21:09,309 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
20:21:09,309 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
20:21:09,315 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
20:21:09,315 INFO service.ContBatchSendDisk(55) - 1
20:21:09,316 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
20:21:09,316 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
20:21:09,316 INFO service.ContBatchSendDisk(82) - 文件解密开始...
20:21:09,316 INFO service.ContBatchSendDisk(87) - 文件解密完成...
20:21:09,321 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
20:21:09,322 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
20:21:09,322 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
20:21:09,322 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
20:21:09,328 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
20:21:09,328 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
20:21:09,328 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
20:21:09,328 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
20:21:09,328 INFO common.XslCache(70) - conf file modified at (2017-01-16 14:58:30,684) and length=4755 bytes!
20:21:09,329 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
20:21:09,619 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
20:21:09,619 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
20:21:09,622 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

20:21:09,623 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
20:21:09,624 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

20:21:09,625 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
20:21:09,638 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 27: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:223)
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:223)
20:21:09,738 DEBUG service.ContBatchSendDisk$PayRetServ(250) - 处理文件内容有误....
20:21:09,738 INFO service.ContBatchSendDisk$PayRetServ(253) - 完成拼接发送核心报文....
20:21:09,739 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
20:21:09,755 INFO format.BatchSendDisk(190) - 配置节点element:
20:21:09,755 INFO common.Log4jPrint(20) - 加密前文件路径：null
20:21:09,756 INFO common.Log4jPrint(20) - 交易码：P53818105
20:21:09,756 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
20:21:09,757 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
20:21:09,757 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
20:21:09,761 INFO common.SaveMessage(94) - 15419_6_1059_out.xml IO输出耗时:0.0010s
20:21:09,761 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15419_6_1059_out.xml
20:21:09,764 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116202109307</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116202109753</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478137</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478137</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


20:21:09,764 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
20:21:09,766 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
20:21:09,767 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹5.214s
20:21:10,054 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:21:10,055 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15422,3,'110378300','108011rv11484294694478137','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,202109,20170116,202109 )
20:21:10,084 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
20:21:10,293 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
20:21:10,330 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:21:10,331 INFO common.Log4jPrint(20) - 108011rv11484294694478137
20:21:10,332 INFO common.Log4jPrint(20) - 108011rv11484294694478137
20:21:10,332 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478137'
20:21:10,384 INFO common.Log4jPrint(20) - -------------------------
20:21:10,387 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:21:10,387 INFO common.Log4jPrint(20) - -------------------------
20:21:10,404 INFO common.Log4jPrint(20) - i=1
20:21:10,433 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:21:10,434 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:21:10,434 INFO common.Log4jPrint(20) - 108011rv11484294694478137
20:21:10,435 INFO common.Log4jPrint(20) - 108011rv11484294694478137
20:21:10,436 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15422,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478137',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=202109,ModifyDate=20170116,ModifyTime=202110,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478137'
20:21:10,570 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:21:10,571 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:21:10,572 INFO common.Log4jPrint(20) - 108011rv11484294694478137
20:21:10,573 INFO common.Log4jPrint(20) - 108011rv11484294694478137
20:21:10,573 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15422,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478137',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=-1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='1.264',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=202109,ModifyDate=20170116,ModifyTime=202109,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15419_6_1059_out.xml' where TranNo='108011rv11484294694478137'
20:21:10,600 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.459s
20:21:10,601 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:31:49,943 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:31:50,137 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
09:31:50,145 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:31:50,149 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:31:50,149 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:31:50,164 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:31:50,166 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:31:50,166 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:31:50,170 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
09:31:50,238 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:31:50,250 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:31:50,251 INFO common.Log4jPrint(20) - End reset System.out!
09:31:50,254 INFO net.SocketConf(27) - Into SocketConf.load()...
09:31:50,255 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:31:50,256 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
09:31:50,260 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:31:50,260 INFO net.SocketConf(60) - Out SocketConf.load()!
09:31:50,279 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:31:50,280 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:31:50,288 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
09:31:50,288 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:31:50,288 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
09:31:50,292 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
09:31:50,293 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
09:31:50,293 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:31:50,298 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
09:31:50,298 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
09:31:50,298 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:31:50,303 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
09:31:50,303 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:31:50,303 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:31:50,481 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
09:31:50,482 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:31:50,483 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
09:31:50,494 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:31:50,496 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:31:50,497 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:31:50,522 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

09:31:50,523 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
09:31:50,526 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
09:31:50,533 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:31:52,325 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:31:52,409 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:31:52,653 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
09:31:52,683 INFO midplat.Ybt4Socket(34) - TranLogNo:15053
09:31:52,684 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:31:52,699 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:31:52,701 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:31:52,702 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:31:52,710 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:31:52,717 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:31:52,718 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:31:52,718 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:31:52,842 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
09:31:52,843 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
09:31:52,845 INFO common.SaveMessage(94) - 15056_3_1059_in.xml IO输出耗时:0.0020s
09:31:52,845 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15056_3_1059_in.xml
09:31:52,846 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:31:52,847 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:31:52,849 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:31:52,854 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:31:52,856 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:31:52,856 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:31:52,861 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:31:52,862 INFO service.ContBatchSendDisk(55) - 1
09:31:52,863 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:31:52,863 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:31:52,863 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:31:52,863 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:31:52,868 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:31:52,869 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:31:52,869 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:31:52,869 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:31:52,873 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
09:31:52,873 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
09:31:52,874 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
09:31:53,212 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
09:31:53,216 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

09:31:53,216 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
09:31:53,341 INFO format.BatchSendDisk(190) - 配置节点element:
09:31:53,341 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:31:53,341 INFO common.Log4jPrint(20) - 交易码：P53818105
09:31:53,341 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:31:53,343 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:31:53,343 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:31:53,395 INFO common.SaveMessage(94) - 15056_6_1059_out.xml IO输出耗时:0.0010s
09:31:53,395 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15056_6_1059_out.xml
09:31:53,398 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116093152854</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116093153337</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478138</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478138</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:31:53,398 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:31:53,400 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:31:53,401 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.92s
09:31:53,413 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:31:53,415 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:31:53,417 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:31:53,508 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:31:53,509 INFO common.Log4jPrint(20) - 108011rv11484294694478138
09:31:53,509 INFO common.Log4jPrint(20) - 108011rv11484294694478138
09:31:53,510 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478138'
09:31:53,590 INFO common.Log4jPrint(20) - i=0
09:31:53,596 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:31:53,599 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.897s
09:31:53,599 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:31:53,738 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
09:31:53,749 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:31:53,750 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15059,3,'110378300','108011rv11484294694478138','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,93153,20170116,93153 )
09:31:53,792 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:31:53,883 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:31:53,884 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:31:53,885 INFO common.Log4jPrint(20) - 108011rv11484294694478138
09:31:53,885 INFO common.Log4jPrint(20) - 108011rv11484294694478138
09:31:53,886 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15059,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478138',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=93153,ModifyDate=20170116,ModifyTime=93153,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478138'
09:32:48,583 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
09:32:48,591 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:32:48,595 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:32:48,595 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:32:48,597 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:32:48,598 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:32:48,598 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:32:48,601 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
09:32:48,667 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:32:48,677 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:32:48,678 INFO common.Log4jPrint(20) - End reset System.out!
09:32:48,680 INFO net.SocketConf(27) - Into SocketConf.load()...
09:32:48,681 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:32:48,681 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
09:32:48,684 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:32:48,685 INFO net.SocketConf(60) - Out SocketConf.load()!
09:32:48,704 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:32:48,705 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:32:48,717 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
09:32:48,718 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
09:32:48,718 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:32:48,725 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
09:32:48,726 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
09:32:48,727 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:32:48,734 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
09:32:48,735 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
09:32:48,735 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:32:48,740 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
09:32:48,741 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:32:48,741 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:32:49,351 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:32:49,366 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
09:32:49,367 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:32:49,367 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
09:32:49,376 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:32:49,378 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:32:49,380 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:32:49,398 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

09:32:49,399 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
09:32:49,402 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
09:32:49,408 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:32:49,982 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:32:50,103 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:32:50,182 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
09:32:50,182 INFO midplat.Ybt4Socket(34) - TranLogNo:15062
09:32:50,183 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:32:50,187 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:32:50,188 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:32:50,188 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:32:50,190 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:32:50,194 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:32:50,194 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:32:50,194 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:32:50,316 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
09:32:50,317 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
09:32:50,320 INFO common.SaveMessage(94) - 15065_3_1059_in.xml IO输出耗时:0.0030s
09:32:50,320 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15065_3_1059_in.xml
09:32:50,321 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:32:50,322 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:32:50,323 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:32:50,328 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:32:50,331 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:32:50,331 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:32:50,336 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:32:50,336 INFO service.ContBatchSendDisk(55) - 1
09:32:50,337 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:32:50,338 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:32:50,338 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:32:50,338 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:32:50,342 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:32:50,343 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:32:50,343 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:32:50,343 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:32:50,350 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
09:32:50,351 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
09:32:50,353 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
09:32:50,639 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
09:32:50,642 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

09:32:50,643 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
09:32:50,795 INFO format.BatchSendDisk(190) - 配置节点element:
09:32:50,796 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:32:50,796 INFO common.Log4jPrint(20) - 交易码：P53818105
09:32:50,796 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:32:50,798 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:32:50,798 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:32:50,801 INFO common.SaveMessage(94) - 15065_6_1059_out.xml IO输出耗时:0.0020s
09:32:50,802 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15065_6_1059_out.xml
09:32:50,805 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116093250329</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116093250793</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478139</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478139</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:32:50,805 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:32:50,808 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:32:50,809 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.442s
09:32:50,844 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:32:50,844 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:32:50,845 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:32:51,082 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:32:51,082 INFO common.Log4jPrint(20) - 108011rv11484294694478139
09:32:51,082 INFO common.Log4jPrint(20) - 108011rv11484294694478139
09:32:51,083 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478139'
09:32:51,145 INFO common.Log4jPrint(20) - i=0
09:32:51,147 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:32:51,147 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.959s
09:32:51,148 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:32:51,385 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
09:32:51,402 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:32:51,403 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15068,3,'110378300','108011rv11484294694478139','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,93250,20170116,93250 )
09:32:51,458 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:32:51,549 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:32:51,550 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:32:51,551 INFO common.Log4jPrint(20) - 108011rv11484294694478139
09:32:51,552 INFO common.Log4jPrint(20) - 108011rv11484294694478139
09:32:51,552 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15068,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478139',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=93250,ModifyDate=20170116,ModifyTime=93251,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478139'
09:33:46,997 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:33:47,007 INFO midplat.Ybt4Socket(34) - TranLogNo:15071
09:33:47,008 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:33:47,008 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:33:47,013 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:33:47,014 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:33:47,019 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:33:47,020 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:33:47,020 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:33:47,024 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:33:47,024 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:33:47,025 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:33:47,049 INFO common.SaveMessage(94) - 15074_9_1059_in.xml IO输出耗时:0.0010s
09:33:47,049 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15074_9_1059_in.xml
09:33:47,050 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:33:47,050 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:33:47,052 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:33:47,052 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:33:47,053 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:33:47,053 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:33:47,053 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:33:47,053 INFO service.ContBatchSendDisk(55) - 1
09:33:47,054 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:33:47,054 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:33:47,054 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:33:47,055 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:33:47,055 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:33:47,055 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:33:47,055 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:33:47,056 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:33:47,059 INFO format.BatchSendDisk(190) - 配置节点element:
09:33:47,060 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:33:47,060 INFO common.Log4jPrint(20) - 交易码：P53818105
09:33:47,060 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:33:47,061 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:33:47,061 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:33:47,064 INFO common.SaveMessage(94) - 15074_12_1059_out.xml IO输出耗时:0.0010s
09:33:47,064 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15074_12_1059_out.xml
09:33:47,067 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116093347053</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116093347057</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478140</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478140</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:33:47,068 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:33:47,070 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:33:47,071 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.063s
09:33:47,115 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:33:47,116 INFO common.Log4jPrint(20) - 108011rv11484294694478140
09:33:47,116 INFO common.Log4jPrint(20) - 108011rv11484294694478140
09:33:47,116 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478140'
09:33:47,121 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:33:47,122 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:33:47,123 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:33:47,151 INFO common.Log4jPrint(20) - i=0
09:33:47,151 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:33:47,151 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.143s
09:33:47,152 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:33:47,153 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
09:33:47,162 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:33:47,162 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15077,3,'110378300','108011rv11484294694478140','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,93347,20170116,93347 )
09:33:47,176 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:33:47,204 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:33:47,204 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:33:47,205 INFO common.Log4jPrint(20) - 108011rv11484294694478140
09:33:47,205 INFO common.Log4jPrint(20) - 108011rv11484294694478140
09:33:47,205 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15077,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478140',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=93347,ModifyDate=20170116,ModifyTime=93347,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478140'
09:35:13,285 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:35:13,295 INFO midplat.Ybt4Socket(34) - TranLogNo:15080
09:35:13,296 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:35:13,296 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:35:13,296 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:35:13,297 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:35:13,303 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:35:13,304 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:35:13,304 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:35:13,307 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:35:13,308 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:35:13,308 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:35:13,311 INFO common.SaveMessage(94) - 15083_15_1059_in.xml IO输出耗时:0.0010s
09:35:13,311 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15083_15_1059_in.xml
09:35:13,312 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:35:13,312 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:35:13,314 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:35:13,314 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:35:13,315 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:35:13,315 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:35:13,315 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:35:13,316 INFO service.ContBatchSendDisk(55) - 1
09:35:13,316 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:35:13,316 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:35:13,317 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:35:13,317 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:35:13,317 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:35:13,317 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:35:13,317 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:35:13,317 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:35:13,321 INFO format.BatchSendDisk(190) - 配置节点element:
09:35:13,322 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:35:13,322 INFO common.Log4jPrint(20) - 交易码：P53818105
09:35:13,322 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:35:13,323 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:35:13,324 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:35:13,326 INFO common.SaveMessage(94) - 15083_18_1059_out.xml IO输出耗时:0.0010s
09:35:13,326 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15083_18_1059_out.xml
09:35:13,328 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116093513315</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116093513319</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478141</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478141</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:35:13,329 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:35:13,331 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:35:13,332 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.037s
09:35:13,372 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:35:13,372 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:35:13,373 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:35:13,376 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:35:13,376 INFO common.Log4jPrint(20) - 108011rv11484294694478141
09:35:13,376 INFO common.Log4jPrint(20) - 108011rv11484294694478141
09:35:13,376 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478141'
09:35:13,405 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
09:35:13,412 INFO common.Log4jPrint(20) - i=0
09:35:13,412 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:35:13,413 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.117s
09:35:13,413 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:35:13,418 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:35:13,418 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15086,3,'110378300','108011rv11484294694478141','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,93513,20170116,93513 )
09:35:13,432 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:35:13,498 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:35:13,499 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:35:13,500 INFO common.Log4jPrint(20) - 108011rv11484294694478141
09:35:13,500 INFO common.Log4jPrint(20) - 108011rv11484294694478141
09:35:13,501 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15086,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478141',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=93513,ModifyDate=20170116,ModifyTime=93513,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478141'
09:37:11,956 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
09:37:11,964 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:37:11,968 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:37:11,968 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:37:11,970 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:37:11,971 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:37:11,971 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:37:11,974 INFO common.XmlConf(80) - conf file modified at (2017-01-14 17:51:53,464) and length=26672 bytes!
09:37:12,036 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:37:12,044 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:37:12,045 INFO common.Log4jPrint(20) - End reset System.out!
09:37:12,047 INFO net.SocketConf(27) - Into SocketConf.load()...
09:37:12,047 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:37:12,048 INFO common.XmlConf(80) - conf file modified at (2017-01-14 14:48:27,518) and length=789 bytes!
09:37:12,051 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:37:12,051 INFO net.SocketConf(60) - Out SocketConf.load()!
09:37:12,068 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:37:12,069 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:37:12,078 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
09:37:12,078 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:37:12,078 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
09:37:12,085 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
09:37:12,085 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
09:37:12,086 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:37:12,091 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
09:37:12,091 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
09:37:12,091 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:37:12,096 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
09:37:12,097 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:37:12,097 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:37:17,845 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:37:17,856 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
09:37:17,856 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:37:17,857 INFO common.XmlConf(80) - conf file modified at (2017-01-16 19:20:45,764) and length=15305 bytes!
09:37:17,864 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:37:17,865 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:37:17,866 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:37:17,888 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

09:37:17,890 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
09:37:17,892 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
09:37:17,899 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:37:20,677 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:37:20,742 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:37:20,828 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
09:37:20,830 INFO midplat.Ybt4Socket(34) - TranLogNo:15089
09:37:20,830 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:37:20,836 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:37:20,837 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:37:20,837 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:37:20,841 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:37:20,845 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:37:20,845 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:37:20,846 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:37:21,007 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
09:37:21,008 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
09:37:21,010 INFO common.SaveMessage(94) - 15092_3_1059_in.xml IO输出耗时:0.0020s
09:37:21,011 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15092_3_1059_in.xml
09:37:21,011 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:37:21,012 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:37:21,014 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:37:21,019 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:37:21,029 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:37:21,029 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:37:21,035 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:37:21,035 INFO service.ContBatchSendDisk(55) - 1
09:37:21,036 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:37:21,036 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:37:21,036 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:37:21,036 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:37:21,041 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:37:21,041 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:37:21,042 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:37:21,042 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:37:21,050 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
09:37:21,050 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
09:37:21,053 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
09:37:21,327 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
09:37:21,331 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

09:37:21,331 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
09:37:21,465 INFO format.BatchSendDisk(190) - 配置节点element:
09:37:21,466 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:37:21,466 INFO common.Log4jPrint(20) - 交易码：P53818105
09:37:21,466 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:37:21,468 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:37:21,469 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:37:21,472 INFO common.SaveMessage(94) - 15092_6_1059_out.xml IO输出耗时:0.0020s
09:37:21,472 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15092_6_1059_out.xml
09:37:21,475 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116093721020</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116093721463</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478142</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478142</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:37:21,476 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:37:21,478 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:37:21,479 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹3.623s
09:37:21,513 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:37:21,514 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:37:21,514 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:37:21,528 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:37:21,529 INFO common.Log4jPrint(20) - 108011rv11484294694478142
09:37:21,529 INFO common.Log4jPrint(20) - 108011rv11484294694478142
09:37:21,529 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478142'
09:37:21,580 INFO common.Log4jPrint(20) - i=0
09:37:21,584 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:37:21,585 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.748s
09:37:21,586 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:37:21,684 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:37:21,684 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15095,3,'110378300','108011rv11484294694478142','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,93721,20170116,93721 )
09:37:21,698 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:37:21,736 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:37:21,737 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:37:21,737 INFO common.Log4jPrint(20) - 108011rv11484294694478142
09:37:21,737 INFO common.Log4jPrint(20) - 108011rv11484294694478142
09:37:21,737 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15095,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478142',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=93721,ModifyDate=20170116,ModifyTime=93721,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478142'
09:38:18,348 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:38:18,358 INFO midplat.Ybt4Socket(34) - TranLogNo:15098
09:38:18,358 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:38:18,359 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:38:18,364 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:38:18,364 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:38:18,370 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:38:18,371 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:38:18,371 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:38:18,374 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:38:18,374 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:38:18,374 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:38:18,377 INFO common.SaveMessage(94) - 15101_9_1059_in.xml IO输出耗时:0.0010s
09:38:18,378 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15101_9_1059_in.xml
09:38:18,378 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:38:18,379 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:38:18,381 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:38:18,381 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:38:18,382 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:38:18,382 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:38:18,382 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:38:18,382 INFO service.ContBatchSendDisk(55) - 1
09:38:18,383 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:38:18,383 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:38:18,383 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:38:18,384 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:38:18,384 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:38:18,384 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:38:18,384 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:38:18,384 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:38:18,389 INFO format.BatchSendDisk(190) - 配置节点element:
09:38:18,389 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:38:18,389 INFO common.Log4jPrint(20) - 交易码：P53818105
09:38:18,390 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:38:18,391 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:38:18,391 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:38:18,425 INFO common.SaveMessage(94) - 15101_12_1059_out.xml IO输出耗时:0.033s
09:38:18,426 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15101_12_1059_out.xml
09:38:18,429 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116093818382</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116093818387</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478143</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478143</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:38:18,435 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:38:18,437 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:38:18,438 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.079s
09:38:18,443 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:38:18,444 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:38:18,445 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:38:18,504 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:38:18,504 INFO common.Log4jPrint(20) - 108011rv11484294694478143
09:38:18,504 INFO common.Log4jPrint(20) - 108011rv11484294694478143
09:38:18,504 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478143'
09:38:18,546 INFO common.Log4jPrint(20) - i=0
09:38:18,546 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:38:18,547 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.188s
09:38:18,547 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:38:18,759 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
09:38:18,817 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:38:18,819 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15104,3,'110378300','108011rv11484294694478143','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,93818,20170116,93818 )
09:38:18,871 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:38:18,974 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:38:18,975 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:38:18,976 INFO common.Log4jPrint(20) - 108011rv11484294694478143
09:38:18,977 INFO common.Log4jPrint(20) - 108011rv11484294694478143
09:38:18,978 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15104,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478143',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=93818,ModifyDate=20170116,ModifyTime=93818,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478143'
09:44:31,973 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@53706eb7
09:44:31,981 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:44:31,985 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:44:31,985 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:44:31,987 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:44:31,988 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:44:31,988 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:44:31,992 INFO common.XmlConf(80) - conf file modified at (2017-01-16 09:44:26,300) and length=26672 bytes!
09:44:32,056 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:44:32,064 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:44:32,065 INFO common.Log4jPrint(20) - End reset System.out!
09:44:32,067 INFO net.SocketConf(27) - Into SocketConf.load()...
09:44:32,068 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:44:32,068 INFO common.XmlConf(80) - conf file modified at (2017-01-16 09:44:26,307) and length=789 bytes!
09:44:32,071 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:44:32,072 INFO net.SocketConf(60) - Out SocketConf.load()!
09:44:32,090 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:44:32,091 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:44:32,103 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
09:44:32,103 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
09:44:32,103 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:44:32,109 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
09:44:32,109 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
09:44:32,110 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:44:32,115 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
09:44:32,115 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
09:44:32,115 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:44:32,120 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
09:44:32,120 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:44:32,120 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:45:00,459 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:45:00,470 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
09:45:00,470 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:45:00,471 INFO common.XmlConf(80) - conf file modified at (2017-01-16 09:44:26,303) and length=15305 bytes!
09:45:00,477 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:45:00,478 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:45:00,482 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:45:00,506 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

09:45:00,508 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
09:45:00,511 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
09:45:00,517 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:45:01,379 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:45:01,517 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:45:01,652 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
09:45:01,653 INFO midplat.Ybt4Socket(34) - TranLogNo:15107
09:45:01,653 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:45:01,658 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:45:01,658 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:45:01,659 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:45:01,663 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:45:01,666 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:45:01,666 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:45:01,666 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:45:01,840 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
09:45:01,840 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
09:45:01,843 INFO common.SaveMessage(94) - 15110_3_1059_in.xml IO输出耗时:0.0020s
09:45:01,843 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15110_3_1059_in.xml
09:45:01,845 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:45:01,846 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:45:01,849 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:45:01,855 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:45:01,858 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:45:01,858 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:45:01,863 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:45:01,864 INFO service.ContBatchSendDisk(55) - 1
09:45:01,865 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:45:01,865 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:45:01,865 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:45:01,865 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:45:01,871 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:45:01,871 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:45:01,871 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:45:01,872 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:45:01,878 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
09:45:01,881 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
09:45:01,883 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
09:45:02,173 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
09:45:02,177 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

09:45:02,177 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
09:45:02,314 INFO format.BatchSendDisk(190) - 配置节点element:
09:45:02,314 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:45:02,314 INFO common.Log4jPrint(20) - 交易码：P53818105
09:45:02,315 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:45:02,317 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:45:02,317 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:45:02,321 INFO common.SaveMessage(94) - 15110_6_1059_out.xml IO输出耗时:0.0020s
09:45:02,321 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15110_6_1059_out.xml
09:45:02,324 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116094501855</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116094502310</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478144</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478144</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:45:02,326 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:45:02,326 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:45:02,328 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.858s
09:45:02,352 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:45:02,353 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:45:02,354 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:45:02,426 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:45:02,426 INFO common.Log4jPrint(20) - 108011rv11484294694478144
09:45:02,426 INFO common.Log4jPrint(20) - 108011rv11484294694478144
09:45:02,427 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478144'
09:45:02,522 INFO common.Log4jPrint(20) - i=0
09:45:02,525 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:45:02,526 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.868s
09:45:02,526 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:45:02,776 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
09:45:02,790 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:45:02,790 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15113,3,'110378300','108011rv11484294694478144','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,94502,20170116,94502 )
09:45:02,809 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:45:02,851 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:45:02,852 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:45:02,852 INFO common.Log4jPrint(20) - 108011rv11484294694478144
09:45:02,853 INFO common.Log4jPrint(20) - 108011rv11484294694478144
09:45:02,854 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15113,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478144',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=94502,ModifyDate=20170116,ModifyTime=94502,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478144'
09:47:26,649 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:47:26,658 INFO midplat.Ybt4Socket(34) - TranLogNo:15116
09:47:26,659 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:47:26,659 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:47:26,667 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:47:26,668 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:47:30,015 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:47:33,327 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:47:33,332 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:47:33,367 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:47:33,368 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:47:33,369 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:47:33,384 INFO common.SaveMessage(94) - 15119_9_1059_in.xml IO输出耗时:0.0070s
09:47:33,385 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15119_9_1059_in.xml
09:47:33,398 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:47:33,403 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:47:55,432 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:47:57,774 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:47:57,783 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:47:58,800 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:48:11,142 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:48:11,146 INFO service.ContBatchSendDisk(55) - 1
09:48:11,165 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:48:11,167 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:48:11,169 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:48:11,170 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:48:11,172 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:48:11,172 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:48:11,173 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:48:11,243 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:48:11,243 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:48:11,244 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:48:11,317 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:48:11,318 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15122,3,'110378300','108011rv11484294694478145','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,94811,20170116,94811 )
09:48:11,334 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:48:11,383 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:48:11,384 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:48:11,385 INFO common.Log4jPrint(20) - 108011rv11484294694478145
09:48:11,386 INFO common.Log4jPrint(20) - 108011rv11484294694478145
09:48:11,386 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15122,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478145',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=94811,ModifyDate=20170116,ModifyTime=94811,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478145'
09:48:26,404 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:48:26,419 INFO format.BatchSendDisk(190) - 配置节点element:
09:48:26,420 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:48:26,421 INFO common.Log4jPrint(20) - 交易码：P53818105
09:48:26,422 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:48:26,426 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:48:26,427 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:48:26,434 INFO common.SaveMessage(94) - 15119_12_1059_out.xml IO输出耗时:0.0030s
09:48:26,435 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15119_12_1059_out.xml
09:48:26,438 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116094757780</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116094826412</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478145</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478145</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:48:26,439 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:48:26,441 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:48:26,443 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹59.784s
09:48:26,509 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:48:26,510 INFO common.Log4jPrint(20) - 108011rv11484294694478145
09:48:26,510 INFO common.Log4jPrint(20) - 108011rv11484294694478145
09:48:26,510 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478145'
09:48:26,574 INFO common.Log4jPrint(20) - -------------------------
09:48:26,577 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:48:26,578 INFO common.Log4jPrint(20) - -------------------------
09:48:26,595 INFO common.Log4jPrint(20) - i=1
09:48:26,645 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:48:26,646 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:48:26,647 INFO common.Log4jPrint(20) - 108011rv11484294694478145
09:48:26,647 INFO common.Log4jPrint(20) - 108011rv11484294694478145
09:48:26,648 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15122,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478145',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='57.475',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=94811,ModifyDate=20170116,ModifyTime=94811,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15119_12_1059_out.xml' where TranNo='108011rv11484294694478145'
09:48:26,676 INFO midplat.Ybt4Socket(192) - 处理总耗时：57.556s
09:48:26,676 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:49:06,602 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:49:06,613 INFO midplat.Ybt4Socket(34) - TranLogNo:15125
09:49:06,613 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:49:06,613 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:49:06,614 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:49:06,614 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:49:06,621 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:49:06,622 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:49:06,622 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:49:06,625 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:49:06,625 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:49:06,626 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:49:06,643 INFO common.SaveMessage(94) - 15128_15_1059_in.xml IO输出耗时:0.015s
09:49:06,643 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15128_15_1059_in.xml
09:49:06,644 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:49:06,644 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:49:06,646 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:49:06,646 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:49:06,647 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:49:06,647 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:49:11,437 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:49:18,334 INFO service.ContBatchSendDisk(55) - 1
09:49:28,057 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:49:32,297 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:49:49,726 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:49:59,727 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:50:03,636 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:50:03,636 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:50:03,693 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:50:03,693 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:50:03,694 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:50:03,743 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:50:03,744 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15131,3,'110378300','108011rv11484294694478146','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,95003,20170116,95003 )
09:50:03,758 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:50:03,802 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:50:03,802 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:50:03,802 INFO common.Log4jPrint(20) - 108011rv11484294694478146
09:50:03,802 INFO common.Log4jPrint(20) - 108011rv11484294694478146
09:50:03,803 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15131,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478146',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95003,ModifyDate=20170116,ModifyTime=95003,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478146'
09:50:19,829 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:50:19,830 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:50:19,840 INFO format.BatchSendDisk(190) - 配置节点element:
09:50:19,841 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:50:19,841 INFO common.Log4jPrint(20) - 交易码：P53818105
09:50:19,842 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:50:19,844 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:50:19,845 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:50:19,850 INFO common.SaveMessage(94) - 15128_18_1059_out.xml IO输出耗时:0.0030s
09:50:19,851 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15128_18_1059_out.xml
09:50:19,857 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116094906646</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095019835</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478146</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478146</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:50:19,858 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:50:19,864 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:50:19,866 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹73.253s
09:50:19,919 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:50:19,919 INFO common.Log4jPrint(20) - 108011rv11484294694478146
09:50:19,919 INFO common.Log4jPrint(20) - 108011rv11484294694478146
09:50:19,919 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478146'
09:50:19,951 INFO common.Log4jPrint(20) - -------------------------
09:50:19,952 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:50:19,952 INFO common.Log4jPrint(20) - -------------------------
09:50:19,968 INFO common.Log4jPrint(20) - i=1
09:50:20,003 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:50:20,004 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:50:20,004 INFO common.Log4jPrint(20) - 108011rv11484294694478146
09:50:20,004 INFO common.Log4jPrint(20) - 108011rv11484294694478146
09:50:20,004 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15131,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478146',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='73.354',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95003,ModifyDate=20170116,ModifyTime=95003,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15128_18_1059_out.xml' where TranNo='108011rv11484294694478146'
09:50:20,025 INFO midplat.Ybt4Socket(192) - 处理总耗时：73.411s
09:50:20,026 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:50:49,176 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:50:49,186 INFO midplat.Ybt4Socket(34) - TranLogNo:15134
09:50:49,186 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:50:49,186 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:50:49,187 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:50:49,187 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:50:49,194 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:50:49,195 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:50:49,196 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:50:49,198 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:50:49,198 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:50:49,198 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:50:49,202 INFO common.SaveMessage(94) - 15137_21_1059_in.xml IO输出耗时:0.0010s
09:50:49,202 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15137_21_1059_in.xml
09:50:49,202 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:50:49,203 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:50:49,205 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:50:49,205 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:50:49,206 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:50:49,206 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:50:49,206 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:50:49,206 INFO service.ContBatchSendDisk(55) - 1
09:50:49,207 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:50:49,207 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:50:49,207 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:50:49,207 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:51:05,934 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:51:05,935 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:51:06,002 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:51:06,002 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:51:06,004 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:51:06,608 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:51:06,609 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15140,3,'110378300','108011rv11484294694478147','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,95106,20170116,95106 )
09:51:06,638 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:51:06,687 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:51:06,688 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:51:06,689 INFO common.Log4jPrint(20) - 108011rv11484294694478147
09:51:06,689 INFO common.Log4jPrint(20) - 108011rv11484294694478147
09:51:06,690 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15140,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478147',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95106,ModifyDate=20170116,ModifyTime=95106,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478147'
09:51:28,469 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:51:30,203 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:51:30,216 INFO format.BatchSendDisk(190) - 配置节点element:
09:51:30,217 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:51:30,218 INFO common.Log4jPrint(20) - 交易码：P53818105
09:51:30,218 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:51:30,222 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:51:30,223 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:51:30,230 INFO common.SaveMessage(94) - 15137_24_1059_out.xml IO输出耗时:0.0030s
09:51:30,231 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15137_24_1059_out.xml
09:51:30,239 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116095049205</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095130209</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478147</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478147</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:51:30,240 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:51:30,245 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:51:30,247 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹41.06s
09:51:30,284 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:51:30,284 INFO common.Log4jPrint(20) - 108011rv11484294694478147
09:51:30,285 INFO common.Log4jPrint(20) - 108011rv11484294694478147
09:51:30,285 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478147'
09:51:30,365 INFO common.Log4jPrint(20) - -------------------------
09:51:30,366 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:51:30,366 INFO common.Log4jPrint(20) - -------------------------
09:51:30,379 INFO common.Log4jPrint(20) - i=1
09:51:30,426 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:51:30,427 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:51:30,428 INFO common.Log4jPrint(20) - 108011rv11484294694478147
09:51:30,428 INFO common.Log4jPrint(20) - 108011rv11484294694478147
09:51:30,429 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15140,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478147',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='41.192',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95106,ModifyDate=20170116,ModifyTime=95106,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15137_24_1059_out.xml' where TranNo='108011rv11484294694478147'
09:51:30,449 INFO midplat.Ybt4Socket(192) - 处理总耗时：41.262s
09:51:30,450 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:51:39,589 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:51:39,598 INFO midplat.Ybt4Socket(34) - TranLogNo:15143
09:51:39,599 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:51:39,599 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:51:39,600 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:51:39,600 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:51:39,607 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:51:39,608 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:51:39,608 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:51:39,610 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:51:39,610 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:51:39,611 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:51:39,614 INFO common.SaveMessage(94) - 15146_27_1059_in.xml IO输出耗时:0.0010s
09:51:39,614 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15146_27_1059_in.xml
09:51:39,614 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:51:39,615 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:51:39,617 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:51:39,617 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:51:39,617 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:51:39,618 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:51:39,618 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:51:39,618 INFO service.ContBatchSendDisk(55) - 1
09:51:39,619 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:51:39,619 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:51:39,619 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:51:39,619 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:51:59,221 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:51:59,222 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:51:59,288 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:51:59,288 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:51:59,288 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:51:59,349 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:51:59,350 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15149,3,'110378300','108011rv11484294694478148','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,95159,20170116,95159 )
09:51:59,364 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:51:59,403 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:51:59,403 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:51:59,403 INFO common.Log4jPrint(20) - 108011rv11484294694478148
09:51:59,404 INFO common.Log4jPrint(20) - 108011rv11484294694478148
09:51:59,404 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15149,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478148',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95159,ModifyDate=20170116,ModifyTime=95159,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478148'
09:52:29,922 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:52:29,923 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:52:29,930 INFO format.BatchSendDisk(190) - 配置节点element:
09:52:29,931 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:52:29,931 INFO common.Log4jPrint(20) - 交易码：P53818105
09:52:29,932 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:52:29,934 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:52:29,934 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:52:29,939 INFO common.SaveMessage(94) - 15146_30_1059_out.xml IO输出耗时:0.0020s
09:52:29,939 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15146_30_1059_out.xml
09:52:29,944 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116095139617</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095229926</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478148</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478148</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:52:29,944 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:52:29,947 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:52:29,949 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹50.35s
09:52:29,984 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:52:29,984 INFO common.Log4jPrint(20) - 108011rv11484294694478148
09:52:29,984 INFO common.Log4jPrint(20) - 108011rv11484294694478148
09:52:29,985 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478148'
09:52:30,012 INFO common.Log4jPrint(20) - -------------------------
09:52:30,012 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:52:30,013 INFO common.Log4jPrint(20) - -------------------------
09:52:30,025 INFO common.Log4jPrint(20) - i=1
09:52:30,059 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:52:30,060 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:52:30,060 INFO common.Log4jPrint(20) - 108011rv11484294694478148
09:52:30,060 INFO common.Log4jPrint(20) - 108011rv11484294694478148
09:52:30,060 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15149,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478148',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='50.426',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95159,ModifyDate=20170116,ModifyTime=95159,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15146_30_1059_out.xml' where TranNo='108011rv11484294694478148'
09:52:30,074 INFO midplat.Ybt4Socket(192) - 处理总耗时：50.474s
09:52:30,075 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:52:39,243 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:52:39,253 INFO midplat.Ybt4Socket(34) - TranLogNo:15152
09:52:39,253 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:52:39,254 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:52:39,254 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:52:39,254 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:52:39,261 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:52:39,262 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:52:39,263 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:52:39,265 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:52:39,265 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:52:39,265 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:52:39,269 INFO common.SaveMessage(94) - 15155_33_1059_in.xml IO输出耗时:0.0010s
09:52:39,269 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15155_33_1059_in.xml
09:52:39,270 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:52:39,270 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:52:39,272 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:52:39,272 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:52:39,273 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:52:39,273 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:52:39,273 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:52:39,273 INFO service.ContBatchSendDisk(55) - 1
09:52:39,274 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:52:39,274 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:52:39,274 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:52:39,274 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:53:22,043 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:53:22,044 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:53:22,056 INFO format.BatchSendDisk(190) - 配置节点element:
09:53:22,057 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:53:22,057 INFO common.Log4jPrint(20) - 交易码：P53818105
09:53:22,057 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:53:22,061 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:53:22,061 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:53:22,067 INFO common.SaveMessage(94) - 15155_36_1059_out.xml IO输出耗时:0.0030s
09:53:22,068 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15155_36_1059_out.xml
09:53:22,076 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116095239272</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095322050</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478149</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478149</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:53:22,077 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:53:22,084 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:53:22,086 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹42.833s
09:53:22,240 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:53:22,241 INFO common.Log4jPrint(20) - 108011rv11484294694478149
09:53:22,242 INFO common.Log4jPrint(20) - 108011rv11484294694478149
09:53:22,242 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478149'
09:53:22,539 INFO common.Log4jPrint(20) - i=0
09:53:22,540 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:53:22,541 INFO midplat.Ybt4Socket(192) - 处理总耗时：43.287s
09:53:22,541 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:53:23,339 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:53:23,340 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:53:23,409 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:53:23,410 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:53:23,410 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:53:23,559 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:53:23,560 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15158,3,'110378300','108011rv11484294694478149','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,95323,20170116,95323 )
09:53:23,579 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:53:23,627 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:53:23,628 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:53:23,628 INFO common.Log4jPrint(20) - 108011rv11484294694478149
09:53:23,629 INFO common.Log4jPrint(20) - 108011rv11484294694478149
09:53:23,629 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15158,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478149',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95323,ModifyDate=20170116,ModifyTime=95323,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478149'
09:53:50,140 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:53:50,151 INFO midplat.Ybt4Socket(34) - TranLogNo:15161
09:53:50,151 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:53:50,152 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:53:50,152 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:53:50,152 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:53:50,160 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:53:50,160 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:53:50,161 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:53:50,163 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:53:50,163 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:53:50,164 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:53:50,166 INFO common.SaveMessage(94) - 15164_39_1059_in.xml IO输出耗时:0.0010s
09:53:50,166 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15164_39_1059_in.xml
09:53:50,167 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:53:50,167 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:53:50,168 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:53:50,168 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:53:50,169 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:53:50,169 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:53:50,169 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:53:50,169 INFO service.ContBatchSendDisk(55) - 1
09:53:50,170 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:53:50,170 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:53:50,170 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:53:50,170 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:53:50,171 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:53:50,171 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:53:50,174 INFO format.BatchSendDisk(190) - 配置节点element:
09:53:50,174 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:53:50,174 INFO common.Log4jPrint(20) - 交易码：P53818105
09:53:50,174 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:53:50,180 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:53:50,180 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:53:50,182 INFO common.SaveMessage(94) - 15164_42_1059_out.xml IO输出耗时:0.0010s
09:53:50,182 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15164_42_1059_out.xml
09:53:50,185 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116095350169</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095350173</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478150</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478150</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:53:50,185 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:53:50,187 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:53:50,188 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.037s
09:53:50,233 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:53:50,234 INFO common.Log4jPrint(20) - 108011rv11484294694478150
09:53:50,234 INFO common.Log4jPrint(20) - 108011rv11484294694478150
09:53:50,234 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478150'
09:53:50,271 INFO common.Log4jPrint(20) - i=0
09:53:50,271 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:53:50,272 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.12s
09:53:50,272 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:53:56,429 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:54:07,039 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:55:02,912 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:55:02,913 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:55:02,914 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:55:02,960 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:55:02,967 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15167,3,'110378300','108011rv11484294694478150','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,95502,20170116,95502 )
09:55:02,988 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:55:03,032 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:55:03,032 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:55:03,032 INFO common.Log4jPrint(20) - 108011rv11484294694478150
09:55:03,032 INFO common.Log4jPrint(20) - 108011rv11484294694478150
09:55:03,033 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15167,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478150',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=67,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95502,ModifyDate=20170116,ModifyTime=95502,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478150'
09:55:26,474 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:55:26,484 INFO midplat.Ybt4Socket(34) - TranLogNo:15170
09:55:26,484 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:55:26,484 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:55:26,485 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:55:26,485 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:55:26,492 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:55:26,493 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:55:26,493 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:55:26,496 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:55:26,496 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:55:26,496 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:55:26,514 INFO common.SaveMessage(94) - 15173_45_1059_in.xml IO输出耗时:0.017s
09:55:26,514 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15173_45_1059_in.xml
09:55:26,515 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:55:26,515 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:55:26,516 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:55:26,517 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:55:26,517 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:55:26,517 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:55:26,517 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:55:26,517 INFO service.ContBatchSendDisk(55) - 1
09:55:26,518 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:55:26,518 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:55:26,518 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:55:26,518 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:55:26,519 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:55:26,519 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:55:26,519 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:55:26,521 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:55:26,522 INFO format.BatchSendDisk(190) - 配置节点element:
09:55:26,523 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:55:26,523 INFO common.Log4jPrint(20) - 交易码：P53818105
09:55:26,523 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:55:26,524 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:55:26,525 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:55:26,527 INFO common.SaveMessage(94) - 15173_48_1059_out.xml IO输出耗时:0.0010s
09:55:26,528 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15173_48_1059_out.xml
09:55:26,531 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116095526517</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095526521</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478151</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478151</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:55:26,532 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:55:26,536 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:55:26,537 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.054s
09:55:26,553 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:55:26,553 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:55:26,554 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:55:26,583 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:55:26,583 INFO common.Log4jPrint(20) - 108011rv11484294694478151
09:55:26,584 INFO common.Log4jPrint(20) - 108011rv11484294694478151
09:55:26,584 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478151'
09:55:26,622 INFO common.Log4jPrint(20) - i=0
09:55:26,623 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:55:26,623 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.138s
09:55:26,623 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:55:26,762 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:55:26,763 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15176,3,'110378300','108011rv11484294694478151','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,95526,20170116,95526 )
09:55:26,779 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:55:26,854 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:55:26,855 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:55:26,856 INFO common.Log4jPrint(20) - 108011rv11484294694478151
09:55:26,856 INFO common.Log4jPrint(20) - 108011rv11484294694478151
09:55:26,857 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15176,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478151',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95526,ModifyDate=20170116,ModifyTime=95526,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478151'
09:56:10,692 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
09:56:10,700 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:56:10,703 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:56:10,704 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:56:10,705 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:56:10,706 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:56:10,707 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:56:10,710 INFO common.XmlConf(80) - conf file modified at (2017-01-16 09:44:26,300) and length=26672 bytes!
09:56:10,771 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:56:10,779 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:56:10,780 INFO common.Log4jPrint(20) - End reset System.out!
09:56:10,782 INFO net.SocketConf(27) - Into SocketConf.load()...
09:56:10,782 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:56:10,783 INFO common.XmlConf(80) - conf file modified at (2017-01-16 09:44:26,307) and length=789 bytes!
09:56:10,786 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:56:10,787 INFO net.SocketConf(60) - Out SocketConf.load()!
09:56:10,803 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:56:10,803 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:56:10,813 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
09:56:10,813 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:56:10,813 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
09:56:10,819 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
09:56:10,820 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:56:10,819 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
09:56:10,826 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
09:56:10,827 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
09:56:10,827 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:56:10,832 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
09:56:10,833 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:56:10,833 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:56:14,031 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:56:14,040 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
09:56:14,041 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:56:14,041 INFO common.XmlConf(80) - conf file modified at (2017-01-16 09:44:26,303) and length=15305 bytes!
09:56:14,048 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:56:14,049 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:56:14,051 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:56:14,072 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

09:56:14,073 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
09:56:14,076 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
09:56:14,081 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:56:19,958 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:56:20,390 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:56:21,448 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
09:56:21,450 INFO midplat.Ybt4Socket(34) - TranLogNo:15179
09:56:21,451 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:56:21,466 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:56:21,468 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:56:21,470 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:56:21,478 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:56:21,486 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:56:21,487 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:56:21,487 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:56:21,622 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
09:56:21,622 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
09:56:21,625 INFO common.SaveMessage(94) - 15182_3_1059_in.xml IO输出耗时:0.0030s
09:56:21,626 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15182_3_1059_in.xml
09:56:21,627 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:56:21,628 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:56:21,630 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:56:21,636 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:56:21,639 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:56:21,639 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:56:21,644 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:56:21,644 INFO service.ContBatchSendDisk(55) - 1
09:56:21,645 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:56:21,645 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:56:21,645 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:56:21,645 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:56:21,652 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:56:21,653 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:56:21,653 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:56:21,653 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:56:21,659 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
09:56:21,661 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
09:56:21,662 INFO common.XslCache(70) - conf file modified at (2017-01-14 21:10:43,466) and length=3155 bytes!
09:56:21,938 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
09:56:21,941 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

09:56:21,942 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
09:56:22,076 INFO format.BatchSendDisk(190) - 配置节点element:
09:56:22,076 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:56:22,076 INFO common.Log4jPrint(20) - 交易码：P53818105
09:56:22,076 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:56:22,078 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:56:22,078 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:56:22,082 INFO common.SaveMessage(94) - 15182_6_1059_out.xml IO输出耗时:0.0020s
09:56:22,082 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15182_6_1059_out.xml
09:56:22,085 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116095621636</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095622073</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478152</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478152</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:56:22,085 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:56:22,088 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:56:22,090 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹8.049s
09:56:22,116 DEBUG service.ContBatchSendDisk$PayRetServ(249) - 处理文件内容有误....
09:56:22,117 INFO service.ContBatchSendDisk$PayRetServ(252) - 完成拼接发送核心报文....
09:56:22,118 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
09:56:22,438 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:56:22,439 INFO common.Log4jPrint(20) - 108011rv11484294694478152
09:56:22,440 INFO common.Log4jPrint(20) - 108011rv11484294694478152
09:56:22,441 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478152'
09:56:22,494 INFO common.Log4jPrint(20) - i=0
09:56:22,498 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:56:22,499 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.031s
09:56:22,500 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:56:23,182 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:56:23,183 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15185,3,'110378300','108011rv11484294694478152','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,95622,20170116,95622 )
09:56:23,627 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
09:56:23,681 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:56:23,682 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:56:23,683 INFO common.Log4jPrint(20) - 108011rv11484294694478152
09:56:23,683 INFO common.Log4jPrint(20) - 108011rv11484294694478152
09:56:23,684 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15185,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478152',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=95622,ModifyDate=20170116,ModifyTime=95623,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478152'
09:56:57,945 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
09:56:57,955 INFO midplat.Ybt4Socket(34) - TranLogNo:15188
09:56:57,955 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:56:57,955 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:56:57,956 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:56:57,956 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
09:56:57,964 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
09:56:57,964 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
09:56:57,965 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
09:56:57,967 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
09:56:57,967 INFO newNet.CcbNetImpl(65) - mTranCom==============03
09:56:57,967 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
09:56:57,981 INFO common.SaveMessage(94) - 15191_9_1059_in.xml IO输出耗时:0.012s
09:56:57,981 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15191_9_1059_in.xml
09:56:57,982 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
09:56:57,987 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
09:56:57,991 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
09:56:57,991 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
09:56:57,992 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
09:56:57,992 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
09:56:57,992 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
09:56:57,993 INFO service.ContBatchSendDisk(55) - 1
09:56:57,993 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
09:56:57,993 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
09:56:57,994 INFO service.ContBatchSendDisk(82) - 文件解密开始...
09:56:57,994 INFO service.ContBatchSendDisk(87) - 文件解密完成...
09:56:57,994 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
09:56:57,994 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
09:56:57,994 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
09:56:57,995 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
09:56:57,999 INFO format.BatchSendDisk(190) - 配置节点element:
09:56:57,999 INFO common.Log4jPrint(20) - 加密前文件路径：null
09:56:57,999 INFO common.Log4jPrint(20) - 交易码：P53818105
09:56:58,000 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
09:56:58,001 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
09:56:58,001 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
09:56:58,010 INFO common.SaveMessage(94) - 15191_12_1059_out.xml IO输出耗时:0.0080s
09:56:58,010 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15191_12_1059_out.xml
09:56:58,013 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116095657992</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116095657997</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478153</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478153</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:56:58,013 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
09:56:58,015 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
09:56:58,016 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.061s
09:56:58,056 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:56:58,057 INFO common.Log4jPrint(20) - 108011rv11484294694478153
09:56:58,057 INFO common.Log4jPrint(20) - 108011rv11484294694478153
09:56:58,057 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478153'
09:56:58,093 INFO common.Log4jPrint(20) - i=0
09:56:58,093 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:56:58,093 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.137s
09:56:58,093 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:02:33,809 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
10:02:33,817 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:02:33,820 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:02:33,821 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:02:33,823 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:02:33,823 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:02:33,824 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:02:33,827 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
10:02:33,888 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:02:33,897 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:02:33,898 INFO common.Log4jPrint(20) - End reset System.out!
10:02:33,900 INFO net.SocketConf(27) - Into SocketConf.load()...
10:02:33,901 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:02:33,901 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
10:02:33,904 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:02:33,905 INFO net.SocketConf(60) - Out SocketConf.load()!
10:02:33,924 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:02:33,925 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:02:33,933 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
10:02:33,934 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:02:33,934 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
10:02:33,940 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
10:02:33,940 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
10:02:33,941 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:02:33,945 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
10:02:33,946 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:02:33,946 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
10:02:33,952 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
10:02:33,953 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:02:33,954 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:06:27,334 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
10:06:27,334 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
10:06:27,334 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
10:06:27,349 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
10:06:27,349 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
10:06:27,349 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
10:06:27,349 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
10:06:27,382 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

10:06:27,382 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
10:06:27,382 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
10:06:27,382 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:06:27,974 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:06:28,052 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:06:28,193 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
10:06:28,193 INFO midplat.Ybt4Socket(34) - TranLogNo:15188
10:06:28,193 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:06:28,208 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
10:06:28,208 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:06:28,208 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
10:06:28,208 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
10:06:28,224 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
10:06:28,224 INFO newNet.CcbNetImpl(65) - mTranCom==============03
10:06:28,224 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
10:06:28,349 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
10:06:28,349 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
10:06:28,364 INFO common.SaveMessage(94) - 15191_3_1059_in.xml IO输出耗时:0.015s
10:06:28,364 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15191_3_1059_in.xml
10:06:28,364 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
10:06:28,364 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
10:06:28,364 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
10:06:28,381 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
10:06:28,381 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
10:06:28,381 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
10:06:28,381 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
10:06:28,381 INFO service.ContBatchSendDisk(55) - 1
10:06:28,381 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
10:06:28,381 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:06:28,381 INFO service.ContBatchSendDisk(82) - 文件解密开始...
10:06:28,381 INFO common.Log4jPrint(20) - 文件存在，进行备份：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:06:28,381 INFO service.ContBatchSendDisk(87) - 文件解密完成...
10:06:28,397 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
10:06:28,397 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
10:06:28,397 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
10:06:28,397 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
10:06:28,397 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
10:06:28,397 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
10:06:28,397 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
10:06:28,709 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
10:06:28,709 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

10:06:28,709 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
10:06:28,833 INFO format.BatchSendDisk(190) - 配置节点element:
10:06:28,833 INFO common.Log4jPrint(20) - 加密前文件路径：null
10:06:28,833 INFO common.Log4jPrint(20) - 交易码：P53818105
10:06:28,833 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
10:06:28,833 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
10:06:28,833 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
10:06:28,833 INFO common.SaveMessage(94) - 15191_6_1059_out.xml IO输出耗时:0.0s
10:06:28,833 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15191_6_1059_out.xml
10:06:28,849 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116100628381</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116100628833</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478154</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478154</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


10:06:28,849 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
10:06:28,849 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
10:06:28,849 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.515s
10:06:28,912 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:06:28,912 INFO common.Log4jPrint(20) - 108011rv11484294694478154
10:06:28,912 INFO common.Log4jPrint(20) - 108011rv11484294694478154
10:06:28,912 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478154'
10:06:28,991 INFO common.Log4jPrint(20) - i=0
10:06:28,991 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:06:28,991 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.783s
10:06:28,991 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:07:43,941 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
10:07:43,941 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
10:07:43,957 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
10:07:44,161 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
10:07:44,285 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

10:07:44,332 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
10:07:44,363 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 27: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:223)
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:223)
10:07:49,153 DEBUG service.ContBatchSendDisk$PayRetServ(250) - 处理文件内容有误....
10:07:49,949 INFO service.ContBatchSendDisk$PayRetServ(253) - 完成拼接发送核心报文....
10:07:51,244 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
10:07:51,292 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:07:51,292 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15194,3,'110378300','108011rv11484294694478154','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,100751,20170116,100751 )
10:07:51,323 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
10:07:51,385 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:07:51,385 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:07:51,401 INFO common.Log4jPrint(20) - 108011rv11484294694478154
10:07:51,401 INFO common.Log4jPrint(20) - 108011rv11484294694478154
10:07:51,401 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15194,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478154',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=82,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=100751,ModifyDate=20170116,ModifyTime=100751,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478154'
10:11:59,424 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
10:11:59,424 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:11:59,440 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:11:59,440 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:11:59,440 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:11:59,440 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:11:59,440 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:11:59,440 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
10:11:59,503 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:11:59,503 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:11:59,503 INFO common.Log4jPrint(20) - End reset System.out!
10:11:59,519 INFO net.SocketConf(27) - Into SocketConf.load()...
10:11:59,519 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:11:59,519 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
10:11:59,519 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:11:59,519 INFO net.SocketConf(60) - Out SocketConf.load()!
10:11:59,534 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:11:59,534 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:11:59,550 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
10:11:59,550 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
10:11:59,550 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:11:59,550 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
10:11:59,550 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
10:11:59,550 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:11:59,550 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
10:11:59,565 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:11:59,565 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
10:11:59,565 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
10:11:59,565 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:11:59,565 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:12:11,172 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
10:12:11,187 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
10:12:11,187 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
10:12:11,187 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
10:12:11,187 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
10:12:11,187 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
10:12:11,187 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
10:12:11,220 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

10:12:11,220 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
10:12:11,220 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
10:12:11,220 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:12:11,937 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:12:12,046 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:12:12,140 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
10:12:12,140 INFO midplat.Ybt4Socket(34) - TranLogNo:15197
10:12:12,140 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:12:12,156 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
10:12:12,156 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:12:12,156 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
10:12:12,171 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
10:12:12,171 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
10:12:12,171 INFO newNet.CcbNetImpl(65) - mTranCom==============03
10:12:12,171 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
10:12:12,312 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
10:12:12,312 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
10:12:12,312 INFO common.SaveMessage(94) - 15200_3_1059_in.xml IO输出耗时:0.0s
10:12:12,312 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15200_3_1059_in.xml
10:12:12,327 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
10:12:12,327 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
10:12:12,327 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
10:12:12,327 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
10:12:12,327 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
10:12:12,327 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
10:12:12,343 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
10:12:12,343 INFO service.ContBatchSendDisk(55) - 1
10:12:12,344 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
10:12:12,344 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:12:12,344 INFO service.ContBatchSendDisk(82) - 文件解密开始...
10:12:12,344 INFO common.Log4jPrint(20) - 文件存在，进行备份：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:12:12,344 INFO service.ContBatchSendDisk(87) - 文件解密完成...
10:12:12,344 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
10:12:12,344 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
10:12:12,344 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
10:12:12,344 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
10:12:12,344 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
10:12:12,344 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
10:12:12,359 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
10:12:12,625 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
10:12:12,625 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

10:12:12,625 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
10:12:12,749 INFO format.BatchSendDisk(190) - 配置节点element:
10:12:12,749 INFO common.Log4jPrint(20) - 加密前文件路径：null
10:12:12,749 INFO common.Log4jPrint(20) - 交易码：P53818105
10:12:12,749 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
10:12:12,749 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
10:12:12,749 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
10:12:12,781 INFO common.SaveMessage(94) - 15200_6_1059_out.xml IO输出耗时:0.032s
10:12:12,781 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15200_6_1059_out.xml
10:12:12,781 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116101212327</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116101212749</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478155</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478155</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


10:12:12,781 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
10:12:12,781 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
10:12:12,781 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.594s
10:12:12,845 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:12:12,845 INFO common.Log4jPrint(20) - 108011rv11484294694478155
10:12:12,845 INFO common.Log4jPrint(20) - 108011rv11484294694478155
10:12:12,845 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478155'
10:12:12,876 INFO common.Log4jPrint(20) - i=0
10:12:12,876 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:12:12,876 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.72s
10:12:12,876 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:13:36,375 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
10:13:36,390 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:13:36,390 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:13:36,390 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:13:36,390 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:13:36,390 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:13:36,406 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:13:36,406 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
10:13:36,469 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:13:36,485 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:13:36,485 INFO common.Log4jPrint(20) - End reset System.out!
10:13:36,485 INFO net.SocketConf(27) - Into SocketConf.load()...
10:13:36,485 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:13:36,485 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
10:13:36,485 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:13:36,485 INFO net.SocketConf(60) - Out SocketConf.load()!
10:13:36,500 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:13:36,516 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:13:36,516 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
10:13:36,516 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
10:13:36,516 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:13:36,532 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
10:13:36,532 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
10:13:36,532 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:13:36,532 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
10:13:36,532 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
10:13:36,532 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:13:36,532 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
10:13:36,547 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:13:36,547 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:13:37,140 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
10:13:37,156 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
10:13:37,156 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
10:13:37,156 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
10:13:37,156 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
10:13:37,156 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
10:13:37,156 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
10:13:37,187 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

10:13:37,187 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
10:13:37,187 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
10:13:37,202 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:13:37,826 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:13:37,921 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:13:38,046 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
10:13:38,046 INFO midplat.Ybt4Socket(34) - TranLogNo:15197
10:13:38,046 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:13:38,061 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
10:13:38,061 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:13:38,061 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
10:13:38,077 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
10:13:38,077 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
10:13:38,077 INFO newNet.CcbNetImpl(65) - mTranCom==============03
10:13:38,077 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
10:13:38,202 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
10:13:38,202 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
10:13:38,217 INFO common.SaveMessage(94) - 15200_3_1059_in.xml IO输出耗时:0.015s
10:13:38,217 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15200_3_1059_in.xml
10:13:38,217 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
10:13:38,217 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
10:13:38,217 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
10:13:38,217 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
10:13:38,217 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
10:13:38,217 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
10:13:38,233 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
10:13:38,233 INFO service.ContBatchSendDisk(55) - 1
10:13:38,233 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
10:13:38,233 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:13:38,233 INFO service.ContBatchSendDisk(82) - 文件解密开始...
10:13:38,233 INFO service.ContBatchSendDisk(87) - 文件解密完成...
10:13:38,233 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
10:13:38,233 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
10:13:38,233 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
10:13:38,233 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
10:13:38,233 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
10:13:38,233 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
10:13:38,249 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
10:13:38,514 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
10:13:38,514 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

10:13:38,514 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
10:13:38,623 INFO format.BatchSendDisk(190) - 配置节点element:
10:13:38,623 INFO common.Log4jPrint(20) - 加密前文件路径：null
10:13:38,623 INFO common.Log4jPrint(20) - 交易码：P53818105
10:13:38,623 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
10:13:38,639 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
10:13:38,639 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
10:13:38,639 INFO common.SaveMessage(94) - 15200_6_1059_out.xml IO输出耗时:0.0s
10:13:38,639 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15200_6_1059_out.xml
10:13:38,639 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116101338217</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116101338623</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478156</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478156</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


10:13:38,639 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
10:13:38,639 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
10:13:38,639 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.483s
10:13:38,702 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:13:38,702 INFO common.Log4jPrint(20) - 108011rv11484294694478156
10:13:38,702 INFO common.Log4jPrint(20) - 108011rv11484294694478156
10:13:38,702 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478156'
10:13:38,734 INFO common.Log4jPrint(20) - i=0
10:13:38,734 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:13:38,734 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.673s
10:13:38,734 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:13:46,300 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
10:13:46,316 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
10:13:46,331 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
10:13:46,535 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
10:13:46,660 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

10:13:46,707 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
10:14:29,373 ERROR service.ContBatchSendDisk$PayRetServ(240) - 处理回盘文件失败...
10:14:29,373 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:242)
10:14:29,373 ERROR service.ContBatchSendDisk$PayRetServ(337) - 批量代收代付送盘交易失败！
java.lang.IllegalStateException: Root element not set
	at org.jdom.Document.getRootElement(Document.java:218)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:250)
10:15:39,086 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
10:15:39,101 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:15:39,101 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:15:39,101 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:15:39,101 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:15:39,101 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:15:39,101 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:15:39,101 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
10:15:39,180 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:15:39,180 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:15:39,180 INFO common.Log4jPrint(20) - End reset System.out!
10:15:39,196 INFO net.SocketConf(27) - Into SocketConf.load()...
10:15:39,196 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:15:39,196 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
10:15:39,196 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:15:39,196 INFO net.SocketConf(60) - Out SocketConf.load()!
10:15:39,212 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:15:39,227 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:15:39,227 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
10:15:39,227 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:15:39,227 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
10:15:39,243 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
10:15:39,243 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
10:15:39,243 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:15:39,243 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
10:15:39,243 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
10:15:39,243 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:15:39,258 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
10:15:39,258 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:15:39,258 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:15:46,824 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
10:15:46,824 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
10:15:46,824 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
10:15:46,824 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
10:15:46,840 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
10:15:46,840 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
10:15:46,840 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
10:15:46,857 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

10:15:46,857 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
10:15:46,872 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
10:15:46,872 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:15:47,590 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:15:47,839 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:15:47,934 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
10:15:47,934 INFO midplat.Ybt4Socket(34) - TranLogNo:15197
10:15:47,934 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:15:47,950 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
10:15:47,950 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:15:47,950 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
10:15:47,950 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
10:15:47,950 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
10:15:47,950 INFO newNet.CcbNetImpl(65) - mTranCom==============03
10:15:47,965 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
10:15:48,090 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
10:15:48,090 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
10:15:48,090 INFO common.SaveMessage(94) - 15200_3_1059_in.xml IO输出耗时:0.0s
10:15:48,090 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15200_3_1059_in.xml
10:15:48,090 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
10:15:48,090 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
10:15:48,106 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
10:15:48,106 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
10:15:48,106 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
10:15:48,106 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
10:15:48,106 INFO service.ContBatchSendDisk(52) - Into Get_PayRetServ.service()...
10:15:48,106 INFO service.ContBatchSendDisk(55) - 1
10:15:48,106 INFO service.ContBatchSendDisk(74) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
10:15:48,106 INFO service.ContBatchSendDisk(80) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:15:48,106 INFO service.ContBatchSendDisk(82) - 文件解密开始...
10:15:48,106 INFO service.ContBatchSendDisk(87) - 文件解密完成...
10:15:48,121 INFO service.ContBatchSendDisk$PayRetServ(215) - 开始拼接发送核心报文....
10:15:48,121 INFO service.ContBatchSendDisk$PayRetServ(219) - 888888888881
10:15:48,121 INFO service.ContBatchSendDisk(106) - Out Get_PayRetServ.service()!
10:15:48,121 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
10:15:48,121 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
10:15:48,121 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
10:15:48,121 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
10:15:48,433 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
10:15:48,433 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

10:15:48,433 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
10:15:48,558 INFO format.BatchSendDisk(190) - 配置节点element:
10:15:48,558 INFO common.Log4jPrint(20) - 加密前文件路径：null
10:15:48,558 INFO common.Log4jPrint(20) - 交易码：P53818105
10:15:48,558 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
10:15:48,574 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
10:15:48,574 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
10:15:48,574 INFO common.SaveMessage(94) - 15200_6_1059_out.xml IO输出耗时:0.0s
10:15:48,574 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15200_6_1059_out.xml
10:15:48,574 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116101548106</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116101548558</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478157</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478157</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


10:15:48,574 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
10:15:48,574 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
10:15:48,574 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.75s
10:15:48,638 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:15:48,638 INFO common.Log4jPrint(20) - 108011rv11484294694478157
10:15:48,638 INFO common.Log4jPrint(20) - 108011rv11484294694478157
10:15:48,638 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478157'
10:15:48,700 INFO common.Log4jPrint(20) - i=0
10:15:48,716 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:15:48,716 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.766s
10:15:48,716 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:16:00,514 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
10:16:00,529 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
10:16:00,529 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
10:16:00,749 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
10:16:00,873 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

10:16:00,920 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
10:16:04,524 INFO service.ContBatchSendDisk$PayRetServ(255) - 完成拼接发送核心报文....
10:16:17,240 DEBUG service.ContBatchSendDisk(168) - Into ServiceImpl.insertTranLog()...
10:16:17,334 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:16:17,350 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15203,3,'110378300','108011rv11484294694478157','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,101617,20170116,101617 )
10:16:17,397 DEBUG service.ContBatchSendDisk(196) - Out ServiceImpl.insertTranLog()!
10:16:24,417 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:16:24,417 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:16:24,432 INFO common.Log4jPrint(20) - 108011rv11484294694478157
10:16:24,432 INFO common.Log4jPrint(20) - 108011rv11484294694478157
10:16:24,432 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15203,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478157',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=33,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=101617,ModifyDate=20170116,ModifyTime=101621,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478157'
10:54:26,812 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
10:54:26,819 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:54:26,823 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:54:26,824 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:54:26,825 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
10:54:26,826 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:54:26,827 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:54:26,830 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
10:54:26,891 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:54:26,899 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:54:26,900 INFO common.Log4jPrint(20) - End reset System.out!
10:54:26,902 INFO net.SocketConf(27) - Into SocketConf.load()...
10:54:26,902 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:54:26,903 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
10:54:26,906 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:54:26,907 INFO net.SocketConf(60) - Out SocketConf.load()!
10:54:26,924 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
10:54:26,924 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:54:26,933 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
10:54:26,934 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:54:26,934 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
10:54:26,940 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
10:54:26,941 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
10:54:26,941 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:54:26,947 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
10:54:26,947 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
10:54:26,947 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:54:26,954 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
10:54:26,955 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
10:54:26,955 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
10:54:39,860 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
10:54:39,870 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
10:54:39,871 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
10:54:39,871 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
10:54:39,878 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
10:54:39,879 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
10:54:39,882 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
10:54:39,904 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

10:54:39,905 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
10:54:39,908 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
10:54:39,914 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:54:40,679 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:54:40,801 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:54:40,966 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
10:54:40,968 INFO midplat.Ybt4Socket(34) - TranLogNo:15206
10:54:40,969 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:54:40,984 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
10:54:40,985 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:54:40,986 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
10:54:40,990 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
10:54:40,994 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
10:54:40,995 INFO newNet.CcbNetImpl(65) - mTranCom==============03
10:54:40,995 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
10:54:41,125 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
10:54:41,126 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
10:54:41,128 INFO common.SaveMessage(94) - 15209_3_1059_in.xml IO输出耗时:0.0020s
10:54:41,129 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15209_3_1059_in.xml
10:54:41,130 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
10:54:41,130 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
10:54:41,132 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
10:54:41,139 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
10:54:41,141 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
10:54:41,141 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
10:54:41,147 INFO service.ContBatchSendDisk(60) - Into Get_PayRetServ.service()...
10:54:41,147 INFO service.ContBatchSendDisk(63) - 1
10:54:41,148 INFO service.ContBatchSendDisk(82) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
10:54:41,148 INFO service.ContBatchSendDisk(88) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:54:41,148 INFO service.ContBatchSendDisk(90) - 文件解密开始...
10:54:41,149 INFO service.ContBatchSendDisk(95) - 文件解密完成...
10:54:41,156 INFO service.ContBatchSendDisk$PayRetServ(223) - 开始拼接发送核心报文....
10:54:41,157 INFO service.ContBatchSendDisk$PayRetServ(227) - 888888888881
10:54:41,157 INFO service.ContBatchSendDisk(114) - Out Get_PayRetServ.service()!
10:54:41,157 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
10:54:41,161 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
10:54:41,162 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
10:54:41,162 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
10:54:41,466 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
10:54:41,470 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

10:54:41,470 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
10:54:41,592 INFO format.BatchSendDisk(190) - 配置节点element:
10:54:41,592 INFO common.Log4jPrint(20) - 加密前文件路径：null
10:54:41,592 INFO common.Log4jPrint(20) - 交易码：P53818105
10:54:41,592 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
10:54:41,594 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
10:54:41,594 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
10:54:41,622 INFO common.SaveMessage(94) - 15209_6_1059_out.xml IO输出耗时:0.026s
10:54:41,622 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15209_6_1059_out.xml
10:54:41,625 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116105441139</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116105441589</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478158</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478158</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


10:54:41,626 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
10:54:41,627 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
10:54:41,629 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.758s
10:54:41,722 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:54:41,723 INFO common.Log4jPrint(20) - 108011rv11484294694478158
10:54:41,723 INFO common.Log4jPrint(20) - 108011rv11484294694478158
10:54:41,723 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478158'
10:54:41,785 INFO common.Log4jPrint(20) - i=0
10:54:41,790 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:54:41,792 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.807s
10:54:41,792 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:55:31,145 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
10:55:31,150 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
10:55:31,159 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
10:55:31,369 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
10:55:31,509 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

10:55:31,547 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
10:55:42,154 INFO service.ContBatchSendDisk$PayRetServ(263) - 完成拼接发送核心报文....
10:55:44,410 DEBUG service.ContBatchSendDisk(176) - Into ServiceImpl.insertTranLog()...
10:55:44,486 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:55:44,492 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15212,3,'110378300','108011rv11484294694478158','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,105544,20170116,105544 )
10:55:44,531 DEBUG service.ContBatchSendDisk(204) - Out ServiceImpl.insertTranLog()!
10:55:53,010 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:55:53,011 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:55:53,013 INFO common.Log4jPrint(20) - 108011rv11484294694478158
10:55:53,014 INFO common.Log4jPrint(20) - 108011rv11484294694478158
10:55:53,015 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15212,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478158',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=70,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=105544,ModifyDate=20170116,ModifyTime=105551,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478158'
10:56:49,274 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
10:56:49,284 INFO midplat.Ybt4Socket(34) - TranLogNo:15215
10:56:49,285 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:56:49,285 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
10:56:49,286 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:56:49,286 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
10:56:49,292 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
10:56:49,293 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
10:56:49,293 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
10:56:49,296 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
10:56:49,296 INFO newNet.CcbNetImpl(65) - mTranCom==============03
10:56:49,296 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
10:56:49,332 INFO common.SaveMessage(94) - 15218_9_1059_in.xml IO输出耗时:0.034s
10:56:49,333 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15218_9_1059_in.xml
10:56:49,350 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
10:56:49,353 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
10:56:49,357 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
10:56:49,357 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
10:56:49,358 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
10:56:49,358 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
10:56:49,358 INFO service.ContBatchSendDisk(60) - Into Get_PayRetServ.service()...
10:56:49,359 INFO service.ContBatchSendDisk(63) - 1
10:56:49,359 INFO service.ContBatchSendDisk(82) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
10:56:49,359 INFO service.ContBatchSendDisk(88) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
10:56:49,360 INFO service.ContBatchSendDisk(90) - 文件解密开始...
10:56:49,360 INFO service.ContBatchSendDisk(95) - 文件解密完成...
10:56:49,360 INFO service.ContBatchSendDisk(114) - Out Get_PayRetServ.service()!
10:56:49,360 INFO service.ContBatchSendDisk$PayRetServ(223) - 开始拼接发送核心报文....
10:56:49,361 INFO service.ContBatchSendDisk$PayRetServ(227) - 888888888881
10:56:49,360 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
10:56:49,365 INFO format.BatchSendDisk(190) - 配置节点element:
10:56:49,366 INFO common.Log4jPrint(20) - 加密前文件路径：null
10:56:49,366 INFO common.Log4jPrint(20) - 交易码：P53818105
10:56:49,366 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
10:56:49,368 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
10:56:49,368 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
10:56:49,374 INFO common.SaveMessage(94) - 15218_12_1059_out.xml IO输出耗时:0.0050s
10:56:49,374 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15218_12_1059_out.xml
10:56:49,378 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116105649358</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116105649363</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478159</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478159</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


10:56:49,378 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
10:56:49,380 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
10:56:49,382 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.097s
10:56:49,413 INFO service.ContBatchSendDisk$PayRetServ(263) - 完成拼接发送核心报文....
10:56:49,414 DEBUG service.ContBatchSendDisk(176) - Into ServiceImpl.insertTranLog()...
10:56:49,434 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:56:49,435 INFO common.Log4jPrint(20) - 108011rv11484294694478159
10:56:49,435 INFO common.Log4jPrint(20) - 108011rv11484294694478159
10:56:49,435 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478159'
10:56:49,491 INFO common.Log4jPrint(20) - i=0
10:56:49,492 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
10:56:49,492 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.206s
10:56:49,492 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:56:49,569 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:56:49,570 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15221,3,'110378300','108011rv11484294694478159','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,105649,20170116,105649 )
10:56:49,592 DEBUG service.ContBatchSendDisk(204) - Out ServiceImpl.insertTranLog()!
10:56:49,630 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:56:49,631 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:56:49,631 INFO common.Log4jPrint(20) - 108011rv11484294694478159
10:56:49,632 INFO common.Log4jPrint(20) - 108011rv11484294694478159
10:56:49,633 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15221,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478159',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=105649,ModifyDate=20170116,ModifyTime=105649,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478159'
11:16:57,024 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
11:16:57,032 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:16:57,036 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:16:57,036 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:16:57,038 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:16:57,039 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:16:57,039 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:16:57,042 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
11:16:57,107 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:16:57,115 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:16:57,116 INFO common.Log4jPrint(20) - End reset System.out!
11:16:57,117 INFO net.SocketConf(27) - Into SocketConf.load()...
11:16:57,118 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:16:57,119 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
11:16:57,122 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:16:57,123 INFO net.SocketConf(60) - Out SocketConf.load()!
11:16:57,143 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:16:57,143 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:16:57,154 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
11:16:57,154 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
11:16:57,154 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:16:57,160 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
11:16:57,161 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
11:16:57,161 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:16:57,169 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
11:16:57,169 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
11:16:57,169 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:16:57,174 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
11:16:57,174 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:16:57,174 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:17:08,143 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:17:08,153 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
11:17:08,153 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:17:08,153 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
11:17:08,160 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:17:08,161 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:17:08,164 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:17:08,188 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

11:17:08,189 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
11:17:08,192 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
11:17:08,199 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:17:09,110 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:17:09,238 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:17:09,475 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
11:17:09,476 INFO midplat.Ybt4Socket(34) - TranLogNo:15224
11:17:09,476 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:17:09,481 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:17:09,482 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:17:09,482 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:17:09,485 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:17:09,488 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:17:09,488 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:17:09,488 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:17:09,625 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
11:17:09,626 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
11:17:09,629 INFO common.SaveMessage(94) - 15227_3_1059_in.xml IO输出耗时:0.0030s
11:17:09,629 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15227_3_1059_in.xml
11:17:09,630 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:17:09,631 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:17:09,634 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:17:09,641 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:17:09,644 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:17:09,644 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:17:09,649 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:17:09,650 INFO service.ContBatchSendDisk(67) - 1
11:17:09,650 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:17:09,651 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:17:09,651 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:17:09,651 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:17:09,655 INFO service.ContBatchSendDisk$PayRetServ(227) - 开始拼接发送核心报文....
11:17:09,656 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:17:09,656 INFO service.ContBatchSendDisk$PayRetServ(231) - 888888888881
11:17:09,656 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:17:09,660 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
11:17:09,660 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
11:17:09,661 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
11:17:09,679 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
11:17:09,682 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
11:17:09,688 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
11:17:09,948 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
11:17:09,949 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
11:17:09,951 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:17:09,952 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
11:17:09,953 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

11:17:09,959 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
11:17:10,077 INFO format.BatchSendDisk(190) - 配置节点element:
11:17:10,078 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:17:10,079 INFO common.Log4jPrint(20) - 交易码：P53818105
11:17:10,079 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:17:10,080 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:17:10,081 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:17:10,084 INFO common.SaveMessage(94) - 15227_6_1059_out.xml IO输出耗时:0.0020s
11:17:10,085 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15227_6_1059_out.xml
11:17:10,088 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116111709641</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116111710075</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478160</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478160</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:17:10,089 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:17:10,094 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:17:10,095 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.942s
11:17:10,112 INFO service.ContBatchSendDisk$PayRetServ(268) - 完成拼接发送核心报文....
11:17:10,113 DEBUG service.ContBatchSendDisk(180) - Into ServiceImpl.insertTranLog()...
11:17:10,309 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:17:10,310 INFO common.Log4jPrint(20) - 108011rv11484294694478160
11:17:10,311 INFO common.Log4jPrint(20) - 108011rv11484294694478160
11:17:10,311 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478160'
11:17:10,399 INFO common.Log4jPrint(20) - i=0
11:17:10,405 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:17:10,406 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.924s
11:17:10,407 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:17:10,840 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
11:17:10,856 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:17:10,857 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15230,3,'110378300','108011rv11484294694478160','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,111710,20170116,111710 )
11:17:10,879 DEBUG service.ContBatchSendDisk(208) - Out ServiceImpl.insertTranLog()!
11:17:10,928 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:17:10,929 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:17:10,930 INFO common.Log4jPrint(20) - 108011rv11484294694478160
11:17:10,930 INFO common.Log4jPrint(20) - 108011rv11484294694478160
11:17:10,931 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15230,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478160',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=1,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=111710,ModifyDate=20170116,ModifyTime=111710,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478160'
11:18:11,801 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:18:11,812 INFO midplat.Ybt4Socket(34) - TranLogNo:15233
11:18:11,812 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:18:11,812 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:18:11,813 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:18:11,813 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:18:11,821 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:18:11,821 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:18:11,822 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:18:11,825 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:18:11,825 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:18:11,825 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:18:11,829 INFO common.SaveMessage(94) - 15236_9_1059_in.xml IO输出耗时:0.0020s
11:18:11,829 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15236_9_1059_in.xml
11:18:11,830 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:18:11,830 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:18:11,832 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:18:11,832 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:18:11,833 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:18:11,833 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:18:11,834 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:18:11,834 INFO service.ContBatchSendDisk(67) - 1
11:18:11,835 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:18:11,835 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:18:11,835 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:18:11,835 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:18:11,835 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:18:11,836 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:18:11,836 INFO service.ContBatchSendDisk$PayRetServ(227) - 开始拼接发送核心报文....
11:18:11,836 INFO service.ContBatchSendDisk$PayRetServ(231) - 888888888881
11:18:11,840 INFO format.BatchSendDisk(190) - 配置节点element:
11:18:11,841 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:18:11,841 INFO common.Log4jPrint(20) - 交易码：P53818105
11:18:11,841 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:18:11,842 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:18:11,842 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:18:11,845 INFO common.SaveMessage(94) - 15236_12_1059_out.xml IO输出耗时:0.0010s
11:18:11,845 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15236_12_1059_out.xml
11:18:11,848 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116111811833</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116111811838</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478161</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478161</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:18:11,849 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:18:11,850 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:18:11,852 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.04s
11:18:11,882 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:18:11,882 INFO common.Log4jPrint(20) - 108011rv11484294694478161
11:18:11,883 INFO common.Log4jPrint(20) - 108011rv11484294694478161
11:18:11,883 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478161'
11:18:11,887 ERROR service.ContBatchSendDisk$PayRetServ(253) - 处理回盘文件失败...
11:18:11,887 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:255)
11:18:11,888 INFO service.ContBatchSendDisk$PayRetServ(268) - 完成拼接发送核心报文....
11:18:11,888 DEBUG service.ContBatchSendDisk(180) - Into ServiceImpl.insertTranLog()...
11:18:11,912 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
11:18:11,915 INFO common.Log4jPrint(20) - i=0
11:18:11,916 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:18:11,916 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.103s
11:18:11,916 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:18:11,920 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:18:11,920 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15239,3,'110378300','108011rv11484294694478161','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,111811,20170116,111811 )
11:18:11,933 DEBUG service.ContBatchSendDisk(208) - Out ServiceImpl.insertTranLog()!
11:18:11,965 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:18:11,966 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:18:11,966 INFO common.Log4jPrint(20) - 108011rv11484294694478161
11:18:11,966 INFO common.Log4jPrint(20) - 108011rv11484294694478161
11:18:11,966 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15239,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478161',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=111811,ModifyDate=20170116,ModifyTime=111811,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478161'
11:20:02,182 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:20:02,192 INFO midplat.Ybt4Socket(34) - TranLogNo:15242
11:20:02,193 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:20:02,193 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:20:02,193 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:20:02,194 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:20:02,201 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:20:02,202 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:20:02,202 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:20:02,204 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:20:02,204 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:20:02,205 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:20:02,253 INFO common.SaveMessage(94) - 15245_15_1059_in.xml IO输出耗时:0.046s
11:20:02,253 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15245_15_1059_in.xml
11:20:02,255 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:20:02,257 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:20:02,264 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:20:02,264 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:20:02,266 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:20:02,267 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:20:02,268 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:20:02,268 INFO service.ContBatchSendDisk(67) - 1
11:20:02,272 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:20:02,273 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:20:02,273 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:20:02,274 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:20:02,275 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:20:02,275 INFO service.ContBatchSendDisk$PayRetServ(227) - 开始拼接发送核心报文....
11:20:02,276 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:20:02,276 INFO service.ContBatchSendDisk$PayRetServ(231) - 888888888881
11:20:02,287 INFO format.BatchSendDisk(190) - 配置节点element:
11:20:02,288 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:20:02,288 INFO common.Log4jPrint(20) - 交易码：P53818105
11:20:02,288 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:20:02,290 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:20:02,290 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:20:02,293 INFO common.SaveMessage(94) - 15245_18_1059_out.xml IO输出耗时:0.0010s
11:20:02,294 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15245_18_1059_out.xml
11:20:02,297 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116112002266</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116112002284</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478163</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478163</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:20:02,298 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:20:02,300 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:20:02,302 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.109s
11:20:02,372 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:20:02,372 INFO common.Log4jPrint(20) - 108011rv11484294694478163
11:20:02,372 INFO common.Log4jPrint(20) - 108011rv11484294694478163
11:20:02,372 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478163'
11:20:02,442 INFO common.Log4jPrint(20) - i=0
11:20:02,442 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:20:02,442 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.249s
11:20:02,442 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:21:39,036 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
11:21:39,044 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:21:39,047 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:21:39,048 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:21:39,050 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:21:39,050 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:21:39,051 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:21:39,054 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
11:21:39,115 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:21:39,123 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:21:39,124 INFO common.Log4jPrint(20) - End reset System.out!
11:21:39,126 INFO net.SocketConf(27) - Into SocketConf.load()...
11:21:39,126 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:21:39,127 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
11:21:39,130 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:21:39,131 INFO net.SocketConf(60) - Out SocketConf.load()!
11:21:39,149 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:21:39,150 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:21:39,159 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
11:21:39,159 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
11:21:39,159 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:21:39,166 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
11:21:39,167 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
11:21:39,167 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:21:39,173 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
11:21:39,174 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:21:39,174 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
11:21:39,179 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
11:21:39,180 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:21:39,180 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:21:46,128 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:21:46,139 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
11:21:46,139 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:21:46,140 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
11:21:46,149 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:21:46,151 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:21:46,152 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:21:46,171 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

11:21:46,172 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
11:21:46,175 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
11:21:46,181 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:21:46,699 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:21:46,957 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:21:47,062 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
11:21:47,064 INFO midplat.Ybt4Socket(34) - TranLogNo:15242
11:21:47,065 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:21:47,077 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:21:47,079 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:21:47,080 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:21:47,085 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:21:47,091 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:21:47,092 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:21:47,092 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:21:47,218 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
11:21:47,218 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
11:21:47,221 INFO common.SaveMessage(94) - 15245_3_1059_in.xml IO输出耗时:0.0020s
11:21:47,221 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15245_3_1059_in.xml
11:21:47,222 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:21:47,224 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:21:47,228 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:21:47,234 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:21:47,237 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:21:47,237 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:21:47,242 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:21:47,242 INFO service.ContBatchSendDisk(67) - 1
11:21:47,243 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:21:47,243 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:21:47,244 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:21:47,244 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:21:47,252 INFO service.ContBatchSendDisk$PayRetServ(227) - 开始拼接发送核心报文....
11:21:47,252 INFO service.ContBatchSendDisk$PayRetServ(231) - 888888888881
11:21:47,252 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:21:47,252 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:21:47,257 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
11:21:47,257 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
11:21:47,257 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
11:21:47,559 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
11:21:47,562 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:21:47,563 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
11:21:47,687 INFO format.BatchSendDisk(190) - 配置节点element:
11:21:47,688 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:21:47,688 INFO common.Log4jPrint(20) - 交易码：P53818105
11:21:47,688 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:21:47,690 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:21:47,690 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:21:47,725 INFO common.SaveMessage(94) - 15245_6_1059_out.xml IO输出耗时:0.033s
11:21:47,725 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15245_6_1059_out.xml
11:21:47,728 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116112147235</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116112147685</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478164</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478164</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:21:47,729 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:21:47,730 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:21:47,731 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.593s
11:21:47,833 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:21:47,834 INFO common.Log4jPrint(20) - 108011rv11484294694478164
11:21:47,835 INFO common.Log4jPrint(20) - 108011rv11484294694478164
11:21:47,835 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478164'
11:21:47,886 INFO common.Log4jPrint(20) - i=0
11:21:47,888 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:21:47,888 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.809s
11:21:47,888 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:21:49,891 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
11:21:49,898 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
11:21:49,906 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
11:21:50,121 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
11:21:50,260 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

11:21:50,298 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
11:21:50,339 ERROR common.JdomUtil(88) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 27: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:236)
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: org.xml.sax.SAXParseException: The element type "Cst_Nm" must be terminated by the matching end-tag "</Cst_Nm>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:86)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:68)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:59)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:236)
11:23:26,984 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
11:23:26,992 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:23:26,995 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:23:26,996 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:23:26,997 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:23:26,998 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:23:26,999 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:23:27,002 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
11:23:27,063 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:23:27,071 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:23:27,072 INFO common.Log4jPrint(20) - End reset System.out!
11:23:27,074 INFO net.SocketConf(27) - Into SocketConf.load()...
11:23:27,075 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:23:27,075 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
11:23:27,078 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:23:27,079 INFO net.SocketConf(60) - Out SocketConf.load()!
11:23:27,096 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:23:27,097 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:23:27,108 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
11:23:27,108 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
11:23:27,109 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:23:27,116 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
11:23:27,117 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:23:27,117 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
11:23:27,124 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
11:23:27,125 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
11:23:27,125 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:23:27,129 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
11:23:27,130 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:23:27,130 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:23:32,048 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:23:32,057 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
11:23:32,058 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:23:32,058 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
11:23:32,065 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:23:32,067 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:23:32,067 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:23:32,090 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

11:23:32,092 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
11:23:32,094 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
11:23:32,101 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:23:32,623 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:23:32,682 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:23:32,742 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
11:23:32,743 INFO midplat.Ybt4Socket(34) - TranLogNo:15242
11:23:32,743 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:23:32,748 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:23:32,749 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:23:32,749 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:23:32,752 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:23:32,755 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:23:32,755 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:23:32,755 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:23:32,896 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
11:23:32,896 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
11:23:32,899 INFO common.SaveMessage(94) - 15245_3_1059_in.xml IO输出耗时:0.0020s
11:23:32,900 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15245_3_1059_in.xml
11:23:32,900 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:23:32,901 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:23:32,903 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:23:32,909 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:23:32,912 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:23:32,912 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:23:32,918 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:23:32,918 INFO service.ContBatchSendDisk(67) - 1
11:23:32,919 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:23:32,919 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:23:32,920 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:23:32,920 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:23:32,934 INFO service.ContBatchSendDisk$PayRetServ(227) - 开始拼接发送核心报文....
11:23:32,935 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:23:32,935 INFO service.ContBatchSendDisk$PayRetServ(231) - 888888888881
11:23:32,935 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:23:32,940 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
11:23:32,940 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
11:23:32,940 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
11:23:33,242 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
11:23:33,245 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:23:33,245 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
11:23:33,370 INFO format.BatchSendDisk(190) - 配置节点element:
11:23:33,371 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:23:33,371 INFO common.Log4jPrint(20) - 交易码：P53818105
11:23:33,371 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:23:33,373 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:23:33,373 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:23:33,376 INFO common.SaveMessage(94) - 15245_6_1059_out.xml IO输出耗时:0.0020s
11:23:33,376 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15245_6_1059_out.xml
11:23:33,379 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116112332910</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116112333368</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478164</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478164</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:23:33,381 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:23:33,382 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:23:33,383 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.325s
11:23:33,448 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:23:33,448 INFO common.Log4jPrint(20) - 108011rv11484294694478164
11:23:33,449 INFO common.Log4jPrint(20) - 108011rv11484294694478164
11:23:33,449 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478164'
11:23:33,484 INFO common.Log4jPrint(20) - i=0
11:23:33,488 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:23:33,489 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.74s
11:23:33,489 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:23:38,365 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
11:23:38,374 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
11:23:38,387 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
11:23:38,605 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
11:23:38,744 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

11:23:38,782 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
11:26:25,396 ERROR service.ContBatchSendDisk$PayRetServ(253) - 处理回盘文件失败...
11:26:25,398 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:255)
11:26:25,399 INFO service.ContBatchSendDisk$PayRetServ(268) - 完成拼接发送核心报文....
11:26:25,401 DEBUG service.ContBatchSendDisk(180) - Into ServiceImpl.insertTranLog()...
11:26:25,454 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:26:25,455 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15248,3,'110378300','108011rv11484294694478164','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,112625,20170116,112625 )
11:26:25,476 DEBUG service.ContBatchSendDisk(208) - Out ServiceImpl.insertTranLog()!
11:26:25,545 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:26:25,546 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:26:25,547 INFO common.Log4jPrint(20) - 108011rv11484294694478164
11:26:25,547 INFO common.Log4jPrint(20) - 108011rv11484294694478164
11:26:25,548 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15248,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478164',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=172,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=112625,ModifyDate=20170116,ModifyTime=112625,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478164'
11:28:22,120 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
11:28:22,128 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:28:22,131 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:28:22,132 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:28:22,134 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:28:22,134 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:28:22,135 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:28:22,138 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
11:28:22,205 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:28:22,218 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:28:22,218 INFO common.Log4jPrint(20) - End reset System.out!
11:28:22,221 INFO net.SocketConf(27) - Into SocketConf.load()...
11:28:22,221 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:28:22,222 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
11:28:22,225 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:28:22,226 INFO net.SocketConf(60) - Out SocketConf.load()!
11:28:22,244 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:28:22,244 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:28:22,254 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
11:28:22,254 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
11:28:22,254 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:28:22,260 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
11:28:22,260 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
11:28:22,261 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:28:22,268 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
11:28:22,269 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
11:28:22,269 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:28:22,275 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
11:28:22,275 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:28:22,275 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:28:29,246 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:28:29,256 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
11:28:29,256 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:28:29,257 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
11:28:29,265 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:28:29,266 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:28:29,267 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:28:29,292 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

11:28:29,293 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
11:28:29,296 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
11:28:29,304 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:28:29,838 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:28:29,919 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:28:29,982 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
11:28:29,983 INFO midplat.Ybt4Socket(34) - TranLogNo:15251
11:28:29,983 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:28:29,988 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:28:29,988 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:28:29,989 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:28:29,991 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:28:29,994 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:28:29,995 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:28:29,995 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:28:30,122 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
11:28:30,122 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
11:28:30,125 INFO common.SaveMessage(94) - 15254_3_1059_in.xml IO输出耗时:0.0030s
11:28:30,125 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15254_3_1059_in.xml
11:28:30,126 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:28:30,127 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:28:30,129 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:28:30,134 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:28:30,137 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:28:30,137 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:28:30,143 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:28:30,143 INFO service.ContBatchSendDisk(67) - 1
11:28:30,144 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:28:30,144 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:28:30,144 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:28:30,144 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:28:30,153 INFO service.ContBatchSendDisk$PayRetServ(227) - 开始拼接发送核心报文....
11:28:30,154 INFO service.ContBatchSendDisk$PayRetServ(231) - 888888888881
11:28:30,154 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:28:30,154 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:28:30,160 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
11:28:30,160 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
11:28:30,160 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
11:28:30,178 INFO format.BatchSendDiskInXsl(25) - Into BatResponseInXsl.load()...
11:28:30,179 INFO format.BatchSendDiskInXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl...
11:28:30,179 INFO common.XslCache(70) - conf file modified at (2017-01-16 10:02:27,387) and length=4755 bytes!
11:28:30,452 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
11:28:30,453 INFO format.BatchSendDiskInXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskIn.xsl!
11:28:30,455 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:28:30,456 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
11:28:30,457 INFO format.BatchSendDiskInXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:mxh="http://www.openuri.org/" xmlns:java="http://xml.apache.org/xslt/java" exclude-result-prefixes="java" version="1.0"><xsl:output method="text" omit-xml-declaration="yes" indent="no" /><xsl:template match="/"><xsl:call-template name="tran_servicetype"><xsl:with-param name="agInsBtchBagNm"><xsl:value-of select="/Root/Head/AgIns_BtchBag_Nm" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 代收标志 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 商户ID --><xsl:value-of select="substring(/Root/Head/AgIns_BtchBag_Nm,10,8)" /><xsl:text>,</xsl:text><!-- 提交日期 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TDnum" /><xsl:text>,</xsl:text><!-- 总记录数 --><xsl:value-of select="/Root/Head/Cur_Btch_Dtl_TAmt" /><xsl:text>,</xsl:text><!-- 总金额 --><xsl:value-of select="/Root/Head/AgIns_BtchBag_TpCd" /><xsl:text>,</xsl:text><!-- 业务类型 --><xsl:text /><xsl:for-each select="/Root/Detail_List/Detail"><xsl:value-of select="Btch_Dtl_SN" /><xsl:text>,</xsl:text><!-- 记录序号 Y --><xsl:text>,</xsl:text><!--通联支付用户编号  --><xsl:text>105,</xsl:text><!-- 银行代码 --><xsl:text>00,</xsl:text><!-- 帐号类型 --><xsl:value-of select="Cst_AccNo" /><xsl:text>,</xsl:text><!-- 账号 Y --><xsl:value-of select="Cst_Nm" /><xsl:text>,</xsl:text><!--账户名 Y --><xsl:text>,</xsl:text><!-- 开户行所在省 --><xsl:text>,</xsl:text><!-- 开户行所在市 --><xsl:text>中国建设银行,</xsl:text><!--开户行名称  --><xsl:text>0,</xsl:text><!-- 账户类型 --><xsl:value-of select="Amt" /><xsl:text>,</xsl:text><!-- 金额 Y --><xsl:text>CNY,</xsl:text><!-- 货币类型 --><xsl:text>,</xsl:text><!-- 协议号 --><xsl:text>,</xsl:text><!-- 协议用户编号 --><xsl:text>0,</xsl:text><!-- 开户证件类型 --><xsl:text>,</xsl:text><!-- 证件号 --><xsl:text>,</xsl:text><!-- 手机号/小灵通 --><xsl:text>,</xsl:text><!-- 自定义用户号 --><xsl:text>,</xsl:text><!-- 备注 --><xsl:call-template name="tran_feedbackcode"><xsl:with-param name="feedbackcode"><xsl:value-of select="Hst_Rsp_Cd" /></xsl:with-param></xsl:call-template><xsl:text>,</xsl:text><!-- 反馈码 --><xsl:value-of select="Hst_Rsp_Inf" /><xsl:text>,</xsl:text><!-- 原因 --><xsl:text /></xsl:for-each></xsl:template><xsl:template name="tran_servicetype"><xsl:param name="agInsBtchBagNm" /><xsl:variable name="subStr" select="substring($agInsBtchBagNm,3,1)" /><xsl:choose><xsl:when test="$subStr='0'">S</xsl:when><!-- 批扣 --><xsl:when test="$subStr='1'">F</xsl:when><!-- 批付 --><xsl:otherwise /></xsl:choose></xsl:template><xsl:template name="tran_feedbackcode"><xsl:param name="feedbackcode" /><xsl:choose><xsl:when test="$feedbackcode='00000'">0000</xsl:when><!-- 处理成功 --><xsl:when test="$feedbackcode='E8208'" /><!-- 一本通中该币别/钞汇已结清 --><xsl:when test="$feedbackcode='E8201'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3150'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5502'" /><!-- 密码已挂失 --><xsl:when test="$feedbackcode='E4501'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3001'" /><!-- 币别或钞汇鉴别错误 --><xsl:when test="$feedbackcode='E4500'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E5000'">3016</xsl:when><!-- 存折已挂失 --><xsl:when test="$feedbackcode='E3551'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E4500'">3017</xsl:when><!-- 帐户已冻结 --><xsl:when test="$feedbackcode='E5002'">3006</xsl:when><!-- 卡已挂失 --><xsl:when test="$feedbackcode='E7102'">3008</xsl:when><!-- 余额不足 --><xsl:when test="$feedbackcode='E3266'">3031</xsl:when><!-- 客户名称与帐号不符 --><xsl:when test="$feedbackcode='E1408'" /><!-- 帐号类型不符 --><xsl:when test="$feedbackcode='E8301'" /><!-- 专项账户存入摘要代码错误 --><xsl:when test="$feedbackcode='E1085'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3540'" /><!-- 帐户不正常 --><xsl:when test="$feedbackcode='E3556'" /><!-- 卡状态不正常 --><xsl:when test="$feedbackcode='SHK02'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='SDB01'" /><!-- 非法账号 --><xsl:when test="$feedbackcode='E9999'" /><!-- 整批失败：XXX --></xsl:choose></xsl:template></xsl:stylesheet>

11:28:30,458 INFO format.BatchSendDiskInXsl(63) - Out BatResponseInXsl.load()!
11:28:30,585 INFO format.BatchSendDisk(190) - 配置节点element:
11:28:30,586 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:28:30,586 INFO common.Log4jPrint(20) - 交易码：P53818105
11:28:30,586 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:28:30,587 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:28:30,588 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:28:30,619 INFO common.SaveMessage(94) - 15254_6_1059_out.xml IO输出耗时:0.03s
11:28:30,619 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15254_6_1059_out.xml
11:28:30,622 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116112830135</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116112830582</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478165</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478165</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:28:30,622 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:28:30,625 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:28:30,626 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.37s
11:28:30,671 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:28:30,672 INFO common.Log4jPrint(20) - 108011rv11484294694478165
11:28:30,672 INFO common.Log4jPrint(20) - 108011rv11484294694478165
11:28:30,672 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478165'
11:28:30,712 INFO common.Log4jPrint(20) - i=0
11:28:30,714 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:28:30,715 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.727s
11:28:30,715 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:33:33,873 ERROR service.ContBatchSendDisk$PayRetServ(253) - 处理回盘文件失败...
11:33:33,875 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:255)
11:33:33,875 INFO service.ContBatchSendDisk$PayRetServ(268) - 完成拼接发送核心报文....
11:33:33,878 DEBUG service.ContBatchSendDisk(180) - Into ServiceImpl.insertTranLog()...
11:33:34,081 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:33:34,082 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15257,3,'110378300','108011rv11484294694478165','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,113333,20170116,113333 )
11:33:34,170 DEBUG service.ContBatchSendDisk(208) - Out ServiceImpl.insertTranLog()!
11:33:34,344 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:33:34,345 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:33:34,346 INFO common.Log4jPrint(20) - 108011rv11484294694478165
11:33:34,347 INFO common.Log4jPrint(20) - 108011rv11484294694478165
11:33:34,347 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15257,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478165',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=304,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=113333,ModifyDate=20170116,ModifyTime=113334,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478165'
11:47:04,846 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
11:47:04,854 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:47:04,858 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:47:04,858 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:47:04,860 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:47:04,861 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:47:04,861 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:47:04,864 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
11:47:04,926 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:47:04,935 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:47:04,936 INFO common.Log4jPrint(20) - End reset System.out!
11:47:04,937 INFO net.SocketConf(27) - Into SocketConf.load()...
11:47:04,938 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:47:04,939 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
11:47:04,942 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:47:04,942 INFO net.SocketConf(60) - Out SocketConf.load()!
11:47:04,961 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:47:04,961 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:47:04,970 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
11:47:04,971 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
11:47:04,971 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:47:04,977 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
11:47:04,977 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
11:47:04,977 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:47:04,984 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
11:47:04,985 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
11:47:04,985 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:47:04,990 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
11:47:04,991 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:47:04,991 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:47:21,318 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:47:21,329 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
11:47:21,329 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:47:21,330 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
11:47:21,337 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:47:21,338 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:47:21,344 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:47:21,373 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

11:47:21,375 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
11:47:21,378 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
11:47:21,386 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:47:21,914 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:47:21,964 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:47:22,027 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
11:47:22,030 INFO midplat.Ybt4Socket(34) - TranLogNo:15260
11:47:22,031 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:47:22,046 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:47:22,048 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:47:22,050 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:47:22,056 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:47:22,060 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:47:22,061 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:47:22,061 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:47:22,199 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
11:47:22,200 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
11:47:22,203 INFO common.SaveMessage(94) - 15263_3_1059_in.xml IO输出耗时:0.0030s
11:47:22,204 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15263_3_1059_in.xml
11:47:22,204 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:47:22,205 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:47:22,207 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:47:22,213 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:47:22,216 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:47:22,216 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:47:22,221 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:47:22,221 INFO service.ContBatchSendDisk(67) - 1
11:47:22,222 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:47:22,222 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:47:22,222 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:47:22,223 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:47:22,233 INFO service.ContBatchSendDisk$PayRetServ(229) - 开始拼接发送核心报文....
11:47:22,233 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:47:22,234 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:47:22,239 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
11:47:22,239 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
11:47:22,240 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
11:47:22,529 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
11:47:22,533 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:47:22,533 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
11:47:22,659 INFO format.BatchSendDisk(190) - 配置节点element:
11:47:22,659 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:47:22,660 INFO common.Log4jPrint(20) - 交易码：P53818105
11:47:22,660 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:47:22,661 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:47:22,661 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:47:23,203 INFO common.SaveMessage(94) - 15263_6_1059_out.xml IO输出耗时:0.539s
11:47:23,203 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15263_6_1059_out.xml
11:47:23,213 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116114722214</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116114722657</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478166</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478166</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:47:23,215 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:47:23,219 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:47:23,223 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.893s
11:47:23,266 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:47:23,267 INFO common.Log4jPrint(20) - 108011rv11484294694478166
11:47:23,267 INFO common.Log4jPrint(20) - 108011rv11484294694478166
11:47:23,267 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478166'
11:47:23,548 INFO common.Log4jPrint(20) - i=0
11:47:23,553 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:47:23,554 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.506s
11:47:23,555 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:47:25,933 INFO service.ContBatchSendDisk$PayRetServ(233) - 888888888881
11:53:38,987 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@1cad6513
11:53:38,995 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:53:38,999 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:53:38,999 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:53:39,001 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:53:39,002 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:53:39,002 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:53:39,006 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
11:53:39,068 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:53:39,092 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:53:39,093 INFO common.Log4jPrint(20) - End reset System.out!
11:53:39,095 INFO net.SocketConf(27) - Into SocketConf.load()...
11:53:39,095 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:53:39,096 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
11:53:39,099 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:53:39,099 INFO net.SocketConf(60) - Out SocketConf.load()!
11:53:39,117 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:53:39,118 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:53:39,127 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
11:53:39,128 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
11:53:39,128 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:53:39,135 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
11:53:39,136 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
11:53:39,136 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:53:39,145 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
11:53:39,146 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
11:53:39,146 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:53:39,152 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
11:53:39,152 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:53:39,153 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:53:45,534 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:53:45,544 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
11:53:45,545 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:53:45,545 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
11:53:45,556 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:53:45,557 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:53:45,557 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:53:45,579 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

11:53:45,580 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
11:53:45,583 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
11:53:45,589 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:53:46,203 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:53:46,275 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:53:46,392 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
11:53:46,394 INFO midplat.Ybt4Socket(34) - TranLogNo:15260
11:53:46,395 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:53:46,408 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:53:46,410 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:53:46,411 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:53:46,417 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:53:46,423 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:53:46,423 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:53:46,424 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:53:46,560 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
11:53:46,560 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
11:53:46,562 INFO common.SaveMessage(94) - 15263_3_1059_in.xml IO输出耗时:0.0020s
11:53:46,563 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15263_3_1059_in.xml
11:53:46,564 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:53:46,564 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:53:46,566 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:53:46,573 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:53:46,575 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:53:46,576 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:53:46,581 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:53:46,581 INFO service.ContBatchSendDisk(67) - 1
11:53:46,582 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:53:46,582 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:53:46,582 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:53:46,583 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:53:46,593 INFO service.ContBatchSendDisk$PayRetServ(229) - 开始拼接发送核心报文....
11:53:46,593 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:53:46,593 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:53:46,598 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
11:53:46,599 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
11:53:46,599 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
11:53:46,895 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
11:53:46,899 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:53:46,899 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
11:53:47,027 INFO format.BatchSendDisk(190) - 配置节点element:
11:53:47,027 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:53:47,027 INFO common.Log4jPrint(20) - 交易码：P53818105
11:53:47,027 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:53:47,029 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:53:47,029 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:53:47,032 INFO common.SaveMessage(94) - 15263_6_1059_out.xml IO输出耗时:0.0010s
11:53:47,033 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15263_6_1059_out.xml
11:53:47,036 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116115346573</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116115347024</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478167</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478167</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:53:47,037 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:53:47,039 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:53:47,041 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.496s
11:53:47,087 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:53:47,088 INFO common.Log4jPrint(20) - 108011rv11484294694478167
11:53:47,088 INFO common.Log4jPrint(20) - 108011rv11484294694478167
11:53:47,088 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478167'
11:53:47,142 INFO common.Log4jPrint(20) - i=0
11:53:47,144 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:53:47,144 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.734s
11:53:47,145 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:53:50,483 INFO service.ContBatchSendDisk$PayRetServ(233) - 888888888881
11:57:01,236 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
11:57:01,244 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:57:01,248 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:57:01,249 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:57:01,250 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
11:57:01,251 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:57:01,252 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:57:01,255 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
11:57:01,317 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:57:01,325 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:57:01,326 INFO common.Log4jPrint(20) - End reset System.out!
11:57:01,328 INFO net.SocketConf(27) - Into SocketConf.load()...
11:57:01,329 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:57:01,329 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
11:57:01,332 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:57:01,333 INFO net.SocketConf(60) - Out SocketConf.load()!
11:57:01,349 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
11:57:01,350 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:57:01,358 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
11:57:01,359 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
11:57:01,359 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:57:01,364 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
11:57:01,364 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:57:01,364 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
11:57:01,371 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
11:57:01,372 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:57:01,371 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
11:57:01,378 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
11:57:01,378 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
11:57:01,378 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
11:57:18,269 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:57:18,279 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
11:57:18,279 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:57:18,280 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
11:57:18,287 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:57:18,288 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:57:18,289 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:57:18,312 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

11:57:18,313 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
11:57:18,316 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
11:57:18,322 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:57:18,930 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:57:19,022 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:57:19,098 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
11:57:19,100 INFO midplat.Ybt4Socket(34) - TranLogNo:15260
11:57:19,100 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:57:19,106 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:57:19,107 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:57:19,108 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:57:19,111 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:57:19,115 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:57:19,115 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:57:19,115 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:57:19,240 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
11:57:19,241 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
11:57:19,244 INFO common.SaveMessage(94) - 15263_3_1059_in.xml IO输出耗时:0.0020s
11:57:19,244 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15263_3_1059_in.xml
11:57:19,245 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:57:19,245 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:57:19,247 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:57:19,253 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:57:19,256 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:57:19,256 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:57:19,262 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:57:19,262 INFO service.ContBatchSendDisk(67) - 1
11:57:19,263 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:57:19,263 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:57:19,263 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:57:19,263 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:57:19,274 INFO service.ContBatchSendDisk$PayRetServ(229) - 开始拼接发送核心报文....
11:57:19,275 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:57:19,275 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:57:19,279 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
11:57:19,280 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
11:57:19,280 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
11:57:19,580 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
11:57:19,583 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:57:19,584 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
11:57:19,709 INFO format.BatchSendDisk(190) - 配置节点element:
11:57:19,709 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:57:19,709 INFO common.Log4jPrint(20) - 交易码：P53818105
11:57:19,709 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:57:19,711 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:57:19,711 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:57:19,714 INFO common.SaveMessage(94) - 15263_6_1059_out.xml IO输出耗时:0.0020s
11:57:19,714 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15263_6_1059_out.xml
11:57:19,717 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116115719253</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116115719706</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478168</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478168</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:57:19,718 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:57:19,720 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:57:19,721 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.442s
11:57:19,770 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:57:19,770 INFO common.Log4jPrint(20) - 108011rv11484294694478168
11:57:19,771 INFO common.Log4jPrint(20) - 108011rv11484294694478168
11:57:19,771 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478168'
11:57:19,813 INFO common.Log4jPrint(20) - i=0
11:57:19,817 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:57:19,818 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.711s
11:57:19,819 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:57:23,066 INFO service.ContBatchSendDisk$PayRetServ(233) - 888888888881
11:58:27,701 ERROR service.ContBatchSendDisk$PayRetServ(265) - 处理回盘文件失败...
11:58:27,702 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:267)
11:58:27,702 INFO service.ContBatchSendDisk$PayRetServ(280) - 完成拼接发送核心报文....
11:58:27,703 DEBUG service.ContBatchSendDisk(180) - Into ServiceImpl.insertTranLog()...
11:58:27,775 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:58:27,776 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15266,3,'110378300','108011rv11484294694478168','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,115827,20170116,115827 )
11:58:27,798 DEBUG service.ContBatchSendDisk(208) - Out ServiceImpl.insertTranLog()!
11:58:27,857 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:58:27,858 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:58:27,858 INFO common.Log4jPrint(20) - 108011rv11484294694478168
11:58:27,858 INFO common.Log4jPrint(20) - 108011rv11484294694478168
11:58:27,859 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15266,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478168',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=68,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=115827,ModifyDate=20170116,ModifyTime=115827,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478168'
11:58:38,325 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
11:58:38,335 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
11:58:38,335 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:58:38,336 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
11:58:38,336 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:58:38,337 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
11:58:38,345 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
11:58:38,345 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
11:58:38,346 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
11:58:38,348 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
11:58:38,348 INFO newNet.CcbNetImpl(65) - mTranCom==============03
11:58:38,349 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
11:58:38,352 INFO common.SaveMessage(94) - 15272_9_1059_in.xml IO输出耗时:0.0010s
11:58:38,353 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_9_1059_in.xml
11:58:38,353 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
11:58:38,354 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
11:58:38,356 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
11:58:38,356 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
11:58:38,357 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
11:58:38,357 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
11:58:38,357 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
11:58:38,357 INFO service.ContBatchSendDisk(67) - 1
11:58:38,358 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
11:58:38,358 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
11:58:38,358 INFO service.ContBatchSendDisk(94) - 文件解密开始...
11:58:38,358 INFO service.ContBatchSendDisk(99) - 文件解密完成...
11:58:38,359 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
11:58:38,359 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
11:58:38,359 INFO service.ContBatchSendDisk$PayRetServ(229) - 开始拼接发送核心报文....
11:58:38,364 INFO format.BatchSendDisk(190) - 配置节点element:
11:58:38,364 INFO common.Log4jPrint(20) - 加密前文件路径：null
11:58:38,364 INFO common.Log4jPrint(20) - 交易码：P53818105
11:58:38,365 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
11:58:38,374 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
11:58:38,374 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
11:58:38,413 INFO common.SaveMessage(94) - 15272_12_1059_out.xml IO输出耗时:0.038s
11:58:38,413 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_12_1059_out.xml
11:58:38,423 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116115838356</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116115838361</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478169</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478169</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


11:58:38,432 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
11:58:38,435 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.099s
11:58:38,437 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
11:58:38,487 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:58:38,487 INFO common.Log4jPrint(20) - 108011rv11484294694478169
11:58:38,488 INFO common.Log4jPrint(20) - 108011rv11484294694478169
11:58:38,488 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478169'
11:58:38,564 INFO common.Log4jPrint(20) - i=0
11:58:38,564 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
11:58:38,565 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.229s
11:58:38,565 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
11:58:42,513 INFO service.ContBatchSendDisk$PayRetServ(233) - 888888888881
12:01:32,338 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7a74db2c
12:01:32,345 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:01:32,349 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:01:32,349 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:01:32,351 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:01:32,352 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:01:32,352 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:01:32,356 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
12:01:32,416 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:01:32,424 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:01:32,425 INFO common.Log4jPrint(20) - End reset System.out!
12:01:32,427 INFO net.SocketConf(27) - Into SocketConf.load()...
12:01:32,428 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:01:32,428 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
12:01:32,431 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:01:32,432 INFO net.SocketConf(60) - Out SocketConf.load()!
12:01:32,450 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:01:32,451 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:01:32,459 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:01:32,460 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:01:32,460 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:01:32,467 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:01:32,468 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:01:32,467 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:01:32,473 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:01:32,473 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:01:32,473 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:01:32,479 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:01:32,479 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:01:32,479 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:01:40,383 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
12:01:40,393 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
12:01:40,393 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:01:40,394 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
12:01:40,401 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
12:01:40,402 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
12:01:40,403 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:01:40,425 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

12:01:40,427 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
12:01:40,429 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
12:01:40,436 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:01:41,103 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:01:41,215 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:01:41,294 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
12:01:41,295 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
12:01:41,296 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:01:41,302 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
12:01:41,303 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:01:41,303 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
12:01:41,307 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
12:01:41,312 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
12:01:41,312 INFO newNet.CcbNetImpl(65) - mTranCom==============03
12:01:41,312 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
12:01:41,446 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
12:01:41,446 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
12:01:41,449 INFO common.SaveMessage(94) - 15272_3_1059_in.xml IO输出耗时:0.0030s
12:01:41,449 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_3_1059_in.xml
12:01:41,450 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
12:01:41,451 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
12:01:41,453 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
12:01:41,459 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
12:01:41,461 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
12:01:41,461 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
12:01:41,466 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
12:01:41,467 INFO service.ContBatchSendDisk(67) - 1
12:01:41,467 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
12:01:41,468 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
12:01:41,468 INFO service.ContBatchSendDisk(94) - 文件解密开始...
12:01:41,468 INFO service.ContBatchSendDisk(99) - 文件解密完成...
12:01:41,478 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
12:01:41,478 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
12:01:41,483 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
12:01:41,483 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
12:01:41,484 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
12:01:41,773 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
12:01:41,777 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

12:01:41,777 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
12:01:41,901 INFO format.BatchSendDisk(190) - 配置节点element:
12:01:41,901 INFO common.Log4jPrint(20) - 加密前文件路径：null
12:01:41,902 INFO common.Log4jPrint(20) - 交易码：P53818105
12:01:41,902 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
12:01:41,903 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
12:01:41,903 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
12:01:41,907 INFO common.SaveMessage(94) - 15272_6_1059_out.xml IO输出耗时:0.0020s
12:01:41,907 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_6_1059_out.xml
12:01:41,910 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116120141459</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116120141899</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478170</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478170</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


12:01:41,910 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
12:01:41,912 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
12:01:41,913 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.521s
12:01:42,008 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:01:42,008 INFO common.Log4jPrint(20) - 108011rv11484294694478170
12:01:42,009 INFO common.Log4jPrint(20) - 108011rv11484294694478170
12:01:42,009 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478170'
12:01:42,052 INFO common.Log4jPrint(20) - i=0
12:01:42,054 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:01:42,054 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.751s
12:01:42,054 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:01:46,126 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:225)
12:02:24,927 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
12:02:24,934 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:02:24,938 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:02:24,938 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:02:24,940 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:02:24,941 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:02:24,941 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:02:24,944 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
12:02:25,008 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:02:25,018 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:02:25,019 INFO common.Log4jPrint(20) - End reset System.out!
12:02:25,021 INFO net.SocketConf(27) - Into SocketConf.load()...
12:02:25,022 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:02:25,022 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
12:02:25,025 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:02:25,025 INFO net.SocketConf(60) - Out SocketConf.load()!
12:02:25,044 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:02:25,045 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:02:25,055 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:02:25,055 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:02:25,056 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:02:25,061 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:02:25,061 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:02:25,061 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:02:25,067 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:02:25,068 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:02:25,068 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:02:25,073 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:02:25,074 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:02:25,074 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:02:30,398 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
12:02:30,408 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
12:02:30,409 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:02:30,409 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
12:02:30,417 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
12:02:30,418 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
12:02:30,419 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:02:30,441 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

12:02:30,442 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
12:02:30,445 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
12:02:30,451 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:02:31,003 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:02:31,069 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:02:31,360 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
12:02:31,361 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
12:02:31,362 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:02:31,370 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
12:02:31,371 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:02:31,372 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
12:02:31,376 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
12:02:31,382 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
12:02:31,383 INFO newNet.CcbNetImpl(65) - mTranCom==============03
12:02:31,384 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
12:02:31,524 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
12:02:31,524 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
12:02:31,527 INFO common.SaveMessage(94) - 15272_3_1059_in.xml IO输出耗时:0.0030s
12:02:31,527 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_3_1059_in.xml
12:02:31,528 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
12:02:31,528 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
12:02:31,530 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
12:02:31,537 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
12:02:31,540 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
12:02:31,540 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
12:02:31,546 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
12:02:31,546 INFO service.ContBatchSendDisk(67) - 1
12:02:31,547 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
12:02:31,547 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
12:02:31,547 INFO service.ContBatchSendDisk(94) - 文件解密开始...
12:02:31,547 INFO service.ContBatchSendDisk(99) - 文件解密完成...
12:02:31,557 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
12:02:31,558 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
12:02:31,562 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
12:02:31,563 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
12:02:31,563 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
12:02:31,850 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
12:02:31,854 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

12:02:31,854 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
12:02:31,978 INFO format.BatchSendDisk(190) - 配置节点element:
12:02:31,979 INFO common.Log4jPrint(20) - 加密前文件路径：null
12:02:31,979 INFO common.Log4jPrint(20) - 交易码：P53818105
12:02:31,979 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
12:02:31,980 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
12:02:31,981 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
12:02:31,984 INFO common.SaveMessage(94) - 15272_6_1059_out.xml IO输出耗时:0.0020s
12:02:31,984 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_6_1059_out.xml
12:02:31,987 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116120231538</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116120231976</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478171</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478171</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


12:02:31,988 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
12:02:31,990 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
12:02:31,991 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.582s
12:02:32,250 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:02:32,251 INFO common.Log4jPrint(20) - 108011rv11484294694478171
12:02:32,252 INFO common.Log4jPrint(20) - 108011rv11484294694478171
12:02:32,252 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478171'
12:02:32,300 INFO common.Log4jPrint(20) - i=0
12:02:32,305 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:02:32,307 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.936s
12:02:32,307 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:02:38,494 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:225)
12:36:36,299 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
12:36:36,299 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:36:36,309 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:36:36,309 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:36:36,309 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:36:36,309 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:36:36,309 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:36:36,309 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
12:36:36,370 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:36:36,380 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:36:36,380 INFO common.Log4jPrint(20) - End reset System.out!
12:36:36,380 INFO net.SocketConf(27) - Into SocketConf.load()...
12:36:36,380 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:36:36,380 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
12:36:36,390 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:36:36,390 INFO net.SocketConf(60) - Out SocketConf.load()!
12:36:36,400 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:36:36,400 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:36:36,410 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:36:36,410 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:36:36,410 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:36:36,420 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:36:36,420 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:36:36,420 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:36:36,420 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:36:36,420 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:36:36,420 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:36:36,430 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:36:36,430 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:36:36,430 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:36:57,172 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
12:36:57,172 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
12:36:57,172 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@5da5e65f
12:36:57,172 INFO common.Log4jPrint(20) - Start revert System.out...
12:36:57,172 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
12:36:57,192 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:36:57,192 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:36:57,192 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:36:57,192 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:36:57,242 INFO boc.BocConf(22) - Into BocConf.load()...
12:36:57,242 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
12:36:57,242 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,459) and length=3632 bytes!
12:36:57,252 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
12:36:57,252 INFO boc.BocConf(47) - Out BocConf.load()!
12:36:57,262 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
12:36:57,262 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:36:57,262 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
12:36:57,272 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:36:57,292 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

12:36:57,292 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
12:36:57,302 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
12:36:57,312 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
12:36:57,312 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,461) and length=1763 bytes!
12:36:57,312 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
12:36:57,312 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
12:37:04,297 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@604788d5
12:37:04,307 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:37:04,307 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:37:04,307 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:37:04,317 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:37:04,317 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:37:04,317 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:37:04,317 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
12:37:04,377 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:37:04,387 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:37:04,387 INFO common.Log4jPrint(20) - End reset System.out!
12:37:04,387 INFO net.SocketConf(27) - Into SocketConf.load()...
12:37:04,387 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:37:04,387 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
12:37:04,397 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:37:04,397 INFO net.SocketConf(60) - Out SocketConf.load()!
12:37:04,407 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:37:04,407 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:37:04,417 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:37:04,417 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:37:04,417 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:37:04,417 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:37:04,417 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:37:04,417 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:37:04,427 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:37:04,427 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:37:04,427 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:37:04,427 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:37:04,427 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:37:04,437 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:38:28,333 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
12:38:28,334 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
12:38:28,334 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@15d45d9
12:38:28,335 INFO common.Log4jPrint(20) - Start revert System.out...
12:38:28,335 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
12:38:28,351 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:38:28,351 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:38:28,351 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:38:28,351 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:38:28,383 INFO boc.BocConf(22) - Into BocConf.load()...
12:38:28,384 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
12:38:28,385 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,459) and length=3632 bytes!
12:38:28,393 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
12:38:28,394 INFO boc.BocConf(47) - Out BocConf.load()!
12:38:28,411 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
12:38:28,411 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:38:28,412 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
12:38:28,421 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:38:28,433 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

12:38:28,434 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
12:38:28,440 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
12:38:28,440 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
12:38:28,441 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,461) and length=1763 bytes!
12:38:28,445 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
12:38:28,445 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
12:38:32,472 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@355ccfb1
12:38:32,481 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:38:32,485 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:38:32,486 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:38:32,488 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:38:32,488 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:38:32,489 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:38:32,492 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
12:38:32,564 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:38:32,572 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:38:32,573 INFO common.Log4jPrint(20) - End reset System.out!
12:38:32,575 INFO net.SocketConf(27) - Into SocketConf.load()...
12:38:32,575 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:38:32,576 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
12:38:32,580 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:38:32,581 INFO net.SocketConf(60) - Out SocketConf.load()!
12:38:32,597 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:38:32,597 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:38:32,611 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:38:32,611 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:38:32,611 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:38:32,618 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:38:32,618 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:38:32,619 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:38:32,624 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:38:32,625 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:38:32,625 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:38:32,630 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:38:32,631 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:38:32,631 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:40:25,886 INFO net.SocketListenerF5(121) - Into SocketListenerF5.contextDestroyed()...
12:40:25,887 INFO net.SocketListenerF5(123) - 关闭ServerSocket监听...
12:40:25,887 DEBUG net.SocketListenerF5(143) - System.out = com.sinosoft.midplat.common.Log4jPrint@47d978ea
12:40:25,888 INFO common.Log4jPrint(20) - Start revert System.out...
12:40:25,889 INFO net.SocketListenerF5(152) - Out SocketListenerF5.contextDestroyed()!
12:40:25,905 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:40:25,905 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:40:25,905 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:40:25,905 ERROR net.SocketListenerF5$Server(229) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:207)
12:40:25,945 INFO boc.BocConf(22) - Into BocConf.load()...
12:40:25,946 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
12:40:25,946 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,459) and length=3632 bytes!
12:40:25,951 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
12:40:25,951 INFO boc.BocConf(47) - Out BocConf.load()!
12:40:25,967 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
12:40:25,967 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:40:25,968 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
12:40:25,977 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:40:25,994 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

12:40:25,996 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
12:40:26,004 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
12:40:26,005 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
12:40:26,005 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,461) and length=1763 bytes!
12:40:26,009 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
12:40:26,010 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
12:41:32,324 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@604788d5
12:41:32,332 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:41:32,335 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:41:32,336 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:41:32,338 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:41:32,338 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:41:32,339 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:41:32,342 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,462) and length=26672 bytes!
12:41:32,407 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:41:32,417 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:41:32,418 INFO common.Log4jPrint(20) - End reset System.out!
12:41:32,420 INFO net.SocketConf(27) - Into SocketConf.load()...
12:41:32,420 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:41:32,421 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,464) and length=789 bytes!
12:41:32,424 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:41:32,425 INFO net.SocketConf(60) - Out SocketConf.load()!
12:41:32,441 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:41:32,442 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:41:32,453 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:41:32,453 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:41:32,454 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:41:32,459 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:41:32,459 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:41:32,459 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:41:32,465 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:41:32,465 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:41:32,465 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:41:32,472 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:41:32,473 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:41:32,472 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:41:35,581 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
12:41:35,591 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
12:41:35,591 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:41:35,592 INFO common.XmlConf(80) - conf file modified at (2017-01-16 10:02:27,463) and length=15305 bytes!
12:41:35,600 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
12:41:35,601 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
12:41:35,601 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:41:35,622 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

12:41:35,624 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
12:41:35,626 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
12:41:35,632 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:41:36,401 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:41:36,508 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:41:36,645 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
12:41:36,646 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
12:41:36,647 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:41:36,657 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
12:41:36,658 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:41:36,659 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
12:41:36,664 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
12:41:36,668 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
12:41:36,669 INFO newNet.CcbNetImpl(65) - mTranCom==============03
12:41:36,669 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
12:41:36,802 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
12:41:36,802 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
12:41:36,805 INFO common.SaveMessage(94) - 15272_3_1059_in.xml IO输出耗时:0.0020s
12:41:36,805 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_3_1059_in.xml
12:41:36,806 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
12:41:36,807 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
12:41:36,809 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
12:41:36,816 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
12:41:36,818 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
12:41:36,819 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
12:41:36,824 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
12:41:36,824 INFO service.ContBatchSendDisk(67) - 1
12:41:36,825 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
12:41:36,825 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
12:41:36,825 INFO service.ContBatchSendDisk(94) - 文件解密开始...
12:41:36,825 INFO service.ContBatchSendDisk(99) - 文件解密完成...
12:41:36,837 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:225)
12:41:36,838 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
12:41:36,838 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
12:41:36,842 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
12:41:36,843 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
12:41:36,843 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
12:41:37,164 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
12:41:37,167 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

12:41:37,168 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
12:41:37,315 INFO format.BatchSendDisk(190) - 配置节点element:
12:41:37,316 INFO common.Log4jPrint(20) - 加密前文件路径：null
12:41:37,316 INFO common.Log4jPrint(20) - 交易码：P53818105
12:41:37,316 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
12:41:37,318 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
12:41:37,318 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
12:41:37,322 INFO common.SaveMessage(94) - 15272_6_1059_out.xml IO输出耗时:0.0010s
12:41:37,322 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_6_1059_out.xml
12:41:37,327 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116124136816</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116124137313</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478172</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478172</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


12:41:37,328 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
12:41:37,332 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
12:41:37,334 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.742s
12:41:37,389 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:41:37,389 INFO common.Log4jPrint(20) - 108011rv11484294694478172
12:41:37,389 INFO common.Log4jPrint(20) - 108011rv11484294694478172
12:41:37,390 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478172'
12:41:37,473 INFO common.Log4jPrint(20) - i=0
12:41:37,476 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:41:37,477 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.819s
12:41:37,478 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:42:46,583 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
12:42:46,594 INFO midplat.Ybt4Socket(34) - TranLogNo:15275
12:42:46,594 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:42:46,594 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
12:42:46,595 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:42:46,595 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
12:42:46,603 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
12:42:46,604 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
12:42:46,604 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
12:42:46,607 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
12:42:46,607 INFO newNet.CcbNetImpl(65) - mTranCom==============03
12:42:46,607 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
12:42:46,611 INFO common.SaveMessage(94) - 15278_9_1059_in.xml IO输出耗时:0.0020s
12:42:46,611 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15278_9_1059_in.xml
12:42:46,612 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
12:42:46,613 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
12:42:46,615 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
12:42:46,615 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
12:42:46,615 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
12:42:46,616 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
12:42:46,616 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
12:42:46,616 INFO service.ContBatchSendDisk(67) - 1
12:42:46,617 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
12:42:46,617 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
12:42:46,617 INFO service.ContBatchSendDisk(94) - 文件解密开始...
12:42:46,617 INFO service.ContBatchSendDisk(99) - 文件解密完成...
12:42:46,618 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
12:42:46,618 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:225)
12:42:46,618 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
12:42:46,622 INFO format.BatchSendDisk(190) - 配置节点element:
12:42:46,623 INFO common.Log4jPrint(20) - 加密前文件路径：null
12:42:46,623 INFO common.Log4jPrint(20) - 交易码：P53818105
12:42:46,623 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
12:42:46,624 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
12:42:46,624 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
12:42:46,627 INFO common.SaveMessage(94) - 15278_12_1059_out.xml IO输出耗时:0.0010s
12:42:46,627 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15278_12_1059_out.xml
12:42:46,630 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116124246615</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116124246620</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478173</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478173</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


12:42:46,639 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
12:42:46,641 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
12:42:46,643 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.049s
12:42:46,692 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:42:46,692 INFO common.Log4jPrint(20) - 108011rv11484294694478173
12:42:46,692 INFO common.Log4jPrint(20) - 108011rv11484294694478173
12:42:46,693 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478173'
12:42:46,725 INFO common.Log4jPrint(20) - i=0
12:42:46,726 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:42:46,726 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.131s
12:42:46,726 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:43:34,216 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
12:43:34,226 INFO midplat.Ybt4Socket(34) - TranLogNo:15281
12:43:34,226 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:43:34,226 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
12:43:34,227 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:43:34,227 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
12:43:34,233 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
12:43:34,234 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
12:43:34,235 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
12:43:34,237 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
12:43:34,237 INFO newNet.CcbNetImpl(65) - mTranCom==============03
12:43:34,237 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
12:43:34,242 INFO common.SaveMessage(94) - 15284_15_1059_in.xml IO输出耗时:0.0020s
12:43:34,242 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15284_15_1059_in.xml
12:43:34,243 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
12:43:34,244 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
12:43:34,246 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
12:43:34,247 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
12:43:34,247 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
12:43:34,247 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
12:43:34,248 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
12:43:34,248 INFO service.ContBatchSendDisk(67) - 1
12:43:34,248 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
12:43:34,249 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
12:43:34,249 INFO service.ContBatchSendDisk(94) - 文件解密开始...
12:43:34,249 INFO service.ContBatchSendDisk(99) - 文件解密完成...
12:43:34,249 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
12:43:34,249 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
12:43:34,249 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:225)
12:43:34,253 INFO format.BatchSendDisk(190) - 配置节点element:
12:43:34,254 INFO common.Log4jPrint(20) - 加密前文件路径：null
12:43:34,254 INFO common.Log4jPrint(20) - 交易码：P53818105
12:43:34,254 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
12:43:34,255 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
12:43:34,255 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
12:43:34,258 INFO common.SaveMessage(94) - 15284_18_1059_out.xml IO输出耗时:0.0020s
12:43:34,258 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15284_18_1059_out.xml
12:43:34,260 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116124334247</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116124334251</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478174</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478174</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


12:43:34,261 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
12:43:34,262 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
12:43:34,264 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.038s
12:43:34,328 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:43:34,328 INFO common.Log4jPrint(20) - 108011rv11484294694478174
12:43:34,328 INFO common.Log4jPrint(20) - 108011rv11484294694478174
12:43:34,328 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478174'
12:43:34,362 INFO common.Log4jPrint(20) - i=0
12:43:34,363 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:43:34,363 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.136s
12:43:34,363 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:52:58,240 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
12:52:58,250 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:52:58,250 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:52:58,250 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:52:58,250 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:52:58,250 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:52:58,250 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:52:58,260 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,177) and length=26672 bytes!
12:52:58,320 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:52:58,320 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:52:58,330 INFO common.Log4jPrint(20) - End reset System.out!
12:52:58,330 INFO net.SocketConf(27) - Into SocketConf.load()...
12:52:58,330 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:52:58,330 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,179) and length=789 bytes!
12:52:58,330 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:52:58,330 INFO net.SocketConf(60) - Out SocketConf.load()!
12:52:58,350 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:52:58,350 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:52:58,360 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:52:58,360 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:52:58,360 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:52:58,370 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:52:58,370 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:52:58,370 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:52:58,370 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:52:58,370 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:52:58,370 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:52:58,380 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:52:58,380 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:52:58,380 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
12:53:13,981 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
12:53:13,991 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
12:53:13,991 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:53:13,991 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,178) and length=15305 bytes!
12:53:14,001 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
12:53:14,001 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
12:53:14,001 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:53:14,032 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

12:53:14,032 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
12:53:14,032 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
12:53:14,042 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:53:14,662 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:53:14,752 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:53:14,922 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
12:53:14,922 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
12:53:14,932 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:53:14,942 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
12:53:14,942 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:53:14,942 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
12:53:14,952 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
12:53:14,962 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
12:53:14,962 INFO newNet.CcbNetImpl(65) - mTranCom==============03
12:53:14,962 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
12:53:15,102 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
12:53:15,102 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
12:53:15,112 INFO common.SaveMessage(94) - 15272_3_1059_in.xml IO输出耗时:0.01s
12:53:15,112 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_3_1059_in.xml
12:53:15,112 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
12:53:15,112 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
12:53:15,112 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
12:53:15,122 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
12:53:15,123 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
12:53:15,123 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
12:53:15,123 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
12:53:15,123 INFO service.ContBatchSendDisk(67) - 1
12:53:15,123 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
12:53:15,123 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
12:53:15,123 INFO service.ContBatchSendDisk(94) - 文件解密开始...
12:53:15,123 INFO service.ContBatchSendDisk(99) - 文件解密完成...
12:53:15,143 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
12:53:15,143 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
12:53:15,143 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
12:53:15,143 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
12:53:15,143 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
12:53:15,523 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
12:53:15,523 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

12:53:15,523 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
12:53:15,653 INFO format.BatchSendDisk(190) - 配置节点element:
12:53:15,653 INFO common.Log4jPrint(20) - 加密前文件路径：null
12:53:15,663 INFO common.Log4jPrint(20) - 交易码：P53818105
12:53:15,663 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
12:53:15,663 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
12:53:15,663 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
12:53:15,663 INFO common.SaveMessage(94) - 15272_6_1059_out.xml IO输出耗时:0.0s
12:53:15,663 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_6_1059_out.xml
12:53:15,673 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116125315123</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116125315653</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478175</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478175</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


12:53:15,673 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
12:53:15,673 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
12:53:15,673 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.682s
12:53:15,765 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:53:15,765 INFO common.Log4jPrint(20) - 108011rv11484294694478175
12:53:15,765 INFO common.Log4jPrint(20) - 108011rv11484294694478175
12:53:15,765 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478175'
12:53:15,825 INFO common.Log4jPrint(20) - i=0
12:53:15,835 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
12:53:15,835 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.893s
12:53:15,835 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
12:53:44,535 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:225)
12:59:54,696 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
12:59:54,706 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:59:54,706 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:59:54,706 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:59:54,716 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
12:59:54,716 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:59:54,726 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:59:54,726 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,177) and length=26672 bytes!
12:59:54,797 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:59:54,807 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:59:54,807 INFO common.Log4jPrint(20) - End reset System.out!
12:59:54,807 INFO net.SocketConf(27) - Into SocketConf.load()...
12:59:54,807 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:59:54,807 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,179) and length=789 bytes!
12:59:54,807 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:59:54,807 INFO net.SocketConf(60) - Out SocketConf.load()!
12:59:54,827 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
12:59:54,827 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:59:54,837 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
12:59:54,837 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:59:54,837 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
12:59:54,847 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
12:59:54,847 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
12:59:54,847 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:59:54,857 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
12:59:54,857 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
12:59:54,857 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:59:54,857 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
12:59:54,857 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
12:59:54,857 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
13:00:09,567 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
13:00:09,577 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
13:00:09,577 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:00:09,577 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,178) and length=15305 bytes!
13:00:09,587 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
13:00:09,587 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
13:00:09,587 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:00:09,608 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

13:00:09,608 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
13:00:09,618 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
13:00:09,628 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
13:00:10,743 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
13:00:11,082 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
13:00:11,392 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
13:00:11,392 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
13:00:11,402 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:00:11,412 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
13:00:11,412 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:00:11,412 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
13:00:11,412 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
13:00:11,422 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
13:00:11,422 INFO newNet.CcbNetImpl(65) - mTranCom==============03
13:00:11,422 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
13:00:11,559 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
13:00:11,559 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
13:00:11,559 INFO common.SaveMessage(94) - 15272_3_1059_in.xml IO输出耗时:0.0s
13:00:11,559 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_3_1059_in.xml
13:00:11,559 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
13:00:11,569 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
13:00:11,569 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
13:00:11,569 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
13:00:11,579 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
13:00:11,579 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
13:00:11,579 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
13:00:11,579 INFO service.ContBatchSendDisk(67) - 1
13:00:11,579 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
13:00:11,579 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
13:00:11,579 INFO service.ContBatchSendDisk(94) - 文件解密开始...
13:00:11,579 INFO service.ContBatchSendDisk(99) - 文件解密完成...
13:00:11,589 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
13:00:11,589 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
13:00:11,599 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
13:00:11,599 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
13:00:11,599 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
13:00:11,899 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
13:00:11,909 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

13:00:11,909 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
13:00:12,032 INFO format.BatchSendDisk(190) - 配置节点element:
13:00:12,032 INFO common.Log4jPrint(20) - 加密前文件路径：null
13:00:12,033 INFO common.Log4jPrint(20) - 交易码：P53818105
13:00:12,033 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
13:00:12,034 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
13:00:12,035 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
13:00:12,036 INFO common.SaveMessage(94) - 15272_6_1059_out.xml IO输出耗时:0.0s
13:00:12,036 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_6_1059_out.xml
13:00:12,036 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116130011569</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116130012030</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478176</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478176</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


13:00:12,036 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
13:00:12,036 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
13:00:12,046 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.459s
13:00:14,178 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:00:14,178 INFO common.Log4jPrint(20) - 108011rv11484294694478176
13:00:14,178 INFO common.Log4jPrint(20) - 108011rv11484294694478176
13:00:14,178 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478176'
13:00:15,064 INFO common.Log4jPrint(20) - i=0
13:00:15,064 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
13:00:15,064 INFO midplat.Ybt4Socket(192) - 处理总耗时：3.652s
13:00:15,064 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:00:43,134 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:226)
13:01:11,177 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
13:01:11,487 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
13:01:11,497 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
13:01:11,507 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
13:01:11,507 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
13:01:11,507 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
13:01:11,507 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
13:01:11,507 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
13:01:11,507 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,177) and length=26672 bytes!
13:01:11,578 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
13:01:11,588 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
13:01:11,588 INFO common.Log4jPrint(20) - End reset System.out!
13:01:11,588 INFO net.SocketConf(27) - Into SocketConf.load()...
13:01:11,588 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
13:01:11,598 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,179) and length=789 bytes!
13:01:11,598 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
13:01:11,598 INFO net.SocketConf(60) - Out SocketConf.load()!
13:01:11,618 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
13:01:11,618 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
13:01:11,628 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
13:01:11,628 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
13:01:11,628 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
13:01:11,638 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
13:01:11,638 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
13:01:11,638 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
13:01:11,638 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
13:01:11,638 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
13:01:11,638 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
13:01:11,648 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
13:01:11,648 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
13:01:11,648 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
13:01:11,698 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
13:01:11,698 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:01:11,698 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,178) and length=15305 bytes!
13:01:11,698 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
13:01:11,708 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
13:01:11,708 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:01:11,738 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

13:01:11,738 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
13:01:11,738 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
13:01:11,748 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
13:01:12,444 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
13:01:12,554 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
13:01:12,645 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
13:01:12,645 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
13:01:12,645 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:01:12,665 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
13:01:12,665 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:01:12,665 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
13:01:12,675 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
13:01:12,685 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
13:01:12,685 INFO newNet.CcbNetImpl(65) - mTranCom==============03
13:01:12,685 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
13:01:12,815 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
13:01:12,815 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
13:01:12,825 INFO common.SaveMessage(94) - 15272_3_1059_in.xml IO输出耗时:0.01s
13:01:12,825 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_3_1059_in.xml
13:01:12,825 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
13:01:12,825 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
13:01:12,825 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
13:01:12,835 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
13:01:12,835 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
13:01:12,835 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
13:01:12,835 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
13:01:12,835 INFO service.ContBatchSendDisk(67) - 1
13:01:12,845 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
13:01:12,845 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
13:01:12,845 INFO service.ContBatchSendDisk(94) - 文件解密开始...
13:01:12,845 INFO service.ContBatchSendDisk(99) - 文件解密完成...
13:01:12,855 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
13:01:12,855 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
13:01:12,855 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
13:01:12,855 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
13:01:12,855 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
13:01:13,137 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
13:01:13,147 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

13:01:13,147 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
13:01:13,267 INFO format.BatchSendDisk(190) - 配置节点element:
13:01:13,267 INFO common.Log4jPrint(20) - 加密前文件路径：null
13:01:13,267 INFO common.Log4jPrint(20) - 交易码：P53818105
13:01:13,267 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
13:01:13,267 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
13:01:13,267 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
13:01:13,267 INFO common.SaveMessage(94) - 15272_6_1059_out.xml IO输出耗时:0.0s
13:01:13,267 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_6_1059_out.xml
13:01:13,277 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116130112835</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116130113257</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478177</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478177</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


13:01:13,277 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
13:01:13,277 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
13:01:13,277 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.579s
13:01:13,349 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:01:13,349 INFO common.Log4jPrint(20) - 108011rv11484294694478177
13:01:13,349 INFO common.Log4jPrint(20) - 108011rv11484294694478177
13:01:13,349 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478177'
13:01:13,559 INFO common.Log4jPrint(20) - i=0
13:01:13,559 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
13:01:13,559 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.894s
13:01:13,559 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:01:17,069 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:226)
13:03:15,082 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
13:03:15,092 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
13:03:15,092 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
13:03:15,092 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
13:03:15,092 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
13:03:15,092 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
13:03:15,102 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
13:03:15,103 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,177) and length=26672 bytes!
13:03:15,173 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
13:03:15,183 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
13:03:15,183 INFO common.Log4jPrint(20) - End reset System.out!
13:03:15,183 INFO net.SocketConf(27) - Into SocketConf.load()...
13:03:15,183 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
13:03:15,193 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,179) and length=789 bytes!
13:03:15,193 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
13:03:15,193 INFO net.SocketConf(60) - Out SocketConf.load()!
13:03:15,213 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
13:03:15,213 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
13:03:15,223 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
13:03:15,223 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
13:03:15,223 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
13:03:15,223 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
13:03:15,223 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
13:03:15,223 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
13:03:15,233 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
13:03:15,233 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
13:03:15,233 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
13:03:15,243 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
13:03:15,243 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
13:03:15,243 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
13:03:29,074 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
13:03:29,084 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
13:03:29,084 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:03:29,084 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,178) and length=15305 bytes!
13:03:29,094 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
13:03:29,094 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
13:03:29,104 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:03:29,125 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

13:03:29,125 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
13:03:29,125 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
13:03:29,135 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
13:03:29,705 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
13:03:29,825 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
13:03:29,905 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
13:03:29,905 INFO midplat.Ybt4Socket(34) - TranLogNo:15269
13:03:29,905 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:03:29,915 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
13:03:29,915 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:03:29,915 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
13:03:29,915 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
13:03:29,925 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
13:03:29,925 INFO newNet.CcbNetImpl(65) - mTranCom==============03
13:03:29,925 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
13:03:30,051 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
13:03:30,051 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
13:03:30,061 INFO common.SaveMessage(94) - 15272_3_1059_in.xml IO输出耗时:0.01s
13:03:30,061 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15272_3_1059_in.xml
13:03:30,061 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
13:03:30,061 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
13:03:30,061 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
13:03:30,071 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
13:03:30,071 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
13:03:30,071 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
13:03:30,071 INFO service.ContBatchSendDisk(64) - Into Get_PayRetServ.service()...
13:03:30,071 INFO service.ContBatchSendDisk(67) - 1
13:03:30,071 INFO service.ContBatchSendDisk(86) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
13:03:30,071 INFO service.ContBatchSendDisk(92) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
13:03:30,071 INFO service.ContBatchSendDisk(94) - 文件解密开始...
13:03:30,071 INFO service.ContBatchSendDisk(99) - 文件解密完成...
13:03:30,081 INFO service.ContBatchSendDisk(118) - Out Get_PayRetServ.service()!
13:03:30,091 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
13:03:30,091 INFO service.ContBatchSendDisk$PayRetServ(229) - 开始拼接发送核心报文....
13:03:30,091 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
13:03:30,091 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
13:03:30,101 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
13:03:30,422 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
13:03:30,422 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

13:03:30,422 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
13:03:30,552 INFO format.BatchSendDisk(190) - 配置节点element:
13:03:30,552 INFO common.Log4jPrint(20) - 加密前文件路径：null
13:03:30,562 INFO common.Log4jPrint(20) - 交易码：P53818105
13:03:30,562 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
13:03:30,562 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
13:03:30,562 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
13:03:30,562 INFO common.SaveMessage(94) - 15272_6_1059_out.xml IO输出耗时:0.0s
13:03:30,562 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15272_6_1059_out.xml
13:03:30,562 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116130330071</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116130330552</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478178</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478178</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


13:03:30,562 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
13:03:30,572 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
13:03:30,572 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.488s
13:03:30,654 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:03:30,654 INFO common.Log4jPrint(20) - 108011rv11484294694478178
13:03:30,654 INFO common.Log4jPrint(20) - 108011rv11484294694478178
13:03:30,654 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478178'
13:03:30,714 INFO common.Log4jPrint(20) - i=0
13:03:30,714 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
13:03:30,714 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.799s
13:03:30,714 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:03:34,642 INFO service.ContBatchSendDisk$PayRetServ(233) - 888888888881
13:03:47,500 INFO service.ContBatchSendDisk$PayRetServ(280) - 完成拼接发送核心报文....
13:03:49,506 DEBUG service.ContBatchSendDisk(180) - Into ServiceImpl.insertTranLog()...
13:03:49,618 INFO common.Log4jPrint(20) - 进入更新后的InsPart
13:03:49,618 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15275,3,'110378300','108011rv11484294694478178','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,130349,20170116,130349 )
13:03:49,668 DEBUG service.ContBatchSendDisk(208) - Out ServiceImpl.insertTranLog()!
13:03:52,185 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
13:03:52,185 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:03:52,185 INFO common.Log4jPrint(20) - 108011rv11484294694478178
13:03:52,185 INFO common.Log4jPrint(20) - 108011rv11484294694478178
13:03:52,185 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15275,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478178',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=22,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=130349,ModifyDate=20170116,ModifyTime=130352,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478178'
13:09:06,724 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
13:09:06,734 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
13:09:06,734 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
13:09:06,744 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
13:09:06,744 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
13:09:06,744 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
13:09:06,744 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
13:09:06,744 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,177) and length=26672 bytes!
13:09:06,814 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
13:09:06,814 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
13:09:06,814 INFO common.Log4jPrint(20) - End reset System.out!
13:09:06,824 INFO net.SocketConf(27) - Into SocketConf.load()...
13:09:06,824 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
13:09:06,824 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,179) and length=789 bytes!
13:09:06,824 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
13:09:06,824 INFO net.SocketConf(60) - Out SocketConf.load()!
13:09:06,844 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
13:09:06,844 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
13:09:06,854 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
13:09:06,854 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
13:09:06,854 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
13:09:06,864 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
13:09:06,864 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
13:09:06,864 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
13:09:06,874 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
13:09:06,874 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
13:09:06,874 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
13:09:06,874 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
13:09:06,884 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
13:09:06,874 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
13:09:10,359 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
13:09:10,369 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
13:09:10,369 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:09:10,369 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,178) and length=15305 bytes!
13:09:10,379 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:09:10,379 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
13:09:10,379 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
13:09:10,400 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

13:09:10,400 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
13:09:10,400 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
13:09:10,410 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
13:09:11,498 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
13:09:11,689 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
13:09:11,910 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
13:09:11,910 INFO midplat.Ybt4Socket(34) - TranLogNo:15278
13:09:11,910 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:09:11,910 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
13:09:11,910 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:09:11,910 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
13:09:11,920 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
13:09:11,920 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
13:09:11,920 INFO newNet.CcbNetImpl(65) - mTranCom==============03
13:09:11,920 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
13:09:12,041 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
13:09:12,041 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
13:09:12,041 INFO common.SaveMessage(94) - 15281_3_1059_in.xml IO输出耗时:0.0s
13:09:12,041 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15281_3_1059_in.xml
13:09:12,051 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
13:09:12,051 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
13:09:12,051 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
13:09:12,051 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
13:09:12,061 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
13:09:12,061 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
13:09:12,061 INFO service.ContBatchSendDisk(57) - Into Get_PayRetServ.service()...
13:09:12,061 INFO service.ContBatchSendDisk(60) - 1
13:09:12,061 INFO service.ContBatchSendDisk(79) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
13:09:12,061 INFO service.ContBatchSendDisk(85) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
13:09:12,061 INFO service.ContBatchSendDisk(87) - 文件解密开始...
13:09:12,061 INFO service.ContBatchSendDisk(92) - 文件解密完成...
13:09:12,071 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
13:09:12,071 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
13:09:12,081 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
13:09:12,081 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
13:09:12,081 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
13:09:12,081 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
13:09:12,081 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
13:09:12,381 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
13:09:12,391 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

13:09:12,391 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
13:09:12,511 INFO format.BatchSendDisk(190) - 配置节点element:
13:09:12,512 INFO common.Log4jPrint(20) - 加密前文件路径：null
13:09:12,512 INFO common.Log4jPrint(20) - 交易码：P53818105
13:09:12,512 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
13:09:12,514 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
13:09:12,514 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
13:09:12,515 INFO common.SaveMessage(94) - 15281_6_1059_out.xml IO输出耗时:0.0s
13:09:12,515 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15281_6_1059_out.xml
13:09:12,515 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116130912051</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116130912501</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478179</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478179</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


13:09:12,515 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
13:09:12,525 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
13:09:12,525 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.156s
13:09:12,597 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:09:12,597 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:09:12,597 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:09:12,597 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478179'
13:09:12,657 INFO common.Log4jPrint(20) - i=0
13:09:12,667 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
13:09:12,667 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.757s
13:09:12,667 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:09:40,550 INFO service.ContBatchSendDisk$PayRetServ(277) - 完成拼接发送核心报文....
13:09:40,560 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
13:09:40,791 INFO common.Log4jPrint(20) - 进入更新后的InsPart
13:09:40,791 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15284,3,'110378300','108011rv11484294694478179','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,130940,20170116,130940 )
13:09:40,831 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
13:09:41,134 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
13:09:41,134 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:09:41,134 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:09:41,134 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:09:41,134 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15284,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478179',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=28,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=130940,ModifyDate=20170116,ModifyTime=130940,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478179'
13:11:44,756 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@170d9151
13:11:44,764 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
13:11:44,767 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
13:11:44,768 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
13:11:44,770 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
13:11:44,770 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
13:11:44,771 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
13:11:44,774 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,177) and length=26672 bytes!
13:11:44,835 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
13:11:44,843 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
13:11:44,843 INFO common.Log4jPrint(20) - End reset System.out!
13:11:44,845 INFO net.SocketConf(27) - Into SocketConf.load()...
13:11:44,845 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
13:11:44,846 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,179) and length=789 bytes!
13:11:44,849 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
13:11:44,849 INFO net.SocketConf(60) - Out SocketConf.load()!
13:11:44,868 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
13:11:44,869 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
13:11:44,878 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
13:11:44,879 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
13:11:44,878 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
13:11:44,885 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
13:11:44,885 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
13:11:44,885 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
13:11:44,892 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
13:11:44,893 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
13:11:44,892 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
13:11:44,898 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
13:11:44,899 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
13:11:44,899 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
13:11:48,592 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
13:11:48,602 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
13:11:48,603 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:11:48,603 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,178) and length=15305 bytes!
13:11:48,610 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
13:11:48,612 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
13:11:48,612 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:11:48,633 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

13:11:48,634 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
13:11:48,637 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
13:11:48,643 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
13:11:49,233 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
13:11:49,304 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
13:11:49,407 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
13:11:49,408 INFO midplat.Ybt4Socket(34) - TranLogNo:15287
13:11:49,408 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:11:49,414 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
13:11:49,415 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:11:49,416 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
13:11:49,419 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
13:11:49,423 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
13:11:49,424 INFO newNet.CcbNetImpl(65) - mTranCom==============03
13:11:49,424 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
13:11:49,554 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
13:11:49,555 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
13:11:49,558 INFO common.SaveMessage(94) - 15290_3_1059_in.xml IO输出耗时:0.0030s
13:11:49,558 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15290_3_1059_in.xml
13:11:49,559 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
13:11:49,560 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
13:11:49,562 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
13:11:49,567 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
13:11:49,570 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
13:11:49,570 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
13:11:49,575 INFO service.ContBatchSendDisk(57) - Into Get_PayRetServ.service()...
13:11:49,575 INFO service.ContBatchSendDisk(60) - 1
13:11:49,576 INFO service.ContBatchSendDisk(79) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
13:11:49,576 INFO service.ContBatchSendDisk(85) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
13:11:49,576 INFO service.ContBatchSendDisk(87) - 文件解密开始...
13:11:49,576 INFO service.ContBatchSendDisk(92) - 文件解密完成...
13:11:49,585 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
13:11:49,586 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
13:11:49,590 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
13:11:49,590 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
13:11:49,590 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
13:11:49,590 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
13:11:49,591 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
13:11:49,897 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
13:11:49,901 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

13:11:49,901 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
13:11:50,024 INFO format.BatchSendDisk(190) - 配置节点element:
13:11:50,024 INFO common.Log4jPrint(20) - 加密前文件路径：null
13:11:50,025 INFO common.Log4jPrint(20) - 交易码：P53818105
13:11:50,025 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
13:11:50,026 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
13:11:50,026 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
13:11:50,030 INFO common.SaveMessage(94) - 15290_6_1059_out.xml IO输出耗时:0.0020s
13:11:50,031 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15290_6_1059_out.xml
13:11:50,035 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116131149567</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116131150022</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478179</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478179</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


13:11:50,036 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
13:11:50,038 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
13:11:50,039 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹1.436s
13:11:50,084 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:11:50,084 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:11:50,084 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:11:50,085 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478179'
13:11:50,110 INFO common.Log4jPrint(20) - -------------------------
13:11:50,111 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
13:11:50,111 INFO common.Log4jPrint(20) - -------------------------
13:11:50,121 INFO common.Log4jPrint(20) - i=1
13:11:50,183 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
13:11:50,184 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:11:50,184 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:11:50,185 INFO common.Log4jPrint(20) - 108011rv11484294694478179
13:11:50,186 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15284,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478179',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=28,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.706',Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=130940,ModifyDate=20170116,ModifyTime=130940,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='15290_6_1059_out.xml' where TranNo='108011rv11484294694478179'
13:11:50,204 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.789s
13:11:50,205 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:12:25,393 INFO common.Log4jPrint(20) - [B@4d83da96
13:12:57,304 INFO service.ContBatchSendDisk$PayRetServ(278) - 完成拼接发送核心报文....
13:12:57,306 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
13:12:57,406 INFO common.Log4jPrint(20) - 进入更新后的InsPart
13:12:57,412 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15293,3,'110378300','108011rv11484294694478179','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,131257,20170116,131257 )
13:12:57,459 ERROR service.ContBatchSendDisk(197) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
13:12:57,459 INFO service.ContBatchSendDisk$PayRetServ(356) - 批量代收代付送盘交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk.insertTranLog(ContBatchSendDisk.java:198)
	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:282)
13:15:02,437 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@78ba6c13
13:15:02,445 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
13:15:02,449 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
13:15:02,450 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
13:15:02,451 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
13:15:02,452 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
13:15:02,453 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
13:15:02,456 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,177) and length=26672 bytes!
13:15:02,526 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
13:15:02,543 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
13:15:02,543 INFO common.Log4jPrint(20) - End reset System.out!
13:15:02,545 INFO net.SocketConf(27) - Into SocketConf.load()...
13:15:02,546 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
13:15:02,546 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,179) and length=789 bytes!
13:15:02,549 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
13:15:02,549 INFO net.SocketConf(60) - Out SocketConf.load()!
13:15:02,569 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
13:15:02,570 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
13:15:02,581 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
13:15:02,582 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
13:15:02,582 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
13:15:02,589 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
13:15:02,589 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
13:15:02,589 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
13:15:02,594 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
13:15:02,594 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
13:15:02,595 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
13:15:02,600 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
13:15:02,600 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
13:15:02,600 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
13:15:09,191 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
13:15:09,202 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
13:15:09,202 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:15:09,203 INFO common.XmlConf(80) - conf file modified at (2017-01-16 12:52:53,178) and length=15305 bytes!
13:15:09,213 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:15:09,214 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
13:15:09,216 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
13:15:09,238 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>D:/home/ap/fserver2/snd</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

13:15:09,240 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
13:15:09,242 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
13:15:09,250 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
13:15:10,441 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
13:15:10,542 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
13:15:10,675 ERROR common.NoFactory(193) - 初始化最大号异常！
java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:470)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.common.NoFactory.<clinit>(NoFactory.java:190)
	at com.sinosoft.midplat.Ybt4Socket.<init>(Ybt4Socket.java:33)
	at com.sinosoft.midplat.newccb.NewCcbYbt.<init>(NewCcbYbt.java:13)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:222)
13:15:10,678 INFO midplat.Ybt4Socket(34) - TranLogNo:15287
13:15:10,679 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:15:10,693 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
13:15:10,695 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:15:10,697 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
13:15:10,705 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
13:15:10,714 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
13:15:10,715 INFO newNet.CcbNetImpl(65) - mTranCom==============03
13:15:10,715 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
13:15:10,855 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
13:15:10,855 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
13:15:10,858 INFO common.SaveMessage(94) - 15290_3_1059_in.xml IO输出耗时:0.0020s
13:15:10,858 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15290_3_1059_in.xml
13:15:10,859 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
13:15:10,859 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
13:15:10,861 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
13:15:10,867 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
13:15:10,870 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
13:15:10,870 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
13:15:10,875 INFO service.ContBatchSendDisk(57) - Into Get_PayRetServ.service()...
13:15:10,876 INFO service.ContBatchSendDisk(60) - 1
13:15:10,877 INFO service.ContBatchSendDisk(79) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
13:15:10,877 INFO service.ContBatchSendDisk(85) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：D:/home/ap/fserver2/snd/AL03100192017011101_RESULT.XML
13:15:10,877 INFO service.ContBatchSendDisk(87) - 文件解密开始...
13:15:10,877 INFO service.ContBatchSendDisk(92) - 文件解密完成...
13:15:10,886 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
13:15:10,886 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
13:15:10,890 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
13:15:10,890 INFO format.BatchSendDiskOutXsl(25) - Into BatResponseOutXsl.load()...
13:15:10,890 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
13:15:10,891 INFO format.BatchSendDiskOutXsl(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl...
13:15:10,891 INFO common.XslCache(70) - conf file modified at (2017-01-16 09:59:55,615) and length=3155 bytes!
13:15:11,189 INFO format.BatchSendDiskOutXsl(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/BatchSendDiskOut.xsl!
13:15:11,192 INFO format.BatchSendDiskOutXsl(55) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

13:15:11,192 INFO format.BatchSendDiskOutXsl(63) - Out BatResponseOutXsl.load()!
13:15:11,316 INFO format.BatchSendDisk(190) - 配置节点element:
13:15:11,316 INFO common.Log4jPrint(20) - 加密前文件路径：null
13:15:11,316 INFO common.Log4jPrint(20) - 交易码：P53818105
13:15:11,316 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
13:15:11,318 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
13:15:11,318 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
13:15:11,321 INFO common.SaveMessage(94) - 15290_6_1059_out.xml IO输出耗时:0.0010s
13:15:11,322 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15290_6_1059_out.xml
13:15:11,325 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116131510868</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116131511313</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478181</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478181</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


13:15:11,325 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
13:15:11,327 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
13:15:11,328 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹2.127s
13:15:11,435 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:15:11,436 INFO common.Log4jPrint(20) - 108011rv11484294694478181
13:15:11,437 INFO common.Log4jPrint(20) - 108011rv11484294694478181
13:15:11,438 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478181'
13:15:11,601 INFO common.Log4jPrint(20) - i=0
13:15:11,606 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
13:15:11,607 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.912s
13:15:11,608 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:15:30,260 INFO service.ContBatchSendDisk$PayRetServ(279) - 完成拼接发送核心报文....
13:15:30,262 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
13:15:30,320 INFO common.Log4jPrint(20) - 进入更新后的InsPart
13:15:30,321 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15293,3,'110378300','108011rv11484294694478181','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,131530,20170116,131530 )
13:15:30,341 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
13:15:30,406 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
13:15:30,407 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:15:30,407 INFO common.Log4jPrint(20) - 108011rv11484294694478181
13:15:30,407 INFO common.Log4jPrint(20) - 108011rv11484294694478181
13:15:30,407 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15293,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478181',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=19,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=131530,ModifyDate=20170116,ModifyTime=131530,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478181'
13:24:02,557 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
13:24:02,559 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:24:02,560 INFO common.XmlConf(80) - conf file modified at (2017-01-16 13:23:16,872) and length=15315 bytes!
13:24:02,581 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:24:02,586 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><savePath>/home/weblogic/ybttest/newccb/sp/</savePath><!-- 明文保存路径 --><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchSendDisk</format><service>com.sinosoft.midplat.newccb.service.ContBatchSendDisk</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

13:24:02,599 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
13:24:20,836 INFO test.NewCCBTestUI(521) - Socket杩127.0.0.1:39871
13:24:20,848 INFO midplat.Ybt4Socket(34) - TranLogNo:15296
13:24:20,848 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:24:20,849 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
13:24:20,849 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:24:20,849 INFO newNet.CcbNetImpl(42) - Into CcbNetImpl.receive()...
13:24:20,856 INFO test.NewCCBTestUI(540) - 璇锋ユ垮害锛1899
13:24:20,857 DEBUG newNet.CcbNetImpl(50) - 请求报文长度：1899
13:24:20,857 INFO test.NewCCBTestUI(560) - 跺拌ユ锛
13:24:20,860 INFO newNet.CcbNetImpl(61) - 新建行交易码为==P53818105
13:24:20,860 INFO newNet.CcbNetImpl(65) - mTranCom==============03
13:24:20,860 INFO newNet.CcbNetImpl(66) - AgentCom==============5201300003
13:24:20,864 INFO common.SaveMessage(94) - 15299_9_1059_in.xml IO输出耗时:0.0010s
13:24:20,864 INFO newNet.CcbNetImpl(75) - 保存报文完毕！15299_9_1059_in.xml
13:24:20,865 INFO newNet.CcbNetImpl(102) - 增加标准报文头节点后报文：
13:24:20,866 INFO newNet.CcbNetImpl(106) - Out CcbNetImpl.receive()!
13:24:20,868 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.BatchSendDisk
13:24:20,868 INFO format.BatchSendDisk(67) - Into GetContList2.noStd2Std()...
13:24:20,869 INFO format.BatchSendDisk(111) - Out GetContList.noStd2Std()!
13:24:20,869 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.ContBatchSendDisk
13:24:20,869 INFO service.ContBatchSendDisk(57) - Into Get_PayRetServ.service()...
13:24:20,869 INFO service.ContBatchSendDisk(60) - 1
13:24:20,870 INFO service.ContBatchSendDisk(79) - 接收文件为：D:/home/ap/fserver2/rcv    AL03100192017011101_RESULT.XML
13:24:20,870 INFO service.ContBatchSendDisk(85) - 密文路径：D:/home/ap/fserver2/rcv/AL03100192017011101_RESULT.XML    明文路径：/home/weblogic/ybttest/newccb/sp//AL03100192017011101_RESULT.XML
13:24:20,870 INFO service.ContBatchSendDisk(87) - 文件解密开始...
13:24:20,871 INFO service.ContBatchSendDisk(92) - 文件解密完成...
13:24:20,871 INFO service.ContBatchSendDisk(111) - Out Get_PayRetServ.service()!
13:24:20,871 INFO service.ContBatchSendDisk$PayRetServ(222) - 开始拼接发送核心报文....
13:24:20,871 INFO service.ContBatchSendDisk$PayRetServ(226) - 888888888881
13:24:20,871 INFO format.BatchSendDisk(116) - Into GetContList2.std2NoStd()...
13:24:20,876 INFO format.BatchSendDisk(190) - 配置节点element:
13:24:20,876 INFO common.Log4jPrint(20) - 加密前文件路径：null
13:24:20,876 INFO common.Log4jPrint(20) - 交易码：P53818105
13:24:20,877 INFO common.Log4jPrint(20) - 文件绝对路径：nullAL03100192017011101.xml
13:24:20,878 INFO format.BatchSendDisk(248) - Out GetContList2.std2NoStd()!
13:24:20,878 INFO newNet.CcbNetImpl(111) - Into CcbNetImpl.send()...
13:24:20,880 INFO common.SaveMessage(94) - 15299_12_1059_out.xml IO输出耗时:0.0010s
13:24:20,881 INFO newNet.CcbNetImpl(189) - 保存报文完毕！15299_12_1059_out.xml
13:24:20,884 INFO newNet.CcbNetImpl(192) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>814</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1709</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>108011rv11484294690478052</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>7000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>754</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170116132420869</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170116132420874</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>00</SYS_TX_STATUS>
      <SYS_RESP_CODE>000000000000</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>4</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>交易成功</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>1</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME>AL03100192017011101.xml</FILE_NAME>
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010061</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11484294694478182</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>99999999000000000000000</TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>19999999</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170113</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53818105</SYS_TX_CODE>
            <Ins_Co_Acg_Dt>20170113</Ins_Co_Acg_Dt>
            <Ins_Co_Jrnl_No>108011rv11484294694478182</Ins_Co_Jrnl_No>
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


13:24:20,885 INFO newNet.CcbNetImpl(197) - Out CcbNetImpl.send()!
13:24:20,887 INFO test.NewCCBTestUI(583) - 杩ユ垮害锛1712
13:24:20,889 INFO test.NewCCBTestUI(589) - 瀹㈡风ユ惰ユ瀹姣锛讹0.041s
13:24:20,989 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:24:20,990 INFO common.Log4jPrint(20) - 108011rv11484294694478182
13:24:20,991 INFO common.Log4jPrint(20) - 108011rv11484294694478182
13:24:20,991 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11484294694478182'
13:24:21,124 INFO common.Log4jPrint(20) - i=0
13:24:21,124 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
13:24:21,124 INFO midplat.Ybt4Socket(192) - 处理总耗时：0.275s
13:24:21,124 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
13:24:27,857 ERROR service.ContBatchSendDisk$PayRetServ(264) - 处理回盘文件失败...
13:24:27,858 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.ContBatchSendDisk$PayRetServ.run(ContBatchSendDisk.java:266)
13:24:27,858 INFO service.ContBatchSendDisk$PayRetServ(279) - 完成拼接发送核心报文....
13:24:27,860 DEBUG service.ContBatchSendDisk(173) - Into ServiceImpl.insertTranLog()...
13:24:27,903 INFO common.Log4jPrint(20) - 进入更新后的InsPart
13:24:27,903 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 15302,3,'110378300','108011rv11484294694478182','93910092',1059,0,0,-1,-1,'127.0.0.1',20170116,132427,20170116,132427 )
13:24:27,919 DEBUG service.ContBatchSendDisk(201) - Out ServiceImpl.insertTranLog()!
13:24:27,956 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
13:24:27,957 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:24:27,957 INFO common.Log4jPrint(20) - 108011rv11484294694478182
13:24:27,957 INFO common.Log4jPrint(20) - 108011rv11484294694478182
13:24:27,957 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=15302,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11484294694478182',Operator='93910092',FuncFlag=1059,TranDate=0,TranTime=0,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=-1,RText=null,UsedTime=7,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc=null,MakeDate=20170116,InDoc=null,OutDoc=null,MakeTime=132427,ModifyDate=20170116,ModifyTime=132427,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11484294694478182'
