11:08:44,920 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7c6576d5
11:08:45,045 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:08:45,092 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:08:45,092 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:08:45,108 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:08:45,108 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:08:45,108 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:08:45,123 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:04:06,382) and length=23955 bytes!
11:08:45,217 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:08:45,233 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:08:45,233 INFO common.Log4jPrint(20) - End reset System.out!
11:08:45,233 INFO net.SocketConf(27) - Into SocketConf.load()...
11:08:45,233 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:08:45,233 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:08:45,233 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:08:45,233 INFO net.SocketConf(60) - Out SocketConf.load()!
11:08:45,273 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:08:45,273 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:08:45,335 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:08:45,335 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:08:45,335 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:08:45,366 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:08:45,366 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:08:45,366 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:08:45,398 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:08:45,398 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:08:45,398 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:08:45,413 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:08:45,413 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:08:45,413 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:09:09,026 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
11:09:09,042 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:09:09,042 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:09:09,042 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:09:09,042 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:09:09,042 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:09:09,057 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:09:09,057 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:09:03,048) and length=23937 bytes!
11:09:09,123 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:09:09,138 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:09:09,138 INFO common.Log4jPrint(20) - End reset System.out!
11:09:09,138 INFO net.SocketConf(27) - Into SocketConf.load()...
11:09:09,138 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:09:09,138 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:09:09,138 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:09:09,138 INFO net.SocketConf(60) - Out SocketConf.load()!
11:09:09,154 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:09:09,154 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:09:09,169 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:09:09,169 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:09:09,169 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:09:09,169 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:09:09,169 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:09:09,169 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:09:09,169 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:09:09,169 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:09:09,169 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:09:09,185 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:09:09,185 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:09:09,185 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:09:16,224 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:09:16,255 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:09:16,255 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:09:16,255 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:09:16,273 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:09:16,273 INFO test.NewCCBTestUI(488) - 请求报文长度：8879
11:09:16,288 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:09:16,288 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:09:16,288 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:09:16,335 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:09:16,429 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:09:18,089 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:09:18,265 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:09:18,592 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:09:18,707 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:09:18,722 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:09:18,724 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:09:18,740 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
11:09:18,755 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161207145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:09:18,787 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:09:18,787 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:09:18,928 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:09:18,928 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:09:18,975 INFO common.SaveMessage(69) - 3575_3_1012_in.xml IO输出耗时:0.047s
11:09:18,975 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3575_3_1012_in.xml
11:09:18,975 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:09:18,975 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:09:18,975 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:09:19,100 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:09:19,100 INFO common.Log4jPrint(20) - 
11:09:19,244 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:09:19,244 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:09:19,244 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
11:09:20,037 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:09:20,053 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:09:20,053 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:09:20,263 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
11:09:20,263 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:09:20,278 INFO common.Log4jPrint(20) - ================0133011
11:09:20,278 INFO common.Log4jPrint(20) - ================03
11:09:20,278 INFO common.Log4jPrint(20) - ++++++++++++++++03
11:09:20,278 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:09:20,278 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:09:20,388 INFO service.NewContInput(43) - Into NewContInput.service()...
11:09:20,388 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:09:20,482 INFO common.Log4jPrint(20) - 进程名：3575
11:09:20,482 INFO common.Log4jPrint(20) - trancom:3
11:09:20,482 INFO common.Log4jPrint(20) - FuncFlag:1012
11:09:20,482 INFO common.Log4jPrint(20) - mHeadEle.getChildText3575_3_1012_in.xml
11:09:20,529 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:09:20,529 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3575,3,'13099','demaxiya200164','5201300004',1012,20161207,145205,'210414131200027',-1,-1,'????','127.0.0.1','3575_3_1012_in.xml',20161209,110920,20161209,110920,'230803197906010035','????','230803197906010035','011A0100' )
11:09:20,544 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:09:20,560 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161209 and MakeTime>=110600
11:09:20,745 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:09:20,745 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:09:20,746 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
11:09:20,815 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:09:20,815 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:09:20,815 INFO common.RuleXml(198) - Into RuleXml.load()...
11:09:20,815 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
11:09:20,815 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
11:09:20,815 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
11:09:20,815 INFO common.RuleXml(215) - Out RuleXml.load()!
11:09:20,815 INFO common.RuleParser(49) - Into RuleParser.check()...
11:09:20,831 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:09:20,831 INFO common.Log4jPrint(20) - 对邮编进行校验
11:09:20,831 INFO common.Log4jPrint(20) - 对邮编进行校验
11:09:20,831 INFO common.Log4jPrint(20) - 返回的结果是:0
11:09:20,847 INFO common.Log4jPrint(20) - 对邮编进行校验
11:09:20,847 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

11:09:20,847 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:09:20,893 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:09:20,893 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:09:20,893 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3575,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161207,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3575_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=110920,ModifyDate=20161209,ModifyTime=110920,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=3575
11:09:20,909 INFO service.NewContInput(245) - Out NewContInput.service()!
11:09:20,909 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:09:20,971 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
11:09:20,971 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
11:09:20,971 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
11:09:20,987 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
11:09:20,987 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:09:21,003 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
11:09:21,003 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:09:21,003 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:09:21,018 INFO common.SaveMessage(69) - 3575_6_1012_out.xml IO输出耗时:0.015s
11:09:21,018 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3575_6_1012_out.xml
11:09:21,018 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2046</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209110919100</SYS_RECV_TIME><SYS_RESP_TIME>20161209110921003</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:09:21,018 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:09:21,018 INFO test.NewCCBTestUI(517) - 返回报文长度：2042
11:09:21,018 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：4.779s
11:09:21,066 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:09:21,066 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3575
11:09:21,082 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:09:21,319 INFO common.Log4jPrint(20) - -------------------------
11:09:21,319 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:09:21,319 INFO common.Log4jPrint(20) - -------------------------
11:09:21,351 INFO common.Log4jPrint(20) - i=1
11:09:21,478 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:09:21,478 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:09:21,478 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3575,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161207,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='2.629',Bak4=null,Bak5=null,InNoDoc='3575_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=110920,ModifyDate=20161209,ModifyTime=110920,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='3575_6_1012_out.xml' where LogNo=3575
11:09:21,759 INFO midplat.Ybt4Socket(170) - 处理总耗时：3.037s
11:09:21,759 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:10:09,148 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:10:09,148 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:10:09,148 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:09:38,921) and length=23946 bytes!
11:10:09,164 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:10:09,164 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:11:38,858 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4640b181
11:11:38,905 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:11:38,921 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:11:38,921 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:11:38,921 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:11:38,921 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:11:38,921 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:11:38,921 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:09:38,921) and length=23946 bytes!
11:11:39,015 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:11:39,030 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:11:39,030 INFO common.Log4jPrint(20) - End reset System.out!
11:11:39,030 INFO net.SocketConf(27) - Into SocketConf.load()...
11:11:39,030 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:11:39,030 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:11:39,030 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:11:39,030 INFO net.SocketConf(60) - Out SocketConf.load()!
11:11:39,047 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:11:39,047 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:11:39,062 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:11:39,062 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:11:39,062 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:11:39,062 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:11:39,062 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:11:39,062 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:11:39,078 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:11:39,078 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:11:39,078 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:11:39,078 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:11:39,078 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:11:39,078 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:11:46,684 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:11:46,700 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:11:46,700 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:11:46,700 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:11:46,700 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:11:46,700 INFO test.NewCCBTestUI(488) - 请求报文长度：8879
11:11:46,700 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:11:46,734 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:11:46,736 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:11:46,739 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:11:46,745 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:11:47,770 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:11:47,880 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:11:48,021 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:11:48,052 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:11:48,052 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:11:48,052 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:11:48,067 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
11:11:48,067 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161207145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:11:48,116 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:11:48,116 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:11:48,228 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:11:48,228 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:11:48,244 INFO common.SaveMessage(69) - 3581_3_1012_in.xml IO输出耗时:0.016s
11:11:48,244 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3581_3_1012_in.xml
11:11:48,244 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:11:48,244 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:11:48,244 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:11:48,259 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:11:48,259 INFO common.Log4jPrint(20) - 
11:11:48,259 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:11:48,259 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:11:48,259 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
11:11:48,571 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:11:48,587 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:11:48,587 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:11:48,746 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
11:11:48,746 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:11:48,762 INFO common.Log4jPrint(20) - ================0133011
11:11:48,762 INFO common.Log4jPrint(20) - ================03
11:11:48,762 INFO common.Log4jPrint(20) - ++++++++++++++++03
11:11:48,762 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:11:48,762 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:11:48,762 INFO service.NewContInput(43) - Into NewContInput.service()...
11:11:48,762 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:11:48,778 INFO common.Log4jPrint(20) - 进程名：3581
11:11:48,778 INFO common.Log4jPrint(20) - trancom:3
11:11:48,778 INFO common.Log4jPrint(20) - FuncFlag:1012
11:11:48,778 INFO common.Log4jPrint(20) - mHeadEle.getChildText3581_3_1012_in.xml
11:11:48,857 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:11:48,857 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3581,3,'13099','demaxiya200164','5201300004',1012,20161207,145205,'210414131200027',-1,-1,'????','127.0.0.1','3581_3_1012_in.xml',20161209,111148,20161209,111148,'230803197906010035','????','230803197906010035','011A0100' )
11:11:48,888 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:11:48,888 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161209 and MakeTime>=110828
11:11:48,997 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:11:48,997 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:11:48,997 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
11:11:49,044 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:11:49,044 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:11:49,044 INFO common.RuleXml(198) - Into RuleXml.load()...
11:11:49,044 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
11:11:49,044 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
11:11:49,059 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
11:11:49,059 INFO common.RuleXml(215) - Out RuleXml.load()!
11:11:49,059 INFO common.RuleParser(49) - Into RuleParser.check()...
11:11:49,059 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:11:49,059 INFO common.Log4jPrint(20) - 对邮编进行校验
11:11:49,059 INFO common.Log4jPrint(20) - 对邮编进行校验
11:11:49,059 INFO common.Log4jPrint(20) - 返回的结果是:0
11:11:49,059 INFO common.Log4jPrint(20) - 对邮编进行校验
11:11:49,075 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

11:11:49,075 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:11:49,106 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:11:49,106 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:11:49,106 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3581,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161207,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3581_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=111148,ModifyDate=20161209,ModifyTime=111149,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=3581
11:11:49,122 INFO service.NewContInput(245) - Out NewContInput.service()!
11:11:49,122 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:11:49,137 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
11:11:49,137 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
11:11:49,137 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
11:11:49,137 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
11:11:49,137 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:11:49,137 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
11:11:49,153 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:11:49,153 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:11:49,153 INFO common.SaveMessage(69) - 3581_6_1012_out.xml IO输出耗时:0.0s
11:11:49,153 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3581_6_1012_out.xml
11:11:49,153 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2046</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209111148259</SYS_RECV_TIME><SYS_RESP_TIME>20161209111149153</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:11:49,153 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:11:49,153 INFO test.NewCCBTestUI(517) - 返回报文长度：2042
11:11:49,153 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：2.453s
11:11:49,175 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:11:49,249 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:11:49,249 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3581
11:11:49,280 INFO common.Log4jPrint(20) - -------------------------
11:11:49,280 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:11:49,280 INFO common.Log4jPrint(20) - -------------------------
11:11:49,280 INFO common.Log4jPrint(20) - i=1
11:11:49,343 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:11:49,343 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:11:49,343 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3581,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161207,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='1.228',Bak4=null,Bak5=null,InNoDoc='3581_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=111148,ModifyDate=20161209,ModifyTime=111149,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='3581_6_1012_out.xml' where LogNo=3581
11:11:49,358 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.306s
11:11:49,358 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:12:55,991 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4edc024a
11:12:56,006 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:12:56,006 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:12:56,006 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:12:56,006 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:12:56,006 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:12:56,022 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:12:56,022 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:12:46,094) and length=23946 bytes!
11:12:56,101 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:12:56,116 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:12:56,116 INFO common.Log4jPrint(20) - End reset System.out!
11:12:56,116 INFO net.SocketConf(27) - Into SocketConf.load()...
11:12:56,116 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:12:56,116 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:12:56,116 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:12:56,116 INFO net.SocketConf(60) - Out SocketConf.load()!
11:12:56,132 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:12:56,132 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:12:56,148 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:12:56,148 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:12:56,148 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:12:56,148 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:12:56,148 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:12:56,148 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:12:56,148 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:12:56,148 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:12:56,148 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:12:56,163 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:12:56,163 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:12:56,163 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:13:00,485 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
11:13:00,500 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:13:00,516 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:13:00,516 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:13:00,516 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:13:00,516 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:13:00,548 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:13:00,548 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:13:00,548 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:13:00,548 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:13:01,238 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:13:01,320 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:13:01,431 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:13:01,462 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:13:01,462 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:13:01,462 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:13:01,478 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
11:13:01,493 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:13:01,493 INFO common.Log4jPrint(20) - ==================send====
11:13:01,493 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:13:01,540 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:13:01,556 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3587
11:13:01,619 INFO common.Log4jPrint(20) - i=0
11:13:01,635 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:13:01,635 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.173s
11:13:01,635 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:13:23,631 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@2a801059
11:13:23,646 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:13:23,646 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:13:23,646 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:13:23,662 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:13:23,662 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:13:23,662 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:13:23,662 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:12:46,094) and length=23946 bytes!
11:13:23,758 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:13:23,774 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:13:23,774 INFO common.Log4jPrint(20) - End reset System.out!
11:13:23,774 INFO net.SocketConf(27) - Into SocketConf.load()...
11:13:23,774 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:13:23,774 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:13:23,774 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:13:23,774 INFO net.SocketConf(60) - Out SocketConf.load()!
11:13:23,805 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:13:23,805 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:13:23,821 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:13:23,821 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:13:23,821 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:13:23,821 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:13:23,821 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:13:23,821 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:13:23,821 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:13:23,821 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:13:23,821 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:13:23,836 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:13:23,836 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:13:23,836 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:13:26,204 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
11:13:26,204 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:13:26,219 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:13:26,219 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:13:26,219 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:13:26,219 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:13:26,251 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:13:26,251 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:13:26,251 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:13:26,251 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:13:36,642 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:13:39,564 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:13:46,667 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:13:46,699 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:13:46,699 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:13:46,699 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:13:46,719 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
11:13:46,720 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:13:46,720 INFO common.Log4jPrint(20) - ==================send====
11:13:46,720 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:13:52,672 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:13:52,673 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3587
11:14:01,290 INFO common.Log4jPrint(20) - i=0
11:14:01,290 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:14:01,290 INFO midplat.Ybt4Socket(170) - 处理总耗时：14.591s
11:14:01,290 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:15:01,743 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
11:15:01,743 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:15:01,743 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:15:01,743 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:15:01,759 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:15:01,759 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:15:01,759 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:15:01,759 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:14:56,398) and length=23946 bytes!
11:15:01,822 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:15:01,822 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:15:01,822 INFO common.Log4jPrint(20) - End reset System.out!
11:15:01,838 INFO net.SocketConf(27) - Into SocketConf.load()...
11:15:01,838 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:15:01,838 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:15:01,838 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:15:01,838 INFO net.SocketConf(60) - Out SocketConf.load()!
11:15:01,853 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:15:01,853 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:15:01,869 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:15:01,869 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:15:01,869 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:15:01,869 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:15:01,869 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:15:01,869 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:15:01,869 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:15:01,869 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:15:01,869 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:15:01,884 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:15:01,884 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:15:01,884 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:15:04,230 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
11:15:04,230 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:15:04,246 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:15:04,246 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:15:04,246 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:15:04,262 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:15:04,278 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:15:04,278 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:15:04,278 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:15:04,294 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:15:04,875 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:15:05,048 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:15:05,126 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:15:05,141 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:15:05,141 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:15:05,141 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:15:05,141 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
11:15:05,141 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:15:05,141 INFO common.Log4jPrint(20) - ==================send====
11:15:05,141 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:15:05,235 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:15:05,235 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3587
11:15:05,274 INFO common.Log4jPrint(20) - i=0
11:15:05,275 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:15:05,276 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.135s
11:15:05,276 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:16:13,986 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@46b113c7
11:16:14,000 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:16:14,008 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:16:14,010 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:16:14,013 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:16:14,015 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:16:14,016 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:16:14,020 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:15:58,558) and length=23946 bytes!
11:16:14,114 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:16:14,124 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:16:14,125 INFO common.Log4jPrint(20) - End reset System.out!
11:16:14,127 INFO net.SocketConf(27) - Into SocketConf.load()...
11:16:14,128 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:16:14,129 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:16:14,132 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:16:14,132 INFO net.SocketConf(60) - Out SocketConf.load()!
11:16:14,150 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:16:14,151 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:16:14,165 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:16:14,165 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:16:14,166 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:16:14,171 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:16:14,172 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:16:14,172 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:16:14,178 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:16:14,179 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:16:14,184 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:16:14,184 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:16:14,185 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:16:14,187 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:16:23,973 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
11:16:23,979 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:16:23,990 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:16:23,990 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:16:23,991 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:16:24,000 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:16:24,022 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:16:24,023 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:16:24,026 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:16:24,032 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:16:24,580 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:16:24,679 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:16:24,762 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:16:24,782 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:16:24,790 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:16:24,793 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:16:24,801 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
11:16:24,805 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:16:24,805 INFO common.Log4jPrint(20) - ==================send====
11:16:24,806 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:16:24,889 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:16:24,890 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3587
11:16:24,955 INFO common.Log4jPrint(20) - i=0
11:16:24,962 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:16:24,963 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.18s
11:16:24,963 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:19:36,527 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
11:19:36,532 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:19:36,542 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:19:36,543 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:19:36,543 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:19:36,544 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:19:36,549 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
11:19:36,550 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:19:36,551 INFO common.Log4jPrint(20) - ==================send====
11:19:36,551 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
11:19:36,587 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:19:36,587 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3593
11:19:36,623 INFO common.Log4jPrint(20) - i=0
11:19:36,623 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:19:36,623 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.08s
11:19:36,623 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:20:02,786 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4145b02f
11:20:02,794 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:20:02,799 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:20:02,799 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:20:02,801 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:20:02,802 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:20:02,802 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:20:02,806 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:15:58,558) and length=23946 bytes!
11:20:02,877 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:20:02,888 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:20:02,888 INFO common.Log4jPrint(20) - End reset System.out!
11:20:02,890 INFO net.SocketConf(27) - Into SocketConf.load()...
11:20:02,891 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:20:02,891 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:20:02,894 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:20:02,895 INFO net.SocketConf(60) - Out SocketConf.load()!
11:20:02,909 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:20:02,910 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:20:02,919 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:20:02,919 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:20:02,919 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:20:02,925 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:20:02,925 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:20:02,925 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:20:02,931 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:20:02,931 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:20:02,931 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:20:02,938 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:20:02,939 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:20:02,939 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:20:05,241 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:20:05,252 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:20:05,252 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:20:05,253 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:20:05,262 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:20:05,262 INFO test.NewCCBTestUI(488) - 请求报文长度：5862
11:20:05,263 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:20:05,283 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:20:05,284 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:20:05,287 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:20:05,293 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:20:05,860 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:20:05,919 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:20:06,030 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:20:06,041 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:20:06,042 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:20:06,043 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:20:06,047 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
11:20:06,048 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000013</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:20:06,067 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:20:06,067 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:20:06,222 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:20:06,223 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:20:06,228 INFO common.SaveMessage(69) - 3587_3_1012_in.xml IO输出耗时:0.0050s
11:20:06,229 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3587_3_1012_in.xml
11:20:06,231 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:20:06,233 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:20:06,235 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:20:06,242 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:20:06,244 INFO common.Log4jPrint(20) - 
11:20:06,254 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:20:06,255 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:20:06,255 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
11:20:06,590 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:20:06,607 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:20:06,608 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:20:06,768 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:20:06,769 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:20:06,779 INFO common.Log4jPrint(20) - ================0133043
11:20:06,780 INFO common.Log4jPrint(20) - ================00
11:20:06,780 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:20:06,780 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:20:06,780 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:20:06,788 INFO service.NewContInput(43) - Into NewContInput.service()...
11:20:06,789 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:20:06,799 INFO common.Log4jPrint(20) - 进程名：3587
11:20:06,799 INFO common.Log4jPrint(20) - trancom:3
11:20:06,799 INFO common.Log4jPrint(20) - FuncFlag:1012
11:20:06,799 INFO common.Log4jPrint(20) - mHeadEle.getChildText3587_3_1012_in.xml
11:20:06,859 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:20:06,860 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3587,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'1010190000013',-1,-1,'??????','127.0.0.1','3587_3_1012_in.xml',20161209,112006,20161209,112006,'320177196306261011','??????','320177196306261011','011A0100' )
11:20:06,884 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:20:06,886 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='1010190000013' and MakeDate>=20161209 and MakeTime>=111646
11:20:06,986 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:20:06,986 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:20:06,987 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
11:20:07,031 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:20:07,031 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:20:07,031 INFO common.RuleXml(198) - Into RuleXml.load()...
11:20:07,032 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
11:20:07,032 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
11:20:07,037 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
11:20:07,037 INFO common.RuleXml(215) - Out RuleXml.load()!
11:20:07,038 INFO common.RuleParser(49) - Into RuleParser.check()...
11:20:07,038 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:20:07,045 INFO common.Log4jPrint(20) - 对邮编进行校验
11:20:07,046 INFO common.Log4jPrint(20) - 对邮编进行校验
11:20:07,046 INFO common.Log4jPrint(20) - 返回的结果是:0
11:20:07,048 INFO common.Log4jPrint(20) - 对邮编进行校验
11:20:07,050 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保人单位地址和家庭地址不能同时为空</msg><msg>被保人邮寄地址不能为空</msg></rules>

11:20:07,052 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人单位地址和家庭地址不能同时为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:20:07,293 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:20:07,294 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:20:07,295 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3587,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3587_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=112006,ModifyDate=20161209,ModifyTime=112007,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3587
11:20:07,315 INFO service.NewContInput(245) - Out NewContInput.service()!
11:20:07,316 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:20:07,341 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
11:20:07,341 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
11:20:07,343 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
11:20:07,368 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
11:20:07,377 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:20:07,378 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
11:20:07,386 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:20:07,386 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:20:07,393 INFO common.SaveMessage(69) - 3587_6_1012_out.xml IO输出耗时:0.0040s
11:20:07,393 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3587_6_1012_out.xml
11:20:07,395 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>857</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1960</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209112006244</SYS_RECV_TIME><SYS_RESP_TIME>20161209112007384</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>18</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇浜哄浣板?瀹跺涵板涓藉朵负绌</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:20:07,396 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:20:07,397 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
11:20:07,399 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：2.147s
11:20:07,460 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:20:07,461 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3587
11:20:07,496 INFO common.Log4jPrint(20) - -------------------------
11:20:07,497 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:20:07,497 INFO common.Log4jPrint(20) - -------------------------
11:20:07,519 INFO common.Log4jPrint(20) - i=1
11:20:07,551 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:20:07,553 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:20:07,553 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3587,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='1.477',Bak4=null,Bak5=null,InNoDoc='3587_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=112006,ModifyDate=20161209,ModifyTime=112007,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3587_6_1012_out.xml' where LogNo=3587
11:20:07,602 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.559s
11:20:07,602 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:21:14,090 INFO net.SocketListenerF5(86) - Into SocketListenerF5.contextDestroyed()...
11:21:14,092 INFO net.SocketListenerF5(88) - 关闭ServerSocket监听...
11:21:14,093 DEBUG net.SocketListenerF5(108) - System.out = com.sinosoft.midplat.common.Log4jPrint@4ad38c3d
11:21:14,093 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:21:14,093 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:21:14,094 INFO common.Log4jPrint(20) - Start revert System.out...
11:21:14,098 INFO net.SocketListenerF5(117) - Out SocketListenerF5.contextDestroyed()!
11:21:14,122 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:21:14,122 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:22:48,945 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@572c4768
11:22:48,953 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:22:48,964 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:22:48,964 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:22:48,966 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:22:48,967 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:22:48,967 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:22:48,971 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:15:58,558) and length=23946 bytes!
11:22:49,040 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:22:49,049 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:22:49,050 INFO common.Log4jPrint(20) - End reset System.out!
11:22:49,052 INFO net.SocketConf(27) - Into SocketConf.load()...
11:22:49,052 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:22:49,053 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:22:49,056 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:22:49,057 INFO net.SocketConf(60) - Out SocketConf.load()!
11:22:49,075 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:22:49,075 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:22:49,084 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:22:49,085 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:22:49,085 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:22:49,090 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:22:49,090 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:22:49,090 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:22:49,095 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:22:49,096 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:22:49,095 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:22:49,100 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:22:49,101 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:22:49,101 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:22:59,245 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:22:59,255 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:22:59,256 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:22:59,256 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:22:59,265 INFO test.NewCCBTestUI(488) - 请求报文长度：5862
11:22:59,265 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:22:59,266 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:22:59,299 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:22:59,300 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:22:59,302 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:22:59,309 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:22:59,905 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:22:59,970 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:23:00,031 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:23:00,056 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:23:00,067 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:23:00,072 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:23:00,079 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
11:23:00,080 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000013</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:23:00,091 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:23:00,092 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:23:00,216 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:23:00,217 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:23:00,222 INFO common.SaveMessage(69) - 3593_3_1012_in.xml IO输出耗时:0.0050s
11:23:00,222 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3593_3_1012_in.xml
11:23:00,224 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:23:00,226 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:23:00,228 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:23:00,234 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:23:00,235 INFO common.Log4jPrint(20) - 
11:23:00,242 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:23:00,243 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:23:00,243 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
11:23:00,556 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:23:00,574 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:23:00,575 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:23:00,732 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:23:00,732 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:23:00,743 INFO common.Log4jPrint(20) - ================0133043
11:23:00,743 INFO common.Log4jPrint(20) - ================00
11:23:00,743 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:23:00,744 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:23:00,744 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:23:00,752 INFO service.NewContInput(43) - Into NewContInput.service()...
11:23:00,753 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:23:00,762 INFO common.Log4jPrint(20) - 进程名：3593
11:23:00,762 INFO common.Log4jPrint(20) - trancom:3
11:23:00,763 INFO common.Log4jPrint(20) - FuncFlag:1012
11:23:00,763 INFO common.Log4jPrint(20) - mHeadEle.getChildText3593_3_1012_in.xml
11:23:00,926 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:23:00,928 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3593,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'1010190000013',-1,-1,'??????','127.0.0.1','3593_3_1012_in.xml',20161209,112300,20161209,112300,'320177196306261011','??????','320177196306261011','011A0100' )
11:23:00,982 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:23:00,984 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='1010190000013' and MakeDate>=20161209 and MakeTime>=111940
11:23:01,196 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:23:01,197 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:23:01,197 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:22:41,709) and length=15614 bytes!
11:23:01,247 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:23:01,247 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:23:01,247 INFO common.RuleXml(198) - Into RuleXml.load()...
11:23:01,248 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
11:23:01,248 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
11:23:01,253 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
11:23:01,254 INFO common.RuleXml(215) - Out RuleXml.load()!
11:23:01,254 INFO common.RuleParser(49) - Into RuleParser.check()...
11:23:01,254 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:23:01,261 INFO common.Log4jPrint(20) - 对邮编进行校验
11:23:01,262 INFO common.Log4jPrint(20) - 对邮编进行校验
11:23:01,262 INFO common.Log4jPrint(20) - 返回的结果是:0
11:23:01,264 INFO common.Log4jPrint(20) - 对邮编进行校验
11:23:01,266 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保人单位地址和家庭地址不能同时为空</msg></rules>

11:23:01,268 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人单位地址和家庭地址不能同时为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:23:01,427 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:23:01,428 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:23:01,429 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3593,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3593_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=112300,ModifyDate=20161209,ModifyTime=112301,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3593
11:23:01,578 INFO service.NewContInput(245) - Out NewContInput.service()!
11:23:01,579 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:23:01,604 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
11:23:01,605 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
11:23:01,606 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
11:23:01,634 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
11:23:01,643 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:23:01,644 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
11:23:01,652 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:23:01,652 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:23:01,658 INFO common.SaveMessage(69) - 3593_6_1012_out.xml IO输出耗时:0.0030s
11:23:01,659 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3593_6_1012_out.xml
11:23:01,660 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>857</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1960</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209112300235</SYS_RECV_TIME><SYS_RESP_TIME>20161209112301651</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>18</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇浜哄浣板?瀹跺涵板涓藉朵负绌</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:23:01,663 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:23:01,664 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
11:23:01,665 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：2.41s
11:23:01,773 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:23:01,773 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3593
11:23:01,812 INFO common.Log4jPrint(20) - -------------------------
11:23:01,813 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:23:01,813 INFO common.Log4jPrint(20) - -------------------------
11:23:01,823 INFO common.Log4jPrint(20) - i=1
11:23:01,885 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:23:01,886 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:23:01,887 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3593,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='1.765',Bak4=null,Bak5=null,InNoDoc='3593_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=112300,ModifyDate=20161209,ModifyTime=112301,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3593_6_1012_out.xml' where LogNo=3593
11:23:01,910 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.852s
11:23:01,911 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:30:39,453 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:30:39,463 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:30:39,464 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:30:39,464 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:30:39,465 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:30:39,473 INFO test.NewCCBTestUI(488) - 请求报文长度：5862
11:30:39,474 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
11:30:39,474 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:30:39,474 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000013</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:30:39,479 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:30:39,480 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:30:39,503 INFO common.SaveMessage(69) - 3599_9_1012_in.xml IO输出耗时:0.021s
11:30:39,503 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3599_9_1012_in.xml
11:30:39,505 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:30:39,507 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:30:39,510 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:30:39,510 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:30:39,511 INFO common.Log4jPrint(20) - 
11:30:39,528 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:30:39,528 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:30:39,535 INFO common.Log4jPrint(20) - ================0133043
11:30:39,536 INFO common.Log4jPrint(20) - ================00
11:30:39,536 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:30:39,536 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:30:39,536 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:30:39,536 INFO service.NewContInput(43) - Into NewContInput.service()...
11:30:39,537 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:30:39,538 INFO common.Log4jPrint(20) - 进程名：3599
11:30:39,538 INFO common.Log4jPrint(20) - trancom:3
11:30:39,538 INFO common.Log4jPrint(20) - FuncFlag:1012
11:30:39,538 INFO common.Log4jPrint(20) - mHeadEle.getChildText3599_9_1012_in.xml
11:30:39,583 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:30:39,583 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3599,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'1010190000013',-1,-1,'??????','127.0.0.1','3599_9_1012_in.xml',20161209,113039,20161209,113039,'320177196306261011','??????','320177196306261011','011A0100' )
11:30:39,605 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:30:39,606 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='1010190000013' and MakeDate>=20161209 and MakeTime>=112719
11:30:39,702 INFO common.RuleParser(49) - Into RuleParser.check()...
11:30:39,702 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:30:39,707 INFO common.Log4jPrint(20) - 对邮编进行校验
11:30:39,708 INFO common.Log4jPrint(20) - 对邮编进行校验
11:30:39,709 INFO common.Log4jPrint(20) - 返回的结果是:0
11:30:39,711 INFO common.Log4jPrint(20) - 对邮编进行校验
11:30:39,712 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保人单位地址和家庭地址不能同时为空</msg></rules>

11:30:39,713 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人单位地址和家庭地址不能同时为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:30:39,781 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:30:39,781 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:30:39,782 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3599,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3599_9_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113039,ModifyDate=20161209,ModifyTime=113039,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3599
11:30:39,804 INFO service.NewContInput(245) - Out NewContInput.service()!
11:30:39,805 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:30:39,816 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:30:39,817 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:30:39,824 INFO common.SaveMessage(69) - 3599_12_1012_out.xml IO输出耗时:0.0030s
11:30:39,824 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3599_12_1012_out.xml
11:30:39,826 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>857</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1960</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209113039511</SYS_RECV_TIME><SYS_RESP_TIME>20161209113039815</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>18</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇浜哄浣板?瀹跺涵板涓藉朵负绌</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:30:39,826 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:30:39,829 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
11:30:39,830 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：0.366s
11:30:39,923 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:30:39,924 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3599
11:30:40,093 INFO common.Log4jPrint(20) - -------------------------
11:30:40,095 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:30:40,096 INFO common.Log4jPrint(20) - -------------------------
11:30:40,106 INFO common.Log4jPrint(20) - i=1
11:30:40,169 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:30:40,170 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:30:40,171 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3599,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='0.642',Bak4=null,Bak5=null,InNoDoc='3599_9_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113039,ModifyDate=20161209,ModifyTime=113039,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3599_12_1012_out.xml' where LogNo=3599
11:30:40,189 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.725s
11:30:40,190 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:31:49,069 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:31:49,071 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:31:49,073 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:31:46,416) and length=15623 bytes!
11:31:49,140 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:31:49,141 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:31:52,118 INFO net.SocketListenerF5(86) - Into SocketListenerF5.contextDestroyed()...
11:31:52,119 INFO net.SocketListenerF5(88) - 关闭ServerSocket监听...
11:31:52,121 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:31:52,121 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:31:52,121 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:31:52,121 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
11:31:52,121 DEBUG net.SocketListenerF5(108) - System.out = com.sinosoft.midplat.common.Log4jPrint@2ec8f0a4
11:31:52,127 INFO common.Log4jPrint(20) - Start revert System.out...
11:31:52,128 INFO net.SocketListenerF5(117) - Out SocketListenerF5.contextDestroyed()!
11:31:57,554 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6eecb3f1
11:31:57,563 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:31:57,567 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:31:57,568 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:31:57,570 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:31:57,571 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:31:57,571 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:31:57,575 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:15:58,558) and length=23946 bytes!
11:31:57,645 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:31:57,654 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:31:57,655 INFO common.Log4jPrint(20) - End reset System.out!
11:31:57,657 INFO net.SocketConf(27) - Into SocketConf.load()...
11:31:57,657 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:31:57,658 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:31:57,661 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:31:57,661 INFO net.SocketConf(60) - Out SocketConf.load()!
11:31:57,677 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:31:57,677 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:31:57,689 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:31:57,690 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:31:57,690 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:31:57,696 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:31:57,697 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:31:57,697 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:31:57,703 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:31:57,703 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:31:57,703 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:31:57,708 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:31:57,709 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:31:57,709 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:32:04,492 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:32:04,503 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:32:04,503 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:32:04,504 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:32:04,512 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:32:04,513 INFO test.NewCCBTestUI(488) - 请求报文长度：5862
11:32:04,514 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:32:04,534 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:32:04,535 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:32:04,538 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:32:04,544 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:32:05,137 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:32:05,227 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:32:05,321 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:32:05,338 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:32:05,340 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:32:05,342 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:32:05,350 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
11:32:05,352 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000013</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:32:05,378 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:32:05,379 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:32:05,504 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:32:05,504 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:32:05,509 INFO common.SaveMessage(69) - 3605_3_1012_in.xml IO输出耗时:0.0050s
11:32:05,509 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3605_3_1012_in.xml
11:32:05,511 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:32:05,514 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:32:05,516 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:32:05,522 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:32:05,523 INFO common.Log4jPrint(20) - 
11:32:05,530 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:32:05,530 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:32:05,531 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
11:32:05,848 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:32:05,866 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:32:05,867 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:32:06,030 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:32:06,031 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:32:06,041 INFO common.Log4jPrint(20) - ================0133043
11:32:06,042 INFO common.Log4jPrint(20) - ================00
11:32:06,042 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:32:06,042 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:32:06,042 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:32:06,051 INFO service.NewContInput(43) - Into NewContInput.service()...
11:32:06,052 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:32:06,061 INFO common.Log4jPrint(20) - 进程名：3605
11:32:06,061 INFO common.Log4jPrint(20) - trancom:3
11:32:06,061 INFO common.Log4jPrint(20) - FuncFlag:1012
11:32:06,061 INFO common.Log4jPrint(20) - mHeadEle.getChildText3605_3_1012_in.xml
11:32:06,294 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:32:06,296 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3605,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'1010190000013',-1,-1,'??????','127.0.0.1','3605_3_1012_in.xml',20161209,113206,20161209,113206,'320177196306261011','??????','320177196306261011','011A0100' )
11:32:06,312 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:32:06,314 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='1010190000013' and MakeDate>=20161209 and MakeTime>=112846
11:32:06,404 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:32:06,405 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:32:06,406 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:31:46,416) and length=15623 bytes!
11:32:06,452 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:32:06,452 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:32:06,453 INFO common.RuleXml(198) - Into RuleXml.load()...
11:32:06,453 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
11:32:06,453 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
11:32:06,458 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
11:32:06,459 INFO common.RuleXml(215) - Out RuleXml.load()!
11:32:06,459 INFO common.RuleParser(49) - Into RuleParser.check()...
11:32:06,459 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:32:06,466 INFO common.Log4jPrint(20) - 对邮编进行校验
11:32:06,467 INFO common.Log4jPrint(20) - 对邮编进行校验
11:32:06,467 INFO common.Log4jPrint(20) - 返回的结果是:0
11:32:06,469 INFO common.Log4jPrint(20) - 对邮编进行校验
11:32:06,471 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

11:32:06,471 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
11:32:06,472 INFO common.RuleParser(62) - Out RuleParser.check()!
11:32:06,472 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
11:32:06,523 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
11:32:06,538 INFO common.SaveMessage(69) - 3605_6_0_inSvc.xml IO输出耗时:0.015s
11:32:06,539 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3605_6_0_inSvc.xml
11:32:06,540 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:32:06,540 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:32:07,284 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
11:32:07,982 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
11:32:08,000 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
11:32:08,001 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
11:32:08,001 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
11:32:08,002 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
11:32:08,002 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
11:32:08,002 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:32:08,047 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
11:32:08,048 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTA1OTA0PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjMxODAxMDk4NjwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzYwNV8zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDEzPC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMjA5PC9Qb2xBcHBseURhdGU+PEFjY05vIC8+PEFjY05hbWU+Pz8/Pz8/PC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPj8/Pz88L1NhbGVOYW1lPjxTYWxlU3RhZmY+Nzc5NzY1Njk8L1NhbGVTdGFmZj48U2FsZUNlcnRObz4yMDA4MDIxMTAwMDAwMDAxMDU2NzwvU2FsZUNlcnRObz48THYxQnJObz4xMTAwMDAwMDA8L0x2MUJyTm8+PEFwcG50PjxOYW1lPj8/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk2MzA2MjY8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz48SWRFeHBEYXRlPjIwMTgxMjEyPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+PE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MzAuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4xMDAuMDwvRmFtaWx5WWVhclNhbGFyeT48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDI+MDEzMzA0MzwvUmVsYVRvSW5zdXJlZDI+PERlblR5cGU+MTwvRGVuVHlwZT48L0FwcG50PjxJbnN1cmVkPjxOYW1lPj8/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydG"
11:32:08,048 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:32:08,049 DEBUG httpclient.Wire(70) - >> "5d1[\r][\n]"
11:32:08,049 DEBUG httpclient.Wire(84) - >> "hkYXk+MTk2MzA2MjY8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz48SWRFeHBEYXRlPjIwMTgxMjEyPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+PE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbT4zMDAwMDAuMDA8L1JjZ25ZckluY21BbT48Q292U3VtQW10PjA8L0NvdlN1bUFtdD48Umlza0Fzc2Vzc21lbnRSZXN1bHQ+MDI8L1Jpc2tBc3Nlc3NtZW50UmVzdWx0PjxSaXNrQXNzZXNzbWVudEVuZERhdGU+MjAxNzExMTg8L1Jpc2tBc3Nlc3NtZW50RW5kRGF0ZT48UHJlbWl1bUJ1ZGdldD4wPC9QcmVtaXVtQnVkZ2V0PjwvSW5zdXJlZD48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Mj8/Pz8/Pz8/Pz8/Pz8/Pz8pPC9SaXNrTmFtZT48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MTAwMDAwMDwvUHJlbT48TXVsdD4xMDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MTAwMDwvUGF5RW5kWWVhcj48UGF5RW5kWWVhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
11:32:08,050 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:32:08,050 DEBUG httpclient.Wire(84) - >> "0"
11:32:08,050 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:32:08,051 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:32:10,304 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:32:10,306 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:32:10,312 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
11:32:10,313 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
11:32:10,314 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
11:32:10,316 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 03:31:51 GMT[\r][\n]"
11:32:10,317 DEBUG httpclient.Wire(70) - << "[\r][\n]"
11:32:10,376 DEBUG httpclient.Wire(84) - << "1"
11:32:10,377 DEBUG httpclient.Wire(84) - << "e"
11:32:10,378 DEBUG httpclient.Wire(84) - << "b"
11:32:10,379 DEBUG httpclient.Wire(84) - << "[\r]"
11:32:10,381 DEBUG httpclient.Wire(70) - << "[\n]"
11:32:10,382 DEBUG httpclient.Wire(84) - << "<?xm"
11:32:10,406 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
11:32:10,416 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
11:32:10,433 INFO net.CallWebsvcAtomSvc(118) - 投保单号1010190000013录单核保(service)耗时：3.893s
11:32:10,447 INFO common.SaveMessage(69) - 3605_9_0_outSvc.xml IO输出耗时:0.0010s
11:32:10,447 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3605_9_0_outSvc.xml
11:32:10,447 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
11:32:10,447 INFO common.Log4jPrint(20) - -----------------------------------------------
11:32:10,448 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
11:32:10,448 INFO service.NewContInput(139) - 错误描述长度：19
11:32:10,450 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:32:10,516 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:32:10,517 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:32:10,518 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3605,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=4,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3605_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113206,ModifyDate=20161209,ModifyTime=113210,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3605
11:32:10,539 INFO service.NewContInput(245) - Out NewContInput.service()!
11:32:10,540 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:32:10,565 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
11:32:10,566 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
11:32:10,567 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
11:32:10,586 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
11:32:10,595 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:32:10,596 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
11:32:10,603 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:32:10,603 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:32:10,607 INFO common.SaveMessage(69) - 3605_12_1012_out.xml IO输出耗时:0.0020s
11:32:10,607 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3605_12_1012_out.xml
11:32:10,608 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>856</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1959</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209113205523</SYS_RECV_TIME><SYS_RESP_TIME>20161209113210602</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:32:10,609 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:32:10,610 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
11:32:10,612 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：6.108s
11:32:10,625 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:32:10,654 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:32:10,654 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3605
11:32:10,716 INFO common.Log4jPrint(20) - -------------------------
11:32:10,719 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:32:10,720 INFO common.Log4jPrint(20) - -------------------------
11:32:10,741 INFO common.Log4jPrint(20) - i=1
11:32:10,822 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:32:10,823 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:32:10,824 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3605,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='1010190000013',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=4,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='5.402',Bak4=null,Bak5=null,InNoDoc='3605_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113206,ModifyDate=20161209,ModifyTime=113210,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3605_12_1012_out.xml' where LogNo=3605
11:32:10,843 INFO midplat.Ybt4Socket(170) - 处理总耗时：5.503s
11:32:10,844 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:33:25,908 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:33:25,919 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:33:25,919 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:33:25,920 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:33:25,920 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:33:25,929 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:33:25,929 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:33:25,930 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:33:25,930 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:33:25,939 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:33:25,939 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:33:25,947 INFO common.SaveMessage(69) - 3611_15_1012_in.xml IO输出耗时:0.0050s
11:33:25,948 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3611_15_1012_in.xml
11:33:25,950 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:33:25,951 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:33:25,953 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:33:25,954 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:33:25,954 INFO common.Log4jPrint(20) - 
11:33:25,971 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:33:25,972 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:33:25,979 INFO common.Log4jPrint(20) - ================0133043
11:33:25,979 INFO common.Log4jPrint(20) - ================00
11:33:25,979 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:33:25,980 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:33:25,980 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:33:25,980 INFO service.NewContInput(43) - Into NewContInput.service()...
11:33:25,981 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:33:25,981 INFO common.Log4jPrint(20) - 进程名：3611
11:33:25,981 INFO common.Log4jPrint(20) - trancom:3
11:33:25,982 INFO common.Log4jPrint(20) - FuncFlag:1012
11:33:25,982 INFO common.Log4jPrint(20) - mHeadEle.getChildText3611_15_1012_in.xml
11:33:26,019 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:33:26,019 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3611,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'101019000001322',-1,-1,'??????','127.0.0.1','3611_15_1012_in.xml',20161209,113325,20161209,113325,'320177196306261011','??????','320177196306261011','011A0100' )
11:33:26,031 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:33:26,031 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001322' and MakeDate>=20161209 and MakeTime>=113006
11:33:26,236 INFO common.RuleParser(49) - Into RuleParser.check()...
11:33:26,237 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:33:26,247 INFO common.Log4jPrint(20) - 对邮编进行校验
11:33:26,248 INFO common.Log4jPrint(20) - 对邮编进行校验
11:33:26,249 INFO common.Log4jPrint(20) - 返回的结果是:0
11:33:26,253 INFO common.Log4jPrint(20) - 对邮编进行校验
11:33:26,256 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

11:33:26,257 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
11:33:26,258 INFO common.RuleParser(62) - Out RuleParser.check()!
11:33:26,258 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
11:33:26,264 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
11:33:26,281 INFO common.SaveMessage(69) - 3611_18_0_inSvc.xml IO输出耗时:0.016s
11:33:26,281 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3611_18_0_inSvc.xml
11:33:26,282 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:33:26,283 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:33:26,328 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
11:33:26,328 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
11:33:26,329 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
11:33:26,329 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
11:33:26,329 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
11:33:26,330 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
11:33:26,330 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:33:26,331 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
11:33:26,332 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTA1OTA0PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjMxODAxMDk4NjwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzYxMV8xNV8xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAxMzIyPC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMjA5PC9Qb2xBcHBseURhdGU+PEFjY05vIC8+PEFjY05hbWU+Pz8/Pz8/PC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPj8/Pz88L1NhbGVOYW1lPjxTYWxlU3RhZmY+Nzc5NzY1Njk8L1NhbGVTdGFmZj48U2FsZUNlcnRObz4yMDA4MDIxMTAwMDAwMDAxMDU2NzwvU2FsZUNlcnRObz48THYxQnJObz4xMTAwMDAwMDA8L0x2MUJyTm8+PEFwcG50PjxOYW1lPj8/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk2MzA2MjY8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz48SWRFeHBEYXRlPjIwMTgxMjEyPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+PE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MzAuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4xMDAuMDwvRmFtaWx5WWVhclNhbGFyeT48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDI+MDEzMzA0MzwvUmVsYVRvSW5zdXJlZDI+PERlblR5cGU+MTwvRGVuVHlwZT48L0FwcG50PjxJbnN1cmVkPjxOYW1lPj8/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48Qm"
11:33:26,332 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:33:26,333 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
11:33:26,333 DEBUG httpclient.Wire(84) - >> "lydGhkYXk+MTk2MzA2MjY8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz48SWRFeHBEYXRlPjIwMTgxMjEyPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+PE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbT4zMDAwMDAuMDA8L1JjZ25ZckluY21BbT48Q292U3VtQW10PjA8L0NvdlN1bUFtdD48Umlza0Fzc2Vzc21lbnRSZXN1bHQ+MDI8L1Jpc2tBc3Nlc3NtZW50UmVzdWx0PjxSaXNrQXNzZXNzbWVudEVuZERhdGU+MjAxNzExMTg8L1Jpc2tBc3Nlc3NtZW50RW5kRGF0ZT48UHJlbWl1bUJ1ZGdldD4wPC9QcmVtaXVtQnVkZ2V0PjwvSW5zdXJlZD48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Mj8/Pz8/Pz8/Pz8/Pz8/Pz8pPC9SaXNrTmFtZT48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MTAwMDAwMDwvUHJlbT48TXVsdD4xMDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MTAwMDwvUGF5RW5kWWVhcj48UGF5RW5kWWVhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
11:33:26,334 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:33:26,334 DEBUG httpclient.Wire(84) - >> "0"
11:33:26,334 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:33:26,335 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:33:27,073 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:33:27,074 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:33:27,075 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
11:33:27,077 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
11:33:27,078 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
11:33:27,079 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 03:33:08 GMT[\r][\n]"
11:33:27,080 DEBUG httpclient.Wire(70) - << "[\r][\n]"
11:33:27,081 DEBUG httpclient.Wire(84) - << "1"
11:33:27,082 DEBUG httpclient.Wire(84) - << "e"
11:33:27,083 DEBUG httpclient.Wire(84) - << "b"
11:33:27,084 DEBUG httpclient.Wire(84) - << "[\r]"
11:33:27,085 DEBUG httpclient.Wire(70) - << "[\n]"
11:33:27,087 DEBUG httpclient.Wire(84) - << "<?xm"
11:33:27,088 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
11:33:27,090 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
11:33:27,092 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001322录单核保(service)耗时：0.809s
11:33:27,098 INFO common.SaveMessage(69) - 3611_21_0_outSvc.xml IO输出耗时:0.0010s
11:33:27,099 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3611_21_0_outSvc.xml
11:33:27,100 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
11:33:27,101 INFO common.Log4jPrint(20) - -----------------------------------------------
11:33:27,101 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
11:33:27,102 INFO service.NewContInput(139) - 错误描述长度：19
11:33:27,103 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:33:27,165 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:33:27,166 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:33:27,167 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3611,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001322',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3611_15_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113325,ModifyDate=20161209,ModifyTime=113327,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3611
11:33:27,252 INFO service.NewContInput(245) - Out NewContInput.service()!
11:33:27,252 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:33:27,263 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:33:27,264 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:33:27,548 INFO common.SaveMessage(69) - 3611_24_1012_out.xml IO输出耗时:0.28s
11:33:27,549 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3611_24_1012_out.xml
11:33:27,552 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>856</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1959</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209113325955</SYS_RECV_TIME><SYS_RESP_TIME>20161209113327262</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:33:27,553 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:33:27,560 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
11:33:27,564 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：1.642s
11:33:27,592 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:33:27,597 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:33:27,597 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3611
11:33:27,623 INFO common.Log4jPrint(20) - -------------------------
11:33:27,623 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:33:27,623 INFO common.Log4jPrint(20) - -------------------------
11:33:27,632 INFO common.Log4jPrint(20) - i=1
11:33:27,674 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:33:27,675 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:33:27,675 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3611,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001322',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='1.713',Bak4=null,Bak5=null,InNoDoc='3611_15_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113325,ModifyDate=20161209,ModifyTime=113327,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3611_24_1012_out.xml' where LogNo=3611
11:33:27,717 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.797s
11:33:27,717 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:34:56,859 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:34:56,870 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:34:56,870 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:34:56,871 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:34:56,871 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:34:56,880 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:34:56,881 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:34:56,881 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:34:56,881 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:34:56,886 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:34:56,887 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:34:56,891 INFO common.SaveMessage(69) - 3617_27_1012_in.xml IO输出耗时:0.0020s
11:34:56,891 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3617_27_1012_in.xml
11:34:56,893 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:34:56,894 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:34:56,896 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:34:56,896 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
11:34:56,897 INFO common.Log4jPrint(20) - 
11:34:56,908 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:34:56,909 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:34:56,913 INFO common.Log4jPrint(20) - ================0133043
11:34:56,913 INFO common.Log4jPrint(20) - ================00
11:34:56,913 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:34:56,913 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
11:34:56,913 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:34:56,914 INFO service.NewContInput(43) - Into NewContInput.service()...
11:34:56,914 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:34:56,915 INFO common.Log4jPrint(20) - 进程名：3617
11:34:56,915 INFO common.Log4jPrint(20) - trancom:3
11:34:56,915 INFO common.Log4jPrint(20) - FuncFlag:1012
11:34:56,915 INFO common.Log4jPrint(20) - mHeadEle.getChildText3617_27_1012_in.xml
11:34:56,948 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:34:56,948 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3617,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'101019000001322',-1,-1,'??????','127.0.0.1','3617_27_1012_in.xml',20161209,113456,20161209,113456,'320177196306261011','??????','320177196306261011','011A0100' )
11:34:56,960 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:34:56,961 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001322' and MakeDate>=20161209 and MakeTime>=113136
11:34:57,052 INFO common.RuleParser(49) - Into RuleParser.check()...
11:34:57,053 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:34:57,063 INFO common.Log4jPrint(20) - 对邮编进行校验
11:34:57,064 INFO common.Log4jPrint(20) - 对邮编进行校验
11:34:57,065 INFO common.Log4jPrint(20) - 返回的结果是:0
11:34:57,069 INFO common.Log4jPrint(20) - 对邮编进行校验
11:34:57,073 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

11:34:57,074 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
11:34:57,074 INFO common.RuleParser(62) - Out RuleParser.check()!
11:34:57,074 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
11:34:57,077 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
11:34:57,091 INFO common.SaveMessage(69) - 3617_30_0_inSvc.xml IO输出耗时:0.014s
11:34:57,091 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3617_30_0_inSvc.xml
11:34:57,092 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:34:57,092 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:34:57,114 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
11:34:57,115 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
11:34:57,115 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
11:34:57,116 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
11:34:57,116 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
11:34:57,116 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
11:34:57,117 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:34:57,118 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
11:34:57,118 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTA1OTA0PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjMxODAxMDk4NjwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzYxN18yN18xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAxMzIyPC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMjA5PC9Qb2xBcHBseURhdGU+PEFjY05vIC8+PEFjY05hbWU+Pz8/Pz8/PC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPj8/Pz88L1NhbGVOYW1lPjxTYWxlU3RhZmY+Nzc5NzY1Njk8L1NhbGVTdGFmZj48U2FsZUNlcnRObz4yMDA4MDIxMTAwMDAwMDAxMDU2NzwvU2FsZUNlcnRObz48THYxQnJObz4xMTAwMDAwMDA8L0x2MUJyTm8+PEFwcG50PjxOYW1lPj8/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk2MzA2MjY8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz48SWRFeHBEYXRlPjIwMTgxMjEyPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+PE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MzAuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4xMDAuMDwvRmFtaWx5WWVhclNhbGFyeT48UmVsYVRvSW5zdXJlZD4wMDwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDI+MDEzMzA0MzwvUmVsYVRvSW5zdXJlZDI+PERlblR5cGU+MTwvRGVuVHlwZT48L0FwcG50PjxJbnN1cmVkPjxOYW1lPj8/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48Qm"
11:34:57,119 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:34:57,120 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
11:34:57,120 DEBUG httpclient.Wire(84) - >> "lydGhkYXk+MTk2MzA2MjY8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz48SWRFeHBEYXRlPjIwMTgxMjEyPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+PE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbT4zMDAwMDAuMDA8L1JjZ25ZckluY21BbT48Q292U3VtQW10PjA8L0NvdlN1bUFtdD48Umlza0Fzc2Vzc21lbnRSZXN1bHQ+MDI8L1Jpc2tBc3Nlc3NtZW50UmVzdWx0PjxSaXNrQXNzZXNzbWVudEVuZERhdGU+MjAxNzExMTg8L1Jpc2tBc3Nlc3NtZW50RW5kRGF0ZT48UHJlbWl1bUJ1ZGdldD4wPC9QcmVtaXVtQnVkZ2V0PjwvSW5zdXJlZD48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Mj8/Pz8/Pz8/Pz8/Pz8/Pz8pPC9SaXNrTmFtZT48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MTAwMDAwMDwvUHJlbT48TXVsdD4xMDwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MTAwMDwvUGF5RW5kWWVhcj48UGF5RW5kWWVhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWcgLz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
11:34:57,120 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:34:57,121 DEBUG httpclient.Wire(84) - >> "0"
11:34:57,121 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:34:57,121 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:34:57,961 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:34:57,962 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:34:57,964 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
11:34:57,965 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
11:34:57,966 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
11:34:57,967 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 03:34:39 GMT[\r][\n]"
11:34:57,968 DEBUG httpclient.Wire(70) - << "[\r][\n]"
11:34:57,970 DEBUG httpclient.Wire(84) - << "1"
11:34:57,971 DEBUG httpclient.Wire(84) - << "e"
11:34:57,972 DEBUG httpclient.Wire(84) - << "b"
11:34:57,973 DEBUG httpclient.Wire(84) - << "[\r]"
11:34:57,974 DEBUG httpclient.Wire(70) - << "[\n]"
11:34:57,975 DEBUG httpclient.Wire(84) - << "<?xm"
11:34:57,976 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
11:34:57,978 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
11:34:57,980 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001322录单核保(service)耗时：0.887s
11:34:57,987 INFO common.SaveMessage(69) - 3617_33_0_outSvc.xml IO输出耗时:0.0020s
11:34:57,988 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3617_33_0_outSvc.xml
11:34:57,988 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
11:34:57,989 INFO common.Log4jPrint(20) - -----------------------------------------------
11:34:57,989 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
11:34:57,991 INFO service.NewContInput(139) - 错误描述长度：19
11:34:57,992 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:34:58,026 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:34:58,026 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:34:58,026 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3617,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001322',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3617_27_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113456,ModifyDate=20161209,ModifyTime=113457,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3617
11:34:58,045 INFO service.NewContInput(245) - Out NewContInput.service()!
11:34:58,045 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
11:34:58,050 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
11:34:58,050 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:34:58,053 INFO common.SaveMessage(69) - 3617_36_1012_out.xml IO输出耗时:0.0010s
11:34:58,054 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3617_36_1012_out.xml
11:34:58,055 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>856</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1959</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209113456897</SYS_RECV_TIME><SYS_RESP_TIME>20161209113458049</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:34:58,055 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:34:58,058 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
11:34:58,061 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：1.191s
11:34:58,073 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:34:58,130 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:34:58,130 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3617
11:34:58,154 INFO common.Log4jPrint(20) - -------------------------
11:34:58,155 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:34:58,155 INFO common.Log4jPrint(20) - -------------------------
11:34:58,165 INFO common.Log4jPrint(20) - i=1
11:34:58,196 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:34:58,196 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:34:58,196 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3617,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001322',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='1.294',Bak4=null,Bak5=null,InNoDoc='3617_27_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=113456,ModifyDate=20161209,ModifyTime=113457,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3617_36_1012_out.xml' where LogNo=3617
11:34:58,214 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.343s
11:34:58,215 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:39:06,160 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@1819ccba
11:39:06,172 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:39:06,178 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:39:06,179 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:39:06,181 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:39:06,181 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:39:06,182 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:39:06,186 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:15:58,558) and length=23946 bytes!
11:39:06,253 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:39:06,262 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:39:06,263 INFO common.Log4jPrint(20) - End reset System.out!
11:39:06,265 INFO net.SocketConf(27) - Into SocketConf.load()...
11:39:06,265 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:39:06,266 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:39:06,270 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:39:06,271 INFO net.SocketConf(60) - Out SocketConf.load()!
11:39:06,287 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:39:06,288 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:39:06,297 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:39:06,298 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:39:06,298 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:39:06,304 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:39:06,304 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:39:06,304 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:39:06,311 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:39:06,312 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:39:06,312 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:39:06,317 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:39:06,318 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:39:06,318 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:39:09,131 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:39:09,142 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:39:09,143 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:39:09,143 INFO common.XmlConf(64) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
11:39:09,152 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:39:09,152 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:39:09,154 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:39:09,173 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:39:09,174 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:39:09,177 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:39:09,183 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:39:09,875 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:39:10,031 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:39:10,133 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:39:10,157 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:39:10,159 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:39:10,160 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:39:10,167 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:39:10,169 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:39:10,198 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:39:10,199 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:39:10,319 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:39:10,319 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:39:10,324 INFO common.SaveMessage(69) - 3623_3_1012_in.xml IO输出耗时:0.0050s
11:39:10,324 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3623_3_1012_in.xml
11:39:10,326 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:39:10,328 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:39:10,330 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:39:10,336 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
11:39:10,344 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:39:10,345 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:39:10,345 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:39:02,762) and length=25875 bytes!
11:39:10,660 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:39:10,677 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:39:10,679 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:39:10,857 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.NewCont.noStd2Std(NewCont.java:106)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:123)
11:39:10,861 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:39:10,861 INFO common.Log4jPrint(20) - ==================send====
11:39:10,863 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
11:39:10,864 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
11:39:10,864 INFO common.XslCache(64) - conf file modified at (2016-12-02 20:37:28,928) and length=2697 bytes!
11:39:10,884 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
11:39:10,887 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:39:10,905 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
11:39:10,911 INFO common.SaveMessage(69) - 3623_6_1012_out.xml IO输出耗时:0.0020s
11:39:10,911 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3623_6_1012_out.xml
11:39:10,911 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>674</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>952</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID /><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID /><SYS_SND_SERIAL_NO /><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN /><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME /><SYS_RESP_TIME /><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN><SYS_RESP_DESC>绯荤寮甯革璇疯绯讳╁革?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX>

11:39:10,912 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:39:10,913 INFO test.NewCCBTestUI(517) - 返回报文长度：943
11:39:10,915 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：1.772s
11:39:10,926 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:39:10,971 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:39:10,990 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3623
11:39:11,028 INFO common.Log4jPrint(20) - i=0
11:39:11,031 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:39:11,032 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.873s
11:39:11,032 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:41:34,500 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29de6817
11:41:34,509 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:41:34,513 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:41:34,514 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:41:34,516 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:41:34,517 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:41:34,518 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:41:34,521 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:15:58,558) and length=23946 bytes!
11:41:34,586 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:41:34,596 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:41:34,597 INFO common.Log4jPrint(20) - End reset System.out!
11:41:34,598 INFO net.SocketConf(27) - Into SocketConf.load()...
11:41:34,599 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:41:34,600 INFO common.XmlConf(64) - conf file modified at (2016-12-07 10:16:12,910) and length=686 bytes!
11:41:34,603 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:41:34,604 INFO net.SocketConf(60) - Out SocketConf.load()!
11:41:34,621 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:41:34,621 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:41:34,631 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:41:34,632 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:41:34,632 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:41:34,639 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:41:34,640 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:41:34,640 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:41:34,645 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:41:34,645 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:41:34,646 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:41:34,652 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:41:34,652 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:41:34,652 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:41:54,691 INFO net.SocketListenerF5(86) - Into SocketListenerF5.contextDestroyed()...
11:41:54,691 INFO net.SocketListenerF5(88) - 关闭ServerSocket监听...
11:41:54,691 DEBUG net.SocketListenerF5(108) - System.out = com.sinosoft.midplat.common.Log4jPrint@5484ff20
11:41:54,692 INFO common.Log4jPrint(20) - Start revert System.out...
11:41:54,692 INFO net.SocketListenerF5(117) - Out SocketListenerF5.contextDestroyed()!
11:42:34,460 INFO boc.BocConf(22) - Into BocConf.load()...
11:42:34,461 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
11:42:34,462 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,071) and length=3632 bytes!
11:42:34,469 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
11:42:34,469 INFO boc.BocConf(47) - Out BocConf.load()!
11:42:34,487 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:42:34,487 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:42:34,488 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,423) and length=14902 bytes!
11:42:34,496 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:42:34,501 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
11:42:34,502 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
11:42:34,502 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,120) and length=1734 bytes!
11:42:34,505 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
11:42:34,505 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
11:43:19,732 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:43:28,896 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
11:43:28,905 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:43:28,909 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:43:28,910 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:43:28,913 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:43:28,914 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:43:28,915 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:43:28,918 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,126) and length=23946 bytes!
11:43:28,990 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:43:29,001 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:43:29,002 INFO common.Log4jPrint(20) - End reset System.out!
11:43:29,004 INFO net.SocketConf(27) - Into SocketConf.load()...
11:43:29,005 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:43:29,005 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,911) and length=686 bytes!
11:43:29,008 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:43:29,009 INFO net.SocketConf(60) - Out SocketConf.load()!
11:43:29,029 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:43:29,029 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:43:29,038 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:43:29,039 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:43:29,039 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:43:29,046 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:43:29,047 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:43:29,047 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:43:29,053 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:43:29,054 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:43:29,054 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:43:29,062 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:43:29,062 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:43:29,062 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:43:30,839 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:43:30,850 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:43:30,850 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:43:30,851 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,423) and length=14902 bytes!
11:43:30,859 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:43:30,860 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:43:30,860 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:43:30,881 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:43:30,882 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:43:30,885 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:43:30,891 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:43:31,485 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:43:31,590 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:43:31,672 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:43:31,680 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:43:31,681 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:43:31,681 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:43:31,684 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:43:31,685 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:43:31,702 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:43:31,702 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:43:31,849 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:43:31,850 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:43:31,873 INFO common.SaveMessage(69) - 3623_3_1012_in.xml IO输出耗时:0.023s
11:43:31,873 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3623_3_1012_in.xml
11:43:31,876 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:43:31,878 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:43:31,880 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:43:31,886 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
11:43:31,894 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:43:31,895 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:43:31,895 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
11:43:32,224 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:43:32,241 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:43:32,243 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:43:32,409 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.NewCont.noStd2Std(NewCont.java:106)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:123)
11:43:32,412 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:43:32,412 INFO common.Log4jPrint(20) - ==================send====
11:43:32,414 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
11:43:32,414 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
11:43:32,415 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,828) and length=2787 bytes!
11:43:32,419 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
11:43:32,422 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:43:32,422 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
11:43:32,427 INFO common.SaveMessage(69) - 3623_6_1012_out.xml IO输出耗时:0.0010s
11:43:32,427 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3623_6_1012_out.xml
11:43:32,428 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>674</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>952</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID /><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID /><SYS_SND_SERIAL_NO /><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN /><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME /><SYS_RESP_TIME /><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN><SYS_RESP_DESC>绯荤寮甯革璇疯绯讳╁革?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX>

11:43:32,428 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:43:32,430 INFO test.NewCCBTestUI(517) - 返回报文长度：943
11:43:32,431 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：1.582s
11:43:32,442 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:43:32,492 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:43:32,493 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3623
11:43:32,566 INFO common.Log4jPrint(20) - i=0
11:43:32,570 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:43:32,570 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.889s
11:43:32,570 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:46:01,895 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@3db158db
11:46:01,904 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:46:01,908 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:46:01,909 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:46:01,910 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:46:01,911 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:46:01,912 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:46:01,916 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,126) and length=23946 bytes!
11:46:01,990 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:46:01,999 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:46:02,000 INFO common.Log4jPrint(20) - End reset System.out!
11:46:02,003 INFO net.SocketConf(27) - Into SocketConf.load()...
11:46:02,003 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:46:02,004 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:42:13,911) and length=686 bytes!
11:46:02,007 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:46:02,008 INFO net.SocketConf(60) - Out SocketConf.load()!
11:46:02,025 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:46:02,026 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:46:02,034 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:46:02,035 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:46:02,035 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:46:02,041 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:46:02,041 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:46:02,041 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:46:02,048 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:46:02,049 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:46:02,049 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:46:02,055 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:46:02,055 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:46:02,056 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:46:23,499 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
11:46:23,507 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:46:23,512 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:46:23,512 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:46:23,514 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:46:23,515 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:46:23,516 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:46:23,519 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:46:16,086) and length=23946 bytes!
11:46:23,590 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:46:23,602 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:46:23,602 INFO common.Log4jPrint(20) - End reset System.out!
11:46:23,604 INFO net.SocketConf(27) - Into SocketConf.load()...
11:46:23,605 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:46:23,605 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:46:16,124) and length=686 bytes!
11:46:23,608 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:46:23,609 INFO net.SocketConf(60) - Out SocketConf.load()!
11:46:23,626 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:46:23,627 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:46:23,637 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:46:23,637 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:46:23,637 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:46:23,645 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:46:23,646 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:46:23,646 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:46:23,653 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:46:23,653 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:46:23,654 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:46:23,660 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:46:23,660 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:46:23,661 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:50:04,655 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29de6817
11:50:04,666 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:50:04,670 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:50:04,670 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:50:04,672 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:50:04,673 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:50:04,673 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:50:04,677 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:49:58,631) and length=23937 bytes!
11:50:04,750 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:50:04,760 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:50:04,761 INFO common.Log4jPrint(20) - End reset System.out!
11:50:04,763 INFO net.SocketConf(27) - Into SocketConf.load()...
11:50:04,764 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:50:04,765 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:46:16,124) and length=686 bytes!
11:50:04,769 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:50:04,769 INFO net.SocketConf(60) - Out SocketConf.load()!
11:50:04,787 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:50:04,788 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:50:04,797 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:50:04,798 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:50:04,798 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:50:04,804 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:50:04,805 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:50:04,805 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:50:04,811 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:50:04,811 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:50:04,812 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:50:04,817 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:50:04,818 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:50:04,817 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:50:31,252 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:50:31,264 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:50:31,264 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:50:31,264 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:46:16,088) and length=14902 bytes!
11:50:31,274 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:50:31,275 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:50:31,274 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:50:31,299 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:50:31,300 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:50:31,303 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:50:31,309 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:50:31,962 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:50:32,056 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:50:32,124 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:50:32,132 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:50:32,133 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:50:32,133 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:50:32,141 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:50:32,142 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:50:32,149 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:50:32,149 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:50:32,296 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:50:32,296 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:50:32,303 INFO common.SaveMessage(69) - 3623_3_1012_in.xml IO输出耗时:0.0060s
11:50:32,304 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3623_3_1012_in.xml
11:50:32,307 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:50:32,309 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:50:32,311 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:50:32,316 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
11:50:32,325 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:50:32,325 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:50:32,325 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
11:50:32,691 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:50:32,709 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:50:32,712 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:50:32,898 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.format.NewCont.noStd2Std(NewCont.java:106)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:123)
11:50:32,902 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:50:32,902 INFO common.Log4jPrint(20) - ==================send====
11:50:32,905 INFO format.ErrorOutXsl(60) - Into ReturnContOutXsl.load()...
11:50:32,905 INFO format.ErrorOutXsl(63) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl...
11:50:32,905 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,828) and length=2787 bytes!
11:50:32,910 INFO format.ErrorOutXsl(75) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ErrorMsgOut.xsl!
11:50:32,913 INFO format.ErrorOutXsl(88) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号 转换类中添加 --><SYS_REQ_SEC_ID /><!--服务种类 --><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号 转换类中添加 --><SYS_EVT_TRACE_ID /><!-- 子交易序号 转换类中添加 --><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度 转换类中添加 --><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加 --><SYS_RECV_TIME /><!-- 服务响应时间 转换类中添加 --><SYS_RESP_TIME /><!-- 报文状态类型 --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度 转换类中添加 --><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX></xsl:template></xsl:stylesheet>

11:50:32,913 INFO format.ErrorOutXsl(96) - Out ReturnContOutXsl.load()!
11:50:32,918 INFO common.SaveMessage(69) - 3623_6_1012_out.xml IO输出耗时:0.0010s
11:50:32,918 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3623_6_1012_out.xml
11:50:32,919 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>674</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>952</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID /><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID /><SYS_SND_SERIAL_NO /><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN /><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME /><SYS_RESP_TIME /><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ073000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>13</SYS_RESP_DESC_LEN><SYS_RESP_DESC>绯荤寮甯革璇疯绯讳╁革?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY /></TX_BODY></TX>

11:50:32,919 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:50:32,922 INFO test.NewCCBTestUI(517) - 返回报文长度：943
11:50:32,924 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：1.66s
11:50:32,942 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:50:33,009 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:50:33,009 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3623
11:50:33,048 INFO common.Log4jPrint(20) - i=0
11:50:33,051 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
11:50:33,052 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.919s
11:50:33,052 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:51:51,275 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:51:51,285 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:51:51,286 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:51:51,286 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:51:51,286 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:51:51,295 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:51:51,296 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:51:51,296 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:51:51,297 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:51:51,302 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:51:51,303 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:51:51,308 INFO common.SaveMessage(69) - 3629_9_1012_in.xml IO输出耗时:0.0030s
11:51:51,309 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3629_9_1012_in.xml
11:51:51,311 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:51:51,312 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:51:51,315 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:52:04,327 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
11:58:06,655 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
11:58:06,664 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:58:06,668 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:58:06,668 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:58:06,670 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:58:06,671 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:58:06,672 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:58:06,675 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,850) and length=23937 bytes!
11:58:06,743 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:58:06,751 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:58:06,752 INFO common.Log4jPrint(20) - End reset System.out!
11:58:06,755 INFO net.SocketConf(27) - Into SocketConf.load()...
11:58:06,756 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:58:06,757 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
11:58:06,762 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:58:06,763 INFO net.SocketConf(60) - Out SocketConf.load()!
11:58:06,782 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:58:06,783 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:58:06,797 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:58:06,798 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:58:06,798 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:58:06,808 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:58:06,808 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:58:06,809 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:58:06,814 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:58:06,814 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:58:06,814 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:58:06,820 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:58:06,821 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:58:06,821 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:58:10,274 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:58:10,284 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:58:10,284 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:58:10,285 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
11:58:10,293 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:58:10,294 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:58:10,295 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:58:10,316 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:58:10,317 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:58:10,319 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:58:10,325 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:58:11,068 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:58:11,192 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:58:11,302 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:58:11,311 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:58:11,312 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:58:11,312 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:58:11,315 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:58:11,316 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:58:11,374 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:58:11,374 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:58:11,524 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:58:11,524 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:58:11,532 INFO common.SaveMessage(69) - 3623_3_1012_in.xml IO输出耗时:0.0070s
11:58:11,532 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3623_3_1012_in.xml
11:58:11,535 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:58:11,538 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:58:11,541 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:58:15,315 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
11:58:15,344 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:58:15,345 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:58:15,345 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
11:58:15,682 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:58:15,699 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:58:15,700 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:58:15,862 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:58:15,862 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:58:16,939 INFO common.Log4jPrint(20) - ================0133043
11:58:16,940 INFO common.Log4jPrint(20) - ================00
11:58:16,941 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:58:16,942 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
11:58:16,942 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:58:16,968 INFO service.NewContInput(43) - Into NewContInput.service()...
11:58:16,969 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:58:16,986 INFO common.Log4jPrint(20) - 进程名：3623
11:58:16,987 INFO common.Log4jPrint(20) - trancom:3
11:58:16,987 INFO common.Log4jPrint(20) - FuncFlag:1012
11:58:16,987 INFO common.Log4jPrint(20) - mHeadEle.getChildText3623_3_1012_in.xml
11:58:17,068 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:58:17,070 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3623,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'10101900000132235',-1,-1,'??????','127.0.0.1','3623_3_1012_in.xml',20161209,115816,20161209,115816,'320177196306261011','??????','320177196306261011','011A0100' )
11:58:17,097 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:58:17,099 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='10101900000132235' and MakeDate>=20161209 and MakeTime>=115457
11:58:17,348 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:58:17,349 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:58:17,351 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:57:42,041) and length=15623 bytes!
11:58:17,420 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:58:17,421 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:58:17,421 INFO common.RuleXml(198) - Into RuleXml.load()...
11:58:17,421 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
11:58:17,422 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
11:58:17,427 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
11:58:17,427 INFO common.RuleXml(215) - Out RuleXml.load()!
11:58:17,427 INFO common.RuleParser(49) - Into RuleParser.check()...
11:58:17,428 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:58:17,434 INFO common.Log4jPrint(20) - 对邮编进行校验
11:58:17,435 INFO common.Log4jPrint(20) - 对邮编进行校验
11:58:17,436 INFO common.Log4jPrint(20) - 返回的结果是:0
11:58:17,438 INFO common.Log4jPrint(20) - 对邮编进行校验
11:58:17,439 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

11:58:17,440 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
11:58:17,440 INFO common.RuleParser(62) - Out RuleParser.check()!
11:58:17,440 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
11:58:17,448 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
11:58:17,451 INFO common.SaveMessage(69) - 3623_6_0_inSvc.xml IO输出耗时:0.0020s
11:58:17,451 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3623_6_0_inSvc.xml
11:58:17,452 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
11:58:17,452 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
11:58:17,709 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
11:58:23,396 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
11:58:23,396 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
11:58:23,397 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
11:58:23,398 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
11:58:23,398 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
11:58:23,399 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
11:58:23,399 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
11:58:23,400 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
11:58:23,401 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
11:58:23,401 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
11:58:23,402 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
11:58:23,402 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
11:58:23,403 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:113)
11:58:23,404 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
11:58:23,404 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:58:23,405 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection refused: connect
11:58:23,406 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
11:58:23,406 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
11:58:23,407 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
11:58:23,408 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
11:58:23,408 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
11:58:23,409 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
11:58:23,410 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
11:58:23,410 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
11:58:23,411 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
11:58:23,411 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
11:58:23,412 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
11:58:23,413 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
11:58:23,413 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
11:58:23,414 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
11:58:23,414 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
11:58:23,415 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
11:58:23,415 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
11:58:23,415 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
11:58:23,415 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
11:58:23,416 INFO common.Log4jPrint(20) - 	... 13 more
11:58:23,416 INFO common.Log4jPrint(20) - -----------------------------------------------
11:58:23,416 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
11:58:23,420 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:228)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:212)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:154)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:58:23,488 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:58:23,489 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:58:23,490 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3623,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='10101900000132235',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=6,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3623_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=115816,ModifyDate=20161209,ModifyTime=115823,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3623
11:58:23,518 INFO service.NewContInput(245) - Out NewContInput.service()!
11:58:23,519 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
11:58:23,537 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
11:58:23,538 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
11:58:23,539 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
11:58:23,560 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
11:58:23,567 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:58:23,568 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
11:58:23,574 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
11:58:23,575 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:58:23,578 INFO common.SaveMessage(69) - 3623_9_1012_out.xml IO输出耗时:0.0020s
11:58:23,579 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3623_9_1012_out.xml
11:58:23,580 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>802</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1905</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209115815319</SYS_RECV_TIME><SYS_RESP_TIME>20161209115823573</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:58:23,580 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:58:23,582 INFO test.NewCCBTestUI(517) - 返回报文长度：1916
11:58:23,583 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：13.299s
11:58:23,694 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:58:23,694 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3623
11:58:23,807 INFO common.Log4jPrint(20) - -------------------------
11:58:23,810 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:58:23,810 INFO common.Log4jPrint(20) - -------------------------
11:58:23,954 INFO common.Log4jPrint(20) - i=1
11:58:24,105 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:58:24,106 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:58:24,107 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3623,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='10101900000132235',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=6,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='12.669',Bak4=null,Bak5=null,InNoDoc='3623_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=115816,ModifyDate=20161209,ModifyTime=115823,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3623_9_1012_out.xml' where LogNo=3623
11:58:24,183 INFO midplat.Ybt4Socket(170) - 处理总耗时：12.871s
11:58:24,183 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
11:58:56,597 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
11:58:56,606 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:58:56,611 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:58:56,611 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:58:56,613 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
11:58:56,614 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:58:56,615 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:58:56,618 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
11:58:56,689 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:58:56,697 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:58:56,698 INFO common.Log4jPrint(20) - End reset System.out!
11:58:56,700 INFO net.SocketConf(27) - Into SocketConf.load()...
11:58:56,701 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:58:56,702 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
11:58:56,705 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:58:56,706 INFO net.SocketConf(60) - Out SocketConf.load()!
11:58:56,723 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
11:58:56,724 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:58:56,740 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
11:58:56,741 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
11:58:56,741 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:58:56,747 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
11:58:56,747 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
11:58:56,748 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:58:56,755 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
11:58:56,756 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:58:56,755 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
11:58:56,770 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
11:58:56,771 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
11:58:56,771 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
11:59:00,849 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
11:59:00,860 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
11:59:00,860 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
11:59:00,861 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
11:59:00,870 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
11:59:00,870 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
11:59:00,871 INFO test.NewCCBTestUI(503) - 收到返回报文！
11:59:00,891 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

11:59:00,892 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
11:59:00,895 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:59:00,901 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:59:01,665 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:59:02,305 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:59:02,982 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
11:59:03,006 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
11:59:03,008 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:59:03,009 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
11:59:03,016 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
11:59:03,017 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101019000001322</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

11:59:03,034 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
11:59:03,034 INFO newNet.CcbNetImpl(58) - mTranCom==============03
11:59:03,161 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:59:03,161 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:59:03,166 INFO common.SaveMessage(69) - 3629_3_1012_in.xml IO输出耗时:0.0040s
11:59:03,167 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3629_3_1012_in.xml
11:59:03,169 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
11:59:03,171 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
11:59:03,173 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
11:59:06,619 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
11:59:06,641 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
11:59:06,642 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
11:59:06,643 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
11:59:06,975 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
11:59:06,993 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

11:59:06,995 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
11:59:07,158 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
11:59:07,159 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
11:59:08,090 INFO common.Log4jPrint(20) - ================0133043
11:59:08,091 INFO common.Log4jPrint(20) - ================00
11:59:08,092 INFO common.Log4jPrint(20) - ++++++++++++++++00
11:59:08,092 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
11:59:08,093 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
11:59:08,114 INFO service.NewContInput(43) - Into NewContInput.service()...
11:59:08,115 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
11:59:08,129 INFO common.Log4jPrint(20) - 进程名：3629
11:59:08,129 INFO common.Log4jPrint(20) - trancom:3
11:59:08,130 INFO common.Log4jPrint(20) - FuncFlag:1012
11:59:08,130 INFO common.Log4jPrint(20) - mHeadEle.getChildText3629_3_1012_in.xml
11:59:08,209 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:59:08,210 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3629,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'10101900000132235',-1,-1,'??????','127.0.0.1','3629_3_1012_in.xml',20161209,115908,20161209,115908,'320177196306261011','??????','320177196306261011','011A0100' )
11:59:08,253 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
11:59:08,254 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='10101900000132235' and MakeDate>=20161209 and MakeTime>=115548
11:59:08,448 INFO common.RuleXsl(155) - Into RuleXsl.load()...
11:59:08,448 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
11:59:08,449 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:57:42,041) and length=15623 bytes!
11:59:08,494 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
11:59:08,494 INFO common.RuleXsl(179) - Out RuleXsl.load()!
11:59:08,495 INFO common.RuleXml(198) - Into RuleXml.load()...
11:59:08,495 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
11:59:08,495 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
11:59:08,500 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
11:59:08,501 INFO common.RuleXml(215) - Out RuleXml.load()!
11:59:08,501 INFO common.RuleParser(49) - Into RuleParser.check()...
11:59:08,501 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
11:59:08,508 INFO common.Log4jPrint(20) - 对邮编进行校验
11:59:08,509 INFO common.Log4jPrint(20) - 对邮编进行校验
11:59:08,510 INFO common.Log4jPrint(20) - 返回的结果是:0
11:59:08,512 INFO common.Log4jPrint(20) - 对邮编进行校验
11:59:08,513 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

11:59:08,514 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
11:59:08,514 INFO common.RuleParser(62) - Out RuleParser.check()!
11:59:08,514 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
11:59:08,523 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
11:59:08,525 INFO common.SaveMessage(69) - 3629_6_0_inSvc.xml IO输出耗时:0.0020s
11:59:08,525 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3629_6_0_inSvc.xml
11:59:08,526 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:59:08,526 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
11:59:08,789 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
11:59:09,266 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
11:59:09,292 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
11:59:09,292 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
11:59:09,292 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
11:59:09,293 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
11:59:09,293 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
11:59:09,294 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:59:09,324 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
11:59:09,325 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTA1OTA0PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjMxODAxMDk4NjwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzYyOV8zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDEzMjIzNTwvUHJvcG9zYWxQcnRObz48Q29udFBydE5vIC8+PFBvbEFwcGx5RGF0ZT4yMDE2MTIwOTwvUG9sQXBwbHlEYXRlPjxBY2NObyAvPjxBY2NOYW1lPj8/Pz8/PzwvQWNjTmFtZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxTYWxlTmFtZT4/Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjc3OTc2NTY5PC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MjAwODAyMTEwMDAwMDAwMTA1Njc8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/Pz88L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NjMwNjI2PC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4zMjAxNzcxOTYzMDYyNjEwMTE8L0lETm8+PElkRXhwRGF0ZT4yMDE4MTIxMjwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5PjxBZGRyZXNzQ29udGVudD4/Pz8/Pz8/P6GkMTExPz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vPjAxMDwvRml4VGVsRG1zdERzdGNObz48TW9iaWxlSXRsRHN0Y05vPjg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcyAvPjxaaXBDb2RlPjEwMDAwMDwvWmlwQ29kZT48UGhvbmU+MDEwMzg2NDM1NjQ8L1Bob25lPjxNb2JpbGU+MTMzNTU2NTk4Nzc8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxZZWFyU2FsYXJ5PjMwLjA8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnk+MTAwLjA8L0ZhbWlseVllYXJTYWxhcnk+PFJlbGFUb0luc3VyZWQ+MDA8L1JlbGFUb0luc3VyZWQ+PFJlbGFUb0luc3VyZWQyPjAxMzMwNDM8L1JlbGFUb0luc3VyZWQyPjxEZW5UeXBlPjE8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT4/Pz8/Pz88L05hbWU+PFNleD4wPC9TZXg+PE"
11:59:09,326 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:59:09,327 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
11:59:09,327 DEBUG httpclient.Wire(84) - >> "JpcnRoZGF5PjE5NjMwNjI2PC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4zMjAxNzcxOTYzMDYyNjEwMTE8L0lETm8+PElkRXhwRGF0ZT4yMDE4MTIxMjwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5PjxBZGRyZXNzQ29udGVudD4/Pz8/Pz8/P6GkMTExPz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vPjAxMDwvRml4VGVsRG1zdERzdGNObz48TW9iaWxlSXRsRHN0Y05vPjg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcyAvPjxaaXBDb2RlPjEwMDAwMDwvWmlwQ29kZT48UGhvbmU+MDEwMzg2NDM1NjQ8L1Bob25lPjxNb2JpbGU+MTMzNTU2NTk4Nzc8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxSY2duWXJJbmNtQW0+MzAwMDAwLjAwPC9SY2duWXJJbmNtQW0+PENvdlN1bUFtdD4wPC9Db3ZTdW1BbXQ+PFJpc2tBc3Nlc3NtZW50UmVzdWx0PjAyPC9SaXNrQXNzZXNzbWVudFJlc3VsdD48Umlza0Fzc2Vzc21lbnRFbmREYXRlPjIwMTcxMTE4PC9SaXNrQXNzZXNzbWVudEVuZERhdGU+PFByZW1pdW1CdWRnZXQ+MDwvUHJlbWl1bUJ1ZGdldD48L0luc3VyZWQ+PFJpc2s+PFJpc2tDb2RlPjAxMUEwMTAwPC9SaXNrQ29kZT48Umlza05hbWU+Pz8/Pz8/PzI/Pz8/Pz8/Pz8/Pz8/Pz8/KTwvUmlza05hbWU+PEFnSW5zUGtnSUQgLz48QW1udD4wPC9BbW50PjxQcmVtPjEwMDAwMDA8L1ByZW0+PE11bHQ+MTA8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYXJGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
11:59:09,328 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:59:09,328 DEBUG httpclient.Wire(84) - >> "0"
11:59:09,329 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:59:09,329 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
11:59:10,136 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:59:10,138 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
11:59:10,143 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
11:59:10,145 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
11:59:10,146 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
11:59:10,147 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 03:58:51 GMT[\r][\n]"
11:59:10,148 DEBUG httpclient.Wire(70) - << "[\r][\n]"
11:59:10,178 DEBUG httpclient.Wire(84) - << "1"
11:59:10,179 DEBUG httpclient.Wire(84) - << "e"
11:59:10,180 DEBUG httpclient.Wire(84) - << "b"
11:59:10,181 DEBUG httpclient.Wire(84) - << "[\r]"
11:59:10,181 DEBUG httpclient.Wire(70) - << "[\n]"
11:59:10,182 DEBUG httpclient.Wire(84) - << "<?xm"
11:59:10,188 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
11:59:10,195 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
11:59:10,201 INFO net.CallWebsvcAtomSvc(118) - 投保单号10101900000132235录单核保(service)耗时：1.675s
11:59:10,203 INFO common.SaveMessage(69) - 3629_9_0_outSvc.xml IO输出耗时:0.0s
11:59:10,203 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3629_9_0_outSvc.xml
11:59:10,203 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
11:59:10,204 INFO common.Log4jPrint(20) - -----------------------------------------------
11:59:10,204 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
11:59:10,204 INFO service.NewContInput(139) - 错误描述长度：19
11:59:10,206 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:59:10,253 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:59:10,254 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:59:10,254 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3629,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='10101900000132235',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3629_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=115908,ModifyDate=20161209,ModifyTime=115910,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3629
11:59:10,272 INFO service.NewContInput(245) - Out NewContInput.service()!
11:59:10,272 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
11:59:10,294 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
11:59:10,295 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
11:59:10,296 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
11:59:10,315 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
11:59:10,324 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:59:10,325 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
11:59:10,332 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
11:59:10,332 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
11:59:10,336 INFO common.SaveMessage(69) - 3629_12_1012_out.xml IO输出耗时:0.0020s
11:59:10,336 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3629_12_1012_out.xml
11:59:10,337 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>856</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1959</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209115906621</SYS_RECV_TIME><SYS_RESP_TIME>20161209115910331</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

11:59:10,337 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
11:59:10,339 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
11:59:10,341 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：9.481s
11:59:10,353 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
11:59:10,411 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:59:10,411 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3629
11:59:10,439 INFO common.Log4jPrint(20) - -------------------------
11:59:10,440 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
11:59:10,440 INFO common.Log4jPrint(20) - -------------------------
11:59:10,456 INFO common.Log4jPrint(20) - i=1
11:59:10,526 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:59:10,526 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:59:10,527 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3629,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='10101900000132235',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='7.448',Bak4=null,Bak5=null,InNoDoc='3629_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=115908,ModifyDate=20161209,ModifyTime=115910,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3629_12_1012_out.xml' where LogNo=3629
11:59:10,545 INFO midplat.Ybt4Socket(170) - 处理总耗时：7.537s
11:59:10,546 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:00:04,475 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
12:00:04,484 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:00:04,489 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:00:04,490 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:00:04,492 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:00:04,493 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:00:04,493 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:00:04,497 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:00:04,563 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:00:04,573 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:00:04,574 INFO common.Log4jPrint(20) - End reset System.out!
12:00:04,576 INFO net.SocketConf(27) - Into SocketConf.load()...
12:00:04,577 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:00:04,577 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:00:04,580 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:00:04,581 INFO net.SocketConf(60) - Out SocketConf.load()!
12:00:04,597 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:00:04,598 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:00:04,612 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:00:04,612 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:00:04,612 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:00:04,618 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:00:04,619 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:00:04,619 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:00:04,626 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:00:04,626 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:00:04,626 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:00:04,633 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:00:04,634 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:00:04,634 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:00:06,185 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:00:06,196 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:00:06,196 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:00:06,197 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:00:06,205 INFO test.NewCCBTestUI(488) - 请求报文长度：5862
12:00:06,206 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:00:06,206 INFO test.NewCCBTestUI(503) - 收到返回报文！
12:00:06,227 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:00:06,228 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:00:06,230 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:00:06,236 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:00:07,319 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:00:07,528 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:00:07,697 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:00:07,720 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:00:07,722 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:00:07,723 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:00:07,732 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
12:00:07,734 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000013</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

12:00:07,763 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:00:07,764 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:00:07,892 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:00:07,892 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:00:07,898 INFO common.SaveMessage(69) - 3635_3_1012_in.xml IO输出耗时:0.0060s
12:00:07,898 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3635_3_1012_in.xml
12:00:07,900 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:00:07,903 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:00:07,905 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:00:10,842 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
12:00:10,862 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:00:10,863 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
12:00:10,864 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
12:00:11,197 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
12:00:11,215 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

12:00:11,216 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:00:11,380 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:00:11,381 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
12:00:11,464 INFO common.Log4jPrint(20) - ================0133043
12:00:11,465 INFO common.Log4jPrint(20) - ================00
12:00:11,465 INFO common.Log4jPrint(20) - ++++++++++++++++00
12:00:11,466 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
12:00:11,466 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
12:00:11,476 INFO service.NewContInput(43) - Into NewContInput.service()...
12:00:11,477 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
12:00:11,488 INFO common.Log4jPrint(20) - 进程名：3635
12:00:11,488 INFO common.Log4jPrint(20) - trancom:3
12:00:11,488 INFO common.Log4jPrint(20) - FuncFlag:1012
12:00:11,488 INFO common.Log4jPrint(20) - mHeadEle.getChildText3635_3_1012_in.xml
12:00:12,004 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:00:12,006 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3635,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'101019000001317',-1,-1,'??????','127.0.0.1','3635_3_1012_in.xml',20161209,120011,20161209,120011,'320177196306261011','??????','320177196306261011','011A0100' )
12:00:12,144 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
12:00:12,146 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001317' and MakeDate>=20161209 and MakeTime>=115652
12:00:12,541 INFO common.RuleXsl(155) - Into RuleXsl.load()...
12:00:12,542 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
12:00:12,543 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:57:42,041) and length=15623 bytes!
12:00:12,598 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
12:00:12,599 INFO common.RuleXsl(179) - Out RuleXsl.load()!
12:00:12,599 INFO common.RuleXml(198) - Into RuleXml.load()...
12:00:12,599 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
12:00:12,600 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
12:00:12,605 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
12:00:12,605 INFO common.RuleXml(215) - Out RuleXml.load()!
12:00:12,605 INFO common.RuleParser(49) - Into RuleParser.check()...
12:00:12,605 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:00:12,613 INFO common.Log4jPrint(20) - 对邮编进行校验
12:00:12,614 INFO common.Log4jPrint(20) - 对邮编进行校验
12:00:12,614 INFO common.Log4jPrint(20) - 返回的结果是:0
12:00:12,616 INFO common.Log4jPrint(20) - 对邮编进行校验
12:00:12,618 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

12:00:12,618 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
12:00:12,618 INFO common.RuleParser(62) - Out RuleParser.check()!
12:00:12,619 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
12:00:12,627 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
12:00:12,630 INFO common.SaveMessage(69) - 3635_6_0_inSvc.xml IO输出耗时:0.0010s
12:00:12,630 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3635_6_0_inSvc.xml
12:00:12,631 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:00:12,631 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:00:12,896 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
12:00:13,364 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
12:00:13,385 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:00:13,385 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
12:00:13,385 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
12:00:13,386 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
12:00:13,386 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
12:00:13,386 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:00:13,410 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
12:00:13,411 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTA1OTA0PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjMxODAxMDk4NjwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzYzNV8zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDEzMTc8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT48QWNjTm8gLz48QWNjTmFtZT4/Pz8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PzwvU2FsZU5hbWU+PFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vPjIwMDgwMjExMDAwMDAwMDEwNTY3PC9TYWxlQ2VydE5vPjxMdjFCck5vPjExMDAwMDAwMDwvTHYxQnJObz48QXBwbnQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48WWVhclNhbGFyeT4zMC4wPC9ZZWFyU2FsYXJ5PjxGYW1pbHlZZWFyU2FsYXJ5PjEwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDQzPC9SZWxhVG9JbnN1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaX"
12:00:13,411 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:00:13,412 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
12:00:13,413 DEBUG httpclient.Wire(84) - >> "J0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtPjMwMDAwMC4wMDwvUmNnbllySW5jbUFtPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wMjwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE3MTExODwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT4wMTFBMDEwMDwvUmlza0NvZGU+PFJpc2tOYW1lPj8/Pz8/Pz8yPz8/Pz8/Pz8/Pz8/Pz8/Pyk8L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xMDAwMDAwPC9QcmVtPjxNdWx0PjEwPC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz48R2V0SW50diAvPjxHZXRZZWFyRmxhZyAvPjxCb251c0dldE1vZGUgLz48U3ViRmxhZyAvPjxHZXRZZWFyIC8+PEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+PEluc3VZZWFyPjU8L0luc3VZZWFyPjxHZXRCYW5rQ29kZSAvPjxHZXRCYW5rQWNjTm8gLz48R2V0QWNjTmFtZSAvPjxBdXRvUGF5RmxhZyAvPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
12:00:13,413 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:00:13,413 DEBUG httpclient.Wire(84) - >> "0"
12:00:13,413 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:00:13,414 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:00:13,840 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:00:13,841 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:00:13,845 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
12:00:13,846 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
12:00:13,847 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
12:00:13,848 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 03:59:55 GMT[\r][\n]"
12:00:13,849 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:00:13,875 DEBUG httpclient.Wire(84) - << "1"
12:00:13,876 DEBUG httpclient.Wire(84) - << "e"
12:00:13,876 DEBUG httpclient.Wire(84) - << "7"
12:00:13,876 DEBUG httpclient.Wire(84) - << "[\r]"
12:00:13,877 DEBUG httpclient.Wire(70) - << "[\n]"
12:00:13,877 DEBUG httpclient.Wire(84) - << "<?xm"
12:00:13,884 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
12:00:13,893 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+t8e1scjVs7e1pbXEsaO1paOssrvE3NbY0MLNtrGjo6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
12:00:13,900 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001317录单核保(service)耗时：1.269s
12:00:13,903 INFO common.SaveMessage(69) - 3635_9_0_outSvc.xml IO输出耗时:0.0010s
12:00:13,903 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3635_9_0_outSvc.xml
12:00:13,904 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
12:00:13,904 INFO common.Log4jPrint(20) - -----------------------------------------------
12:00:13,904 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
12:00:13,904 INFO service.NewContInput(139) - 错误描述长度：16
12:00:13,907 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日撤单的保单，不能重新投保！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:00:14,052 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:00:14,053 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:00:14,053 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3635,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001317',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=2,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3635_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=120011,ModifyDate=20161209,ModifyTime=120013,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3635
12:00:14,101 INFO service.NewContInput(245) - Out NewContInput.service()!
12:00:14,102 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
12:00:14,123 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:00:14,123 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
12:00:14,124 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
12:00:14,144 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
12:00:14,150 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:00:14,151 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:00:14,156 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
12:00:14,156 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:00:14,161 INFO common.SaveMessage(69) - 3635_12_1012_out.xml IO输出耗时:0.0030s
12:00:14,162 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3635_12_1012_out.xml
12:00:14,163 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>851</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1954</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209120010844</SYS_RECV_TIME><SYS_RESP_TIME>20161209120014155</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>16</SYS_RESP_DESC_LEN><SYS_RESP_DESC>褰ユゅ淇锛涓介版淇锛</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

12:00:14,163 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
12:00:14,166 INFO test.NewCCBTestUI(517) - 返回报文长度：1941
12:00:14,167 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：7.971s
12:00:14,324 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:00:14,325 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3635
12:00:14,429 INFO common.Log4jPrint(20) - -------------------------
12:00:14,430 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:00:14,430 INFO common.Log4jPrint(20) - -------------------------
12:00:14,596 INFO common.Log4jPrint(20) - i=1
12:00:15,045 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:00:15,046 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:00:15,047 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3635,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001317',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=2,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='6.875',Bak4=null,Bak5=null,InNoDoc='3635_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=120011,ModifyDate=20161209,ModifyTime=120013,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3635_12_1012_out.xml' where LogNo=3635
12:00:15,111 INFO midplat.Ybt4Socket(170) - 处理总耗时：7.389s
12:00:15,112 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:00:50,534 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@46b113c7
12:00:50,543 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:00:50,547 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:00:50,548 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:00:50,550 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:00:50,550 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:00:50,551 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:00:50,555 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:00:50,622 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:00:50,631 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:00:50,632 INFO common.Log4jPrint(20) - End reset System.out!
12:00:50,634 INFO net.SocketConf(27) - Into SocketConf.load()...
12:00:50,634 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:00:50,635 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:00:50,639 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:00:50,639 INFO net.SocketConf(60) - Out SocketConf.load()!
12:00:50,656 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:00:50,657 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:00:50,670 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:00:50,671 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:00:50,671 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:00:50,677 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:00:50,677 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:00:50,677 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:00:50,684 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:00:50,684 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:00:50,685 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:00:50,692 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:00:50,693 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:00:50,693 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:00:52,648 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:00:52,659 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:00:52,659 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:00:52,659 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:00:52,668 INFO test.NewCCBTestUI(488) - 请求报文长度：5862
12:00:52,669 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:00:52,669 INFO test.NewCCBTestUI(503) - 收到返回报文！
12:00:52,690 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:00:52,691 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:00:52,694 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:00:52,700 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:01:09,205 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:01:09,679 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:01:09,838 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:01:09,861 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:01:09,863 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:01:09,864 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:01:09,886 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
12:01:09,887 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000014</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

12:01:09,900 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:01:09,900 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:01:10,028 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:01:10,029 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:01:10,033 INFO common.SaveMessage(69) - 3641_3_1012_in.xml IO输出耗时:0.0040s
12:01:10,034 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3641_3_1012_in.xml
12:01:10,035 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:01:10,038 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:01:10,040 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:01:12,452 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
12:01:12,482 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:01:12,484 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
12:01:12,485 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
12:01:12,826 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
12:01:12,844 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

12:01:12,845 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:01:13,009 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:01:13,009 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
12:01:14,122 INFO common.Log4jPrint(20) - ================0133043
12:01:14,122 INFO common.Log4jPrint(20) - ================00
12:01:14,123 INFO common.Log4jPrint(20) - ++++++++++++++++00
12:01:14,124 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
12:01:14,124 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
12:01:14,149 INFO service.NewContInput(43) - Into NewContInput.service()...
12:01:14,151 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
12:01:14,172 INFO common.Log4jPrint(20) - 进程名：3641
12:01:14,173 INFO common.Log4jPrint(20) - trancom:3
12:01:14,174 INFO common.Log4jPrint(20) - FuncFlag:1012
12:01:14,174 INFO common.Log4jPrint(20) - mHeadEle.getChildText3641_3_1012_in.xml
12:01:14,229 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:01:14,230 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3641,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'101019000001424',-1,-1,'??????','127.0.0.1','3641_3_1012_in.xml',20161209,120114,20161209,120114,'320177196306261011','??????','320177196306261011','011A0100' )
12:01:14,245 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
12:01:14,246 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001424' and MakeDate>=20161209 and MakeTime>=115754
12:01:14,333 INFO common.RuleXsl(155) - Into RuleXsl.load()...
12:01:14,333 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
12:01:14,334 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:57:42,041) and length=15623 bytes!
12:01:14,380 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
12:01:14,380 INFO common.RuleXsl(179) - Out RuleXsl.load()!
12:01:14,380 INFO common.RuleXml(198) - Into RuleXml.load()...
12:01:14,381 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
12:01:14,381 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
12:01:14,386 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
12:01:14,386 INFO common.RuleXml(215) - Out RuleXml.load()!
12:01:14,387 INFO common.RuleParser(49) - Into RuleParser.check()...
12:01:14,387 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:01:14,394 INFO common.Log4jPrint(20) - 对邮编进行校验
12:01:14,395 INFO common.Log4jPrint(20) - 对邮编进行校验
12:01:14,395 INFO common.Log4jPrint(20) - 返回的结果是:0
12:01:14,397 INFO common.Log4jPrint(20) - 对邮编进行校验
12:01:14,399 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

12:01:14,400 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
12:01:14,400 INFO common.RuleParser(62) - Out RuleParser.check()!
12:01:14,400 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
12:01:14,409 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
12:01:14,411 INFO common.SaveMessage(69) - 3641_6_0_inSvc.xml IO输出耗时:0.0020s
12:01:14,411 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3641_6_0_inSvc.xml
12:01:14,412 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:01:14,412 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:01:14,675 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
12:01:15,146 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
12:01:15,167 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:01:15,168 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
12:01:15,168 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
12:01:15,168 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
12:01:15,169 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
12:01:15,169 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:01:15,192 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
12:01:15,193 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTA1OTA0PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjMxODAxMDk4NjwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY0MV8zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDE0MjQ8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT48QWNjTm8gLz48QWNjTmFtZT4/Pz8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PzwvU2FsZU5hbWU+PFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vPjIwMDgwMjExMDAwMDAwMDEwNTY3PC9TYWxlQ2VydE5vPjxMdjFCck5vPjExMDAwMDAwMDwvTHYxQnJObz48QXBwbnQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48WWVhclNhbGFyeT4zMC4wPC9ZZWFyU2FsYXJ5PjxGYW1pbHlZZWFyU2FsYXJ5PjEwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDQzPC9SZWxhVG9JbnN1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaX"
12:01:15,194 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:01:15,195 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
12:01:15,195 DEBUG httpclient.Wire(84) - >> "J0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtPjMwMDAwMC4wMDwvUmNnbllySW5jbUFtPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wMjwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE3MTExODwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT4wMTFBMDEwMDwvUmlza0NvZGU+PFJpc2tOYW1lPj8/Pz8/Pz8yPz8/Pz8/Pz8/Pz8/Pz8/Pyk8L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xMDAwMDAwPC9QcmVtPjxNdWx0PjEwPC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz48R2V0SW50diAvPjxHZXRZZWFyRmxhZyAvPjxCb251c0dldE1vZGUgLz48U3ViRmxhZyAvPjxHZXRZZWFyIC8+PEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+PEluc3VZZWFyPjU8L0luc3VZZWFyPjxHZXRCYW5rQ29kZSAvPjxHZXRCYW5rQWNjTm8gLz48R2V0QWNjTmFtZSAvPjxBdXRvUGF5RmxhZyAvPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
12:01:15,195 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:01:15,196 DEBUG httpclient.Wire(84) - >> "0"
12:01:15,196 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:01:15,196 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:01:15,643 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:01:15,644 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:01:15,647 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
12:01:15,647 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
12:01:15,648 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
12:01:15,648 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 04:00:56 GMT[\r][\n]"
12:01:15,649 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:01:15,667 DEBUG httpclient.Wire(84) - << "1"
12:01:15,667 DEBUG httpclient.Wire(84) - << "e"
12:01:15,668 DEBUG httpclient.Wire(84) - << "7"
12:01:15,668 DEBUG httpclient.Wire(84) - << "[\r]"
12:01:15,669 DEBUG httpclient.Wire(70) - << "[\n]"
12:01:15,669 DEBUG httpclient.Wire(84) - << "<?xm"
12:01:15,676 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
12:01:15,683 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+t8e1scjVs7e1pbXEsaO1paOssrvE3NbY0MLNtrGjo6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
12:01:15,689 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001424录单核保(service)耗时：1.277s
12:01:15,691 INFO common.SaveMessage(69) - 3641_9_0_outSvc.xml IO输出耗时:0.0010s
12:01:15,691 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3641_9_0_outSvc.xml
12:01:15,692 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
12:01:15,692 INFO common.Log4jPrint(20) - -----------------------------------------------
12:01:15,692 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
12:01:15,692 INFO service.NewContInput(139) - 错误描述长度：16
12:01:15,694 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日撤单的保单，不能重新投保！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:01:15,736 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:01:15,737 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:01:15,738 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3641,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001424',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3641_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=120114,ModifyDate=20161209,ModifyTime=120115,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3641
12:01:15,765 INFO service.NewContInput(245) - Out NewContInput.service()!
12:01:15,766 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
12:01:15,781 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:01:15,782 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
12:01:15,782 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
12:01:15,800 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
12:01:15,808 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:01:15,809 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:01:15,815 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
12:01:15,815 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:01:15,820 INFO common.SaveMessage(69) - 3641_12_1012_out.xml IO输出耗时:0.0030s
12:01:15,820 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3641_12_1012_out.xml
12:01:15,821 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>851</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1954</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209120112456</SYS_RECV_TIME><SYS_RESP_TIME>20161209120115814</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>16</SYS_RESP_DESC_LEN><SYS_RESP_DESC>褰ユゅ淇锛涓介版淇锛</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

12:01:15,822 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
12:01:15,825 INFO test.NewCCBTestUI(517) - 返回报文长度：1941
12:01:15,826 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：23.167s
12:01:15,880 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:01:15,880 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3641
12:01:15,910 INFO common.Log4jPrint(20) - -------------------------
12:01:15,911 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:01:15,911 INFO common.Log4jPrint(20) - -------------------------
12:01:15,926 INFO common.Log4jPrint(20) - i=1
12:01:15,996 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:01:15,998 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:01:15,998 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3641,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001424',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='6.064',Bak4=null,Bak5=null,InNoDoc='3641_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=120114,ModifyDate=20161209,ModifyTime=120115,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3641_12_1012_out.xml' where LogNo=3641
12:01:16,018 INFO midplat.Ybt4Socket(170) - 处理总耗时：6.155s
12:01:16,018 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:01:48,069 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7c6576d5
12:01:48,077 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:01:48,081 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:01:48,082 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:01:48,084 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:01:48,085 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:01:48,085 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:01:48,090 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:01:48,164 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:01:48,176 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:01:48,177 INFO common.Log4jPrint(20) - End reset System.out!
12:01:48,179 INFO net.SocketConf(27) - Into SocketConf.load()...
12:01:48,180 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:01:48,181 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:01:48,184 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:01:48,185 INFO net.SocketConf(60) - Out SocketConf.load()!
12:01:48,202 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:01:48,203 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:01:48,216 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:01:48,216 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:01:48,217 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:01:48,224 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:01:48,224 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:01:48,224 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:01:48,232 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:01:48,232 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:01:48,232 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:01:48,239 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:01:48,239 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:01:48,240 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:02:02,981 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:02:02,993 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:02:02,993 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:02:02,994 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:02:03,002 INFO test.NewCCBTestUI(488) - 请求报文长度：5862
12:02:03,003 INFO test.NewCCBTestUI(503) - 收到返回报文！
12:02:03,005 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:02:03,028 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:02:03,029 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:02:03,031 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:02:03,037 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:02:03,693 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:02:03,792 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:02:03,857 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:02:03,865 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:02:03,866 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:02:03,866 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:02:03,869 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
12:02:03,880 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209105904169</SYS_REQ_TIME><SYS_TIME_LEFT>000119724</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000015</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

12:02:03,887 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:02:03,888 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:02:04,066 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:02:04,066 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:02:04,073 INFO common.SaveMessage(69) - 3647_3_1012_in.xml IO输出耗时:0.0060s
12:02:04,073 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3647_3_1012_in.xml
12:02:04,075 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:02:04,077 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:02:04,079 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:02:06,354 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
12:02:06,378 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:02:06,378 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
12:02:06,379 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
12:02:06,718 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
12:02:06,735 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

12:02:06,737 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:02:06,898 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:02:06,899 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
12:02:07,000 INFO common.Log4jPrint(20) - ================0133043
12:02:07,000 INFO common.Log4jPrint(20) - ================00
12:02:07,000 INFO common.Log4jPrint(20) - ++++++++++++++++00
12:02:07,001 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
12:02:07,001 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
12:02:07,010 INFO service.NewContInput(43) - Into NewContInput.service()...
12:02:07,011 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
12:02:07,022 INFO common.Log4jPrint(20) - 进程名：3647
12:02:07,022 INFO common.Log4jPrint(20) - trancom:3
12:02:07,023 INFO common.Log4jPrint(20) - FuncFlag:1012
12:02:07,023 INFO common.Log4jPrint(20) - mHeadEle.getChildText3647_3_1012_in.xml
12:02:07,067 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:02:07,068 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3647,3,'110378300','108011rv11481252318010986','77976569',1012,20161209,105904,'101019000001531',-1,-1,'??????','127.0.0.1','3647_3_1012_in.xml',20161209,120207,20161209,120207,'320177196306261011','??????','320177196306261011','011A0100' )
12:02:07,097 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
12:02:07,098 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001531' and MakeDate>=20161209 and MakeTime>=115847
12:02:07,228 INFO common.RuleXsl(155) - Into RuleXsl.load()...
12:02:07,229 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
12:02:07,230 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:57:42,041) and length=15623 bytes!
12:02:07,273 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
12:02:07,274 INFO common.RuleXsl(179) - Out RuleXsl.load()!
12:02:07,274 INFO common.RuleXml(198) - Into RuleXml.load()...
12:02:07,274 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
12:02:07,275 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
12:02:07,280 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
12:02:07,281 INFO common.RuleXml(215) - Out RuleXml.load()!
12:02:07,281 INFO common.RuleParser(49) - Into RuleParser.check()...
12:02:07,281 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:02:07,288 INFO common.Log4jPrint(20) - 对邮编进行校验
12:02:07,289 INFO common.Log4jPrint(20) - 对邮编进行校验
12:02:07,289 INFO common.Log4jPrint(20) - 返回的结果是:0
12:02:07,291 INFO common.Log4jPrint(20) - 对邮编进行校验
12:02:07,293 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

12:02:07,294 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
12:02:07,294 INFO common.RuleParser(62) - Out RuleParser.check()!
12:02:07,294 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
12:02:07,302 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
12:02:07,304 INFO common.SaveMessage(69) - 3647_6_0_inSvc.xml IO输出耗时:0.0020s
12:02:07,304 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3647_6_0_inSvc.xml
12:02:07,305 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:02:07,306 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:02:07,570 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
12:02:08,046 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
12:02:08,066 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:02:08,066 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
12:02:08,067 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
12:02:08,067 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
12:02:08,067 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
12:02:08,068 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:02:08,092 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
12:02:08,093 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTA1OTA0PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjMxODAxMDk4NjwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY0N18zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDE1MzE8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT48QWNjTm8gLz48QWNjTmFtZT4/Pz8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PzwvU2FsZU5hbWU+PFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vPjIwMDgwMjExMDAwMDAwMDEwNTY3PC9TYWxlQ2VydE5vPjxMdjFCck5vPjExMDAwMDAwMDwvTHYxQnJObz48QXBwbnQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48WWVhclNhbGFyeT4zMC4wPC9ZZWFyU2FsYXJ5PjxGYW1pbHlZZWFyU2FsYXJ5PjEwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDQzPC9SZWxhVG9JbnN1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaX"
12:02:08,093 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:02:08,094 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
12:02:08,095 DEBUG httpclient.Wire(84) - >> "J0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtPjMwMDAwMC4wMDwvUmNnbllySW5jbUFtPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wMjwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE3MTExODwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT4wMTFBMDEwMDwvUmlza0NvZGU+PFJpc2tOYW1lPj8/Pz8/Pz8yPz8/Pz8/Pz8/Pz8/Pz8/Pyk8L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xMDAwMDAwPC9QcmVtPjxNdWx0PjEwPC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz48R2V0SW50diAvPjxHZXRZZWFyRmxhZyAvPjxCb251c0dldE1vZGUgLz48U3ViRmxhZyAvPjxHZXRZZWFyIC8+PEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+PEluc3VZZWFyPjU8L0luc3VZZWFyPjxHZXRCYW5rQ29kZSAvPjxHZXRCYW5rQWNjTm8gLz48R2V0QWNjTmFtZSAvPjxBdXRvUGF5RmxhZyAvPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
12:02:08,095 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:02:08,095 DEBUG httpclient.Wire(84) - >> "0"
12:02:08,096 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:02:08,096 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:02:08,867 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:02:08,869 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:02:08,874 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
12:02:08,875 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
12:02:08,876 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
12:02:08,878 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 04:01:50 GMT[\r][\n]"
12:02:08,879 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:02:08,903 DEBUG httpclient.Wire(84) - << "1"
12:02:08,903 DEBUG httpclient.Wire(84) - << "e"
12:02:08,904 DEBUG httpclient.Wire(84) - << "b"
12:02:08,904 DEBUG httpclient.Wire(84) - << "[\r]"
12:02:08,905 DEBUG httpclient.Wire(70) - << "[\n]"
12:02:08,905 DEBUG httpclient.Wire(84) - << "<?xm"
12:02:08,913 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
12:02:08,924 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
12:02:08,931 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001531录单核保(service)耗时：1.625s
12:02:08,933 INFO common.SaveMessage(69) - 3647_9_0_outSvc.xml IO输出耗时:0.0010s
12:02:08,933 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3647_9_0_outSvc.xml
12:02:08,933 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
12:02:08,934 INFO common.Log4jPrint(20) - -----------------------------------------------
12:02:08,934 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
12:02:08,934 INFO service.NewContInput(139) - 错误描述长度：19
12:02:08,936 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:02:09,017 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:02:09,018 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:02:09,019 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3647,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001531',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3647_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=120207,ModifyDate=20161209,ModifyTime=120208,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc=null where LogNo=3647
12:02:09,074 INFO service.NewContInput(245) - Out NewContInput.service()!
12:02:09,075 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
12:02:09,089 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:02:09,090 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
12:02:09,091 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
12:02:09,106 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
12:02:09,112 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:02:09,113 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:02:09,117 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
12:02:09,117 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:02:09,121 INFO common.SaveMessage(69) - 3647_12_1012_out.xml IO输出耗时:0.0020s
12:02:09,121 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3647_12_1012_out.xml
12:02:09,122 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>856</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1959</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483066744008051</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209120206357</SYS_RECV_TIME><SYS_RESP_TIME>20161209120209116</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252318010986</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

12:02:09,123 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
12:02:09,125 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
12:02:09,127 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：6.134s
12:02:09,140 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
12:02:09,203 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:02:09,204 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3647
12:02:09,253 INFO common.Log4jPrint(20) - -------------------------
12:02:09,254 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:02:09,254 INFO common.Log4jPrint(20) - -------------------------
12:02:09,271 INFO common.Log4jPrint(20) - i=1
12:02:09,316 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:02:09,317 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:02:09,317 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3647,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252318010986',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=105904,ProposalPrtNo='101019000001531',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='5.405',Bak4=null,Bak5=null,InNoDoc='3647_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=120207,ModifyDate=20161209,ModifyTime=120208,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId='011A0100',OutNoDoc='3647_12_1012_out.xml' where LogNo=3647
12:02:09,335 INFO midplat.Ybt4Socket(170) - 处理总耗时：5.469s
12:02:09,335 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:10:02,047 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: The processing instruction target matching "[xX][mM][lL]" is not allowed.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.xml.sax.SAXParseException: The processing instruction target matching "[xX][mM][lL]" is not allowed.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: 
org.xml.sax.SAXParseException: The processing instruction target matching "[xX][mM][lL]" is not allowed.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
12:10:02,053 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:10:02,190 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@32771eb1
12:10:02,199 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:10:02,203 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:10:02,204 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:10:02,206 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:10:02,207 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:10:02,207 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:10:02,210 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:10:02,287 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:10:02,297 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:10:02,299 INFO common.Log4jPrint(20) - End reset System.out!
12:10:02,301 INFO net.SocketConf(27) - Into SocketConf.load()...
12:10:02,301 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:10:02,302 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:10:02,305 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:10:02,305 INFO net.SocketConf(60) - Out SocketConf.load()!
12:10:02,321 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:10:02,322 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:10:02,335 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:10:02,336 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:10:02,336 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:10:02,342 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:10:02,342 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:10:02,342 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:10:02,349 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:10:02,350 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:10:02,349 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:10:02,356 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:10:02,356 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:10:02,356 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:10:02,566 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:10:02,567 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:10:02,567 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:10:02,580 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:10:02,608 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:10:02,609 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:10:02,613 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:10:02,625 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:10:03,274 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:10:03,353 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:10:03,449 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:10:03,470 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:10:03,471 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:10:03,472 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:10:03,481 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
12:10:03,489 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:10:03,490 INFO common.Log4jPrint(20) - ==================send====
12:10:03,490 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
12:10:03,559 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:10:03,560 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3653
12:10:03,628 INFO common.Log4jPrint(20) - i=0
12:10:03,633 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
12:10:03,634 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.163s
12:10:03,635 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:10:16,278 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
12:10:16,286 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:10:16,290 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:10:16,291 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:10:16,293 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:10:16,294 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:10:16,294 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:10:16,298 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:10:16,385 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:10:16,393 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:10:16,394 INFO common.Log4jPrint(20) - End reset System.out!
12:10:16,396 INFO net.SocketConf(27) - Into SocketConf.load()...
12:10:16,396 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:10:16,397 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:10:16,400 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:10:16,401 INFO net.SocketConf(60) - Out SocketConf.load()!
12:10:16,418 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:10:16,419 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:10:16,433 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:10:16,433 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:10:16,433 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:10:16,440 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:10:16,441 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:10:16,440 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:10:16,446 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:10:16,446 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:10:16,446 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:10:16,453 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:10:16,454 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:10:16,454 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:10:46,138 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
12:10:46,146 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:10:46,151 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:10:46,151 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:10:46,153 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:10:46,154 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:10:46,155 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:10:46,159 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:10:46,230 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:10:46,240 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:10:46,241 INFO common.Log4jPrint(20) - End reset System.out!
12:10:46,242 INFO net.SocketConf(27) - Into SocketConf.load()...
12:10:46,243 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:10:46,244 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:10:46,247 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:10:46,248 INFO net.SocketConf(60) - Out SocketConf.load()!
12:10:46,264 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:10:46,265 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:10:46,278 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:10:46,279 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:10:46,279 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:10:46,284 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:10:46,285 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:10:46,285 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:10:46,292 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:10:46,292 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:10:46,293 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:10:46,298 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:10:46,298 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:10:46,298 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:10:53,091 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: The processing instruction target matching "[xX][mM][lL]" is not allowed.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.xml.sax.SAXParseException: The processing instruction target matching "[xX][mM][lL]" is not allowed.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: 
org.xml.sax.SAXParseException: The processing instruction target matching "[xX][mM][lL]" is not allowed.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
12:10:53,095 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:10:53,104 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:10:53,105 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:10:53,105 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:10:53,115 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:10:53,138 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:10:53,139 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:10:53,142 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:10:53,147 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:10:53,733 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:10:53,826 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:10:53,912 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:10:53,935 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:10:53,937 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:10:53,938 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:10:53,955 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
12:10:53,982 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:10:53,983 INFO common.Log4jPrint(20) - ==================send====
12:10:53,983 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
12:10:54,092 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:10:54,094 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3653
12:10:54,146 INFO common.Log4jPrint(20) - i=0
12:10:54,151 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
12:10:54,153 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.216s
12:10:54,154 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:11:28,727 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4640b181
12:11:28,736 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:11:28,741 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:11:28,741 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:11:28,743 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:11:28,744 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:11:28,745 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:11:28,748 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:11:28,816 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:11:28,825 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:11:28,826 INFO common.Log4jPrint(20) - End reset System.out!
12:11:28,829 INFO net.SocketConf(27) - Into SocketConf.load()...
12:11:28,829 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:11:28,831 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:11:28,835 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:11:28,836 INFO net.SocketConf(60) - Out SocketConf.load()!
12:11:28,853 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:11:28,854 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:11:28,870 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:11:28,871 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:11:28,871 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:11:28,877 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:11:28,877 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:11:28,877 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:11:28,884 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:11:28,884 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:11:28,884 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:11:28,892 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:11:28,893 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:11:28,893 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:11:29,549 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:11:29,560 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:11:29,560 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:11:29,561 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:11:29,569 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
12:11:29,570 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:11:29,571 INFO test.NewCCBTestUI(503) - 收到返回报文！
12:11:29,591 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:11:29,592 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:11:29,594 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:11:29,600 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:11:30,507 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:11:30,734 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:11:30,848 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:11:30,872 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:11:30,874 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:11:30,874 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:11:30,884 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
12:11:30,885 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209110527798</SYS_REQ_TIME><SYS_TIME_LEFT>000119584</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>?????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19751002</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>230701197510020292</Plchd_Crdt_No><Plchd_Crdt_EfDt>20051101</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20251101</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>230000</Plchd_Prov_Cd><Plchd_City_Cd>230600</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>230623</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38645662</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13903339090</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>3000000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>2000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>?????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19751002</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230701197510020292</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20051101</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20251101</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>230000</Rcgn_Prov_Cd><Rcgn_City_Cd>230600</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>230623</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38645662</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13903339090</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>3000000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000018</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171116</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

12:11:30,906 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:11:30,906 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:11:31,030 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:11:31,031 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:11:31,036 INFO common.SaveMessage(69) - 3653_3_1012_in.xml IO输出耗时:0.0050s
12:11:31,037 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3653_3_1012_in.xml
12:11:31,038 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:11:31,040 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:11:31,042 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:11:33,926 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
12:11:33,950 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:11:33,950 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
12:11:33,951 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
12:11:34,288 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
12:11:34,305 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

12:11:34,307 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:11:34,470 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E8
12:11:34,470 INFO common.Log4jPrint(20) - sdfsdfsdfewre===2.0E8
12:11:34,622 INFO common.Log4jPrint(20) - ================0133043
12:11:34,623 INFO common.Log4jPrint(20) - ================00
12:11:34,624 INFO common.Log4jPrint(20) - ++++++++++++++++00
12:11:34,625 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
12:11:34,625 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
12:11:34,642 INFO service.NewContInput(43) - Into NewContInput.service()...
12:11:34,644 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
12:11:34,658 INFO common.Log4jPrint(20) - 进程名：3653
12:11:34,659 INFO common.Log4jPrint(20) - trancom:3
12:11:34,659 INFO common.Log4jPrint(20) - FuncFlag:1012
12:11:34,659 INFO common.Log4jPrint(20) - mHeadEle.getChildText3653_3_1012_in.xml
12:11:34,721 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:11:34,722 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3653,3,'110378300','108011rv11481252703011009','77976569',1012,20161209,110527,'101019000001852',-1,-1,'?????','127.0.0.1','3653_3_1012_in.xml',20161209,121134,20161209,121134,'230701197510020292','?????','230701197510020292','011A0100' )
12:11:34,736 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
12:11:34,738 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001852' and MakeDate>=20161209 and MakeTime>=120814
12:11:34,884 INFO common.RuleXsl(155) - Into RuleXsl.load()...
12:11:34,885 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
12:11:34,886 INFO common.XslCache(64) - conf file modified at (2016-12-09 12:10:39,566) and length=15614 bytes!
12:11:34,937 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
12:11:34,938 INFO common.RuleXsl(179) - Out RuleXsl.load()!
12:11:34,938 INFO common.RuleXml(198) - Into RuleXml.load()...
12:11:34,938 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
12:11:34,939 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
12:11:34,944 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
12:11:34,944 INFO common.RuleXml(215) - Out RuleXml.load()!
12:11:34,944 INFO common.RuleParser(49) - Into RuleParser.check()...
12:11:34,944 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:11:34,952 INFO common.Log4jPrint(20) - 对邮编进行校验
12:11:34,953 INFO common.Log4jPrint(20) - 对邮编进行校验
12:11:34,953 INFO common.Log4jPrint(20) - 返回的结果是:0
12:11:34,955 INFO common.Log4jPrint(20) - 对邮编进行校验
12:11:34,957 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保人单位地址和家庭地址不能同时为空</msg></rules>

12:11:34,959 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保人单位地址和家庭地址不能同时为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:11:35,078 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:11:35,079 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:11:35,080 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3653,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001852',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3653_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=121134,ModifyDate=20161209,ModifyTime=121134,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId='011A0100',OutNoDoc=null where LogNo=3653
12:11:35,123 INFO service.NewContInput(245) - Out NewContInput.service()!
12:11:35,123 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
12:11:35,146 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:11:35,147 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
12:11:35,147 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
12:11:35,161 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
12:11:35,169 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:11:35,170 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:11:35,175 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
12:11:35,175 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:11:35,178 INFO common.SaveMessage(69) - 3653_6_1012_out.xml IO输出耗时:0.0010s
12:11:35,179 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3653_6_1012_out.xml
12:11:35,180 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>857</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1960</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209121133929</SYS_RECV_TIME><SYS_RESP_TIME>20161209121135174</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>18</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇浜哄浣板?瀹跺涵板涓藉朵负绌</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

12:11:35,180 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
12:11:35,182 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
12:11:35,183 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：5.623s
12:11:35,259 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:11:35,259 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3653
12:11:35,300 INFO common.Log4jPrint(20) - -------------------------
12:11:35,301 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:11:35,301 INFO common.Log4jPrint(20) - -------------------------
12:11:35,310 INFO common.Log4jPrint(20) - i=1
12:11:35,363 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:11:35,364 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:11:35,365 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3653,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001852',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保人单位地址和家庭地址不能同时为空',UsedTime=0,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3='4.436',Bak4=null,Bak5=null,InNoDoc='3653_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=121134,ModifyDate=20161209,ModifyTime=121134,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId='011A0100',OutNoDoc='3653_6_1012_out.xml' where LogNo=3653
12:11:35,384 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.51s
12:11:35,384 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:12:09,025 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
12:12:09,036 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:12:09,041 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:12:09,041 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:12:09,043 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:12:09,044 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:12:09,045 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:12:09,049 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:12:09,120 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:12:09,129 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:12:09,130 INFO common.Log4jPrint(20) - End reset System.out!
12:12:09,132 INFO net.SocketConf(27) - Into SocketConf.load()...
12:12:09,132 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:12:09,133 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:12:09,136 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:12:09,137 INFO net.SocketConf(60) - Out SocketConf.load()!
12:12:09,153 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:12:09,153 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:12:09,167 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:12:09,168 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:12:09,168 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:12:09,174 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:12:09,175 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:12:09,174 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:12:09,182 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:12:09,183 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:12:09,182 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:12:09,188 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:12:09,188 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:12:09,189 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:12:10,351 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:12:10,361 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:12:10,361 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:12:10,362 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:12:10,371 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
12:12:10,371 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:12:10,372 INFO test.NewCCBTestUI(503) - 收到返回报文！
12:12:10,395 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:12:10,396 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:12:10,399 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:12:10,404 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:12:10,956 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:12:11,083 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:12:11,226 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:12:11,234 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:12:11,234 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:12:11,235 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:12:11,237 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
12:12:11,238 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209110527798</SYS_REQ_TIME><SYS_TIME_LEFT>000119584</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>?????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19751002</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>230701197510020292</Plchd_Crdt_No><Plchd_Crdt_EfDt>20051101</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20251101</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>230000</Plchd_Prov_Cd><Plchd_City_Cd>230600</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>230623</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38645662</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13903339090</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>3000000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>2000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>?????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19751002</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230701197510020292</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20051101</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20251101</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>230000</Rcgn_Prov_Cd><Rcgn_City_Cd>230600</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>230623</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38645662</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13903339090</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>3000000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000018</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171116</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

12:12:11,256 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:12:11,257 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:12:11,388 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:12:11,389 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:12:11,394 INFO common.SaveMessage(69) - 3659_3_1012_in.xml IO输出耗时:0.0050s
12:12:11,394 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3659_3_1012_in.xml
12:12:11,396 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:12:11,398 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:12:11,401 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:12:15,133 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
12:12:15,162 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:12:15,163 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
12:12:15,164 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
12:12:15,495 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
12:12:15,512 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

12:12:15,514 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:12:15,674 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E8
12:12:15,675 INFO common.Log4jPrint(20) - sdfsdfsdfewre===2.0E8
12:12:15,797 INFO common.Log4jPrint(20) - ================0133043
12:12:15,798 INFO common.Log4jPrint(20) - ================00
12:12:15,799 INFO common.Log4jPrint(20) - ++++++++++++++++00
12:12:15,800 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
12:12:15,800 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
12:12:15,826 INFO service.NewContInput(43) - Into NewContInput.service()...
12:12:15,828 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
12:12:15,844 INFO common.Log4jPrint(20) - 进程名：3659
12:12:15,845 INFO common.Log4jPrint(20) - trancom:3
12:12:15,845 INFO common.Log4jPrint(20) - FuncFlag:1012
12:12:15,845 INFO common.Log4jPrint(20) - mHeadEle.getChildText3659_3_1012_in.xml
12:12:15,906 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:12:15,908 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3659,3,'110378300','108011rv11481252703011009','77976569',1012,20161209,110527,'101019000001852',-1,-1,'?????','127.0.0.1','3659_3_1012_in.xml',20161209,121215,20161209,121215,'230701197510020292','?????','230701197510020292','011A0100' )
12:12:15,931 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
12:12:15,932 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001852' and MakeDate>=20161209 and MakeTime>=120855
12:12:16,059 INFO common.RuleXsl(155) - Into RuleXsl.load()...
12:12:16,060 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
12:12:16,061 INFO common.XslCache(64) - conf file modified at (2016-12-09 12:11:59,478) and length=15623 bytes!
12:12:16,110 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
12:12:16,125 INFO common.RuleXsl(179) - Out RuleXsl.load()!
12:12:16,128 INFO common.RuleXml(198) - Into RuleXml.load()...
12:12:16,128 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
12:12:16,129 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
12:12:16,134 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
12:12:16,134 INFO common.RuleXml(215) - Out RuleXml.load()!
12:12:16,134 INFO common.RuleParser(49) - Into RuleParser.check()...
12:12:16,135 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:12:16,141 INFO common.Log4jPrint(20) - 对邮编进行校验
12:12:16,142 INFO common.Log4jPrint(20) - 对邮编进行校验
12:12:16,143 INFO common.Log4jPrint(20) - 返回的结果是:0
12:12:16,145 INFO common.Log4jPrint(20) - 对邮编进行校验
12:12:16,147 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

12:12:16,147 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
12:12:16,147 INFO common.RuleParser(62) - Out RuleParser.check()!
12:12:16,147 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
12:12:16,155 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
12:12:16,158 INFO common.SaveMessage(69) - 3659_6_0_inSvc.xml IO输出耗时:0.0010s
12:12:16,158 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3659_6_0_inSvc.xml
12:12:16,159 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:12:16,159 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:12:16,416 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
12:12:16,867 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
12:12:16,887 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:12:16,887 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
12:12:16,888 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
12:12:16,888 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
12:12:16,888 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
12:12:16,889 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:16,912 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
12:12:16,913 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTEwNTI3PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjcwMzAxMTAwOTwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY1OV8zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDE4NTI8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT48QWNjTm8gLz48QWNjTmFtZT4/Pz8/PzwvQWNjTmFtZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxTYWxlTmFtZT4/Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjc3OTc2NTY5PC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MjAwODAyMTEwMDAwMDAwMTA1Njc8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3NTEwMDI8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDcwMTE5NzUxMDAyMDI5MjwvSURObz48SWRFeHBEYXRlPjIwMjUxMTAxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0NTY2MjwvUGhvbmU+PE1vYmlsZT4xMzkwMzMzOTA5MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MzAwLjA8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnk+MjAwLjA8L0ZhbWlseVllYXJTYWxhcnk+PFJlbGFUb0luc3VyZWQ+MDA8L1JlbGFUb0luc3VyZWQ+PFJlbGFUb0luc3VyZWQyPjAxMzMwNDM8L1JlbGFUb0luc3VyZWQyPjxEZW5UeXBlPjE8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT4/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydG"
12:12:16,913 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:16,914 DEBUG httpclient.Wire(70) - >> "5d1[\r][\n]"
12:12:16,914 DEBUG httpclient.Wire(84) - >> "hkYXk+MTk3NTEwMDI8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDcwMTE5NzUxMDAyMDI5MjwvSURObz48SWRFeHBEYXRlPjIwMjUxMTAxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0NTY2MjwvUGhvbmU+PE1vYmlsZT4xMzkwMzMzOTA5MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbT4zMDAwMDAwLjAwPC9SY2duWXJJbmNtQW0+PENvdlN1bUFtdD4wPC9Db3ZTdW1BbXQ+PFJpc2tBc3Nlc3NtZW50UmVzdWx0PjA0PC9SaXNrQXNzZXNzbWVudFJlc3VsdD48Umlza0Fzc2Vzc21lbnRFbmREYXRlPjIwMTcxMTE2PC9SaXNrQXNzZXNzbWVudEVuZERhdGU+PFByZW1pdW1CdWRnZXQ+MDwvUHJlbWl1bUJ1ZGdldD48L0luc3VyZWQ+PFJpc2s+PFJpc2tDb2RlPjAxMUEwMTAwPC9SaXNrQ29kZT48Umlza05hbWU+Pz8/Pz8/PzI/Pz8/Pz8/Pz8/Pz8/Pz8/KTwvUmlza05hbWU+PEFnSW5zUGtnSUQgLz48QW1udD4wPC9BbW50PjxQcmVtPjEwMDAwMDA8L1ByZW0+PE11bHQ+MTA8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYXJGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
12:12:16,915 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:16,915 DEBUG httpclient.Wire(84) - >> "0"
12:12:16,915 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:16,916 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:17,437 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:12:17,438 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:12:17,444 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
12:12:17,445 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
12:12:17,445 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
12:12:17,446 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 04:11:58 GMT[\r][\n]"
12:12:17,446 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:12:17,466 DEBUG httpclient.Wire(84) - << "1"
12:12:17,467 DEBUG httpclient.Wire(84) - << "e"
12:12:17,467 DEBUG httpclient.Wire(84) - << "7"
12:12:17,468 DEBUG httpclient.Wire(84) - << "[\r]"
12:12:17,468 DEBUG httpclient.Wire(70) - << "[\n]"
12:12:17,469 DEBUG httpclient.Wire(84) - << "<?xm"
12:12:17,476 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
12:12:17,483 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+t8e1scjVs7e1pbXEsaO1paOssrvE3NbY0MLNtrGjo6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
12:12:17,489 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001852录单核保(service)耗时：1.33s
12:12:17,492 INFO common.SaveMessage(69) - 3659_9_0_outSvc.xml IO输出耗时:0.0010s
12:12:17,492 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3659_9_0_outSvc.xml
12:12:17,492 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
12:12:17,492 INFO common.Log4jPrint(20) - -----------------------------------------------
12:12:17,493 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
12:12:17,493 INFO service.NewContInput(139) - 错误描述长度：16
12:12:17,498 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日撤单的保单，不能重新投保！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:12:17,592 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:12:17,593 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:12:17,594 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3659,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001852',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=1,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3659_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=121215,ModifyDate=20161209,ModifyTime=121217,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId='011A0100',OutNoDoc=null where LogNo=3659
12:12:17,634 INFO service.NewContInput(245) - Out NewContInput.service()!
12:12:17,635 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
12:12:17,659 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:12:17,660 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
12:12:17,661 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
12:12:17,686 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
12:12:17,693 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:12:17,698 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:12:17,704 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
12:12:17,704 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:12:17,709 INFO common.SaveMessage(69) - 3659_12_1012_out.xml IO输出耗时:0.0020s
12:12:17,709 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3659_12_1012_out.xml
12:12:17,710 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>851</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1954</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209121215137</SYS_RECV_TIME><SYS_RESP_TIME>20161209121217703</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>16</SYS_RESP_DESC_LEN><SYS_RESP_DESC>褰ユゅ淇锛涓介版淇锛</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

12:12:17,715 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
12:12:17,718 INFO test.NewCCBTestUI(517) - 返回报文长度：1941
12:12:17,720 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：7.358s
12:12:17,750 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:12:17,751 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3659
12:12:17,774 INFO common.Log4jPrint(20) - -------------------------
12:12:17,775 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:12:17,775 INFO common.Log4jPrint(20) - -------------------------
12:12:17,787 INFO common.Log4jPrint(20) - i=1
12:12:17,843 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:12:17,843 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:12:17,844 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3659,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001852',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=1,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3='6.553',Bak4=null,Bak5=null,InNoDoc='3659_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=121215,ModifyDate=20161209,ModifyTime=121217,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId='011A0100',OutNoDoc='3659_12_1012_out.xml' where LogNo=3659
12:12:17,857 INFO midplat.Ybt4Socket(170) - 处理总耗时：6.623s
12:12:17,857 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:12:35,039 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:12:35,049 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:12:35,050 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:12:35,050 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:12:35,051 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:12:35,059 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
12:12:35,060 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
12:12:35,060 INFO test.NewCCBTestUI(503) - 收到返回报文！
12:12:35,061 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209110527798</SYS_REQ_TIME><SYS_TIME_LEFT>000119584</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>?????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19751002</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>230701197510020292</Plchd_Crdt_No><Plchd_Crdt_EfDt>20051101</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20251101</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>230000</Plchd_Prov_Cd><Plchd_City_Cd>230600</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>230623</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38645662</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13903339090</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>3000000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>2000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>?????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19751002</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230701197510020292</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20051101</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20251101</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>230000</Rcgn_Prov_Cd><Rcgn_City_Cd>230600</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>230623</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38645662</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13903339090</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>3000000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000019</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171116</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

12:12:35,067 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:12:35,068 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:12:35,074 INFO common.SaveMessage(69) - 3665_15_1012_in.xml IO输出耗时:0.0040s
12:12:35,075 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3665_15_1012_in.xml
12:12:35,076 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:12:35,078 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:12:35,080 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:12:37,596 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
12:12:37,646 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E8
12:12:37,647 INFO common.Log4jPrint(20) - sdfsdfsdfewre===2.0E8
12:12:37,775 INFO common.Log4jPrint(20) - ================0133043
12:12:37,776 INFO common.Log4jPrint(20) - ================00
12:12:37,777 INFO common.Log4jPrint(20) - ++++++++++++++++00
12:12:37,777 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
12:12:37,778 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
12:12:37,779 INFO service.NewContInput(43) - Into NewContInput.service()...
12:12:37,781 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
12:12:37,782 INFO common.Log4jPrint(20) - 进程名：3665
12:12:37,783 INFO common.Log4jPrint(20) - trancom:3
12:12:37,783 INFO common.Log4jPrint(20) - FuncFlag:1012
12:12:37,784 INFO common.Log4jPrint(20) - mHeadEle.getChildText3665_15_1012_in.xml
12:12:37,989 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:12:37,990 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 3665,3,'110378300','108011rv11481252703011009','77976569',1012,20161209,110527,'101019000001959',-1,-1,'?????','127.0.0.1','3665_15_1012_in.xml',20161209,121237,20161209,121237,'230701197510020292','?????','230701197510020292','011A0100' )
12:12:38,064 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
12:12:38,065 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001959' and MakeDate>=20161209 and MakeTime>=120918
12:12:38,203 INFO common.RuleParser(49) - Into RuleParser.check()...
12:12:38,204 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:12:38,214 INFO common.Log4jPrint(20) - 对邮编进行校验
12:12:38,216 INFO common.Log4jPrint(20) - 对邮编进行校验
12:12:38,217 INFO common.Log4jPrint(20) - 返回的结果是:0
12:12:38,220 INFO common.Log4jPrint(20) - 对邮编进行校验
12:12:38,225 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

12:12:38,225 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
12:12:38,226 INFO common.RuleParser(62) - Out RuleParser.check()!
12:12:38,227 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
12:12:38,234 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
12:12:38,237 INFO common.SaveMessage(69) - 3665_18_0_inSvc.xml IO输出耗时:0.0030s
12:12:38,237 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3665_18_0_inSvc.xml
12:12:38,239 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:12:38,240 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
12:12:38,270 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
12:12:38,271 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
12:12:38,271 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
12:12:38,272 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
12:12:38,272 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
12:12:38,272 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
12:12:38,272 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:38,273 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
12:12:38,274 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTEwNTI3PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjcwMzAxMTAwOTwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY2NV8xNV8xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAxOTU5PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMjA5PC9Qb2xBcHBseURhdGU+PEFjY05vIC8+PEFjY05hbWU+Pz8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PzwvU2FsZU5hbWU+PFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vPjIwMDgwMjExMDAwMDAwMDEwNTY3PC9TYWxlQ2VydE5vPjxMdjFCck5vPjExMDAwMDAwMDwvTHYxQnJObz48QXBwbnQ+PE5hbWU+Pz8/Pz88L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NzUxMDAyPC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4yMzA3MDExOTc1MTAwMjAyOTI8L0lETm8+PElkRXhwRGF0ZT4yMDI1MTEwMTwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5PjxBZGRyZXNzQ29udGVudD4/Pz8/Pz8/P6GkMTExPz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vPjAxMDwvRml4VGVsRG1zdERzdGNObz48TW9iaWxlSXRsRHN0Y05vPjg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcyAvPjxaaXBDb2RlPjEwMDAwMDwvWmlwQ29kZT48UGhvbmU+MDEwMzg2NDU2NjI8L1Bob25lPjxNb2JpbGU+MTM5MDMzMzkwOTA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxZZWFyU2FsYXJ5PjMwMC4wPC9ZZWFyU2FsYXJ5PjxGYW1pbHlZZWFyU2FsYXJ5PjIwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDQzPC9SZWxhVG9JbnN1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/Pz88L05hbWU+PFNleD4wPC9TZXg+PEJpcn"
12:12:38,275 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:38,275 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
12:12:38,283 DEBUG httpclient.Wire(84) - >> "RoZGF5PjE5NzUxMDAyPC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4yMzA3MDExOTc1MTAwMjAyOTI8L0lETm8+PElkRXhwRGF0ZT4yMDI1MTEwMTwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5PjxBZGRyZXNzQ29udGVudD4/Pz8/Pz8/P6GkMTExPz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vPjAxMDwvRml4VGVsRG1zdERzdGNObz48TW9iaWxlSXRsRHN0Y05vPjg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcyAvPjxaaXBDb2RlPjEwMDAwMDwvWmlwQ29kZT48UGhvbmU+MDEwMzg2NDU2NjI8L1Bob25lPjxNb2JpbGU+MTM5MDMzMzkwOTA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxSY2duWXJJbmNtQW0+MzAwMDAwMC4wMDwvUmNnbllySW5jbUFtPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wNDwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE3MTExNjwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT4wMTFBMDEwMDwvUmlza0NvZGU+PFJpc2tOYW1lPj8/Pz8/Pz8yPz8/Pz8/Pz8/Pz8/Pz8/Pyk8L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xMDAwMDAwPC9QcmVtPjxNdWx0PjEwPC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz48R2V0SW50diAvPjxHZXRZZWFyRmxhZyAvPjxCb251c0dldE1vZGUgLz48U3ViRmxhZyAvPjxHZXRZZWFyIC8+PEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+PEluc3VZZWFyPjU8L0luc3VZZWFyPjxHZXRCYW5rQ29kZSAvPjxHZXRCYW5rQWNjTm8gLz48R2V0QWNjTmFtZSAvPjxBdXRvUGF5RmxhZyAvPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
12:12:38,284 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:38,284 DEBUG httpclient.Wire(84) - >> "0"
12:12:38,284 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:38,285 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
12:12:39,043 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:12:39,044 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
12:12:39,045 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
12:12:39,046 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
12:12:39,047 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
12:12:39,049 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 04:12:20 GMT[\r][\n]"
12:12:39,050 DEBUG httpclient.Wire(70) - << "[\r][\n]"
12:12:39,051 DEBUG httpclient.Wire(84) - << "1"
12:12:39,052 DEBUG httpclient.Wire(84) - << "e"
12:12:39,053 DEBUG httpclient.Wire(84) - << "b"
12:12:39,054 DEBUG httpclient.Wire(84) - << "[\r]"
12:12:39,055 DEBUG httpclient.Wire(70) - << "[\n]"
12:12:39,056 DEBUG httpclient.Wire(84) - << "<?xm"
12:12:39,057 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
12:12:39,059 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
12:12:39,061 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001959录单核保(service)耗时：0.821s
12:12:39,067 INFO common.SaveMessage(69) - 3665_21_0_outSvc.xml IO输出耗时:0.0010s
12:12:39,068 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3665_21_0_outSvc.xml
12:12:39,069 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
12:12:39,069 INFO common.Log4jPrint(20) - -----------------------------------------------
12:12:39,070 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
12:12:39,070 INFO service.NewContInput(139) - 错误描述长度：19
12:12:39,071 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:145)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:12:39,146 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:12:39,147 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:12:39,147 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3665,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001959',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3665_15_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=121237,ModifyDate=20161209,ModifyTime=121239,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId='011A0100',OutNoDoc=null where LogNo=3665
12:12:39,172 INFO service.NewContInput(245) - Out NewContInput.service()!
12:12:39,172 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
12:12:39,177 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
12:12:39,178 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
12:12:39,182 INFO common.SaveMessage(69) - 3665_24_1012_out.xml IO输出耗时:0.0020s
12:12:39,183 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3665_24_1012_out.xml
12:12:39,184 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>856</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1959</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209121237599</SYS_RECV_TIME><SYS_RESP_TIME>20161209121239177</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

12:12:39,184 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
12:12:39,187 INFO test.NewCCBTestUI(517) - 返回报文长度：1944
12:12:39,189 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：4.139s
12:12:39,203 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
12:12:39,258 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:12:39,258 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3665
12:12:39,284 INFO common.Log4jPrint(20) - -------------------------
12:12:39,285 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:12:39,285 INFO common.Log4jPrint(20) - -------------------------
12:12:39,296 INFO common.Log4jPrint(20) - i=1
12:12:39,349 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:12:39,349 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:12:39,349 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3665,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001959',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=1,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3='4.246',Bak4=null,Bak5=null,InNoDoc='3665_15_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=121237,ModifyDate=20161209,ModifyTime=121239,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId='011A0100',OutNoDoc='3665_24_1012_out.xml' where LogNo=3665
12:12:39,363 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.313s
12:12:39,363 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:13:08,948 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
12:13:08,956 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:13:08,961 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:13:08,961 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:13:08,963 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:13:08,964 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:13:08,965 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:13:08,968 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:13:09,041 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:13:09,049 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:13:09,050 INFO common.Log4jPrint(20) - End reset System.out!
12:13:09,052 INFO net.SocketConf(27) - Into SocketConf.load()...
12:13:09,052 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:13:09,053 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:13:09,056 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:13:09,056 INFO net.SocketConf(60) - Out SocketConf.load()!
12:13:09,072 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:13:09,072 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:13:09,087 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:13:09,088 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:13:09,087 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:13:09,092 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:13:09,093 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:13:09,093 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:13:09,098 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:13:09,098 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:13:09,099 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:13:09,107 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:13:09,108 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
12:13:09,107 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:13:14,648 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
12:13:14,658 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:13:14,659 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:13:14,659 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=14902 bytes!
12:13:14,668 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
12:13:14,668 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:13:14,669 INFO test.NewCCBTestUI(503) - 收到返回报文！
12:13:14,690 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:13:14,691 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:13:14,693 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:13:14,699 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:13:15,321 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:13:15,402 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:13:15,506 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:13:15,523 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:13:15,524 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:13:15,525 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:13:15,531 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
12:13:15,533 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209110527798</SYS_REQ_TIME><SYS_TIME_LEFT>000119584</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>?????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19751002</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>230701197510020292</Plchd_Crdt_No><Plchd_Crdt_EfDt>20051101</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20251101</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>230000</Plchd_Prov_Cd><Plchd_City_Cd>230600</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>230623</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38645662</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13903339090</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>3000000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>2000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>?????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19751002</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230701197510020292</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20051101</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20251101</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>230000</Rcgn_Prov_Cd><Rcgn_City_Cd>230600</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>230623</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38645662</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13903339090</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>3000000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000019</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171116</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

12:13:15,557 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:13:15,557 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:13:15,683 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:13:15,683 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:13:15,688 INFO common.SaveMessage(69) - 3671_3_1012_in.xml IO输出耗时:0.0050s
12:13:15,688 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3671_3_1012_in.xml
12:13:15,690 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:13:15,692 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:13:15,694 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:59:04,176 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
12:59:04,185 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:59:04,189 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:59:04,190 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:59:04,192 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
12:59:04,193 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:59:04,194 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:59:04,198 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:50,994) and length=23937 bytes!
12:59:04,264 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:59:04,274 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:59:04,275 INFO common.Log4jPrint(20) - End reset System.out!
12:59:04,277 INFO net.SocketConf(27) - Into SocketConf.load()...
12:59:04,278 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:59:04,279 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
12:59:04,282 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:59:04,282 INFO net.SocketConf(60) - Out SocketConf.load()!
12:59:04,299 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
12:59:04,300 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:59:04,313 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
12:59:04,313 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
12:59:04,314 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:59:04,320 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
12:59:04,321 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:59:04,320 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
12:59:04,325 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
12:59:04,326 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
12:59:04,326 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:59:04,332 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
12:59:04,332 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
12:59:04,332 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
13:00:11,390 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
13:00:11,401 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
13:00:11,401 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
13:00:11,402 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
13:00:11,411 INFO test.NewCCBTestUI(488) - 请求报文长度：5864
13:00:11,411 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
13:00:11,412 INFO test.NewCCBTestUI(503) - 收到返回报文！
13:00:11,435 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

13:00:11,436 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
13:00:11,438 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
13:00:11,444 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
13:00:12,341 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
13:00:12,481 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
13:00:12,596 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
13:00:12,604 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
13:00:12,605 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
13:00:12,605 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
13:00:12,608 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5864
13:00:12,614 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209110527798</SYS_REQ_TIME><SYS_TIME_LEFT>000119584</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>?????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19751002</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>230701197510020292</Plchd_Crdt_No><Plchd_Crdt_EfDt>20051101</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20251101</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>230000</Plchd_Prov_Cd><Plchd_City_Cd>230600</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>230623</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38645662</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13903339090</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>3000000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>2000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>?????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19751002</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230701197510020292</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20051101</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20251101</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>230000</Rcgn_Prov_Cd><Rcgn_City_Cd>230600</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>230623</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38645662</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13903339090</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>3000000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000019</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171116</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

13:00:12,621 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
13:00:12,622 INFO newNet.CcbNetImpl(58) - mTranCom==============13
13:00:12,745 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
13:00:12,746 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
13:00:12,751 INFO common.SaveMessage(69) - 3671_3_1012_in.xml IO输出耗时:0.0050s
13:00:12,751 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3671_3_1012_in.xml
13:00:12,753 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
13:00:12,755 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
13:00:12,757 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
13:00:15,203 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
13:00:15,226 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
13:00:15,226 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
13:00:15,227 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
13:00:15,563 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
13:00:15,580 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

13:00:15,582 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
13:00:15,746 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E8
13:00:15,747 INFO common.Log4jPrint(20) - sdfsdfsdfewre===2.0E8
13:00:15,806 INFO common.Log4jPrint(20) - ================0133043
13:00:15,806 INFO common.Log4jPrint(20) - ================00
13:00:15,806 INFO common.Log4jPrint(20) - ++++++++++++++++00
13:00:15,806 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
13:00:15,806 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
13:00:15,815 INFO service.NewContInput(43) - Into NewContInput.service()...
13:00:15,817 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
13:00:15,828 INFO common.Log4jPrint(20) - 进程名：3671
13:00:15,828 INFO common.Log4jPrint(20) - trancom:13
13:00:15,828 INFO common.Log4jPrint(20) - FuncFlag:1012
13:00:15,828 INFO common.Log4jPrint(20) - mHeadEle.getChildText3671_3_1012_in.xml
13:00:15,901 INFO common.Log4jPrint(20) - 进入更新后的InsPart
13:00:15,903 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo ) values ( 3671,13,'110378300','108011rv11481252703011009','77976569',1012,20161209,110527,'101019000001959',-1,-1,'?????','127.0.0.1','3671_3_1012_in.xml',20161209,130015,20161209,130015,'230701197510020292','?????','230701197510020292' )
13:00:15,927 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
13:00:15,929 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000001959' and MakeDate>=20161209 and MakeTime>=125655
13:00:16,066 INFO common.RuleXsl(155) - Into RuleXsl.load()...
13:00:16,067 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
13:00:16,067 INFO common.XslCache(64) - conf file modified at (2016-12-09 12:11:59,478) and length=15623 bytes!
13:00:16,140 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
13:00:16,141 INFO common.RuleXsl(179) - Out RuleXsl.load()!
13:00:16,141 INFO common.RuleXml(198) - Into RuleXml.load()...
13:00:16,141 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
13:00:16,142 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
13:00:16,147 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
13:00:16,147 INFO common.RuleXml(215) - Out RuleXml.load()!
13:00:16,147 INFO common.RuleParser(49) - Into RuleParser.check()...
13:00:16,147 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
13:00:16,154 INFO common.Log4jPrint(20) - 对邮编进行校验
13:00:16,156 INFO common.Log4jPrint(20) - 对邮编进行校验
13:00:16,156 INFO common.Log4jPrint(20) - 返回的结果是:0
13:00:16,158 INFO common.Log4jPrint(20) - 对邮编进行校验
13:00:16,160 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

13:00:16,160 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
13:00:16,160 INFO common.RuleParser(62) - Out RuleParser.check()!
13:00:16,160 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
13:00:16,169 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
13:00:16,171 INFO common.SaveMessage(69) - 3671_6_0_inSvc.xml IO输出耗时:0.0020s
13:00:16,171 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3671_6_0_inSvc.xml
13:00:16,172 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
13:00:16,172 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
13:00:16,438 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
13:00:16,899 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
13:00:16,920 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
13:00:16,920 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
13:00:16,920 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
13:00:16,921 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
13:00:16,921 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
13:00:16,921 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
13:00:16,945 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
13:00:16,946 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTEwNTI3PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI1MjcwMzAxMTAwOTwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY3MV8zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDE5NTk8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT48QWNjTm8gLz48QWNjTmFtZT4/Pz8/PzwvQWNjTmFtZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxTYWxlTmFtZT4/Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjc3OTc2NTY5PC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MjAwODAyMTEwMDAwMDAwMTA1Njc8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3NTEwMDI8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDcwMTE5NzUxMDAyMDI5MjwvSURObz48SWRFeHBEYXRlPjIwMjUxMTAxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0NTY2MjwvUGhvbmU+PE1vYmlsZT4xMzkwMzMzOTA5MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MzAwLjA8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnk+MjAwLjA8L0ZhbWlseVllYXJTYWxhcnk+PFJlbGFUb0luc3VyZWQ+MDA8L1JlbGFUb0luc3VyZWQ+PFJlbGFUb0luc3VyZWQyPjAxMzMwNDM8L1JlbGFUb0luc3VyZWQyPjxEZW5UeXBlPjE8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT4/Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydG"
13:00:16,946 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
13:00:16,947 DEBUG httpclient.Wire(70) - >> "5d1[\r][\n]"
13:00:16,948 DEBUG httpclient.Wire(84) - >> "hkYXk+MTk3NTEwMDI8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDcwMTE5NzUxMDAyMDI5MjwvSURObz48SWRFeHBEYXRlPjIwMjUxMTAxPC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/oaQxMTE/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+ODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzIC8+PFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPjxQaG9uZT4wMTAzODY0NTY2MjwvUGhvbmU+PE1vYmlsZT4xMzkwMzMzOTA5MDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbT4zMDAwMDAwLjAwPC9SY2duWXJJbmNtQW0+PENvdlN1bUFtdD4wPC9Db3ZTdW1BbXQ+PFJpc2tBc3Nlc3NtZW50UmVzdWx0PjA0PC9SaXNrQXNzZXNzbWVudFJlc3VsdD48Umlza0Fzc2Vzc21lbnRFbmREYXRlPjIwMTcxMTE2PC9SaXNrQXNzZXNzbWVudEVuZERhdGU+PFByZW1pdW1CdWRnZXQ+MDwvUHJlbWl1bUJ1ZGdldD48L0luc3VyZWQ+PFJpc2s+PFJpc2tDb2RlPjAxMUEwMTAwPC9SaXNrQ29kZT48Umlza05hbWU+Pz8/Pz8/PzI/Pz8/Pz8/Pz8/Pz8/Pz8/KTwvUmlza05hbWU+PEFnSW5zUGtnSUQgLz48QW1udD4wPC9BbW50PjxQcmVtPjEwMDAwMDA8L1ByZW0+PE11bHQ+MTA8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYXJGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnIC8+PC9SaXNrPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
13:00:16,948 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
13:00:16,948 DEBUG httpclient.Wire(84) - >> "0"
13:00:16,948 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
13:00:16,949 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
13:00:42,512 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
13:00:42,513 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
13:00:42,514 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
13:00:42,515 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
13:00:42,515 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
13:00:42,515 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 05:00:24 GMT[\r][\n]"
13:00:42,516 DEBUG httpclient.Wire(70) - << "[\r][\n]"
13:00:42,526 DEBUG httpclient.Wire(84) - << "1"
13:00:42,527 DEBUG httpclient.Wire(84) - << "7"
13:00:42,527 DEBUG httpclient.Wire(84) - << "1"
13:00:42,527 DEBUG httpclient.Wire(84) - << "f"
13:00:42,528 DEBUG httpclient.Wire(84) - << "[\r]"
13:00:42,528 DEBUG httpclient.Wire(70) - << "[\n]"
13:00:42,528 DEBUG httpclient.Wire(84) - << "<?xm"
13:00:42,533 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
13:00:42,540 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjA8L0ZsYWc+DQogICAgPERlc2M+vbvS17PJuaajoTwvRGVzYz4NCiAgPC9IZWFkPg0KICA8Qm9keT4NCiAgICA8Q29udE5vPjEwMTAxOTAwMDAwMTk1OTwvQ29udE5vPg0KICAgIDxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMTk1OTwvUHJvcG9zYWxQcnRObz4NCiAgICA8Q29udFBydE5vPjwvQ29udFBydE5vPg0KICAgIDxQb2xpY3lQbGVkZ2U+MDwvUG9saWN5UGxlZGdlPg0KICAgIDxDb250VmFsdWU+MTAwMDAwMDwvQ29udFZhbHVlPg0KICAgIDxBY2NvdW50VmFsdWU+MTAwMDAwMDwvQWNjb3VudFZhbHVlPg0KICAgIDxQYXlQcm92PjwvUGF5UHJvdj4NCiAgICA8UGF5Tm9kZU5vPjEzMDEwMTAwMDE8L1BheU5vZGVObz4NCiAgICA8UGF5VHlwZT4wPC9QYXlUeXBlPg0KICAgIDxQYXlQcmVtPjA8L1BheVByZW0+DQogICAgPEFjY05vPm51bGw8L0FjY05vPg0KICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgPFByZW1UZXh0PsjLw/Gx0tK8zfLUqtX7PC9QcmVtVGV4dD4NCiAgICA8QW1udD4wPC9BbW50Pg0KICAgIDxBbW50VGV4dD7Iy8PxsdLB49Sq1fs8L0FtbnRUZXh0Pg0KICAgIDxBZ2VudENvZGU+NTIwMTMwMDAwNTwvQWdlbnRDb2RlPg0KICAgIDxBZ2VudE5hbWU+zfXSu9K7PC9BZ2VudE5hbWU+DQogICAgPEFnZW50R3JwQ29kZT4wMDAwMDAwMDAyMjM8L0FnZW50R3JwQ29kZT4NCiAgICA8QWdlbnRHcnBOYW1lPrnz0fTS+LGj06rStbK/MbbTPC9BZ2VudEdycE5hbWU+DQogICAgPEFnZW50Q29tPjEzMDEwMTAwMDE8L0FnZW50Q29tPg0KICAgIDxBZ2VudENvbU5hbWU+vajJ6NL40NC589bdufPR9MrAvM2zx834teM8L0FnZW50Q29tTmFtZT4NCiAgICA8Q29tQ29kZT44NjUyMDEwMTwvQ29tQ29kZT4NCiAgICA8Q29tTG9jYXRpb24+ufPR9NK7tv7SuzwvQ29tTG9jYXRpb24+DQogICAgPENvbU5hbWU+ufPW3bfWuavLvjwvQ29tTmFtZT4NCiAgICA8Q29tWmlwQ29kZT48L0NvbVppcENvZGU+DQogICAgPENvbVBob25lPjwvQ29tUGhvbmU+DQogICAgPFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPg0KICAgIDxTYWxlTmFtZT4/Pz8/PC9TYWxlTmFtZT4NCiAgICA8U2FsZUNlcnRObz4yMDA4MDIxMTAwMDAwMDAxMDU2NzwvU2FsZUNlcnRObz4NCiAgICA8UG9saWN5U3RhdHVzPjwvUG9saWN5U3RhdHVzPg0KICAgIDxCYW5rQ29tTm8+MTEwMzc4MzAwPC9CYW5rQ29tTm8+DQogICAgPEFnZW50UGhvbmU+MTUwMjE0NTIxNTk8L0FnZW50UGhvbmU+DQogICAgPFBheUludHY+MDwvUGF5SW50dj4NCiAgICA8SW5zUHJlbV9QeUZfUHJkX051bT4xMDAwPC9JbnNQcmVtX1B5Rl9QcmRfTnVtPg0KICAgIDxQYXllbmRZZWFyPjEwMDA8L1BheWVuZFllYXI+DQogICAgPFBheWVuZFllYXJGbGFnPlk8L1BheWVuZFllYXJGbGFnPg0KICAgIDxBcHBudD4NCiAgICAgIDxDdXN0b21lck5vPjAwMDAwMDA1OTU8L0N1c3RvbWVyTm8+DQogICAgICA8TmFtZT4/Pz8/PzwvTmFtZT4NCiAgICAgIDxTZXg+MDwvU2V4Pg0KICAgICAgPEJpcnRoZGF5PjE5NzUxMDAyPC9CaXJ0aGRheT4NCiAgICAgIDxJRFR5cGU+MDwvSURUeXBlPg0KICAgICAgPElETm8+MjMwNzAxMTk3NTEwMDIwMjkyPC9JRE5vPg0KICAgICAgPEpvYlR5cGU+MTwvSm9iVHlwZT4NCiAgICAgIDxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+DQogICAgICA8Sm9iTmFtZT4xPC9Kb2JOYW1lPg0KICAgICAgPE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+DQogICAgICA8U3RhdHVyZT48L1N0YXR1cmU+DQogICAgICA8V2VpZ2h0PjwvV2VpZ2h0Pg0KICAgICAgPE1hcml0YWxTdGF0dXM+PC9NYXJpdGFsU3RhdHVzPg0KICAgICAgPEFkZHJlc3M+PC9BZGRyZXNzPg0KICAgICAgPFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPg0KICAgICAgPE1vYmlsZT4xMzkwMzMzOTA5MDwvTW9iaWxlPg0KICAgICAgPFBob25lPjAxMDM4NjQ1NjYyPC9QaG9uZT4NCiAgICAgIDxFbWFpbD48L0VtYWlsPg0KICAgICAgPFJlbGFUb0luc3VyZWQ+MDA8L1JlbGFUb0luc3VyZWQ+DQogICAgICA8WWVhclNhbGFyeT4zMDAuMDwvWWVhclNhbGFyeT4NCiAgICAgIDxGYW1pbHlZZWFyU2FsYXJ5PjIwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5Pg0KICAgICAgPERlblR5cGU+MTwvRGVuVHlwZT4NCiAgICA8L0FwcG50Pg0KICAgIDxJbnN1cmVkPg0KICAgICAgPEN1c3RvbWVyTm8+MDAwMDAwMDU5NTwvQ3VzdG9tZXJObz4NCiAgICAgIDxOYW1lPj8/Pz8/PC9OYW1lPg0KICAgICAgPFNleD4wPC9TZXg+DQogICAgICA8QmlydGhkYXk+MTk3NTEwMDI8L0JpcnRoZGF5Pg0KICAgICAgPElEVHlwZT4wPC9JRFR5cGU+DQogICAgICA8SURObz4yMzA3MDExOTc1MTAwMjAyOTI8L0lETm8+DQogICAgICA8Sm9iVHlwZT4xPC9Kb2JUeXBlPg0KICAgICAgPEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT4NCiAgICAgIDxKb2JOYW1lPjE8L0pvYk5hbWU+DQogICAgICA8U3RhdHVyZT48L1N0YXR1cmU+DQogICAgICA8TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT4NCiAgICAgIDxXZWlnaHQ+PC9XZWlnaHQ+DQogICAgICA8TWFyaXRhbFN0YXR1cz48L01hcml0YWxTdGF0dXM+DQogICAgICA8QWRkcmVzcz48L0FkZHJlc3M+DQogICAgICA8WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+DQogICAgICA8TW9iaWxlPjEzOTAzMzM5MDkwPC9Nb2JpbGU+DQogICAgICA8UGhvbmU+MDEwMzg2NDU2NjI8L1Bob25lPg0KICAgICAgPEVtYWlsPjwvRW1haWw+DQogICAgICA8RGVuVHlwZT48L0RlblR5cGU+DQogICAgPC9JbnN1cmVkPg0KICAgIDxIZXNpdGF0ZVBlcmlvZD4yMTwvSGVzaXRhdGVQZXJpb2Q+DQogICAgPFJpc2s+DQogICAgICA8Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPg0KICAgICAgPFJpc2tOYW1lPruqufO24LLKsaYyusXBvcirsaPP1aOozfLE3NDNo6k8L1Jpc2tOYW1lPg0KICAgICAgPE1haW5SaXNrQ29kZT4wMTFBMDEwMDwvTWFpblJpc2tDb2RlPg0KICAgICAgPFBvbEFwcGx5RGF0ZT4yMDE2MTIwOTwvUG9sQXBwbHlEYXRlPg0KICAgICAgPFNpZ25EYXRlPjwvU2lnbkRhdGU+DQogICAgICA8Q1ZhbGlEYXRlPjIwMTYxMjA5PC9DVmFsaURhdGU+DQogICAgICA8SW5zdUVuZERhdGU+MjAyMTEyMDk8L0luc3VFbmREYXRlPg0KICAgICAgPEFtbnQ+MDwvQW1udD4NCiAgICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgICA8TXVsdD4xMDwvTXVsdD4NCiAgICAgIDxQYXlJbnR2PjA8L1BheUludHY+DQogICAgICA8UGF5TW9kZT4wPC9QYXlNb2RlPg0KICAgICAgPEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+DQogICAgICA8SW5zdVllYXI+NTwvSW5zdVllYXI+DQogICAgICA8WWVhcnM+NTwvWWVhcnM+DQogICAgICA8UGF5RW5kWWVhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+DQogICAgICA8UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPg0KICAgICAgPFBheUVuZERhdGU+MzAxNjEyMDk8L1BheUVuZERhdGU+DQogICAgICA8Q29zdEludHY+PC9Db3N0SW50dj4NCiAgICAgIDxDb3N0RGF0ZT48L0Nvc3REYXRlPg0KICAgICAgPFBheVRvRGF0ZT48L1BheVRvRGF0ZT4NCiAgICAgIDxHZXRZZWFyRmxhZz5ZPC9HZXRZZWFyRmxhZz4NCiAgICAgIDxHZXRTdGFydERhdGU+MjAxNjEyMDk8L0dldFN0YXJ0RGF0ZT4NCiAgICAgIDxHZXRZZWFyPjwvR2V0WWVhcj4NCiAgICAgIDxHZXRJbnR2PjwvR2V0SW50dj4NCiAgICAgIDxHZXRUZXJtcz48L0dldFRlcm1zPg0KICAgICAgPEdldEJhbmtDb2RlPjwvR2V0QmFua0NvZGU+DQogICAgICA8R2V0QmFua0FjY05vPjwvR2V0QmFua0FjY05vPg0KICAgICAgPEdldEFjY05hbWU+PC9HZXRBY2NOYW1lPg0KICAgICAgPEF1dG9QYXlGbGFnPjwvQXV0b1BheUZsYWc+DQogICAgICA8Qm9udXNHZXRNb2RlPjwvQm9udXNHZXRNb2RlPg0KICAgICAgPFN1YkZsYWc+PC9TdWJGbGFnPg0KICAgICAgPEZ1bGxCb251c0dldE1vZGU+PC9GdWxsQm9udXNHZXRNb2RlPg0KICAgICAgPEFjY291bnQ+PC9BY2NvdW50Pg0KICAgICAgPENhc2hWYWx1ZXM+PC9DYXNoVmFsdWVzPg0KICAgICAgPERlZHVjdGlvblZhbHVlcz48L0RlZHVjdGlvblZhbHVlcz4NCiAgICAgIDxCb251c1ZhbHVlcz48L0JvbnVzVmFsdWVzPg0KICAgICAgPFNwZWNDb250ZW50PjwvU3BlY0NvbnRlbnQ+DQogICAgPC9SaXNrPg0KICA8L0JvZHk+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
13:00:42,547 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000001959录单核保(service)耗时：26.375s
13:00:42,554 INFO common.SaveMessage(69) - 3671_9_0_outSvc.xml IO输出耗时:0.0030s
13:00:42,554 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3671_9_0_outSvc.xml
13:00:42,554 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
13:00:42,554 INFO common.Log4jPrint(20) - -----------------------------------------------
13:00:42,554 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
13:00:42,556 DEBUG service.NewContInput(251) - Into NewContInput.getContDB()...
13:00:42,645 INFO service.NewContInput(298) - 101019000001959,被保人与投保人关系,银行代码:null
13:00:42,645 INFO common.Log4jPrint(20) - 一级分行号：110000000  套餐编号：
13:00:42,646 DEBUG service.NewContInput(312) - Out NewContInput.getContDB()!
13:00:42,721 INFO common.Log4jPrint(20) - 进入更新后的InsPart
13:00:42,722 INFO common.Log4jPrint(20) - mSql: insert into Cont ( RecordNo,Type,ContNo,ProposalPrtNo,ProductId,TranCom,NodeNo,AgentCom,AgentComName,AgentCode,AgentName,ManageCom,AppntNo,AppntName,AppntSex,AppntBirthday,AppntIDType,AppntIDNo,InsuredNo,InsuredName,InsuredSex,InsuredBirthday,InsuredIDType,InsuredIDNo,TranDate,PolApplyDate,SignDate,Prem,Amnt,State,Bak1,Bak2,Bak10,MakeDate,MakeTime,ModifyDate,ModifyTime,Operator ) values ( 167,0,'101019000001959','101019000001959',0,13,'110378300','1301010001','建设银行贵州贵阳世纪城网点','5201300005','王一一','86520101','0000000595','?????','0',19751002,'0','230701197510020292','0000000595','?????','0',19751002,'0','230701197510020292',20161209,20161209,0,1000000.0,0.0,1,'011A0100','0133043','110000000',20161209,130042,20161209,130042,'sys' )
13:00:42,813 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
13:00:42,814 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:00:42,814 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3671,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001959',ContNo=null,OtherNo=null,AgentCom='1301010001',AgentCode='5201300005',AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86520101',RCode=0,RText='交易成功！',UsedTime=26,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3671_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=130015,ModifyDate=20161209,ModifyTime=130042,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId=null,OutNoDoc=null where LogNo=3671
13:00:42,854 INFO service.NewContInput(245) - Out NewContInput.service()!
13:00:42,855 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
13:00:43,015 INFO dao.LKPolicyXMLDao(87) - insert into LKPolicyXML(contNo,proposalPrtNo,tranCom,zoneNo,nodeNo,trandate,xmlContent,makeDate,makeTime,modifyDate,modifyTime) values('101019000001959','101019000001959','03','','','2016-12-08',EMPTY_BLOB(),'2016-12-09','13:00:42','2016-12-09','13:00:42')
13:00:43,071 INFO dao.LKPolicyXMLDao(98) - select xmlContent from LKPolicyXML where contNo=? and tranCom=? for update
13:00:43,247 INFO format.NewCont(255) - 保存非标准报文到数据库成功!
13:00:43,254 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
13:00:43,255 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
13:00:43,257 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
13:00:43,279 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
13:00:43,285 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

13:00:43,286 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
13:00:43,298 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
13:00:43,298 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
13:00:43,303 INFO common.SaveMessage(69) - 3671_12_1012_out.xml IO输出耗时:0.0010s
13:00:43,303 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3671_12_1012_out.xml
13:00:43,304 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>817</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2372</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483067127004546</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209130015206</SYS_RECV_TIME><SYS_RESP_TIME>20161209130043297</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>5</SYS_RESP_DESC_LEN><SYS_RESP_DESC>浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Bu_List><Bu_Detail><Cvr_ID>011A0100</Cvr_ID><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cps>10</Ins_Cps><Ins_Cvr>0.00</Ins_Cvr></Bu_Detail></Bu_List><Ins_BillNo>1010190000019</Ins_BillNo><Tot_InsPrem_Amt>10000.00</Tot_InsPrem_Amt><Init_PyF_Amt>10000.00</Init_PyF_Amt><Anulz_InsPrem_Amt>10000.00</Anulz_InsPrem_Amt><Ins_Co_Acrdt_Stff_Nm>????</Ins_Co_Acrdt_Stff_Nm><InsCoAcrStCrQuaCtf_ID>20080211000000010567</InsCoAcrStCrQuaCtf_ID><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf>10000.00</EcIst_PyF_Amt_Inf><InsPrem_PyF_Prd_Num>1000</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481252703011009</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt>20161209</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481252703011009</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

13:00:43,305 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
13:00:43,306 INFO test.NewCCBTestUI(517) - 返回报文长度：2375
13:00:43,308 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：31.907s
13:00:43,320 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
13:00:43,412 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:00:43,412 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=3671
13:00:43,457 INFO common.Log4jPrint(20) - -------------------------
13:00:43,458 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
13:00:43,458 INFO common.Log4jPrint(20) - -------------------------
13:00:43,478 INFO common.Log4jPrint(20) - i=1
13:00:43,543 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
13:00:43,544 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
13:00:43,545 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3671,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481252703011009',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=110527,ProposalPrtNo='101019000001959',ContNo=null,OtherNo=null,AgentCom='1301010001',AgentCode='5201300005',AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86520101',RCode=0,RText='交易成功！',UsedTime=26,AppntName='?????',Bak1='127.0.0.1',Bak2=null,Bak3='30.874',Bak4=null,Bak5=null,InNoDoc='3671_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=130015,ModifyDate=20161209,ModifyTime=130042,AppntIDNo='230701197510020292',InsuredName='?????',InsuredIDNo='230701197510020292',ProductId=null,OutNoDoc='3671_12_1012_out.xml' where LogNo=3671
13:00:43,570 INFO midplat.Ybt4Socket(170) - 处理总耗时：30.964s
13:00:43,570 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
13:03:44,528 INFO net.SocketListenerF5(86) - Into SocketListenerF5.contextDestroyed()...
13:03:44,530 INFO net.SocketListenerF5(88) - 关闭ServerSocket监听...
13:03:44,531 DEBUG net.SocketListenerF5(108) - System.out = com.sinosoft.midplat.common.Log4jPrint@2a85f3d6
13:03:44,532 INFO common.Log4jPrint(20) - Start revert System.out...
13:03:44,532 INFO net.SocketListenerF5(117) - Out SocketListenerF5.contextDestroyed()!
13:03:44,564 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
13:03:44,565 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
13:03:44,564 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
13:03:44,564 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
15:31:11,552 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7619cc1b
15:31:11,575 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:31:11,592 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:31:11,592 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:31:11,595 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
15:31:11,596 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:31:11,596 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:31:11,600 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:31:03,665) and length=23938 bytes!
15:31:11,689 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:31:11,697 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:31:11,698 INFO common.Log4jPrint(20) - End reset System.out!
15:31:11,700 INFO net.SocketConf(27) - Into SocketConf.load()...
15:31:11,701 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:31:11,701 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
15:31:11,704 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:31:11,705 INFO net.SocketConf(60) - Out SocketConf.load()!
15:31:11,722 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
15:31:11,723 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:31:11,785 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
15:31:11,786 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
15:31:11,786 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:31:11,804 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
15:31:11,805 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:31:11,805 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
15:31:11,818 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
15:31:11,818 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:31:11,818 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
15:31:11,832 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
15:31:11,833 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
15:31:11,832 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
15:31:16,673 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
15:31:16,691 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:31:16,703 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:31:16,704 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:31:16,704 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
15:31:16,725 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:31:16,746 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:31:16,747 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:31:16,749 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:31:16,774 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:31:17,598 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:31:17,657 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:31:17,775 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:31:17,843 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:31:17,844 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:31:17,846 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:31:17,913 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
15:31:17,925 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:31:17,926 INFO common.Log4jPrint(20) - ==================send====
15:31:17,926 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
15:31:18,024 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:31:18,025 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:31:18,058 INFO common.Log4jPrint(20) - i=0
15:31:18,060 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:31:18,060 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.216s
15:31:18,061 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:31:35,513 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:31:35,523 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:31:35,524 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:31:35,524 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:31:35,524 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:31:35,531 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:31:35,532 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:31:35,532 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:31:35,532 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011401</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:31:35,535 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:31:35,536 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:31:35,701 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:31:35,702 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:31:35,704 INFO common.SaveMessage(69) - 3647_3_1014_in.xml IO输出耗时:0.0020s
15:31:35,705 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3647_3_1014_in.xml
15:31:35,705 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:31:35,706 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:31:35,708 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:31:39,484 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:31:39,563 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
15:31:39,564 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
15:31:39,564 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,801) and length=3118 bytes!
15:31:40,036 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
15:31:40,040 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_BillNo)" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

15:31:40,040 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
15:31:40,234 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:31:40,234 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:31:40,274 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:31:40,275 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:31:40,275 INFO common.Log4jPrint(20) - 进程名：3647
15:31:40,275 INFO common.Log4jPrint(20) - trancom:13
15:31:40,276 INFO common.Log4jPrint(20) - FuncFlag:1014
15:31:40,276 INFO common.Log4jPrint(20) - mHeadEle.getChildText3647_3_1014_in.xml
15:31:40,347 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:31:40,347 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3647,13,'110378300','108011rv11481267306011401','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3647_3_1014_in.xml',20161209,153140,20161209,153140 )
15:31:40,384 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
15:31:40,384 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:44)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:31:40,385 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:31:40,385 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:31:40,387 INFO common.Log4jPrint(20) - 使用的样式表：null
15:31:40,401 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:31:40,401 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:31:40,410 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,811) and length=33620 bytes!
15:31:40,483 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:31:40,502 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:31:40,505 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:31:40,518 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.ContConfirm.std2NoStd(ContConfirm.java:91)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
15:31:40,534 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:31:40,534 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:31:40,538 INFO common.SaveMessage(69) - 3647_6_1014_out.xml IO输出耗时:0.0020s
15:31:40,539 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3647_6_1014_out.xml
15:31:40,540 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3086</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209153139485</SYS_RECV_TIME><SYS_RESP_TIME>20161209153140533</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>         淇╁凤                                                璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>         淇╁绔ワ2016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>         淇浜哄锛            у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011401</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011401</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:31:40,541 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:31:40,543 INFO test.NewCCBTestUI(517) - 返回报文长度：2986
15:31:40,545 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：5.021s
15:31:40,557 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
15:31:40,602 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:31:40,602 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:31:40,648 INFO common.Log4jPrint(20) - i=0
15:31:40,649 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:31:40,649 INFO midplat.Ybt4Socket(170) - 处理总耗时：5.125s
15:31:40,649 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:32:08,836 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:32:08,846 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:32:08,846 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:32:08,847 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:32:08,847 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:32:08,853 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:32:08,854 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:32:08,855 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:32:08,855 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011401</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:32:08,860 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:32:08,860 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:32:08,864 INFO common.SaveMessage(69) - 3653_9_1014_in.xml IO输出耗时:0.0020s
15:32:08,864 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3653_9_1014_in.xml
15:32:08,865 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:32:08,866 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:32:08,868 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:32:12,194 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:32:12,210 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:32:12,211 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:32:12,211 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:32:12,212 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:32:12,213 INFO common.Log4jPrint(20) - 进程名：3653
15:32:12,213 INFO common.Log4jPrint(20) - trancom:13
15:32:12,214 INFO common.Log4jPrint(20) - FuncFlag:1014
15:32:12,215 INFO common.Log4jPrint(20) - mHeadEle.getChildText3653_9_1014_in.xml
15:32:12,361 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:32:12,363 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3653,13,'110378300','108011rv11481267306011401','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3653_9_1014_in.xml',20161209,153212,20161209,153212 )
15:32:12,406 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
15:32:12,407 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:44)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:32:12,408 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:32:12,408 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:32:12,411 INFO common.Log4jPrint(20) - 使用的样式表：null
15:32:12,411 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:32:12,412 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:32:12,413 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,811) and length=33620 bytes!
15:32:12,480 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:32:12,496 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:32:12,499 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:32:12,503 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.ContConfirm.std2NoStd(ContConfirm.java:91)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
15:32:12,506 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:32:12,506 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:32:12,539 INFO common.SaveMessage(69) - 3653_12_1014_out.xml IO输出耗时:0.031s
15:32:12,539 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3653_12_1014_out.xml
15:32:12,540 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3086</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209153212195</SYS_RECV_TIME><SYS_RESP_TIME>20161209153212505</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>         淇╁凤                                                璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>         淇╁绔ワ2016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>         淇浜哄锛            у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011401</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011401</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:32:12,542 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:32:12,543 INFO test.NewCCBTestUI(517) - 返回报文长度：2986
15:32:12,545 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：3.699s
15:32:12,558 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
15:32:12,715 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:32:12,716 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:32:12,815 INFO common.Log4jPrint(20) - i=0
15:32:12,816 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:32:12,816 INFO midplat.Ybt4Socket(170) - 处理总耗时：3.969s
15:32:12,816 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:32:38,150 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:32:38,160 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:32:38,161 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:32:38,162 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:32:38,162 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:32:38,169 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:32:38,170 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:32:38,170 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:32:38,170 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011401</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:32:38,173 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:32:38,173 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:32:38,182 INFO common.SaveMessage(69) - 3659_15_1014_in.xml IO输出耗时:0.0010s
15:32:38,182 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3659_15_1014_in.xml
15:32:38,183 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:32:38,183 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:32:38,185 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:32:39,525 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:32:39,545 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:32:39,546 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:32:39,546 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:32:39,547 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:32:39,548 INFO common.Log4jPrint(20) - 进程名：3659
15:32:39,549 INFO common.Log4jPrint(20) - trancom:13
15:32:39,549 INFO common.Log4jPrint(20) - FuncFlag:1014
15:32:39,550 INFO common.Log4jPrint(20) - mHeadEle.getChildText3659_15_1014_in.xml
15:32:39,589 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:32:39,589 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3659,13,'110378300','108011rv11481267306011401','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3659_15_1014_in.xml',20161209,153239,20161209,153239 )
15:32:39,619 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
15:32:39,619 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:44)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:32:39,620 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:32:39,620 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:32:39,621 INFO common.Log4jPrint(20) - 使用的样式表：null
15:32:39,621 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:32:39,621 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:32:39,622 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,811) and length=33620 bytes!
15:32:39,678 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:32:39,693 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:32:39,695 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:32:39,699 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.ContConfirm.std2NoStd(ContConfirm.java:91)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
15:32:39,700 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:32:39,701 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:32:39,703 INFO common.SaveMessage(69) - 3659_18_1014_out.xml IO输出耗时:0.0010s
15:32:39,704 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3659_18_1014_out.xml
15:32:39,704 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3086</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209153239526</SYS_RECV_TIME><SYS_RESP_TIME>20161209153239700</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>         淇╁凤                                                璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>         淇╁绔ワ2016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>         淇浜哄锛            у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011401</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011401</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:32:39,705 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:32:39,707 INFO test.NewCCBTestUI(517) - 返回报文长度：2986
15:32:39,708 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：1.547s
15:32:39,720 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
15:32:39,759 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:32:39,759 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:32:39,789 INFO common.Log4jPrint(20) - i=0
15:32:39,790 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:32:39,790 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.628s
15:32:39,790 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:33:10,877 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:33:10,887 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:33:10,887 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:33:10,888 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:33:10,888 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:33:10,895 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:33:10,896 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:33:10,896 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:33:10,896 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011408</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:33:10,899 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:33:10,899 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:33:10,902 INFO common.SaveMessage(69) - 3665_21_1014_in.xml IO输出耗时:0.0010s
15:33:10,902 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3665_21_1014_in.xml
15:33:10,903 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:33:10,904 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:33:10,905 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:33:12,521 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:33:12,538 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:33:12,538 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:33:12,539 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:33:12,539 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:33:12,540 INFO common.Log4jPrint(20) - 进程名：3665
15:33:12,541 INFO common.Log4jPrint(20) - trancom:13
15:33:12,541 INFO common.Log4jPrint(20) - FuncFlag:1014
15:33:12,542 INFO common.Log4jPrint(20) - mHeadEle.getChildText3665_21_1014_in.xml
15:33:12,635 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:33:12,636 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3665,13,'110378300','108011rv11481267306011408','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3665_21_1014_in.xml',20161209,153312,20161209,153312 )
15:33:12,700 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
15:33:12,701 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
15:33:12,702 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:33:12,703 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:33:12,704 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:33:12,828 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
15:33:13,092 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
15:33:13,103 INFO common.SaveMessage(69) - 3665_24_1_inSvc.xml IO输出耗时:0.011s
15:33:13,103 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3665_24_1_inSvc.xml
15:33:13,103 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:33:13,104 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:33:13,765 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:33:14,698 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
15:33:14,742 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
15:33:14,742 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
15:33:14,743 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
15:33:14,743 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
15:33:14,744 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
15:33:14,744 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:33:14,786 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
15:33:14,786 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQwODwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY2NV8yMV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjA2NjwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
15:33:14,787 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:33:14,787 DEBUG httpclient.Wire(84) - >> "0"
15:33:14,787 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:33:14,788 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:33:28,949 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:33:28,950 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:33:28,956 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
15:33:29,014 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
15:33:29,015 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
15:33:29,016 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 07:33:10 GMT[\r][\n]"
15:33:29,018 DEBUG httpclient.Wire(70) - << "[\r][\n]"
15:33:29,099 DEBUG httpclient.Wire(84) - << "2"
15:33:29,100 DEBUG httpclient.Wire(84) - << "0"
15:33:29,101 DEBUG httpclient.Wire(84) - << "7"
15:33:29,102 DEBUG httpclient.Wire(84) - << "[\r]"
15:33:29,103 DEBUG httpclient.Wire(70) - << "[\n]"
15:33:29,104 DEBUG httpclient.Wire(84) - << "<?xm"
15:33:29,118 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
15:33:29,130 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
15:33:29,148 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：16.044s
15:33:29,150 INFO common.SaveMessage(69) - 3665_27_1_outSvc.xml IO输出耗时:0.0s
15:33:29,150 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3665_27_1_outSvc.xml
15:33:29,151 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
15:33:29,151 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:33:29,204 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:33:29,205 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:33:29,205 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3665,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011408',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=16,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3665_21_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=153312,ModifyDate=20161209,ModifyTime=153329,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011408'
15:33:29,285 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:33:29,285 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:33:29,287 INFO common.Log4jPrint(20) - 使用的样式表：null
15:33:29,287 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:33:29,287 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:33:29,287 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,811) and length=33620 bytes!
15:33:29,330 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:33:29,345 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:33:29,346 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:33:29,350 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.ContConfirm.std2NoStd(ContConfirm.java:91)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
15:33:29,353 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:33:29,353 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:33:29,356 INFO common.SaveMessage(69) - 3665_30_1014_out.xml IO输出耗时:0.0010s
15:33:29,356 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3665_30_1014_out.xml
15:33:29,357 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3141</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209153312522</SYS_RECV_TIME><SYS_RESP_TIME>20161209153329352</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>         淇╁凤                                                璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>         淇╁绔ワ2016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>         淇浜哄锛            у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011408</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011408</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:33:29,358 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:33:29,360 INFO test.NewCCBTestUI(517) - 返回报文长度：3023
15:33:29,361 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：18.473s
15:33:29,375 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "Ret_Inf" must be terminated by the matching end-tag "</Ret_Inf>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "Ret_Inf" must be terminated by the matching end-tag "</Ret_Inf>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "Ret_Inf" must be terminated by the matching end-tag "</Ret_Inf>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
15:33:29,423 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:33:29,424 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:33:29,511 INFO common.Log4jPrint(20) - i=0
15:33:29,512 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:33:29,512 INFO midplat.Ybt4Socket(170) - 处理总耗时：18.624s
15:33:29,512 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:41:11,246 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@8a030d6
15:41:11,254 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:41:11,259 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:41:11,259 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:41:11,261 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
15:41:11,262 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:41:11,263 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:41:11,266 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:31:03,665) and length=23938 bytes!
15:41:11,331 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:41:11,343 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:41:11,344 INFO common.Log4jPrint(20) - End reset System.out!
15:41:11,346 INFO net.SocketConf(27) - Into SocketConf.load()...
15:41:11,347 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:41:11,347 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
15:41:11,351 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:41:11,352 INFO net.SocketConf(60) - Out SocketConf.load()!
15:41:11,368 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
15:41:11,368 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:41:11,382 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
15:41:11,383 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
15:41:11,383 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:41:11,388 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
15:41:11,389 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:41:11,389 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
15:41:11,395 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
15:41:11,396 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:41:11,395 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
15:41:11,402 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
15:41:11,403 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
15:41:11,402 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
15:41:13,104 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:41:13,115 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:41:13,115 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:41:13,115 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
15:41:13,122 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:41:13,124 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:41:13,124 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:41:13,146 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:41:13,147 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:41:13,150 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:41:13,156 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:41:13,910 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:41:14,028 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:41:14,108 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:41:14,116 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:41:14,117 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:41:14,117 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:41:14,120 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:41:14,120 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011408</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:41:14,124 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:41:14,124 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:41:14,263 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:41:14,263 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:41:14,266 INFO common.SaveMessage(69) - 3671_3_1014_in.xml IO输出耗时:0.0030s
15:41:14,266 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3671_3_1014_in.xml
15:41:14,268 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:41:14,269 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:41:14,272 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:41:17,022 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:41:17,045 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
15:41:17,045 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
15:41:17,048 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,801) and length=3118 bytes!
15:41:17,354 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
15:41:17,358 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_BillNo)" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

15:41:17,358 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
15:41:17,505 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:41:17,505 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:41:17,514 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:41:17,514 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:41:17,524 INFO common.Log4jPrint(20) - 进程名：3671
15:41:17,524 INFO common.Log4jPrint(20) - trancom:13
15:41:17,524 INFO common.Log4jPrint(20) - FuncFlag:1014
15:41:17,524 INFO common.Log4jPrint(20) - mHeadEle.getChildText3671_3_1014_in.xml
15:41:17,614 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:41:17,616 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3671,13,'110378300','108011rv11481267306011408','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3671_3_1014_in.xml',20161209,154117,20161209,154117 )
15:41:17,657 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
15:41:17,660 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:44)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:41:17,665 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:41:17,665 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:41:17,668 INFO common.Log4jPrint(20) - 使用的样式表：null
15:41:17,671 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:41:17,671 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:41:17,692 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
15:41:17,753 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:41:17,799 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:41:18,168 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:41:18,175 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:41:18,175 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:41:18,178 INFO common.SaveMessage(69) - 3671_6_1014_out.xml IO输出耗时:0.0010s
15:41:18,178 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3671_6_1014_out.xml
15:41:18,179 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2070</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209154117023</SYS_RECV_TIME><SYS_RESP_TIME>20161209154118174</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011408</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011408</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:41:18,180 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:41:18,182 INFO test.NewCCBTestUI(517) - 返回报文长度：2070
15:41:18,183 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：5.068s
15:41:18,194 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
15:41:18,213 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:41:18,213 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:41:18,265 INFO common.Log4jPrint(20) - i=0
15:41:18,265 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:41:18,266 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.148s
15:41:18,266 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:41:44,264 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:41:44,274 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:41:44,274 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:41:44,275 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:41:44,275 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:41:44,282 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:41:44,283 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:41:44,283 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:41:44,283 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011409</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:41:44,286 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:41:44,286 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:41:44,290 INFO common.SaveMessage(69) - 3677_9_1014_in.xml IO输出耗时:0.0020s
15:41:44,290 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3677_9_1014_in.xml
15:41:44,291 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:41:44,292 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:41:44,294 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:41:45,847 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:41:45,869 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:41:45,870 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:41:45,871 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:41:45,871 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:41:45,873 INFO common.Log4jPrint(20) - 进程名：3677
15:41:45,873 INFO common.Log4jPrint(20) - trancom:13
15:41:45,874 INFO common.Log4jPrint(20) - FuncFlag:1014
15:41:45,875 INFO common.Log4jPrint(20) - mHeadEle.getChildText3677_9_1014_in.xml
15:41:46,079 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:41:46,081 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3677,13,'110378300','108011rv11481267306011409','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3677_9_1014_in.xml',20161209,154145,20161209,154145 )
15:41:46,110 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
15:41:46,111 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
15:41:46,112 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:41:46,113 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:41:46,114 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:41:46,409 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
15:41:46,837 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
15:41:46,842 INFO common.SaveMessage(69) - 3677_12_1_inSvc.xml IO输出耗时:0.0040s
15:41:46,842 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3677_12_1_inSvc.xml
15:41:46,844 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:41:46,844 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:41:47,123 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:41:47,582 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
15:41:47,602 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
15:41:47,603 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
15:41:47,603 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
15:41:47,604 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
15:41:47,604 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
15:41:47,604 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:41:47,627 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
15:41:47,628 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQwOTwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY3N185XzEwMTRfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48QmFua0NvZGU+MDEwNDwvQmFua0NvZGU+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAyMDY2PC9Qcm9wb3NhbFBydE5vPjxQcmVtPjEwMDAwLjAwPC9QcmVtPjxPbGRUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NjYxOTAxMTM4ODwvT2xkVHJhbk5vPjxDb250Tm8gLz48Q29udFBydE5vPjwvQ29udFBydE5vPjxCa1BheU1vZGU+MDwvQmtQYXlNb2RlPjxCa0FjY3RObz40MzQwNjEwMDEyMTc1MzkxPC9Ca0FjY3RObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
15:41:47,629 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:41:47,629 DEBUG httpclient.Wire(84) - >> "0"
15:41:47,629 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:41:47,629 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:41:59,783 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:41:59,784 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:41:59,790 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
15:41:59,791 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
15:41:59,793 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
15:41:59,794 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 07:41:40 GMT[\r][\n]"
15:41:59,795 DEBUG httpclient.Wire(70) - << "[\r][\n]"
15:41:59,819 DEBUG httpclient.Wire(84) - << "2"
15:41:59,820 DEBUG httpclient.Wire(84) - << "0"
15:41:59,820 DEBUG httpclient.Wire(84) - << "7"
15:41:59,821 DEBUG httpclient.Wire(84) - << "[\r]"
15:41:59,821 DEBUG httpclient.Wire(70) - << "[\n]"
15:41:59,822 DEBUG httpclient.Wire(84) - << "<?xm"
15:41:59,831 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
15:41:59,839 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
15:41:59,845 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：13.0s
15:41:59,847 INFO common.SaveMessage(69) - 3677_15_1_outSvc.xml IO输出耗时:0.0s
15:41:59,848 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3677_15_1_outSvc.xml
15:41:59,848 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
15:41:59,848 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:42:00,224 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:42:00,225 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:42:00,226 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3677,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011409',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=13,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3677_9_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=154145,ModifyDate=20161209,ModifyTime=154159,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011409'
15:42:00,340 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:42:00,341 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:42:00,343 INFO common.Log4jPrint(20) - 使用的样式表：null
15:42:00,344 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:42:00,344 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:42:00,345 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
15:42:00,403 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:42:00,426 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:42:00,428 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:42:00,432 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:42:00,432 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:42:00,435 INFO common.SaveMessage(69) - 3677_18_1014_out.xml IO输出耗时:0.0010s
15:42:00,436 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3677_18_1014_out.xml
15:42:00,437 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2125</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209154145848</SYS_RECV_TIME><SYS_RESP_TIME>20161209154200432</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011409</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011409</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:42:00,438 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:42:00,439 INFO test.NewCCBTestUI(517) - 返回报文长度：2107
15:42:00,441 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：16.166s
15:42:00,666 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:42:00,666 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:42:00,786 INFO common.Log4jPrint(20) - i=0
15:42:00,787 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:42:00,788 INFO midplat.Ybt4Socket(170) - 处理总耗时：16.513s
15:42:00,788 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:46:49,233 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:46:49,244 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:46:49,245 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:46:49,245 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:46:49,245 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:46:49,252 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:46:49,253 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:46:49,253 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:46:49,253 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011410</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:46:49,256 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:46:49,256 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:46:49,260 INFO common.SaveMessage(69) - 3683_21_1014_in.xml IO输出耗时:0.0020s
15:46:49,260 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3683_21_1014_in.xml
15:46:49,261 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:46:49,261 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:46:49,264 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:46:52,381 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:46:52,397 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:46:52,398 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:46:52,399 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:46:52,399 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:46:52,400 INFO common.Log4jPrint(20) - 进程名：3683
15:46:52,400 INFO common.Log4jPrint(20) - trancom:13
15:46:52,401 INFO common.Log4jPrint(20) - FuncFlag:1014
15:46:52,401 INFO common.Log4jPrint(20) - mHeadEle.getChildText3683_21_1014_in.xml
15:46:52,454 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:46:52,454 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3683,13,'110378300','108011rv11481267306011410','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3683_21_1014_in.xml',20161209,154652,20161209,154652 )
15:46:52,466 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
15:46:52,466 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
15:46:52,466 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:46:52,467 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:46:52,467 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:46:52,542 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
15:46:52,656 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
15:46:52,685 INFO common.SaveMessage(69) - 3683_24_1_inSvc.xml IO输出耗时:0.029s
15:46:52,686 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3683_24_1_inSvc.xml
15:46:52,686 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:46:52,686 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:46:52,710 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
15:46:52,711 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
15:46:52,711 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
15:46:52,711 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
15:46:52,712 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
15:46:52,712 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
15:46:52,712 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:46:52,713 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
15:46:52,714 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQxMDwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY4M18yMV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjA2NjwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
15:46:52,714 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:46:52,714 DEBUG httpclient.Wire(84) - >> "0"
15:46:52,714 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:46:52,715 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:47:03,848 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:47:03,850 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:47:03,851 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
15:47:03,852 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
15:47:03,853 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
15:47:03,854 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 07:46:45 GMT[\r][\n]"
15:47:03,855 DEBUG httpclient.Wire(70) - << "[\r][\n]"
15:47:03,857 DEBUG httpclient.Wire(84) - << "2"
15:47:03,858 DEBUG httpclient.Wire(84) - << "0"
15:47:03,859 DEBUG httpclient.Wire(84) - << "7"
15:47:03,860 DEBUG httpclient.Wire(84) - << "[\r]"
15:47:03,861 DEBUG httpclient.Wire(70) - << "[\n]"
15:47:03,862 DEBUG httpclient.Wire(84) - << "<?xm"
15:47:03,864 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
15:47:03,865 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
15:47:03,868 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：11.182s
15:47:03,875 INFO common.SaveMessage(69) - 3683_27_1_outSvc.xml IO输出耗时:0.0020s
15:47:03,876 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3683_27_1_outSvc.xml
15:47:03,877 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
15:47:03,877 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:47:03,960 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:47:03,961 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:03,962 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3683,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011410',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=11,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3683_21_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=154652,ModifyDate=20161209,ModifyTime=154703,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011410'
15:47:04,011 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:47:04,012 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:47:04,014 INFO common.Log4jPrint(20) - 使用的样式表：null
15:47:04,015 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:47:04,015 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:47:04,017 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
15:47:04,078 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:47:04,093 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:47:04,095 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:47:04,098 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:47:04,099 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:47:04,101 INFO common.SaveMessage(69) - 3683_30_1014_out.xml IO输出耗时:0.0010s
15:47:04,101 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3683_30_1014_out.xml
15:47:04,102 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2125</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209154652382</SYS_RECV_TIME><SYS_RESP_TIME>20161209154704098</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011410</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011410</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:47:04,103 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:47:04,105 INFO test.NewCCBTestUI(517) - 返回报文长度：2107
15:47:04,107 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：14.862s
15:47:04,148 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:04,149 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:47:04,201 INFO common.Log4jPrint(20) - i=0
15:47:04,201 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:47:04,201 INFO midplat.Ybt4Socket(170) - 处理总耗时：14.956s
15:47:04,201 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:50:33,367 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4883d37a
15:50:33,376 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:50:33,381 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:50:33,381 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:50:33,383 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
15:50:33,384 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:50:33,385 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:50:33,388 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:31:03,665) and length=23938 bytes!
15:50:33,453 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:50:33,463 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:50:33,464 INFO common.Log4jPrint(20) - End reset System.out!
15:50:33,465 INFO net.SocketConf(27) - Into SocketConf.load()...
15:50:33,466 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:50:33,467 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
15:50:33,470 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:50:33,470 INFO net.SocketConf(60) - Out SocketConf.load()!
15:50:33,488 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
15:50:33,489 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:50:33,502 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
15:50:33,503 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
15:50:33,503 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:50:33,508 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
15:50:33,508 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:50:33,508 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
15:50:33,516 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
15:50:33,516 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:50:33,516 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
15:50:33,522 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
15:50:33,523 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
15:50:33,523 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
15:51:33,473 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:51:33,474 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:51:33,475 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:51:22,472) and length=23947 bytes!
15:51:33,496 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:51:33,496 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:52:02,950 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@2cd5276a
15:52:02,959 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:52:02,963 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:52:02,964 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:52:02,966 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
15:52:02,967 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:52:02,968 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:52:02,971 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:51:22,472) and length=23947 bytes!
15:52:03,042 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:52:03,051 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:52:03,052 INFO common.Log4jPrint(20) - End reset System.out!
15:52:03,055 INFO net.SocketConf(27) - Into SocketConf.load()...
15:52:03,056 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:52:03,057 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
15:52:03,061 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:52:03,062 INFO net.SocketConf(60) - Out SocketConf.load()!
15:52:03,083 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
15:52:03,084 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:52:03,097 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
15:52:03,097 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
15:52:03,098 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:52:03,104 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
15:52:03,104 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
15:52:03,105 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:52:03,110 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
15:52:03,111 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
15:52:03,111 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:52:03,118 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
15:52:03,119 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
15:52:03,119 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
15:52:10,510 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:52:10,521 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:52:10,521 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:52:10,522 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
15:52:10,531 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:52:10,532 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:52:10,533 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:52:10,552 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:52:10,553 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:52:10,556 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:52:10,562 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:52:29,513 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:52:29,694 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:52:29,880 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:52:29,901 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:52:29,903 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:52:29,904 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:52:29,912 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:52:29,921 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011411</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:52:29,931 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:52:29,931 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:52:30,064 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:52:30,065 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:52:30,068 INFO common.SaveMessage(69) - 3689_3_1014_in.xml IO输出耗时:0.0020s
15:52:30,068 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3689_3_1014_in.xml
15:52:30,068 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:52:30,069 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:52:30,072 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:52:32,467 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:52:32,488 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
15:52:32,489 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
15:52:32,490 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,801) and length=3118 bytes!
15:52:32,797 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
15:52:32,801 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_BillNo)" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

15:52:32,802 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
15:52:32,947 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:52:32,947 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:52:32,956 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:52:32,957 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:52:32,966 INFO common.Log4jPrint(20) - 进程名：3689
15:52:32,967 INFO common.Log4jPrint(20) - trancom:13
15:52:32,967 INFO common.Log4jPrint(20) - FuncFlag:1014
15:52:32,967 INFO common.Log4jPrint(20) - mHeadEle.getChildText3689_3_1014_in.xml
15:52:33,191 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:52:33,192 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3689,13,'110378300','108011rv11481267306011411','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3689_3_1014_in.xml',20161209,155232,20161209,155232 )
15:52:33,269 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
15:52:33,270 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
15:52:33,271 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:52:33,271 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:52:33,272 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:52:33,549 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
15:52:33,858 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
15:52:33,861 INFO common.SaveMessage(69) - 3689_6_1_inSvc.xml IO输出耗时:0.0030s
15:52:33,861 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3689_6_1_inSvc.xml
15:52:33,862 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:52:33,862 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:52:34,148 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:52:34,619 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
15:52:34,640 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
15:52:34,640 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
15:52:34,640 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
15:52:34,641 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
15:52:34,641 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
15:52:34,641 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:52:34,679 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
15:52:34,679 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQxMTwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY4OV8zXzEwMTRfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48QmFua0NvZGU+MDEwNDwvQmFua0NvZGU+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAyMDY2PC9Qcm9wb3NhbFBydE5vPjxQcmVtPjEwMDAwLjAwPC9QcmVtPjxPbGRUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NjYxOTAxMTM4ODwvT2xkVHJhbk5vPjxDb250Tm8gLz48Q29udFBydE5vPjwvQ29udFBydE5vPjxCa1BheU1vZGU+MDwvQmtQYXlNb2RlPjxCa0FjY3RObz40MzQwNjEwMDEyMTc1MzkxPC9Ca0FjY3RObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
15:52:34,680 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:52:34,680 DEBUG httpclient.Wire(84) - >> "0"
15:52:34,681 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:52:34,681 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:52:47,159 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:52:47,160 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
15:52:47,162 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
15:52:47,163 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
15:52:47,164 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
15:52:47,164 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 07:52:28 GMT[\r][\n]"
15:52:47,164 DEBUG httpclient.Wire(70) - << "[\r][\n]"
15:52:47,181 DEBUG httpclient.Wire(84) - << "2"
15:52:47,181 DEBUG httpclient.Wire(84) - << "0"
15:52:47,182 DEBUG httpclient.Wire(84) - << "7"
15:52:47,182 DEBUG httpclient.Wire(84) - << "[\r]"
15:52:47,183 DEBUG httpclient.Wire(70) - << "[\n]"
15:52:47,183 DEBUG httpclient.Wire(84) - << "<?xm"
15:52:47,191 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
15:52:47,202 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
15:52:47,210 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：13.347s
15:52:47,245 INFO common.SaveMessage(69) - 3689_9_1_outSvc.xml IO输出耗时:0.033s
15:52:47,245 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3689_9_1_outSvc.xml
15:52:47,245 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
15:52:47,247 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:52:47,616 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:52:47,617 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:52:47,617 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3689,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011411',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=14,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3689_3_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=155232,ModifyDate=20161209,ModifyTime=155247,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011411'
15:52:47,698 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
15:52:47,698 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
15:52:47,700 INFO common.Log4jPrint(20) - 使用的样式表：null
15:52:47,704 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
15:52:47,704 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
15:52:47,705 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
15:52:47,777 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
15:52:47,797 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

15:52:47,799 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
15:52:47,804 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
15:52:47,805 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
15:52:47,808 INFO common.SaveMessage(69) - 3689_12_1014_out.xml IO输出耗时:0.0020s
15:52:47,808 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3689_12_1014_out.xml
15:52:47,810 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2125</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209155232468</SYS_RECV_TIME><SYS_RESP_TIME>20161209155247804</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011411</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011411</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:52:47,810 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
15:52:47,812 INFO test.NewCCBTestUI(517) - 返回报文长度：2107
15:52:47,813 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：37.293s
15:52:48,110 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:52:48,111 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
15:52:48,366 INFO common.Log4jPrint(20) - i=0
15:52:48,366 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:52:48,367 INFO midplat.Ybt4Socket(170) - 处理总耗时：18.464s
15:52:48,367 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:53:56,705 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
15:53:56,714 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:53:56,719 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:53:56,719 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:53:56,721 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
15:53:56,722 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:53:56,723 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:53:56,726 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:51:22,472) and length=23947 bytes!
15:53:56,793 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:53:56,804 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:53:56,805 INFO common.Log4jPrint(20) - End reset System.out!
15:53:56,807 INFO net.SocketConf(27) - Into SocketConf.load()...
15:53:56,807 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:53:56,808 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
15:53:56,811 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:53:56,812 INFO net.SocketConf(60) - Out SocketConf.load()!
15:53:56,828 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
15:53:56,830 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:53:56,846 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
15:53:56,847 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
15:53:56,847 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:53:56,855 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
15:53:56,855 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:53:56,855 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
15:53:56,861 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
15:53:56,861 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
15:53:56,862 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:53:56,868 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
15:53:56,869 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
15:53:56,869 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
15:54:46,286 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
15:54:46,297 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:54:46,297 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:54:46,297 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
15:54:46,304 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
15:54:46,305 INFO test.NewCCBTestUI(503) - 收到返回报文！
15:54:46,306 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:54:46,328 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:54:46,329 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:54:46,332 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:54:46,337 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:54:47,313 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:54:47,510 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:54:47,776 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:54:47,800 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:54:47,802 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:54:47,804 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:54:47,809 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
15:54:47,817 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011412</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:54:47,826 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
15:54:47,826 INFO newNet.CcbNetImpl(58) - mTranCom==============13
15:54:47,955 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:54:47,955 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:54:47,958 INFO common.SaveMessage(69) - 3695_3_1014_in.xml IO输出耗时:0.0030s
15:54:47,958 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3695_3_1014_in.xml
15:54:47,959 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:54:47,960 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:54:47,962 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
15:54:49,866 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
15:54:49,890 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
15:54:49,891 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
15:54:49,892 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,801) and length=3118 bytes!
15:54:50,206 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
15:54:50,210 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_BillNo)" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

15:54:50,211 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
15:54:50,360 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
15:54:50,360 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
15:54:50,369 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
15:54:50,369 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
15:54:50,378 INFO common.Log4jPrint(20) - 进程名：3695
15:54:50,379 INFO common.Log4jPrint(20) - trancom:13
15:54:50,379 INFO common.Log4jPrint(20) - FuncFlag:1014
15:54:50,379 INFO common.Log4jPrint(20) - mHeadEle.getChildText3695_3_1014_in.xml
15:54:50,524 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:54:50,525 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3695,13,'110378300','108011rv11481267306011412','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3695_3_1014_in.xml',20161209,155450,20161209,155450 )
15:54:50,542 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
15:54:50,543 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
15:54:50,544 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:54:50,545 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:54:50,546 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
15:54:50,715 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
15:54:50,967 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
15:54:50,971 INFO common.SaveMessage(69) - 3695_6_1_inSvc.xml IO输出耗时:0.0030s
15:54:50,971 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3695_6_1_inSvc.xml
15:54:50,972 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:54:50,973 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
15:54:51,267 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:54:51,731 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
15:54:51,756 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
15:54:51,757 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
15:54:51,757 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
15:54:51,757 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
15:54:51,758 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
15:54:51,758 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:54:51,790 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
15:54:51,790 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQxMjwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzY5NV8zXzEwMTRfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48QmFua0NvZGU+MDEwNDwvQmFua0NvZGU+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAyMDY2PC9Qcm9wb3NhbFBydE5vPjxQcmVtPjEwMDAwLjAwPC9QcmVtPjxPbGRUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NjYxOTAxMTM4ODwvT2xkVHJhbk5vPjxDb250Tm8gLz48Q29udFBydE5vPjwvQ29udFBydE5vPjxCa1BheU1vZGU+MDwvQmtQYXlNb2RlPjxCa0FjY3RObz40MzQwNjEwMDEyMTc1MzkxPC9Ca0FjY3RObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
15:54:51,791 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:54:51,791 DEBUG httpclient.Wire(84) - >> "0"
15:54:51,792 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
15:54:51,792 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:04:46,498 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:04:46,500 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:04:46,539 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
16:04:46,541 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
16:04:46,542 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:04:46,543 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 08:04:27 GMT[\r][\n]"
16:04:46,544 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:04:46,579 DEBUG httpclient.Wire(84) - << "2"
16:04:46,580 DEBUG httpclient.Wire(84) - << "0"
16:04:46,580 DEBUG httpclient.Wire(84) - << "7"
16:04:46,581 DEBUG httpclient.Wire(84) - << "[\r]"
16:04:46,581 DEBUG httpclient.Wire(70) - << "[\n]"
16:04:46,582 DEBUG httpclient.Wire(84) - << "<?xm"
16:04:46,589 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
16:04:46,599 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:04:46,607 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：595.633s
16:04:46,610 INFO common.SaveMessage(69) - 3695_9_1_outSvc.xml IO输出耗时:0.0010s
16:04:46,610 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3695_9_1_outSvc.xml
16:04:46,611 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
16:04:46,613 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:04:46,744 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:04:46,745 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:04:46,746 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3695,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011412',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=596,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3695_3_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=155450,ModifyDate=20161209,ModifyTime=160446,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011412'
16:04:46,804 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:04:46,805 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:04:46,808 INFO common.Log4jPrint(20) - 使用的样式表：null
16:04:46,816 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:04:46,817 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:04:46,818 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:04:46,898 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:04:46,918 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:04:46,920 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:04:46,926 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:04:46,926 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:04:46,930 INFO common.SaveMessage(69) - 3695_12_1014_out.xml IO输出耗时:0.0020s
16:04:46,930 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3695_12_1014_out.xml
16:04:46,931 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2125</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209155449867</SYS_RECV_TIME><SYS_RESP_TIME>20161209160446925</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011412</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011412</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:04:46,932 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:04:46,934 INFO test.NewCCBTestUI(517) - 返回报文长度：2107
16:04:46,936 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：600.639s
16:04:46,976 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:04:46,977 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:04:47,014 INFO common.Log4jPrint(20) - i=0
16:04:47,014 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:04:47,015 INFO midplat.Ybt4Socket(170) - 处理总耗时：599.213s
16:04:47,015 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:04:56,878 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
16:04:56,889 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:04:56,889 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:04:56,890 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:04:56,890 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:04:56,898 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
16:04:56,899 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
16:04:56,899 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011412</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:04:56,899 INFO test.NewCCBTestUI(503) - 收到返回报文！
16:04:56,902 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:04:56,902 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:04:56,906 INFO common.SaveMessage(69) - 3701_15_1014_in.xml IO输出耗时:0.0020s
16:04:56,906 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3701_15_1014_in.xml
16:04:56,907 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:04:56,908 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:04:56,910 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:05:10,180 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:05:10,192 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:05:10,193 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:05:10,193 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:05:10,193 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:05:10,194 INFO common.Log4jPrint(20) - 进程名：3701
16:05:10,195 INFO common.Log4jPrint(20) - trancom:13
16:05:10,195 INFO common.Log4jPrint(20) - FuncFlag:1014
16:05:10,195 INFO common.Log4jPrint(20) - mHeadEle.getChildText3701_15_1014_in.xml
16:05:10,258 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:05:10,259 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3701,13,'110378300','108011rv11481267306011412','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3701_15_1014_in.xml',20161209,160510,20161209,160510 )
16:05:10,308 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
16:05:10,309 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:44)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:05:10,309 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:05:10,310 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:05:10,311 INFO common.Log4jPrint(20) - 使用的样式表：null
16:05:10,311 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:05:10,311 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:05:10,312 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:05:10,363 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:05:10,381 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:05:10,383 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:05:10,387 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:05:10,387 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:05:10,402 INFO common.SaveMessage(69) - 3701_18_1014_out.xml IO输出耗时:0.014s
16:05:10,403 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3701_18_1014_out.xml
16:05:10,403 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2070</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209160510181</SYS_RECV_TIME><SYS_RESP_TIME>20161209160510386</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011412</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011412</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:05:10,404 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:05:10,407 INFO test.NewCCBTestUI(517) - 返回报文长度：2070
16:05:10,408 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：13.518s
16:05:10,422 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
16:05:10,486 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:05:10,487 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:05:10,550 INFO common.Log4jPrint(20) - i=0
16:05:10,551 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:05:10,551 INFO midplat.Ybt4Socket(170) - 处理总耗时：13.661s
16:05:10,551 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:05:37,622 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
16:05:37,633 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:05:37,634 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:05:37,634 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:05:37,634 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:05:37,642 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
16:05:37,643 INFO test.NewCCBTestUI(503) - 收到返回报文！
16:05:37,644 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
16:05:37,644 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011414</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:05:37,647 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:05:37,647 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:05:37,651 INFO common.SaveMessage(69) - 3707_21_1014_in.xml IO输出耗时:0.0010s
16:05:37,651 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3707_21_1014_in.xml
16:05:37,652 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:05:37,653 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:05:37,655 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:05:39,253 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:05:39,262 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:05:39,262 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:05:39,263 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:05:39,263 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:05:39,263 INFO common.Log4jPrint(20) - 进程名：3707
16:05:39,263 INFO common.Log4jPrint(20) - trancom:13
16:05:39,264 INFO common.Log4jPrint(20) - FuncFlag:1014
16:05:39,265 INFO common.Log4jPrint(20) - mHeadEle.getChildText3707_21_1014_in.xml
16:05:39,315 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:05:39,316 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3707,13,'110378300','108011rv11481267306011414','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3707_21_1014_in.xml',20161209,160539,20161209,160539 )
16:05:39,330 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
16:05:39,330 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
16:05:39,331 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:05:39,331 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:05:39,331 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:05:39,416 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
16:05:39,508 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
16:05:39,509 INFO common.SaveMessage(69) - 3707_24_1_inSvc.xml IO输出耗时:0.0010s
16:05:39,509 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3707_24_1_inSvc.xml
16:05:39,509 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:05:39,510 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:05:39,532 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:05:39,533 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:05:39,533 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:05:39,534 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:05:39,534 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
16:05:39,534 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:05:39,535 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:05:39,536 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
16:05:39,536 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQxNDwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzcwN18yMV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjA2NjwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
16:05:39,537 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:05:39,537 DEBUG httpclient.Wire(84) - >> "0"
16:05:39,537 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:05:39,538 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:08:24,127 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:08:24,129 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:08:24,130 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
16:08:24,131 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
16:08:24,132 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:08:24,133 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 08:08:05 GMT[\r][\n]"
16:08:24,134 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:08:24,136 DEBUG httpclient.Wire(84) - << "2"
16:08:24,137 DEBUG httpclient.Wire(84) - << "0"
16:08:24,138 DEBUG httpclient.Wire(84) - << "7"
16:08:24,139 DEBUG httpclient.Wire(84) - << "[\r]"
16:08:24,140 DEBUG httpclient.Wire(70) - << "[\n]"
16:08:24,141 DEBUG httpclient.Wire(84) - << "<?xm"
16:08:24,143 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
16:08:24,145 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:08:24,147 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：164.637s
16:08:24,154 INFO common.SaveMessage(69) - 3707_27_1_outSvc.xml IO输出耗时:0.0020s
16:08:24,155 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3707_27_1_outSvc.xml
16:08:24,156 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
16:08:24,156 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:08:24,197 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:08:24,198 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:08:24,199 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3707,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011414',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=164,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3707_21_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=160539,ModifyDate=20161209,ModifyTime=160824,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011414'
16:08:24,216 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:08:24,217 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:08:24,219 INFO common.Log4jPrint(20) - 使用的样式表：null
16:08:24,220 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:08:24,221 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:08:24,222 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:08:24,292 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:08:24,307 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:08:24,309 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:08:24,312 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:08:24,312 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:08:24,342 INFO common.SaveMessage(69) - 3707_30_1014_out.xml IO输出耗时:0.028s
16:08:24,342 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3707_30_1014_out.xml
16:08:24,343 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2125</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209160539254</SYS_RECV_TIME><SYS_RESP_TIME>20161209160824312</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011414</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011414</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:08:24,343 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:08:24,345 INFO test.NewCCBTestUI(517) - 返回报文长度：2107
16:08:24,347 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：166.713s
16:08:24,393 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:08:24,393 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:08:24,432 INFO common.Log4jPrint(20) - i=0
16:08:24,433 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:08:24,434 INFO midplat.Ybt4Socket(170) - 处理总耗时：166.8s
16:08:24,434 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:08:43,037 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
16:08:43,048 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:08:43,049 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:08:43,050 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:08:43,050 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:08:43,056 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
16:08:43,057 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
16:08:43,057 INFO test.NewCCBTestUI(503) - 收到返回报文！
16:08:43,058 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011416</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:08:43,060 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:08:43,060 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:08:43,064 INFO common.SaveMessage(69) - 3713_33_1014_in.xml IO输出耗时:0.0020s
16:08:43,064 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3713_33_1014_in.xml
16:08:43,065 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:08:43,065 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:08:43,068 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:08:43,068 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:08:43,075 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:08:43,075 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:08:43,075 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:08:43,075 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:08:43,075 INFO common.Log4jPrint(20) - 进程名：3713
16:08:43,076 INFO common.Log4jPrint(20) - trancom:13
16:08:43,076 INFO common.Log4jPrint(20) - FuncFlag:1014
16:08:43,076 INFO common.Log4jPrint(20) - mHeadEle.getChildText3713_33_1014_in.xml
16:08:43,103 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:08:43,104 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3713,13,'110378300','108011rv11481267306011416','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3713_33_1014_in.xml',20161209,160843,20161209,160843 )
16:08:43,121 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
16:08:43,122 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
16:08:43,122 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:08:43,122 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:08:43,123 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:08:43,186 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
16:08:43,288 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
16:08:43,290 INFO common.SaveMessage(69) - 3713_36_1_inSvc.xml IO输出耗时:0.0010s
16:08:43,291 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3713_36_1_inSvc.xml
16:08:43,291 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:08:43,292 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:08:43,328 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:08:43,329 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:08:43,329 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:08:43,330 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:08:43,330 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
16:08:43,331 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:08:43,331 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:08:43,332 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
16:08:43,333 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQxNjwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzcxM18zM18xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjA2NjwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
16:08:43,333 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:08:43,333 DEBUG httpclient.Wire(84) - >> "0"
16:08:43,334 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:08:43,334 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:13:22,333 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:13:22,334 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:13:22,335 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
16:13:22,335 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
16:13:22,336 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:13:22,336 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 08:13:03 GMT[\r][\n]"
16:13:22,337 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:13:22,338 DEBUG httpclient.Wire(84) - << "2"
16:13:22,338 DEBUG httpclient.Wire(84) - << "0"
16:13:22,339 DEBUG httpclient.Wire(84) - << "7"
16:13:22,339 DEBUG httpclient.Wire(84) - << "[\r]"
16:13:22,340 DEBUG httpclient.Wire(70) - << "[\n]"
16:13:22,340 DEBUG httpclient.Wire(84) - << "<?xm"
16:13:22,352 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
16:13:22,354 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:13:22,356 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：279.064s
16:13:22,363 INFO common.SaveMessage(69) - 3713_39_1_outSvc.xml IO输出耗时:0.0010s
16:13:22,363 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3713_39_1_outSvc.xml
16:13:22,363 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
16:13:22,364 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:13:22,417 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:13:22,417 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:13:22,417 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3713,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011416',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=279,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3713_33_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=160843,ModifyDate=20161209,ModifyTime=161322,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011416'
16:13:22,442 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:13:22,442 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:13:22,443 INFO common.Log4jPrint(20) - 使用的样式表：null
16:13:22,443 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:13:22,443 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:13:22,444 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:13:22,478 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:13:22,494 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:13:22,496 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:13:22,500 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:13:22,500 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:13:22,536 INFO common.SaveMessage(69) - 3713_42_1014_out.xml IO输出耗时:0.035s
16:13:22,537 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3713_42_1014_out.xml
16:13:22,537 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2125</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209160843069</SYS_RECV_TIME><SYS_RESP_TIME>20161209161322499</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011416</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011416</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:13:22,538 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:13:22,540 INFO test.NewCCBTestUI(517) - 返回报文长度：2107
16:13:22,541 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：279.492s
16:13:22,574 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:13:22,574 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:13:22,605 INFO common.Log4jPrint(20) - i=0
16:13:22,606 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:13:22,606 INFO midplat.Ybt4Socket(170) - 处理总耗时：279.556s
16:13:22,606 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:20:09,999 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
16:20:10,010 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:20:10,011 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:20:10,012 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:20:10,012 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:20:10,019 INFO test.NewCCBTestUI(488) - 请求报文长度：1966
16:20:10,019 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
16:20:10,020 INFO test.NewCCBTestUI(503) - 收到返回报文！
16:20:10,020 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011418</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:20:10,025 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:20:10,025 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:20:10,029 INFO common.SaveMessage(69) - 3719_45_1014_in.xml IO输出耗时:0.0020s
16:20:10,029 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3719_45_1014_in.xml
16:20:10,030 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:20:10,030 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:20:10,032 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:20:10,032 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:20:10,038 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:20:10,038 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:20:10,038 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:20:10,039 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:20:10,039 INFO common.Log4jPrint(20) - 进程名：3719
16:20:10,039 INFO common.Log4jPrint(20) - trancom:13
16:20:10,039 INFO common.Log4jPrint(20) - FuncFlag:1014
16:20:10,040 INFO common.Log4jPrint(20) - mHeadEle.getChildText3719_45_1014_in.xml
16:20:10,102 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:20:10,103 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3719,13,'110378300','108011rv11481267306011418','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3719_45_1014_in.xml',20161209,162010,20161209,162010 )
16:20:10,118 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
16:20:10,118 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
16:20:10,120 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:20:10,120 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:20:10,121 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:20:10,190 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
16:20:10,260 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
16:20:10,265 INFO common.SaveMessage(69) - 3719_48_1_inSvc.xml IO输出耗时:0.0040s
16:20:10,266 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3719_48_1_inSvc.xml
16:20:10,267 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:20:10,268 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:20:10,314 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:20:10,314 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:20:10,314 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:20:10,315 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:20:10,315 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
16:20:10,315 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:20:10,316 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:20:10,317 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
16:20:10,317 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQxODwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzcxOV80NV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjA2NjwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
16:20:10,318 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:20:10,318 DEBUG httpclient.Wire(84) - >> "0"
16:20:10,318 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:20:10,318 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:24:04,359 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:24:04,359 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:24:04,359 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
16:24:04,360 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
16:24:04,360 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:24:04,360 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 08:23:45 GMT[\r][\n]"
16:24:04,360 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:24:04,361 DEBUG httpclient.Wire(84) - << "2"
16:24:04,361 DEBUG httpclient.Wire(84) - << "0"
16:24:04,361 DEBUG httpclient.Wire(84) - << "7"
16:24:04,361 DEBUG httpclient.Wire(84) - << "[\r]"
16:24:04,361 DEBUG httpclient.Wire(70) - << "[\n]"
16:24:04,362 DEBUG httpclient.Wire(84) - << "<?xm"
16:24:04,362 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
16:24:04,362 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjA2NtTdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:24:04,363 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：234.095s
16:24:04,366 INFO common.SaveMessage(69) - 3719_51_1_outSvc.xml IO输出耗时:0.0010s
16:24:04,366 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3719_51_1_outSvc.xml
16:24:04,366 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
16:24:04,366 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002066暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:24:04,436 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:24:04,436 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:24:04,437 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3719,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011418',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002066暂收费分类存在未到账保费,不能签单!',UsedTime=234,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3719_45_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=162010,ModifyDate=20161209,ModifyTime=162404,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011418'
16:24:04,452 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:24:04,452 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:24:04,452 INFO common.Log4jPrint(20) - 使用的样式表：null
16:24:04,453 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:24:04,453 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:24:04,453 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:24:04,485 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:24:04,500 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:24:04,502 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:24:04,506 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:24:04,506 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:24:04,522 INFO common.SaveMessage(69) - 3719_54_1014_out.xml IO输出耗时:0.015s
16:24:04,523 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3719_54_1014_out.xml
16:24:04,523 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2142</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209162010033</SYS_RECV_TIME><SYS_RESP_TIME>20161209162404505</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002066惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011418</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011418</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:24:04,524 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:24:04,526 INFO test.NewCCBTestUI(517) - 返回报文长度：2124
16:24:04,528 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：234.517s
16:24:04,728 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:24:04,728 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:24:05,062 INFO common.Log4jPrint(20) - i=0
16:24:05,063 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:24:05,063 INFO midplat.Ybt4Socket(170) - 处理总耗时：235.051s
16:24:05,064 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:43:39,289 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
16:43:47,258 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
16:43:47,267 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:43:47,271 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:43:47,272 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:43:47,274 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
16:43:47,275 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:43:47,275 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:43:47,279 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:51:22,472) and length=23947 bytes!
16:43:47,358 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:43:47,368 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:43:47,369 INFO common.Log4jPrint(20) - End reset System.out!
16:43:47,372 INFO net.SocketConf(27) - Into SocketConf.load()...
16:43:47,373 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:43:47,373 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
16:43:47,376 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:43:47,377 INFO net.SocketConf(60) - Out SocketConf.load()!
16:43:47,397 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
16:43:47,398 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:43:47,407 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
16:43:47,407 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
16:43:47,407 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:43:47,413 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
16:43:47,413 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
16:43:47,413 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:43:47,418 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
16:43:47,418 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
16:43:47,422 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:43:47,428 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
16:43:47,429 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
16:43:47,429 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
16:43:49,941 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
16:43:49,952 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:43:49,952 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:43:49,952 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
16:43:49,959 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
16:43:49,961 INFO test.NewCCBTestUI(505) - 收到返回报文！
16:43:49,961 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:43:49,983 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:43:49,984 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:43:49,986 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:43:49,992 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:45:08,718 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:45:08,831 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:45:09,004 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:45:09,018 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:45:09,020 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:45:09,021 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:45:09,029 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
16:45:09,044 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011420</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:45:09,051 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:45:09,051 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:45:09,181 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:45:09,182 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:45:09,185 INFO common.SaveMessage(69) - 3725_3_1014_in.xml IO输出耗时:0.0020s
16:45:09,185 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3725_3_1014_in.xml
16:45:09,186 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:45:09,186 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:45:09,188 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:45:09,194 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:45:09,201 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
16:45:09,201 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
16:45:09,202 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,801) and length=3118 bytes!
16:45:09,486 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
16:45:09,490 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_BillNo)" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

16:45:09,490 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
16:45:09,634 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:45:09,634 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:45:09,639 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:45:09,639 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:45:09,648 INFO common.Log4jPrint(20) - 进程名：3725
16:45:09,649 INFO common.Log4jPrint(20) - trancom:13
16:45:09,649 INFO common.Log4jPrint(20) - FuncFlag:1014
16:45:09,649 INFO common.Log4jPrint(20) - mHeadEle.getChildText3725_3_1014_in.xml
16:45:09,935 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:45:09,937 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3725,13,'110378300','108011rv11481267306011420','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3725_3_1014_in.xml',20161209,164509,20161209,164509 )
16:45:09,952 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
16:45:09,952 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
16:45:09,953 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:45:09,953 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:45:09,954 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:45:10,394 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
16:45:10,601 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
16:45:10,604 INFO common.SaveMessage(69) - 3725_6_1_inSvc.xml IO输出耗时:0.0020s
16:45:10,604 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3725_6_1_inSvc.xml
16:45:10,605 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:45:10,605 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:45:10,870 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
16:45:11,358 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:45:11,379 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:45:11,379 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:45:11,379 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:45:11,380 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
16:45:11,380 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:45:11,380 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:45:11,411 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
16:45:11,412 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyMDwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzcyNV8zXzEwMTRfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48QmFua0NvZGU+MDEwNDwvQmFua0NvZGU+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAyMDY2PC9Qcm9wb3NhbFBydE5vPjxQcmVtPjEwMDAwLjAwPC9QcmVtPjxPbGRUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NjYxOTAxMTM4ODwvT2xkVHJhbk5vPjxDb250Tm8gLz48Q29udFBydE5vPjwvQ29udFBydE5vPjxCa1BheU1vZGU+MDwvQmtQYXlNb2RlPjxCa0FjY3RObz40MzQwNjEwMDEyMTc1MzkxPC9Ca0FjY3RObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
16:45:11,412 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:45:11,412 DEBUG httpclient.Wire(84) - >> "0"
16:45:11,412 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:45:11,413 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:49:25,733 DEBUG httpclient.Wire(70) - << "HTTP/1.1 500 Internal Server Error[\r][\n]"
16:49:25,735 DEBUG httpclient.Wire(70) - << "HTTP/1.1 500 Internal Server Error[\r][\n]"
16:49:25,765 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
16:49:25,766 DEBUG httpclient.Wire(70) - << "Content-Type: text/html;charset=utf-8[\r][\n]"
16:49:25,767 DEBUG httpclient.Wire(70) - << "Content-Length: 1811[\r][\n]"
16:49:25,767 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 08:49:06 GMT[\r][\n]"
16:49:25,768 DEBUG httpclient.Wire(70) - << "Connection: close[\r][\n]"
16:49:25,768 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:49:25,817 DEBUG httpclient.Wire(84) - << "<html><head><title>Apache Tomcat/6.0.33 - Error report</title><s"
16:49:25,822 DEBUG httpclient.Wire(84) - << "t"
16:49:25,823 DEBUG httpclient.Wire(84) - << "y"
16:49:25,823 DEBUG httpclient.Wire(84) - << "l"
16:49:25,823 DEBUG httpclient.Wire(84) - << "e"
16:49:25,823 DEBUG httpclient.Wire(84) - << ">"
16:49:25,824 DEBUG httpclient.Wire(84) - << "<"
16:49:25,824 DEBUG httpclient.Wire(84) - << "!"
16:49:25,824 DEBUG httpclient.Wire(84) - << "-"
16:49:25,825 DEBUG httpclient.Wire(84) - << "-"
16:49:25,825 DEBUG httpclient.Wire(84) - << "H"
16:49:25,825 DEBUG httpclient.Wire(84) - << "1"
16:49:25,826 DEBUG httpclient.Wire(84) - << " "
16:49:25,826 DEBUG httpclient.Wire(84) - << "{"
16:49:25,826 DEBUG httpclient.Wire(84) - << "f"
16:49:25,827 DEBUG httpclient.Wire(84) - << "o"
16:49:25,827 DEBUG httpclient.Wire(84) - << "n"
16:49:25,827 DEBUG httpclient.Wire(84) - << "t"
16:49:25,827 DEBUG httpclient.Wire(84) - << "-"
16:49:25,828 DEBUG httpclient.Wire(84) - << "f"
16:49:25,828 DEBUG httpclient.Wire(84) - << "a"
16:49:25,828 DEBUG httpclient.Wire(84) - << "m"
16:49:25,829 DEBUG httpclient.Wire(84) - << "i"
16:49:25,829 DEBUG httpclient.Wire(84) - << "l"
16:49:25,829 DEBUG httpclient.Wire(84) - << "y"
16:49:25,829 DEBUG httpclient.Wire(84) - << ":"
16:49:25,830 DEBUG httpclient.Wire(84) - << "T"
16:49:25,830 DEBUG httpclient.Wire(84) - << "a"
16:49:25,830 DEBUG httpclient.Wire(84) - << "h"
16:49:25,831 DEBUG httpclient.Wire(84) - << "o"
16:49:25,831 DEBUG httpclient.Wire(84) - << "m"
16:49:25,831 DEBUG httpclient.Wire(84) - << "a"
16:49:25,831 DEBUG httpclient.Wire(84) - << ","
16:49:25,832 DEBUG httpclient.Wire(84) - << "A"
16:49:25,832 DEBUG httpclient.Wire(84) - << "r"
16:49:25,832 DEBUG httpclient.Wire(84) - << "i"
16:49:25,833 DEBUG httpclient.Wire(84) - << "a"
16:49:25,833 DEBUG httpclient.Wire(84) - << "l"
16:49:25,833 DEBUG httpclient.Wire(84) - << ","
16:49:25,833 DEBUG httpclient.Wire(84) - << "s"
16:49:25,834 DEBUG httpclient.Wire(84) - << "a"
16:49:25,834 DEBUG httpclient.Wire(84) - << "n"
16:49:25,834 DEBUG httpclient.Wire(84) - << "s"
16:49:25,835 DEBUG httpclient.Wire(84) - << "-"
16:49:25,835 DEBUG httpclient.Wire(84) - << "s"
16:49:25,835 DEBUG httpclient.Wire(84) - << "e"
16:49:25,835 DEBUG httpclient.Wire(84) - << "r"
16:49:25,836 DEBUG httpclient.Wire(84) - << "i"
16:49:25,836 DEBUG httpclient.Wire(84) - << "f"
16:49:25,836 DEBUG httpclient.Wire(84) - << ";"
16:49:25,836 DEBUG httpclient.Wire(84) - << "c"
16:49:25,837 DEBUG httpclient.Wire(84) - << "o"
16:49:25,837 DEBUG httpclient.Wire(84) - << "l"
16:49:25,837 DEBUG httpclient.Wire(84) - << "o"
16:49:25,837 DEBUG httpclient.Wire(84) - << "r"
16:49:25,838 DEBUG httpclient.Wire(84) - << ":"
16:49:25,838 DEBUG httpclient.Wire(84) - << "w"
16:49:25,838 DEBUG httpclient.Wire(84) - << "h"
16:49:25,838 DEBUG httpclient.Wire(84) - << "i"
16:49:25,839 DEBUG httpclient.Wire(84) - << "t"
16:49:25,839 DEBUG httpclient.Wire(84) - << "e"
16:49:25,839 DEBUG httpclient.Wire(84) - << ";"
16:49:25,839 DEBUG httpclient.Wire(84) - << "b"
16:49:25,840 DEBUG httpclient.Wire(84) - << "a"
16:49:25,840 DEBUG httpclient.Wire(84) - << "c"
16:49:25,840 DEBUG httpclient.Wire(84) - << "k"
16:49:25,840 DEBUG httpclient.Wire(84) - << "g"
16:49:25,841 DEBUG httpclient.Wire(84) - << "r"
16:49:25,841 DEBUG httpclient.Wire(84) - << "o"
16:49:25,841 DEBUG httpclient.Wire(84) - << "u"
16:49:25,841 DEBUG httpclient.Wire(84) - << "n"
16:49:25,842 DEBUG httpclient.Wire(84) - << "d"
16:49:25,842 DEBUG httpclient.Wire(84) - << "-"
16:49:25,842 DEBUG httpclient.Wire(84) - << "c"
16:49:25,842 DEBUG httpclient.Wire(84) - << "o"
16:49:25,843 DEBUG httpclient.Wire(84) - << "l"
16:49:25,843 DEBUG httpclient.Wire(84) - << "o"
16:49:25,843 DEBUG httpclient.Wire(84) - << "r"
16:49:25,843 DEBUG httpclient.Wire(84) - << ":"
16:49:25,844 DEBUG httpclient.Wire(84) - << "#"
16:49:25,844 DEBUG httpclient.Wire(84) - << "5"
16:49:25,844 DEBUG httpclient.Wire(84) - << "2"
16:49:25,844 DEBUG httpclient.Wire(84) - << "5"
16:49:25,845 DEBUG httpclient.Wire(84) - << "D"
16:49:25,845 DEBUG httpclient.Wire(84) - << "7"
16:49:25,845 DEBUG httpclient.Wire(84) - << "6"
16:49:25,845 DEBUG httpclient.Wire(84) - << ";"
16:49:25,846 DEBUG httpclient.Wire(84) - << "f"
16:49:25,846 DEBUG httpclient.Wire(84) - << "o"
16:49:25,846 DEBUG httpclient.Wire(84) - << "n"
16:49:25,846 DEBUG httpclient.Wire(84) - << "t"
16:49:25,847 DEBUG httpclient.Wire(84) - << "-"
16:49:25,847 DEBUG httpclient.Wire(84) - << "s"
16:49:25,847 DEBUG httpclient.Wire(84) - << "i"
16:49:25,847 DEBUG httpclient.Wire(84) - << "z"
16:49:25,848 DEBUG httpclient.Wire(84) - << "e"
16:49:25,848 DEBUG httpclient.Wire(84) - << ":"
16:49:25,848 DEBUG httpclient.Wire(84) - << "2"
16:49:25,848 DEBUG httpclient.Wire(84) - << "2"
16:49:25,849 DEBUG httpclient.Wire(84) - << "p"
16:49:25,849 DEBUG httpclient.Wire(84) - << "x"
16:49:25,849 DEBUG httpclient.Wire(84) - << ";"
16:49:25,849 DEBUG httpclient.Wire(84) - << "}"
16:49:25,850 DEBUG httpclient.Wire(84) - << " "
16:49:25,850 DEBUG httpclient.Wire(84) - << "H"
16:49:25,850 DEBUG httpclient.Wire(84) - << "2"
16:49:25,850 DEBUG httpclient.Wire(84) - << " "
16:49:25,851 DEBUG httpclient.Wire(84) - << "{"
16:49:25,851 DEBUG httpclient.Wire(84) - << "f"
16:49:25,851 DEBUG httpclient.Wire(84) - << "o"
16:49:25,851 DEBUG httpclient.Wire(84) - << "n"
16:49:25,852 DEBUG httpclient.Wire(84) - << "t"
16:49:25,852 DEBUG httpclient.Wire(84) - << "-"
16:49:25,852 DEBUG httpclient.Wire(84) - << "f"
16:49:25,852 DEBUG httpclient.Wire(84) - << "a"
16:49:25,853 DEBUG httpclient.Wire(84) - << "m"
16:49:25,853 DEBUG httpclient.Wire(84) - << "i"
16:49:25,853 DEBUG httpclient.Wire(84) - << "l"
16:49:25,853 DEBUG httpclient.Wire(84) - << "y"
16:49:25,854 DEBUG httpclient.Wire(84) - << ":"
16:49:25,854 DEBUG httpclient.Wire(84) - << "T"
16:49:25,854 DEBUG httpclient.Wire(84) - << "a"
16:49:25,855 DEBUG httpclient.Wire(84) - << "h"
16:49:25,855 DEBUG httpclient.Wire(84) - << "o"
16:49:25,855 DEBUG httpclient.Wire(84) - << "m"
16:49:25,855 DEBUG httpclient.Wire(84) - << "a"
16:49:25,855 DEBUG httpclient.Wire(84) - << ","
16:49:25,856 DEBUG httpclient.Wire(84) - << "A"
16:49:25,856 DEBUG httpclient.Wire(84) - << "r"
16:49:25,856 DEBUG httpclient.Wire(84) - << "i"
16:49:25,857 DEBUG httpclient.Wire(84) - << "a"
16:49:25,857 DEBUG httpclient.Wire(84) - << "l"
16:49:25,857 DEBUG httpclient.Wire(84) - << ","
16:49:25,857 DEBUG httpclient.Wire(84) - << "s"
16:49:25,857 DEBUG httpclient.Wire(84) - << "a"
16:49:25,858 DEBUG httpclient.Wire(84) - << "n"
16:49:25,858 DEBUG httpclient.Wire(84) - << "s"
16:49:25,858 DEBUG httpclient.Wire(84) - << "-"
16:49:25,858 DEBUG httpclient.Wire(84) - << "s"
16:49:25,859 DEBUG httpclient.Wire(84) - << "e"
16:49:25,859 DEBUG httpclient.Wire(84) - << "r"
16:49:25,859 DEBUG httpclient.Wire(84) - << "i"
16:49:25,859 DEBUG httpclient.Wire(84) - << "f"
16:49:25,860 DEBUG httpclient.Wire(84) - << ";"
16:49:25,860 DEBUG httpclient.Wire(84) - << "c"
16:49:25,860 DEBUG httpclient.Wire(84) - << "o"
16:49:25,860 DEBUG httpclient.Wire(84) - << "l"
16:49:25,861 DEBUG httpclient.Wire(84) - << "o"
16:49:25,861 DEBUG httpclient.Wire(84) - << "r"
16:49:25,861 DEBUG httpclient.Wire(84) - << ":"
16:49:25,861 DEBUG httpclient.Wire(84) - << "w"
16:49:25,862 DEBUG httpclient.Wire(84) - << "h"
16:49:25,862 DEBUG httpclient.Wire(84) - << "i"
16:49:25,862 DEBUG httpclient.Wire(84) - << "t"
16:49:25,862 DEBUG httpclient.Wire(84) - << "e"
16:49:25,862 DEBUG httpclient.Wire(84) - << ";"
16:49:25,863 DEBUG httpclient.Wire(84) - << "b"
16:49:25,863 DEBUG httpclient.Wire(84) - << "a"
16:49:25,863 DEBUG httpclient.Wire(84) - << "c"
16:49:25,863 DEBUG httpclient.Wire(84) - << "k"
16:49:25,864 DEBUG httpclient.Wire(84) - << "g"
16:49:25,864 DEBUG httpclient.Wire(84) - << "r"
16:49:25,864 DEBUG httpclient.Wire(84) - << "o"
16:49:25,864 DEBUG httpclient.Wire(84) - << "u"
16:49:25,865 DEBUG httpclient.Wire(84) - << "n"
16:49:25,865 DEBUG httpclient.Wire(84) - << "d"
16:49:25,865 DEBUG httpclient.Wire(84) - << "-"
16:49:25,865 DEBUG httpclient.Wire(84) - << "c"
16:49:25,866 DEBUG httpclient.Wire(84) - << "o"
16:49:25,866 DEBUG httpclient.Wire(84) - << "l"
16:49:25,866 DEBUG httpclient.Wire(84) - << "o"
16:49:25,866 DEBUG httpclient.Wire(84) - << "r"
16:49:25,867 DEBUG httpclient.Wire(84) - << ":"
16:49:25,867 DEBUG httpclient.Wire(84) - << "#"
16:49:25,867 DEBUG httpclient.Wire(84) - << "5"
16:49:25,867 DEBUG httpclient.Wire(84) - << "2"
16:49:25,867 DEBUG httpclient.Wire(84) - << "5"
16:49:25,868 DEBUG httpclient.Wire(84) - << "D"
16:49:25,868 DEBUG httpclient.Wire(84) - << "7"
16:49:25,868 DEBUG httpclient.Wire(84) - << "6"
16:49:25,869 DEBUG httpclient.Wire(84) - << ";"
16:49:25,869 DEBUG httpclient.Wire(84) - << "f"
16:49:25,869 DEBUG httpclient.Wire(84) - << "o"
16:49:25,870 DEBUG httpclient.Wire(84) - << "n"
16:49:25,870 DEBUG httpclient.Wire(84) - << "t"
16:49:25,870 DEBUG httpclient.Wire(84) - << "-"
16:49:25,870 DEBUG httpclient.Wire(84) - << "s"
16:49:25,871 DEBUG httpclient.Wire(84) - << "i"
16:49:25,871 DEBUG httpclient.Wire(84) - << "z"
16:49:25,871 DEBUG httpclient.Wire(84) - << "e"
16:49:25,871 DEBUG httpclient.Wire(84) - << ":"
16:49:25,872 DEBUG httpclient.Wire(84) - << "1"
16:49:25,872 DEBUG httpclient.Wire(84) - << "6"
16:49:25,872 DEBUG httpclient.Wire(84) - << "p"
16:49:25,872 DEBUG httpclient.Wire(84) - << "x"
16:49:25,873 DEBUG httpclient.Wire(84) - << ";"
16:49:25,873 DEBUG httpclient.Wire(84) - << "}"
16:49:25,873 DEBUG httpclient.Wire(84) - << " "
16:49:25,873 DEBUG httpclient.Wire(84) - << "H"
16:49:25,874 DEBUG httpclient.Wire(84) - << "3"
16:49:25,874 DEBUG httpclient.Wire(84) - << " "
16:49:25,874 DEBUG httpclient.Wire(84) - << "{"
16:49:25,874 DEBUG httpclient.Wire(84) - << "f"
16:49:25,875 DEBUG httpclient.Wire(84) - << "o"
16:49:25,875 DEBUG httpclient.Wire(84) - << "n"
16:49:25,875 DEBUG httpclient.Wire(84) - << "t"
16:49:25,875 DEBUG httpclient.Wire(84) - << "-"
16:49:25,876 DEBUG httpclient.Wire(84) - << "f"
16:49:25,876 DEBUG httpclient.Wire(84) - << "a"
16:49:25,876 DEBUG httpclient.Wire(84) - << "m"
16:49:25,879 DEBUG httpclient.Wire(84) - << "i"
16:49:25,879 DEBUG httpclient.Wire(84) - << "l"
16:49:25,879 DEBUG httpclient.Wire(84) - << "y"
16:49:25,879 DEBUG httpclient.Wire(84) - << ":"
16:49:25,880 DEBUG httpclient.Wire(84) - << "T"
16:49:25,880 DEBUG httpclient.Wire(84) - << "a"
16:49:25,880 DEBUG httpclient.Wire(84) - << "h"
16:49:25,880 DEBUG httpclient.Wire(84) - << "o"
16:49:25,880 DEBUG httpclient.Wire(84) - << "m"
16:49:25,886 DEBUG httpclient.Wire(84) - << "a"
16:49:25,886 DEBUG httpclient.Wire(84) - << ","
16:49:25,886 DEBUG httpclient.Wire(84) - << "A"
16:49:25,887 DEBUG httpclient.Wire(84) - << "r"
16:49:25,887 DEBUG httpclient.Wire(84) - << "i"
16:49:25,888 DEBUG httpclient.Wire(84) - << "a"
16:49:25,888 DEBUG httpclient.Wire(84) - << "l"
16:49:25,888 DEBUG httpclient.Wire(84) - << ","
16:49:25,889 DEBUG httpclient.Wire(84) - << "s"
16:49:25,889 DEBUG httpclient.Wire(84) - << "a"
16:49:25,889 DEBUG httpclient.Wire(84) - << "n"
16:49:25,889 DEBUG httpclient.Wire(84) - << "s"
16:49:25,889 DEBUG httpclient.Wire(84) - << "-"
16:49:25,890 DEBUG httpclient.Wire(84) - << "s"
16:49:25,890 DEBUG httpclient.Wire(84) - << "e"
16:49:25,890 DEBUG httpclient.Wire(84) - << "r"
16:49:25,890 DEBUG httpclient.Wire(84) - << "i"
16:49:25,891 DEBUG httpclient.Wire(84) - << "f"
16:49:25,891 DEBUG httpclient.Wire(84) - << ";"
16:49:25,891 DEBUG httpclient.Wire(84) - << "c"
16:49:25,891 DEBUG httpclient.Wire(84) - << "o"
16:49:25,892 DEBUG httpclient.Wire(84) - << "l"
16:49:25,893 DEBUG httpclient.Wire(84) - << "o"
16:49:25,894 DEBUG httpclient.Wire(84) - << "r"
16:49:25,894 DEBUG httpclient.Wire(84) - << ":"
16:49:25,895 DEBUG httpclient.Wire(84) - << "w"
16:49:25,895 DEBUG httpclient.Wire(84) - << "h"
16:49:25,895 DEBUG httpclient.Wire(84) - << "i"
16:49:25,895 DEBUG httpclient.Wire(84) - << "t"
16:49:25,896 DEBUG httpclient.Wire(84) - << "e"
16:49:25,896 DEBUG httpclient.Wire(84) - << ";"
16:49:25,896 DEBUG httpclient.Wire(84) - << "b"
16:49:25,896 DEBUG httpclient.Wire(84) - << "a"
16:49:25,896 DEBUG httpclient.Wire(84) - << "c"
16:49:25,897 DEBUG httpclient.Wire(84) - << "k"
16:49:25,897 DEBUG httpclient.Wire(84) - << "g"
16:49:25,897 DEBUG httpclient.Wire(84) - << "r"
16:49:25,897 DEBUG httpclient.Wire(84) - << "o"
16:49:25,898 DEBUG httpclient.Wire(84) - << "u"
16:49:25,898 DEBUG httpclient.Wire(84) - << "n"
16:49:25,898 DEBUG httpclient.Wire(84) - << "d"
16:49:25,898 DEBUG httpclient.Wire(84) - << "-"
16:49:25,898 DEBUG httpclient.Wire(84) - << "c"
16:49:25,899 DEBUG httpclient.Wire(84) - << "o"
16:49:25,899 DEBUG httpclient.Wire(84) - << "l"
16:49:25,899 DEBUG httpclient.Wire(84) - << "o"
16:49:25,899 DEBUG httpclient.Wire(84) - << "r"
16:49:25,899 DEBUG httpclient.Wire(84) - << ":"
16:49:25,900 DEBUG httpclient.Wire(84) - << "#"
16:49:25,900 DEBUG httpclient.Wire(84) - << "5"
16:49:25,900 DEBUG httpclient.Wire(84) - << "2"
16:49:25,901 DEBUG httpclient.Wire(84) - << "5"
16:49:25,901 DEBUG httpclient.Wire(84) - << "D"
16:49:25,901 DEBUG httpclient.Wire(84) - << "7"
16:49:25,901 DEBUG httpclient.Wire(84) - << "6"
16:49:25,902 DEBUG httpclient.Wire(84) - << ";"
16:49:25,902 DEBUG httpclient.Wire(84) - << "f"
16:49:25,902 DEBUG httpclient.Wire(84) - << "o"
16:49:25,902 DEBUG httpclient.Wire(84) - << "n"
16:49:25,902 DEBUG httpclient.Wire(84) - << "t"
16:49:25,903 DEBUG httpclient.Wire(84) - << "-"
16:49:25,903 DEBUG httpclient.Wire(84) - << "s"
16:49:25,903 DEBUG httpclient.Wire(84) - << "i"
16:49:25,903 DEBUG httpclient.Wire(84) - << "z"
16:49:25,903 DEBUG httpclient.Wire(84) - << "e"
16:49:25,904 DEBUG httpclient.Wire(84) - << ":"
16:49:25,904 DEBUG httpclient.Wire(84) - << "1"
16:49:25,904 DEBUG httpclient.Wire(84) - << "4"
16:49:25,904 DEBUG httpclient.Wire(84) - << "p"
16:49:25,904 DEBUG httpclient.Wire(84) - << "x"
16:49:25,905 DEBUG httpclient.Wire(84) - << ";"
16:49:25,905 DEBUG httpclient.Wire(84) - << "}"
16:49:25,905 DEBUG httpclient.Wire(84) - << " "
16:49:25,905 DEBUG httpclient.Wire(84) - << "B"
16:49:25,906 DEBUG httpclient.Wire(84) - << "O"
16:49:25,906 DEBUG httpclient.Wire(84) - << "D"
16:49:25,906 DEBUG httpclient.Wire(84) - << "Y"
16:49:25,906 DEBUG httpclient.Wire(84) - << " "
16:49:25,906 DEBUG httpclient.Wire(84) - << "{"
16:49:25,906 DEBUG httpclient.Wire(84) - << "f"
16:49:25,907 DEBUG httpclient.Wire(84) - << "o"
16:49:25,907 DEBUG httpclient.Wire(84) - << "n"
16:49:25,907 DEBUG httpclient.Wire(84) - << "t"
16:49:25,907 DEBUG httpclient.Wire(84) - << "-"
16:49:25,908 DEBUG httpclient.Wire(84) - << "f"
16:49:25,908 DEBUG httpclient.Wire(84) - << "a"
16:49:25,908 DEBUG httpclient.Wire(84) - << "m"
16:49:25,908 DEBUG httpclient.Wire(84) - << "i"
16:49:25,908 DEBUG httpclient.Wire(84) - << "l"
16:49:25,909 DEBUG httpclient.Wire(84) - << "y"
16:49:25,909 DEBUG httpclient.Wire(84) - << ":"
16:49:25,909 DEBUG httpclient.Wire(84) - << "T"
16:49:25,909 DEBUG httpclient.Wire(84) - << "a"
16:49:25,910 DEBUG httpclient.Wire(84) - << "h"
16:49:25,910 DEBUG httpclient.Wire(84) - << "o"
16:49:25,910 DEBUG httpclient.Wire(84) - << "m"
16:49:25,910 DEBUG httpclient.Wire(84) - << "a"
16:49:25,910 DEBUG httpclient.Wire(84) - << ","
16:49:25,911 DEBUG httpclient.Wire(84) - << "A"
16:49:25,911 DEBUG httpclient.Wire(84) - << "r"
16:49:25,911 DEBUG httpclient.Wire(84) - << "i"
16:49:25,911 DEBUG httpclient.Wire(84) - << "a"
16:49:25,911 DEBUG httpclient.Wire(84) - << "l"
16:49:25,911 DEBUG httpclient.Wire(84) - << ","
16:49:25,912 DEBUG httpclient.Wire(84) - << "s"
16:49:25,912 DEBUG httpclient.Wire(84) - << "a"
16:49:25,912 DEBUG httpclient.Wire(84) - << "n"
16:49:25,912 DEBUG httpclient.Wire(84) - << "s"
16:49:25,912 DEBUG httpclient.Wire(84) - << "-"
16:49:25,913 DEBUG httpclient.Wire(84) - << "s"
16:49:25,913 DEBUG httpclient.Wire(84) - << "e"
16:49:25,913 DEBUG httpclient.Wire(84) - << "r"
16:49:25,913 DEBUG httpclient.Wire(84) - << "i"
16:49:25,913 DEBUG httpclient.Wire(84) - << "f"
16:49:25,914 DEBUG httpclient.Wire(84) - << ";"
16:49:25,914 DEBUG httpclient.Wire(84) - << "c"
16:49:25,914 DEBUG httpclient.Wire(84) - << "o"
16:49:25,914 DEBUG httpclient.Wire(84) - << "l"
16:49:25,914 DEBUG httpclient.Wire(84) - << "o"
16:49:25,915 DEBUG httpclient.Wire(84) - << "r"
16:49:25,915 DEBUG httpclient.Wire(84) - << ":"
16:49:25,915 DEBUG httpclient.Wire(84) - << "b"
16:49:25,915 DEBUG httpclient.Wire(84) - << "l"
16:49:25,915 DEBUG httpclient.Wire(84) - << "a"
16:49:25,916 DEBUG httpclient.Wire(84) - << "c"
16:49:25,916 DEBUG httpclient.Wire(84) - << "k"
16:49:25,916 DEBUG httpclient.Wire(84) - << ";"
16:49:25,916 DEBUG httpclient.Wire(84) - << "b"
16:49:25,916 DEBUG httpclient.Wire(84) - << "a"
16:49:25,917 DEBUG httpclient.Wire(84) - << "c"
16:49:25,917 DEBUG httpclient.Wire(84) - << "k"
16:49:25,917 DEBUG httpclient.Wire(84) - << "g"
16:49:25,918 DEBUG httpclient.Wire(84) - << "r"
16:49:25,918 DEBUG httpclient.Wire(84) - << "o"
16:49:25,918 DEBUG httpclient.Wire(84) - << "u"
16:49:25,918 DEBUG httpclient.Wire(84) - << "n"
16:49:25,919 DEBUG httpclient.Wire(84) - << "d"
16:49:25,919 DEBUG httpclient.Wire(84) - << "-"
16:49:25,919 DEBUG httpclient.Wire(84) - << "c"
16:49:25,919 DEBUG httpclient.Wire(84) - << "o"
16:49:25,919 DEBUG httpclient.Wire(84) - << "l"
16:49:25,920 DEBUG httpclient.Wire(84) - << "o"
16:49:25,920 DEBUG httpclient.Wire(84) - << "r"
16:49:25,920 DEBUG httpclient.Wire(84) - << ":"
16:49:25,920 DEBUG httpclient.Wire(84) - << "w"
16:49:25,920 DEBUG httpclient.Wire(84) - << "h"
16:49:25,921 DEBUG httpclient.Wire(84) - << "i"
16:49:25,921 DEBUG httpclient.Wire(84) - << "t"
16:49:25,921 DEBUG httpclient.Wire(84) - << "e"
16:49:25,921 DEBUG httpclient.Wire(84) - << ";"
16:49:25,921 DEBUG httpclient.Wire(84) - << "}"
16:49:25,922 DEBUG httpclient.Wire(84) - << " "
16:49:25,922 DEBUG httpclient.Wire(84) - << "B"
16:49:25,922 DEBUG httpclient.Wire(84) - << " "
16:49:25,922 DEBUG httpclient.Wire(84) - << "{"
16:49:25,922 DEBUG httpclient.Wire(84) - << "f"
16:49:25,922 DEBUG httpclient.Wire(84) - << "o"
16:49:25,923 DEBUG httpclient.Wire(84) - << "n"
16:49:25,923 DEBUG httpclient.Wire(84) - << "t"
16:49:25,923 DEBUG httpclient.Wire(84) - << "-"
16:49:25,923 DEBUG httpclient.Wire(84) - << "f"
16:49:25,923 DEBUG httpclient.Wire(84) - << "a"
16:49:25,924 DEBUG httpclient.Wire(84) - << "m"
16:49:25,924 DEBUG httpclient.Wire(84) - << "i"
16:49:25,924 DEBUG httpclient.Wire(84) - << "l"
16:49:25,924 DEBUG httpclient.Wire(84) - << "y"
16:49:25,924 DEBUG httpclient.Wire(84) - << ":"
16:49:25,924 DEBUG httpclient.Wire(84) - << "T"
16:49:25,925 DEBUG httpclient.Wire(84) - << "a"
16:49:25,925 DEBUG httpclient.Wire(84) - << "h"
16:49:25,925 DEBUG httpclient.Wire(84) - << "o"
16:49:25,925 DEBUG httpclient.Wire(84) - << "m"
16:49:25,925 DEBUG httpclient.Wire(84) - << "a"
16:49:25,926 DEBUG httpclient.Wire(84) - << ","
16:49:25,926 DEBUG httpclient.Wire(84) - << "A"
16:49:25,926 DEBUG httpclient.Wire(84) - << "r"
16:49:25,926 DEBUG httpclient.Wire(84) - << "i"
16:49:25,926 DEBUG httpclient.Wire(84) - << "a"
16:49:25,927 DEBUG httpclient.Wire(84) - << "l"
16:49:25,927 DEBUG httpclient.Wire(84) - << ","
16:49:25,927 DEBUG httpclient.Wire(84) - << "s"
16:49:25,927 DEBUG httpclient.Wire(84) - << "a"
16:49:25,927 DEBUG httpclient.Wire(84) - << "n"
16:49:25,927 DEBUG httpclient.Wire(84) - << "s"
16:49:25,928 DEBUG httpclient.Wire(84) - << "-"
16:49:25,928 DEBUG httpclient.Wire(84) - << "s"
16:49:25,928 DEBUG httpclient.Wire(84) - << "e"
16:49:25,929 DEBUG httpclient.Wire(84) - << "r"
16:49:25,929 DEBUG httpclient.Wire(84) - << "i"
16:49:25,929 DEBUG httpclient.Wire(84) - << "f"
16:49:25,929 DEBUG httpclient.Wire(84) - << ";"
16:49:25,930 DEBUG httpclient.Wire(84) - << "c"
16:49:25,930 DEBUG httpclient.Wire(84) - << "o"
16:49:25,930 DEBUG httpclient.Wire(84) - << "l"
16:49:25,931 DEBUG httpclient.Wire(84) - << "o"
16:49:25,931 DEBUG httpclient.Wire(84) - << "r"
16:49:25,931 DEBUG httpclient.Wire(84) - << ":"
16:49:25,931 DEBUG httpclient.Wire(84) - << "w"
16:49:25,931 DEBUG httpclient.Wire(84) - << "h"
16:49:25,932 DEBUG httpclient.Wire(84) - << "i"
16:49:25,932 DEBUG httpclient.Wire(84) - << "t"
16:49:25,932 DEBUG httpclient.Wire(84) - << "e"
16:49:25,932 DEBUG httpclient.Wire(84) - << ";"
16:49:25,933 DEBUG httpclient.Wire(84) - << "b"
16:49:25,933 DEBUG httpclient.Wire(84) - << "a"
16:49:25,933 DEBUG httpclient.Wire(84) - << "c"
16:49:25,933 DEBUG httpclient.Wire(84) - << "k"
16:49:25,933 DEBUG httpclient.Wire(84) - << "g"
16:49:25,933 DEBUG httpclient.Wire(84) - << "r"
16:49:25,934 DEBUG httpclient.Wire(84) - << "o"
16:49:25,934 DEBUG httpclient.Wire(84) - << "u"
16:49:25,934 DEBUG httpclient.Wire(84) - << "n"
16:49:25,934 DEBUG httpclient.Wire(84) - << "d"
16:49:25,935 DEBUG httpclient.Wire(84) - << "-"
16:49:25,935 DEBUG httpclient.Wire(84) - << "c"
16:49:25,935 DEBUG httpclient.Wire(84) - << "o"
16:49:25,935 DEBUG httpclient.Wire(84) - << "l"
16:49:25,935 DEBUG httpclient.Wire(84) - << "o"
16:49:25,936 DEBUG httpclient.Wire(84) - << "r"
16:49:25,936 DEBUG httpclient.Wire(84) - << ":"
16:49:25,936 DEBUG httpclient.Wire(84) - << "#"
16:49:25,936 DEBUG httpclient.Wire(84) - << "5"
16:49:25,936 DEBUG httpclient.Wire(84) - << "2"
16:49:25,936 DEBUG httpclient.Wire(84) - << "5"
16:49:25,937 DEBUG httpclient.Wire(84) - << "D"
16:49:25,937 DEBUG httpclient.Wire(84) - << "7"
16:49:25,937 DEBUG httpclient.Wire(84) - << "6"
16:49:25,937 DEBUG httpclient.Wire(84) - << ";"
16:49:25,937 DEBUG httpclient.Wire(84) - << "}"
16:49:25,937 DEBUG httpclient.Wire(84) - << " "
16:49:25,937 DEBUG httpclient.Wire(84) - << "P"
16:49:25,938 DEBUG httpclient.Wire(84) - << " "
16:49:25,938 DEBUG httpclient.Wire(84) - << "{"
16:49:25,938 DEBUG httpclient.Wire(84) - << "f"
16:49:25,938 DEBUG httpclient.Wire(84) - << "o"
16:49:25,938 DEBUG httpclient.Wire(84) - << "n"
16:49:25,938 DEBUG httpclient.Wire(84) - << "t"
16:49:25,939 DEBUG httpclient.Wire(84) - << "-"
16:49:25,939 DEBUG httpclient.Wire(84) - << "f"
16:49:25,939 DEBUG httpclient.Wire(84) - << "a"
16:49:25,939 DEBUG httpclient.Wire(84) - << "m"
16:49:25,939 DEBUG httpclient.Wire(84) - << "i"
16:49:25,939 DEBUG httpclient.Wire(84) - << "l"
16:49:25,940 DEBUG httpclient.Wire(84) - << "y"
16:49:25,940 DEBUG httpclient.Wire(84) - << ":"
16:49:25,940 DEBUG httpclient.Wire(84) - << "T"
16:49:25,940 DEBUG httpclient.Wire(84) - << "a"
16:49:25,940 DEBUG httpclient.Wire(84) - << "h"
16:49:25,940 DEBUG httpclient.Wire(84) - << "o"
16:49:25,940 DEBUG httpclient.Wire(84) - << "m"
16:49:25,941 DEBUG httpclient.Wire(84) - << "a"
16:49:25,941 DEBUG httpclient.Wire(84) - << ","
16:49:25,941 DEBUG httpclient.Wire(84) - << "A"
16:49:25,941 DEBUG httpclient.Wire(84) - << "r"
16:49:25,941 DEBUG httpclient.Wire(84) - << "i"
16:49:25,941 DEBUG httpclient.Wire(84) - << "a"
16:49:25,942 DEBUG httpclient.Wire(84) - << "l"
16:49:25,942 DEBUG httpclient.Wire(84) - << ","
16:49:25,947 DEBUG httpclient.Wire(84) - << "s"
16:49:25,947 DEBUG httpclient.Wire(84) - << "a"
16:49:25,947 DEBUG httpclient.Wire(84) - << "n"
16:49:25,947 DEBUG httpclient.Wire(84) - << "s"
16:49:25,948 DEBUG httpclient.Wire(84) - << "-"
16:49:25,948 DEBUG httpclient.Wire(84) - << "s"
16:49:25,948 DEBUG httpclient.Wire(84) - << "e"
16:49:25,948 DEBUG httpclient.Wire(84) - << "r"
16:49:25,948 DEBUG httpclient.Wire(84) - << "i"
16:49:25,948 DEBUG httpclient.Wire(84) - << "f"
16:49:25,949 DEBUG httpclient.Wire(84) - << ";"
16:49:25,949 DEBUG httpclient.Wire(84) - << "b"
16:49:25,949 DEBUG httpclient.Wire(84) - << "a"
16:49:25,949 DEBUG httpclient.Wire(84) - << "c"
16:49:25,949 DEBUG httpclient.Wire(84) - << "k"
16:49:25,949 DEBUG httpclient.Wire(84) - << "g"
16:49:25,950 DEBUG httpclient.Wire(84) - << "r"
16:49:25,950 DEBUG httpclient.Wire(84) - << "o"
16:49:25,950 DEBUG httpclient.Wire(84) - << "u"
16:49:25,950 DEBUG httpclient.Wire(84) - << "n"
16:49:25,950 DEBUG httpclient.Wire(84) - << "d"
16:49:25,950 DEBUG httpclient.Wire(84) - << ":"
16:49:25,950 DEBUG httpclient.Wire(84) - << "w"
16:49:25,951 DEBUG httpclient.Wire(84) - << "h"
16:49:25,951 DEBUG httpclient.Wire(84) - << "i"
16:49:25,951 DEBUG httpclient.Wire(84) - << "t"
16:49:25,951 DEBUG httpclient.Wire(84) - << "e"
16:49:25,952 DEBUG httpclient.Wire(84) - << ";"
16:49:25,952 DEBUG httpclient.Wire(84) - << "c"
16:49:25,952 DEBUG httpclient.Wire(84) - << "o"
16:49:25,952 DEBUG httpclient.Wire(84) - << "l"
16:49:25,952 DEBUG httpclient.Wire(84) - << "o"
16:49:25,952 DEBUG httpclient.Wire(84) - << "r"
16:49:25,953 DEBUG httpclient.Wire(84) - << ":"
16:49:25,953 DEBUG httpclient.Wire(84) - << "b"
16:49:25,953 DEBUG httpclient.Wire(84) - << "l"
16:49:25,953 DEBUG httpclient.Wire(84) - << "a"
16:49:25,953 DEBUG httpclient.Wire(84) - << "c"
16:49:25,953 DEBUG httpclient.Wire(84) - << "k"
16:49:25,954 DEBUG httpclient.Wire(84) - << ";"
16:49:25,954 DEBUG httpclient.Wire(84) - << "f"
16:49:25,954 DEBUG httpclient.Wire(84) - << "o"
16:49:25,954 DEBUG httpclient.Wire(84) - << "n"
16:49:25,954 DEBUG httpclient.Wire(84) - << "t"
16:49:25,955 DEBUG httpclient.Wire(84) - << "-"
16:49:25,955 DEBUG httpclient.Wire(84) - << "s"
16:49:25,955 DEBUG httpclient.Wire(84) - << "i"
16:49:25,955 DEBUG httpclient.Wire(84) - << "z"
16:49:25,955 DEBUG httpclient.Wire(84) - << "e"
16:49:25,955 DEBUG httpclient.Wire(84) - << ":"
16:49:25,956 DEBUG httpclient.Wire(84) - << "1"
16:49:25,956 DEBUG httpclient.Wire(84) - << "2"
16:49:25,956 DEBUG httpclient.Wire(84) - << "p"
16:49:25,956 DEBUG httpclient.Wire(84) - << "x"
16:49:25,956 DEBUG httpclient.Wire(84) - << ";"
16:49:25,956 DEBUG httpclient.Wire(84) - << "}"
16:49:25,957 DEBUG httpclient.Wire(84) - << "A"
16:49:25,957 DEBUG httpclient.Wire(84) - << " "
16:49:25,957 DEBUG httpclient.Wire(84) - << "{"
16:49:25,957 DEBUG httpclient.Wire(84) - << "c"
16:49:25,957 DEBUG httpclient.Wire(84) - << "o"
16:49:25,957 DEBUG httpclient.Wire(84) - << "l"
16:49:25,958 DEBUG httpclient.Wire(84) - << "o"
16:49:25,958 DEBUG httpclient.Wire(84) - << "r"
16:49:25,958 DEBUG httpclient.Wire(84) - << " "
16:49:25,958 DEBUG httpclient.Wire(84) - << ":"
16:49:25,958 DEBUG httpclient.Wire(84) - << " "
16:49:25,959 DEBUG httpclient.Wire(84) - << "b"
16:49:25,959 DEBUG httpclient.Wire(84) - << "l"
16:49:25,959 DEBUG httpclient.Wire(84) - << "a"
16:49:25,959 DEBUG httpclient.Wire(84) - << "c"
16:49:25,959 DEBUG httpclient.Wire(84) - << "k"
16:49:25,959 DEBUG httpclient.Wire(84) - << ";"
16:49:25,960 DEBUG httpclient.Wire(84) - << "}"
16:49:25,960 DEBUG httpclient.Wire(84) - << "A"
16:49:25,960 DEBUG httpclient.Wire(84) - << "."
16:49:25,960 DEBUG httpclient.Wire(84) - << "n"
16:49:25,960 DEBUG httpclient.Wire(84) - << "a"
16:49:25,960 DEBUG httpclient.Wire(84) - << "m"
16:49:25,961 DEBUG httpclient.Wire(84) - << "e"
16:49:25,961 DEBUG httpclient.Wire(84) - << " "
16:49:25,961 DEBUG httpclient.Wire(84) - << "{"
16:49:25,961 DEBUG httpclient.Wire(84) - << "c"
16:49:25,961 DEBUG httpclient.Wire(84) - << "o"
16:49:25,961 DEBUG httpclient.Wire(84) - << "l"
16:49:25,961 DEBUG httpclient.Wire(84) - << "o"
16:49:25,962 DEBUG httpclient.Wire(84) - << "r"
16:49:25,962 DEBUG httpclient.Wire(84) - << " "
16:49:25,962 DEBUG httpclient.Wire(84) - << ":"
16:49:25,962 DEBUG httpclient.Wire(84) - << " "
16:49:25,962 DEBUG httpclient.Wire(84) - << "b"
16:49:25,962 DEBUG httpclient.Wire(84) - << "l"
16:49:25,963 DEBUG httpclient.Wire(84) - << "a"
16:49:25,963 DEBUG httpclient.Wire(84) - << "c"
16:49:25,963 DEBUG httpclient.Wire(84) - << "k"
16:49:25,963 DEBUG httpclient.Wire(84) - << ";"
16:49:25,963 DEBUG httpclient.Wire(84) - << "}"
16:49:25,963 DEBUG httpclient.Wire(84) - << "H"
16:49:25,963 DEBUG httpclient.Wire(84) - << "R"
16:49:25,964 DEBUG httpclient.Wire(84) - << " "
16:49:25,964 DEBUG httpclient.Wire(84) - << "{"
16:49:25,964 DEBUG httpclient.Wire(84) - << "c"
16:49:25,964 DEBUG httpclient.Wire(84) - << "o"
16:49:25,964 DEBUG httpclient.Wire(84) - << "l"
16:49:25,964 DEBUG httpclient.Wire(84) - << "o"
16:49:25,965 DEBUG httpclient.Wire(84) - << "r"
16:49:25,965 DEBUG httpclient.Wire(84) - << " "
16:49:25,965 DEBUG httpclient.Wire(84) - << ":"
16:49:25,965 DEBUG httpclient.Wire(84) - << " "
16:49:25,965 DEBUG httpclient.Wire(84) - << "#"
16:49:25,965 DEBUG httpclient.Wire(84) - << "5"
16:49:25,966 DEBUG httpclient.Wire(84) - << "2"
16:49:25,966 DEBUG httpclient.Wire(84) - << "5"
16:49:25,966 DEBUG httpclient.Wire(84) - << "D"
16:49:25,966 DEBUG httpclient.Wire(84) - << "7"
16:49:25,966 DEBUG httpclient.Wire(84) - << "6"
16:49:25,966 DEBUG httpclient.Wire(84) - << ";"
16:49:25,966 DEBUG httpclient.Wire(84) - << "}"
16:49:25,967 DEBUG httpclient.Wire(84) - << "-"
16:49:25,967 DEBUG httpclient.Wire(84) - << "-"
16:49:25,967 DEBUG httpclient.Wire(84) - << ">"
16:49:25,967 DEBUG httpclient.Wire(84) - << "<"
16:49:25,967 DEBUG httpclient.Wire(84) - << "/"
16:49:25,968 DEBUG httpclient.Wire(84) - << "s"
16:49:25,968 DEBUG httpclient.Wire(84) - << "t"
16:49:25,968 DEBUG httpclient.Wire(84) - << "y"
16:49:25,968 DEBUG httpclient.Wire(84) - << "l"
16:49:25,968 DEBUG httpclient.Wire(84) - << "e"
16:49:25,968 DEBUG httpclient.Wire(84) - << ">"
16:49:25,969 DEBUG httpclient.Wire(84) - << " "
16:49:25,969 DEBUG httpclient.Wire(84) - << "<"
16:49:25,969 DEBUG httpclient.Wire(84) - << "/"
16:49:25,969 DEBUG httpclient.Wire(84) - << "h"
16:49:25,969 DEBUG httpclient.Wire(84) - << "e"
16:49:25,969 DEBUG httpclient.Wire(84) - << "a"
16:49:25,970 DEBUG httpclient.Wire(84) - << "d"
16:49:25,970 DEBUG httpclient.Wire(84) - << ">"
16:49:25,970 DEBUG httpclient.Wire(84) - << "<"
16:49:25,970 DEBUG httpclient.Wire(84) - << "b"
16:49:25,970 DEBUG httpclient.Wire(84) - << "o"
16:49:25,970 DEBUG httpclient.Wire(84) - << "d"
16:49:25,970 DEBUG httpclient.Wire(84) - << "y"
16:49:25,971 DEBUG httpclient.Wire(84) - << ">"
16:49:25,971 DEBUG httpclient.Wire(84) - << "<"
16:49:25,971 DEBUG httpclient.Wire(84) - << "h"
16:49:25,971 DEBUG httpclient.Wire(84) - << "1"
16:49:25,971 DEBUG httpclient.Wire(84) - << ">"
16:49:25,971 DEBUG httpclient.Wire(84) - << "H"
16:49:25,972 DEBUG httpclient.Wire(84) - << "T"
16:49:25,972 DEBUG httpclient.Wire(84) - << "T"
16:49:25,972 DEBUG httpclient.Wire(84) - << "P"
16:49:25,972 DEBUG httpclient.Wire(84) - << " "
16:49:25,972 DEBUG httpclient.Wire(84) - << "S"
16:49:25,972 DEBUG httpclient.Wire(84) - << "t"
16:49:25,972 DEBUG httpclient.Wire(84) - << "a"
16:49:25,973 DEBUG httpclient.Wire(84) - << "t"
16:49:25,973 DEBUG httpclient.Wire(84) - << "u"
16:49:25,973 DEBUG httpclient.Wire(84) - << "s"
16:49:25,973 DEBUG httpclient.Wire(84) - << " "
16:49:25,973 DEBUG httpclient.Wire(84) - << "5"
16:49:25,973 DEBUG httpclient.Wire(84) - << "0"
16:49:25,974 DEBUG httpclient.Wire(84) - << "0"
16:49:25,974 DEBUG httpclient.Wire(84) - << " "
16:49:25,974 DEBUG httpclient.Wire(84) - << "-"
16:49:25,974 DEBUG httpclient.Wire(84) - << " "
16:49:25,974 DEBUG httpclient.Wire(84) - << "<"
16:49:25,974 DEBUG httpclient.Wire(84) - << "/"
16:49:25,974 DEBUG httpclient.Wire(84) - << "h"
16:49:25,975 DEBUG httpclient.Wire(84) - << "1"
16:49:25,975 DEBUG httpclient.Wire(84) - << ">"
16:49:25,975 DEBUG httpclient.Wire(84) - << "<"
16:49:25,975 DEBUG httpclient.Wire(84) - << "H"
16:49:25,975 DEBUG httpclient.Wire(84) - << "R"
16:49:25,975 DEBUG httpclient.Wire(84) - << " "
16:49:25,976 DEBUG httpclient.Wire(84) - << "s"
16:49:25,976 DEBUG httpclient.Wire(84) - << "i"
16:49:25,976 DEBUG httpclient.Wire(84) - << "z"
16:49:25,976 DEBUG httpclient.Wire(84) - << "e"
16:49:25,976 DEBUG httpclient.Wire(84) - << "="
16:49:25,976 DEBUG httpclient.Wire(84) - << """
16:49:25,976 DEBUG httpclient.Wire(84) - << "1"
16:49:25,977 DEBUG httpclient.Wire(84) - << """
16:49:25,977 DEBUG httpclient.Wire(84) - << " "
16:49:25,977 DEBUG httpclient.Wire(84) - << "n"
16:49:25,977 DEBUG httpclient.Wire(84) - << "o"
16:49:25,977 DEBUG httpclient.Wire(84) - << "s"
16:49:25,977 DEBUG httpclient.Wire(84) - << "h"
16:49:25,978 DEBUG httpclient.Wire(84) - << "a"
16:49:25,978 DEBUG httpclient.Wire(84) - << "d"
16:49:25,978 DEBUG httpclient.Wire(84) - << "e"
16:49:25,978 DEBUG httpclient.Wire(84) - << "="
16:49:25,978 DEBUG httpclient.Wire(84) - << """
16:49:25,978 DEBUG httpclient.Wire(84) - << "n"
16:49:25,978 DEBUG httpclient.Wire(84) - << "o"
16:49:25,979 DEBUG httpclient.Wire(84) - << "s"
16:49:25,979 DEBUG httpclient.Wire(84) - << "h"
16:49:25,979 DEBUG httpclient.Wire(84) - << "a"
16:49:25,979 DEBUG httpclient.Wire(84) - << "d"
16:49:25,979 DEBUG httpclient.Wire(84) - << "e"
16:49:25,979 DEBUG httpclient.Wire(84) - << """
16:49:25,980 DEBUG httpclient.Wire(84) - << ">"
16:49:25,980 DEBUG httpclient.Wire(84) - << "<"
16:49:25,980 DEBUG httpclient.Wire(84) - << "p"
16:49:25,980 DEBUG httpclient.Wire(84) - << ">"
16:49:25,980 DEBUG httpclient.Wire(84) - << "<"
16:49:25,980 DEBUG httpclient.Wire(84) - << "b"
16:49:25,980 DEBUG httpclient.Wire(84) - << ">"
16:49:25,981 DEBUG httpclient.Wire(84) - << "t"
16:49:25,981 DEBUG httpclient.Wire(84) - << "y"
16:49:25,981 DEBUG httpclient.Wire(84) - << "p"
16:49:25,981 DEBUG httpclient.Wire(84) - << "e"
16:49:25,981 DEBUG httpclient.Wire(84) - << "<"
16:49:25,981 DEBUG httpclient.Wire(84) - << "/"
16:49:25,981 DEBUG httpclient.Wire(84) - << "b"
16:49:25,982 DEBUG httpclient.Wire(84) - << ">"
16:49:25,982 DEBUG httpclient.Wire(84) - << " "
16:49:25,982 DEBUG httpclient.Wire(84) - << "E"
16:49:25,982 DEBUG httpclient.Wire(84) - << "x"
16:49:25,982 DEBUG httpclient.Wire(84) - << "c"
16:49:25,982 DEBUG httpclient.Wire(84) - << "e"
16:49:25,983 DEBUG httpclient.Wire(84) - << "p"
16:49:25,983 DEBUG httpclient.Wire(84) - << "t"
16:49:25,983 DEBUG httpclient.Wire(84) - << "i"
16:49:25,983 DEBUG httpclient.Wire(84) - << "o"
16:49:25,983 DEBUG httpclient.Wire(84) - << "n"
16:49:25,983 DEBUG httpclient.Wire(84) - << " "
16:49:25,983 DEBUG httpclient.Wire(84) - << "r"
16:49:25,984 DEBUG httpclient.Wire(84) - << "e"
16:49:25,984 DEBUG httpclient.Wire(84) - << "p"
16:49:25,984 DEBUG httpclient.Wire(84) - << "o"
16:49:25,984 DEBUG httpclient.Wire(84) - << "r"
16:49:25,984 DEBUG httpclient.Wire(84) - << "t"
16:49:25,985 DEBUG httpclient.Wire(84) - << "<"
16:49:25,985 DEBUG httpclient.Wire(84) - << "/"
16:49:25,985 DEBUG httpclient.Wire(84) - << "p"
16:49:25,985 DEBUG httpclient.Wire(84) - << ">"
16:49:25,985 DEBUG httpclient.Wire(84) - << "<"
16:49:25,985 DEBUG httpclient.Wire(84) - << "p"
16:49:25,985 DEBUG httpclient.Wire(84) - << ">"
16:49:25,986 DEBUG httpclient.Wire(84) - << "<"
16:49:25,986 DEBUG httpclient.Wire(84) - << "b"
16:49:25,986 DEBUG httpclient.Wire(84) - << ">"
16:49:25,986 DEBUG httpclient.Wire(84) - << "m"
16:49:25,986 DEBUG httpclient.Wire(84) - << "e"
16:49:25,986 DEBUG httpclient.Wire(84) - << "s"
16:49:25,987 DEBUG httpclient.Wire(84) - << "s"
16:49:25,987 DEBUG httpclient.Wire(84) - << "a"
16:49:25,987 DEBUG httpclient.Wire(84) - << "g"
16:49:25,987 DEBUG httpclient.Wire(84) - << "e"
16:49:25,987 DEBUG httpclient.Wire(84) - << "<"
16:49:25,987 DEBUG httpclient.Wire(84) - << "/"
16:49:25,987 DEBUG httpclient.Wire(84) - << "b"
16:49:25,988 DEBUG httpclient.Wire(84) - << ">"
16:49:25,988 DEBUG httpclient.Wire(84) - << " "
16:49:25,988 DEBUG httpclient.Wire(84) - << "<"
16:49:25,988 DEBUG httpclient.Wire(84) - << "u"
16:49:25,988 DEBUG httpclient.Wire(84) - << ">"
16:49:25,988 DEBUG httpclient.Wire(84) - << "<"
16:49:25,990 DEBUG httpclient.Wire(84) - << "/"
16:49:25,990 DEBUG httpclient.Wire(84) - << "u"
16:49:25,990 DEBUG httpclient.Wire(84) - << ">"
16:49:25,990 DEBUG httpclient.Wire(84) - << "<"
16:49:25,990 DEBUG httpclient.Wire(84) - << "/"
16:49:25,991 DEBUG httpclient.Wire(84) - << "p"
16:49:25,991 DEBUG httpclient.Wire(84) - << ">"
16:49:25,991 DEBUG httpclient.Wire(84) - << "<"
16:49:25,991 DEBUG httpclient.Wire(84) - << "p"
16:49:25,991 DEBUG httpclient.Wire(84) - << ">"
16:49:25,991 DEBUG httpclient.Wire(84) - << "<"
16:49:25,991 DEBUG httpclient.Wire(84) - << "b"
16:49:25,992 DEBUG httpclient.Wire(84) - << ">"
16:49:25,992 DEBUG httpclient.Wire(84) - << "d"
16:49:25,992 DEBUG httpclient.Wire(84) - << "e"
16:49:25,992 DEBUG httpclient.Wire(84) - << "s"
16:49:25,992 DEBUG httpclient.Wire(84) - << "c"
16:49:25,992 DEBUG httpclient.Wire(84) - << "r"
16:49:25,993 DEBUG httpclient.Wire(84) - << "i"
16:49:25,993 DEBUG httpclient.Wire(84) - << "p"
16:49:25,993 DEBUG httpclient.Wire(84) - << "t"
16:49:25,993 DEBUG httpclient.Wire(84) - << "i"
16:49:25,993 DEBUG httpclient.Wire(84) - << "o"
16:49:25,993 DEBUG httpclient.Wire(84) - << "n"
16:49:25,994 DEBUG httpclient.Wire(84) - << "<"
16:49:25,994 DEBUG httpclient.Wire(84) - << "/"
16:49:25,994 DEBUG httpclient.Wire(84) - << "b"
16:49:25,994 DEBUG httpclient.Wire(84) - << ">"
16:49:25,994 DEBUG httpclient.Wire(84) - << " "
16:49:25,994 DEBUG httpclient.Wire(84) - << "<"
16:49:25,995 DEBUG httpclient.Wire(84) - << "u"
16:49:25,995 DEBUG httpclient.Wire(84) - << ">"
16:49:25,995 DEBUG httpclient.Wire(84) - << "T"
16:49:25,995 DEBUG httpclient.Wire(84) - << "h"
16:49:25,995 DEBUG httpclient.Wire(84) - << "e"
16:49:25,995 DEBUG httpclient.Wire(84) - << " "
16:49:25,995 DEBUG httpclient.Wire(84) - << "s"
16:49:25,996 DEBUG httpclient.Wire(84) - << "e"
16:49:25,996 DEBUG httpclient.Wire(84) - << "r"
16:49:25,996 DEBUG httpclient.Wire(84) - << "v"
16:49:25,997 DEBUG httpclient.Wire(84) - << "e"
16:49:25,997 DEBUG httpclient.Wire(84) - << "r"
16:49:25,997 DEBUG httpclient.Wire(84) - << " "
16:49:25,997 DEBUG httpclient.Wire(84) - << "e"
16:49:25,998 DEBUG httpclient.Wire(84) - << "n"
16:49:25,998 DEBUG httpclient.Wire(84) - << "c"
16:49:25,998 DEBUG httpclient.Wire(84) - << "o"
16:49:25,998 DEBUG httpclient.Wire(84) - << "u"
16:49:25,999 DEBUG httpclient.Wire(84) - << "n"
16:49:25,999 DEBUG httpclient.Wire(84) - << "t"
16:49:25,999 DEBUG httpclient.Wire(84) - << "e"
16:49:25,999 DEBUG httpclient.Wire(84) - << "r"
16:49:25,999 DEBUG httpclient.Wire(84) - << "e"
16:49:26,000 DEBUG httpclient.Wire(84) - << "d"
16:49:26,000 DEBUG httpclient.Wire(84) - << " "
16:49:26,000 DEBUG httpclient.Wire(84) - << "a"
16:49:26,000 DEBUG httpclient.Wire(84) - << "n"
16:49:26,000 DEBUG httpclient.Wire(84) - << " "
16:49:26,000 DEBUG httpclient.Wire(84) - << "i"
16:49:26,001 DEBUG httpclient.Wire(84) - << "n"
16:49:26,001 DEBUG httpclient.Wire(84) - << "t"
16:49:26,001 DEBUG httpclient.Wire(84) - << "e"
16:49:26,001 DEBUG httpclient.Wire(84) - << "r"
16:49:26,001 DEBUG httpclient.Wire(84) - << "n"
16:49:26,001 DEBUG httpclient.Wire(84) - << "a"
16:49:26,002 DEBUG httpclient.Wire(84) - << "l"
16:49:26,002 DEBUG httpclient.Wire(84) - << " "
16:49:26,002 DEBUG httpclient.Wire(84) - << "e"
16:49:26,002 DEBUG httpclient.Wire(84) - << "r"
16:49:26,002 DEBUG httpclient.Wire(84) - << "r"
16:49:26,002 DEBUG httpclient.Wire(84) - << "o"
16:49:26,002 DEBUG httpclient.Wire(84) - << "r"
16:49:26,003 DEBUG httpclient.Wire(84) - << " "
16:49:26,003 DEBUG httpclient.Wire(84) - << "("
16:49:26,003 DEBUG httpclient.Wire(84) - << ")"
16:49:26,003 DEBUG httpclient.Wire(84) - << " "
16:49:26,003 DEBUG httpclient.Wire(84) - << "t"
16:49:26,003 DEBUG httpclient.Wire(84) - << "h"
16:49:26,003 DEBUG httpclient.Wire(84) - << "a"
16:49:26,004 DEBUG httpclient.Wire(84) - << "t"
16:49:26,004 DEBUG httpclient.Wire(84) - << " "
16:49:26,004 DEBUG httpclient.Wire(84) - << "p"
16:49:26,004 DEBUG httpclient.Wire(84) - << "r"
16:49:26,004 DEBUG httpclient.Wire(84) - << "e"
16:49:26,004 DEBUG httpclient.Wire(84) - << "v"
16:49:26,005 DEBUG httpclient.Wire(84) - << "e"
16:49:26,005 DEBUG httpclient.Wire(84) - << "n"
16:49:26,005 DEBUG httpclient.Wire(84) - << "t"
16:49:26,005 DEBUG httpclient.Wire(84) - << "e"
16:49:26,005 DEBUG httpclient.Wire(84) - << "d"
16:49:26,005 DEBUG httpclient.Wire(84) - << " "
16:49:26,005 DEBUG httpclient.Wire(84) - << "i"
16:49:26,006 DEBUG httpclient.Wire(84) - << "t"
16:49:26,006 DEBUG httpclient.Wire(84) - << " "
16:49:26,006 DEBUG httpclient.Wire(84) - << "f"
16:49:26,006 DEBUG httpclient.Wire(84) - << "r"
16:49:26,006 DEBUG httpclient.Wire(84) - << "o"
16:49:26,006 DEBUG httpclient.Wire(84) - << "m"
16:49:26,007 DEBUG httpclient.Wire(84) - << " "
16:49:26,007 DEBUG httpclient.Wire(84) - << "f"
16:49:26,007 DEBUG httpclient.Wire(84) - << "u"
16:49:26,007 DEBUG httpclient.Wire(84) - << "l"
16:49:26,007 DEBUG httpclient.Wire(84) - << "f"
16:49:26,007 DEBUG httpclient.Wire(84) - << "i"
16:49:26,007 DEBUG httpclient.Wire(84) - << "l"
16:49:26,008 DEBUG httpclient.Wire(84) - << "l"
16:49:26,008 DEBUG httpclient.Wire(84) - << "i"
16:49:26,008 DEBUG httpclient.Wire(84) - << "n"
16:49:26,008 DEBUG httpclient.Wire(84) - << "g"
16:49:26,008 DEBUG httpclient.Wire(84) - << " "
16:49:26,008 DEBUG httpclient.Wire(84) - << "t"
16:49:26,008 DEBUG httpclient.Wire(84) - << "h"
16:49:26,009 DEBUG httpclient.Wire(84) - << "i"
16:49:26,009 DEBUG httpclient.Wire(84) - << "s"
16:49:26,009 DEBUG httpclient.Wire(84) - << " "
16:49:26,009 DEBUG httpclient.Wire(84) - << "r"
16:49:26,009 DEBUG httpclient.Wire(84) - << "e"
16:49:26,009 DEBUG httpclient.Wire(84) - << "q"
16:49:26,010 DEBUG httpclient.Wire(84) - << "u"
16:49:26,010 DEBUG httpclient.Wire(84) - << "e"
16:49:26,010 DEBUG httpclient.Wire(84) - << "s"
16:49:26,010 DEBUG httpclient.Wire(84) - << "t"
16:49:26,010 DEBUG httpclient.Wire(84) - << "."
16:49:26,010 DEBUG httpclient.Wire(84) - << "<"
16:49:26,010 DEBUG httpclient.Wire(84) - << "/"
16:49:26,011 DEBUG httpclient.Wire(84) - << "u"
16:49:26,011 DEBUG httpclient.Wire(84) - << ">"
16:49:26,011 DEBUG httpclient.Wire(84) - << "<"
16:49:26,011 DEBUG httpclient.Wire(84) - << "/"
16:49:26,011 DEBUG httpclient.Wire(84) - << "p"
16:49:26,011 DEBUG httpclient.Wire(84) - << ">"
16:49:26,012 DEBUG httpclient.Wire(84) - << "<"
16:49:26,012 DEBUG httpclient.Wire(84) - << "p"
16:49:26,012 DEBUG httpclient.Wire(84) - << ">"
16:49:26,012 DEBUG httpclient.Wire(84) - << "<"
16:49:26,012 DEBUG httpclient.Wire(84) - << "b"
16:49:26,012 DEBUG httpclient.Wire(84) - << ">"
16:49:26,012 DEBUG httpclient.Wire(84) - << "e"
16:49:26,013 DEBUG httpclient.Wire(84) - << "x"
16:49:26,013 DEBUG httpclient.Wire(84) - << "c"
16:49:26,013 DEBUG httpclient.Wire(84) - << "e"
16:49:26,013 DEBUG httpclient.Wire(84) - << "p"
16:49:26,013 DEBUG httpclient.Wire(84) - << "t"
16:49:26,013 DEBUG httpclient.Wire(84) - << "i"
16:49:26,014 DEBUG httpclient.Wire(84) - << "o"
16:49:26,014 DEBUG httpclient.Wire(84) - << "n"
16:49:26,014 DEBUG httpclient.Wire(84) - << "<"
16:49:26,014 DEBUG httpclient.Wire(84) - << "/"
16:49:26,014 DEBUG httpclient.Wire(84) - << "b"
16:49:26,014 DEBUG httpclient.Wire(84) - << ">"
16:49:26,014 DEBUG httpclient.Wire(84) - << " "
16:49:26,015 DEBUG httpclient.Wire(84) - << "<"
16:49:26,015 DEBUG httpclient.Wire(84) - << "p"
16:49:26,015 DEBUG httpclient.Wire(84) - << "r"
16:49:26,015 DEBUG httpclient.Wire(84) - << "e"
16:49:26,015 DEBUG httpclient.Wire(84) - << ">"
16:49:26,015 DEBUG httpclient.Wire(84) - << "j"
16:49:26,016 DEBUG httpclient.Wire(84) - << "a"
16:49:26,016 DEBUG httpclient.Wire(84) - << "v"
16:49:26,016 DEBUG httpclient.Wire(84) - << "a"
16:49:26,016 DEBUG httpclient.Wire(84) - << "."
16:49:26,016 DEBUG httpclient.Wire(84) - << "l"
16:49:26,016 DEBUG httpclient.Wire(84) - << "a"
16:49:26,017 DEBUG httpclient.Wire(84) - << "n"
16:49:26,017 DEBUG httpclient.Wire(84) - << "g"
16:49:26,017 DEBUG httpclient.Wire(84) - << "."
16:49:26,017 DEBUG httpclient.Wire(84) - << "N"
16:49:26,018 DEBUG httpclient.Wire(84) - << "u"
16:49:26,018 DEBUG httpclient.Wire(84) - << "l"
16:49:26,018 DEBUG httpclient.Wire(84) - << "l"
16:49:26,018 DEBUG httpclient.Wire(84) - << "P"
16:49:26,018 DEBUG httpclient.Wire(84) - << "o"
16:49:26,019 DEBUG httpclient.Wire(84) - << "i"
16:49:26,019 DEBUG httpclient.Wire(84) - << "n"
16:49:26,019 DEBUG httpclient.Wire(84) - << "t"
16:49:26,019 DEBUG httpclient.Wire(84) - << "e"
16:49:26,019 DEBUG httpclient.Wire(84) - << "r"
16:49:26,019 DEBUG httpclient.Wire(84) - << "E"
16:49:26,020 DEBUG httpclient.Wire(84) - << "x"
16:49:26,020 DEBUG httpclient.Wire(84) - << "c"
16:49:26,020 DEBUG httpclient.Wire(84) - << "e"
16:49:26,020 DEBUG httpclient.Wire(84) - << "p"
16:49:26,020 DEBUG httpclient.Wire(84) - << "t"
16:49:26,020 DEBUG httpclient.Wire(84) - << "i"
16:49:26,020 DEBUG httpclient.Wire(84) - << "o"
16:49:26,021 DEBUG httpclient.Wire(84) - << "n"
16:49:26,021 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,021 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,021 DEBUG httpclient.Wire(84) - << "o"
16:49:26,021 DEBUG httpclient.Wire(84) - << "r"
16:49:26,021 DEBUG httpclient.Wire(84) - << "g"
16:49:26,022 DEBUG httpclient.Wire(84) - << "."
16:49:26,022 DEBUG httpclient.Wire(84) - << "a"
16:49:26,022 DEBUG httpclient.Wire(84) - << "p"
16:49:26,022 DEBUG httpclient.Wire(84) - << "a"
16:49:26,022 DEBUG httpclient.Wire(84) - << "c"
16:49:26,022 DEBUG httpclient.Wire(84) - << "h"
16:49:26,022 DEBUG httpclient.Wire(84) - << "e"
16:49:26,023 DEBUG httpclient.Wire(84) - << "."
16:49:26,023 DEBUG httpclient.Wire(84) - << "c"
16:49:26,023 DEBUG httpclient.Wire(84) - << "o"
16:49:26,023 DEBUG httpclient.Wire(84) - << "m"
16:49:26,023 DEBUG httpclient.Wire(84) - << "m"
16:49:26,023 DEBUG httpclient.Wire(84) - << "o"
16:49:26,024 DEBUG httpclient.Wire(84) - << "n"
16:49:26,024 DEBUG httpclient.Wire(84) - << "s"
16:49:26,024 DEBUG httpclient.Wire(84) - << "."
16:49:26,024 DEBUG httpclient.Wire(84) - << "l"
16:49:26,025 DEBUG httpclient.Wire(84) - << "o"
16:49:26,025 DEBUG httpclient.Wire(84) - << "g"
16:49:26,025 DEBUG httpclient.Wire(84) - << "g"
16:49:26,025 DEBUG httpclient.Wire(84) - << "i"
16:49:26,026 DEBUG httpclient.Wire(84) - << "n"
16:49:26,026 DEBUG httpclient.Wire(84) - << "g"
16:49:26,026 DEBUG httpclient.Wire(84) - << "."
16:49:26,026 DEBUG httpclient.Wire(84) - << "L"
16:49:26,027 DEBUG httpclient.Wire(84) - << "o"
16:49:26,027 DEBUG httpclient.Wire(84) - << "g"
16:49:26,027 DEBUG httpclient.Wire(84) - << "F"
16:49:26,027 DEBUG httpclient.Wire(84) - << "a"
16:49:26,027 DEBUG httpclient.Wire(84) - << "c"
16:49:26,027 DEBUG httpclient.Wire(84) - << "t"
16:49:26,028 DEBUG httpclient.Wire(84) - << "o"
16:49:26,028 DEBUG httpclient.Wire(84) - << "r"
16:49:26,029 DEBUG httpclient.Wire(84) - << "y"
16:49:26,029 DEBUG httpclient.Wire(84) - << "."
16:49:26,029 DEBUG httpclient.Wire(84) - << "g"
16:49:26,029 DEBUG httpclient.Wire(84) - << "e"
16:49:26,029 DEBUG httpclient.Wire(84) - << "t"
16:49:26,029 DEBUG httpclient.Wire(84) - << "C"
16:49:26,030 DEBUG httpclient.Wire(84) - << "a"
16:49:26,030 DEBUG httpclient.Wire(84) - << "c"
16:49:26,030 DEBUG httpclient.Wire(84) - << "h"
16:49:26,030 DEBUG httpclient.Wire(84) - << "e"
16:49:26,030 DEBUG httpclient.Wire(84) - << "d"
16:49:26,030 DEBUG httpclient.Wire(84) - << "F"
16:49:26,031 DEBUG httpclient.Wire(84) - << "a"
16:49:26,031 DEBUG httpclient.Wire(84) - << "c"
16:49:26,031 DEBUG httpclient.Wire(84) - << "t"
16:49:26,031 DEBUG httpclient.Wire(84) - << "o"
16:49:26,031 DEBUG httpclient.Wire(84) - << "r"
16:49:26,031 DEBUG httpclient.Wire(84) - << "y"
16:49:26,031 DEBUG httpclient.Wire(84) - << "("
16:49:26,032 DEBUG httpclient.Wire(84) - << "L"
16:49:26,032 DEBUG httpclient.Wire(84) - << "o"
16:49:26,032 DEBUG httpclient.Wire(84) - << "g"
16:49:26,032 DEBUG httpclient.Wire(84) - << "F"
16:49:26,032 DEBUG httpclient.Wire(84) - << "a"
16:49:26,032 DEBUG httpclient.Wire(84) - << "c"
16:49:26,033 DEBUG httpclient.Wire(84) - << "t"
16:49:26,033 DEBUG httpclient.Wire(84) - << "o"
16:49:26,033 DEBUG httpclient.Wire(84) - << "r"
16:49:26,033 DEBUG httpclient.Wire(84) - << "y"
16:49:26,033 DEBUG httpclient.Wire(84) - << "."
16:49:26,033 DEBUG httpclient.Wire(84) - << "j"
16:49:26,033 DEBUG httpclient.Wire(84) - << "a"
16:49:26,034 DEBUG httpclient.Wire(84) - << "v"
16:49:26,034 DEBUG httpclient.Wire(84) - << "a"
16:49:26,034 DEBUG httpclient.Wire(84) - << ":"
16:49:26,034 DEBUG httpclient.Wire(84) - << "9"
16:49:26,034 DEBUG httpclient.Wire(84) - << "7"
16:49:26,034 DEBUG httpclient.Wire(84) - << "9"
16:49:26,035 DEBUG httpclient.Wire(84) - << ")"
16:49:26,035 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,035 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,035 DEBUG httpclient.Wire(84) - << "o"
16:49:26,035 DEBUG httpclient.Wire(84) - << "r"
16:49:26,036 DEBUG httpclient.Wire(84) - << "g"
16:49:26,036 DEBUG httpclient.Wire(84) - << "."
16:49:26,036 DEBUG httpclient.Wire(84) - << "a"
16:49:26,036 DEBUG httpclient.Wire(84) - << "p"
16:49:26,036 DEBUG httpclient.Wire(84) - << "a"
16:49:26,036 DEBUG httpclient.Wire(84) - << "c"
16:49:26,036 DEBUG httpclient.Wire(84) - << "h"
16:49:26,037 DEBUG httpclient.Wire(84) - << "e"
16:49:26,037 DEBUG httpclient.Wire(84) - << "."
16:49:26,037 DEBUG httpclient.Wire(84) - << "c"
16:49:26,037 DEBUG httpclient.Wire(84) - << "o"
16:49:26,037 DEBUG httpclient.Wire(84) - << "m"
16:49:26,037 DEBUG httpclient.Wire(84) - << "m"
16:49:26,038 DEBUG httpclient.Wire(84) - << "o"
16:49:26,038 DEBUG httpclient.Wire(84) - << "n"
16:49:26,038 DEBUG httpclient.Wire(84) - << "s"
16:49:26,038 DEBUG httpclient.Wire(84) - << "."
16:49:26,038 DEBUG httpclient.Wire(84) - << "l"
16:49:26,038 DEBUG httpclient.Wire(84) - << "o"
16:49:26,038 DEBUG httpclient.Wire(84) - << "g"
16:49:26,039 DEBUG httpclient.Wire(84) - << "g"
16:49:26,039 DEBUG httpclient.Wire(84) - << "i"
16:49:26,039 DEBUG httpclient.Wire(84) - << "n"
16:49:26,039 DEBUG httpclient.Wire(84) - << "g"
16:49:26,039 DEBUG httpclient.Wire(84) - << "."
16:49:26,039 DEBUG httpclient.Wire(84) - << "L"
16:49:26,039 DEBUG httpclient.Wire(84) - << "o"
16:49:26,040 DEBUG httpclient.Wire(84) - << "g"
16:49:26,040 DEBUG httpclient.Wire(84) - << "F"
16:49:26,040 DEBUG httpclient.Wire(84) - << "a"
16:49:26,040 DEBUG httpclient.Wire(84) - << "c"
16:49:26,040 DEBUG httpclient.Wire(84) - << "t"
16:49:26,040 DEBUG httpclient.Wire(84) - << "o"
16:49:26,041 DEBUG httpclient.Wire(84) - << "r"
16:49:26,041 DEBUG httpclient.Wire(84) - << "y"
16:49:26,041 DEBUG httpclient.Wire(84) - << "."
16:49:26,041 DEBUG httpclient.Wire(84) - << "g"
16:49:26,041 DEBUG httpclient.Wire(84) - << "e"
16:49:26,041 DEBUG httpclient.Wire(84) - << "t"
16:49:26,042 DEBUG httpclient.Wire(84) - << "F"
16:49:26,042 DEBUG httpclient.Wire(84) - << "a"
16:49:26,042 DEBUG httpclient.Wire(84) - << "c"
16:49:26,042 DEBUG httpclient.Wire(84) - << "t"
16:49:26,042 DEBUG httpclient.Wire(84) - << "o"
16:49:26,043 DEBUG httpclient.Wire(84) - << "r"
16:49:26,043 DEBUG httpclient.Wire(84) - << "y"
16:49:26,043 DEBUG httpclient.Wire(84) - << "("
16:49:26,043 DEBUG httpclient.Wire(84) - << "L"
16:49:26,043 DEBUG httpclient.Wire(84) - << "o"
16:49:26,043 DEBUG httpclient.Wire(84) - << "g"
16:49:26,044 DEBUG httpclient.Wire(84) - << "F"
16:49:26,044 DEBUG httpclient.Wire(84) - << "a"
16:49:26,044 DEBUG httpclient.Wire(84) - << "c"
16:49:26,044 DEBUG httpclient.Wire(84) - << "t"
16:49:26,044 DEBUG httpclient.Wire(84) - << "o"
16:49:26,044 DEBUG httpclient.Wire(84) - << "r"
16:49:26,044 DEBUG httpclient.Wire(84) - << "y"
16:49:26,045 DEBUG httpclient.Wire(84) - << "."
16:49:26,045 DEBUG httpclient.Wire(84) - << "j"
16:49:26,045 DEBUG httpclient.Wire(84) - << "a"
16:49:26,045 DEBUG httpclient.Wire(84) - << "v"
16:49:26,045 DEBUG httpclient.Wire(84) - << "a"
16:49:26,045 DEBUG httpclient.Wire(84) - << ":"
16:49:26,046 DEBUG httpclient.Wire(84) - << "4"
16:49:26,046 DEBUG httpclient.Wire(84) - << "3"
16:49:26,046 DEBUG httpclient.Wire(84) - << "5"
16:49:26,046 DEBUG httpclient.Wire(84) - << ")"
16:49:26,046 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,046 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,047 DEBUG httpclient.Wire(84) - << "o"
16:49:26,047 DEBUG httpclient.Wire(84) - << "r"
16:49:26,047 DEBUG httpclient.Wire(84) - << "g"
16:49:26,047 DEBUG httpclient.Wire(84) - << "."
16:49:26,047 DEBUG httpclient.Wire(84) - << "a"
16:49:26,047 DEBUG httpclient.Wire(84) - << "p"
16:49:26,047 DEBUG httpclient.Wire(84) - << "a"
16:49:26,048 DEBUG httpclient.Wire(84) - << "c"
16:49:26,048 DEBUG httpclient.Wire(84) - << "h"
16:49:26,048 DEBUG httpclient.Wire(84) - << "e"
16:49:26,048 DEBUG httpclient.Wire(84) - << "."
16:49:26,048 DEBUG httpclient.Wire(84) - << "c"
16:49:26,048 DEBUG httpclient.Wire(84) - << "o"
16:49:26,048 DEBUG httpclient.Wire(84) - << "m"
16:49:26,049 DEBUG httpclient.Wire(84) - << "m"
16:49:26,049 DEBUG httpclient.Wire(84) - << "o"
16:49:26,049 DEBUG httpclient.Wire(84) - << "n"
16:49:26,049 DEBUG httpclient.Wire(84) - << "s"
16:49:26,049 DEBUG httpclient.Wire(84) - << "."
16:49:26,049 DEBUG httpclient.Wire(84) - << "l"
16:49:26,050 DEBUG httpclient.Wire(84) - << "o"
16:49:26,050 DEBUG httpclient.Wire(84) - << "g"
16:49:26,050 DEBUG httpclient.Wire(84) - << "g"
16:49:26,050 DEBUG httpclient.Wire(84) - << "i"
16:49:26,050 DEBUG httpclient.Wire(84) - << "n"
16:49:26,050 DEBUG httpclient.Wire(84) - << "g"
16:49:26,050 DEBUG httpclient.Wire(84) - << "."
16:49:26,051 DEBUG httpclient.Wire(84) - << "L"
16:49:26,051 DEBUG httpclient.Wire(84) - << "o"
16:49:26,051 DEBUG httpclient.Wire(84) - << "g"
16:49:26,051 DEBUG httpclient.Wire(84) - << "F"
16:49:26,051 DEBUG httpclient.Wire(84) - << "a"
16:49:26,051 DEBUG httpclient.Wire(84) - << "c"
16:49:26,051 DEBUG httpclient.Wire(84) - << "t"
16:49:26,052 DEBUG httpclient.Wire(84) - << "o"
16:49:26,052 DEBUG httpclient.Wire(84) - << "r"
16:49:26,052 DEBUG httpclient.Wire(84) - << "y"
16:49:26,052 DEBUG httpclient.Wire(84) - << "."
16:49:26,052 DEBUG httpclient.Wire(84) - << "g"
16:49:26,052 DEBUG httpclient.Wire(84) - << "e"
16:49:26,053 DEBUG httpclient.Wire(84) - << "t"
16:49:26,053 DEBUG httpclient.Wire(84) - << "L"
16:49:26,053 DEBUG httpclient.Wire(84) - << "o"
16:49:26,053 DEBUG httpclient.Wire(84) - << "g"
16:49:26,053 DEBUG httpclient.Wire(84) - << "("
16:49:26,053 DEBUG httpclient.Wire(84) - << "L"
16:49:26,053 DEBUG httpclient.Wire(84) - << "o"
16:49:26,054 DEBUG httpclient.Wire(84) - << "g"
16:49:26,054 DEBUG httpclient.Wire(84) - << "F"
16:49:26,054 DEBUG httpclient.Wire(84) - << "a"
16:49:26,054 DEBUG httpclient.Wire(84) - << "c"
16:49:26,054 DEBUG httpclient.Wire(84) - << "t"
16:49:26,055 DEBUG httpclient.Wire(84) - << "o"
16:49:26,055 DEBUG httpclient.Wire(84) - << "r"
16:49:26,055 DEBUG httpclient.Wire(84) - << "y"
16:49:26,055 DEBUG httpclient.Wire(84) - << "."
16:49:26,055 DEBUG httpclient.Wire(84) - << "j"
16:49:26,055 DEBUG httpclient.Wire(84) - << "a"
16:49:26,056 DEBUG httpclient.Wire(84) - << "v"
16:49:26,056 DEBUG httpclient.Wire(84) - << "a"
16:49:26,056 DEBUG httpclient.Wire(84) - << ":"
16:49:26,056 DEBUG httpclient.Wire(84) - << "6"
16:49:26,056 DEBUG httpclient.Wire(84) - << "8"
16:49:26,056 DEBUG httpclient.Wire(84) - << "5"
16:49:26,057 DEBUG httpclient.Wire(84) - << ")"
16:49:26,057 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,057 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,057 DEBUG httpclient.Wire(84) - << "o"
16:49:26,057 DEBUG httpclient.Wire(84) - << "r"
16:49:26,058 DEBUG httpclient.Wire(84) - << "g"
16:49:26,058 DEBUG httpclient.Wire(84) - << "."
16:49:26,058 DEBUG httpclient.Wire(84) - << "a"
16:49:26,058 DEBUG httpclient.Wire(84) - << "p"
16:49:26,059 DEBUG httpclient.Wire(84) - << "a"
16:49:26,059 DEBUG httpclient.Wire(84) - << "c"
16:49:26,059 DEBUG httpclient.Wire(84) - << "h"
16:49:26,059 DEBUG httpclient.Wire(84) - << "e"
16:49:26,060 DEBUG httpclient.Wire(84) - << "."
16:49:26,060 DEBUG httpclient.Wire(84) - << "a"
16:49:26,060 DEBUG httpclient.Wire(84) - << "x"
16:49:26,060 DEBUG httpclient.Wire(84) - << "i"
16:49:26,060 DEBUG httpclient.Wire(84) - << "s"
16:49:26,060 DEBUG httpclient.Wire(84) - << "2"
16:49:26,060 DEBUG httpclient.Wire(84) - << "."
16:49:26,061 DEBUG httpclient.Wire(84) - << "u"
16:49:26,061 DEBUG httpclient.Wire(84) - << "t"
16:49:26,061 DEBUG httpclient.Wire(84) - << "i"
16:49:26,061 DEBUG httpclient.Wire(84) - << "l"
16:49:26,061 DEBUG httpclient.Wire(84) - << "."
16:49:26,061 DEBUG httpclient.Wire(84) - << "O"
16:49:26,061 DEBUG httpclient.Wire(84) - << "n"
16:49:26,062 DEBUG httpclient.Wire(84) - << "D"
16:49:26,062 DEBUG httpclient.Wire(84) - << "e"
16:49:26,062 DEBUG httpclient.Wire(84) - << "m"
16:49:26,062 DEBUG httpclient.Wire(84) - << "a"
16:49:26,062 DEBUG httpclient.Wire(84) - << "n"
16:49:26,062 DEBUG httpclient.Wire(84) - << "d"
16:49:26,063 DEBUG httpclient.Wire(84) - << "L"
16:49:26,063 DEBUG httpclient.Wire(84) - << "o"
16:49:26,063 DEBUG httpclient.Wire(84) - << "g"
16:49:26,063 DEBUG httpclient.Wire(84) - << "g"
16:49:26,063 DEBUG httpclient.Wire(84) - << "e"
16:49:26,063 DEBUG httpclient.Wire(84) - << "r"
16:49:26,063 DEBUG httpclient.Wire(84) - << "."
16:49:26,064 DEBUG httpclient.Wire(84) - << "g"
16:49:26,064 DEBUG httpclient.Wire(84) - << "e"
16:49:26,064 DEBUG httpclient.Wire(84) - << "t"
16:49:26,064 DEBUG httpclient.Wire(84) - << "L"
16:49:26,064 DEBUG httpclient.Wire(84) - << "o"
16:49:26,064 DEBUG httpclient.Wire(84) - << "g"
16:49:26,064 DEBUG httpclient.Wire(84) - << "("
16:49:26,065 DEBUG httpclient.Wire(84) - << "O"
16:49:26,065 DEBUG httpclient.Wire(84) - << "n"
16:49:26,065 DEBUG httpclient.Wire(84) - << "D"
16:49:26,065 DEBUG httpclient.Wire(84) - << "e"
16:49:26,065 DEBUG httpclient.Wire(84) - << "m"
16:49:26,065 DEBUG httpclient.Wire(84) - << "a"
16:49:26,066 DEBUG httpclient.Wire(84) - << "n"
16:49:26,066 DEBUG httpclient.Wire(84) - << "d"
16:49:26,066 DEBUG httpclient.Wire(84) - << "L"
16:49:26,066 DEBUG httpclient.Wire(84) - << "o"
16:49:26,066 DEBUG httpclient.Wire(84) - << "g"
16:49:26,066 DEBUG httpclient.Wire(84) - << "g"
16:49:26,066 DEBUG httpclient.Wire(84) - << "e"
16:49:26,067 DEBUG httpclient.Wire(84) - << "r"
16:49:26,067 DEBUG httpclient.Wire(84) - << "."
16:49:26,067 DEBUG httpclient.Wire(84) - << "j"
16:49:26,067 DEBUG httpclient.Wire(84) - << "a"
16:49:26,067 DEBUG httpclient.Wire(84) - << "v"
16:49:26,067 DEBUG httpclient.Wire(84) - << "a"
16:49:26,067 DEBUG httpclient.Wire(84) - << ":"
16:49:26,068 DEBUG httpclient.Wire(84) - << "5"
16:49:26,068 DEBUG httpclient.Wire(84) - << "3"
16:49:26,068 DEBUG httpclient.Wire(84) - << ")"
16:49:26,068 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,068 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,069 DEBUG httpclient.Wire(84) - << "o"
16:49:26,069 DEBUG httpclient.Wire(84) - << "r"
16:49:26,069 DEBUG httpclient.Wire(84) - << "g"
16:49:26,069 DEBUG httpclient.Wire(84) - << "."
16:49:26,069 DEBUG httpclient.Wire(84) - << "a"
16:49:26,069 DEBUG httpclient.Wire(84) - << "p"
16:49:26,069 DEBUG httpclient.Wire(84) - << "a"
16:49:26,070 DEBUG httpclient.Wire(84) - << "c"
16:49:26,070 DEBUG httpclient.Wire(84) - << "h"
16:49:26,070 DEBUG httpclient.Wire(84) - << "e"
16:49:26,070 DEBUG httpclient.Wire(84) - << "."
16:49:26,070 DEBUG httpclient.Wire(84) - << "a"
16:49:26,070 DEBUG httpclient.Wire(84) - << "x"
16:49:26,070 DEBUG httpclient.Wire(84) - << "i"
16:49:26,071 DEBUG httpclient.Wire(84) - << "s"
16:49:26,071 DEBUG httpclient.Wire(84) - << "2"
16:49:26,071 DEBUG httpclient.Wire(84) - << "."
16:49:26,071 DEBUG httpclient.Wire(84) - << "u"
16:49:26,071 DEBUG httpclient.Wire(84) - << "t"
16:49:26,071 DEBUG httpclient.Wire(84) - << "i"
16:49:26,072 DEBUG httpclient.Wire(84) - << "l"
16:49:26,072 DEBUG httpclient.Wire(84) - << "."
16:49:26,072 DEBUG httpclient.Wire(84) - << "O"
16:49:26,072 DEBUG httpclient.Wire(84) - << "n"
16:49:26,072 DEBUG httpclient.Wire(84) - << "D"
16:49:26,072 DEBUG httpclient.Wire(84) - << "e"
16:49:26,072 DEBUG httpclient.Wire(84) - << "m"
16:49:26,073 DEBUG httpclient.Wire(84) - << "a"
16:49:26,073 DEBUG httpclient.Wire(84) - << "n"
16:49:26,073 DEBUG httpclient.Wire(84) - << "d"
16:49:26,073 DEBUG httpclient.Wire(84) - << "L"
16:49:26,073 DEBUG httpclient.Wire(84) - << "o"
16:49:26,073 DEBUG httpclient.Wire(84) - << "g"
16:49:26,073 DEBUG httpclient.Wire(84) - << "g"
16:49:26,074 DEBUG httpclient.Wire(84) - << "e"
16:49:26,074 DEBUG httpclient.Wire(84) - << "r"
16:49:26,074 DEBUG httpclient.Wire(84) - << "."
16:49:26,074 DEBUG httpclient.Wire(84) - << "e"
16:49:26,074 DEBUG httpclient.Wire(84) - << "r"
16:49:26,074 DEBUG httpclient.Wire(84) - << "r"
16:49:26,075 DEBUG httpclient.Wire(84) - << "o"
16:49:26,075 DEBUG httpclient.Wire(84) - << "r"
16:49:26,075 DEBUG httpclient.Wire(84) - << "("
16:49:26,075 DEBUG httpclient.Wire(84) - << "O"
16:49:26,075 DEBUG httpclient.Wire(84) - << "n"
16:49:26,075 DEBUG httpclient.Wire(84) - << "D"
16:49:26,075 DEBUG httpclient.Wire(84) - << "e"
16:49:26,076 DEBUG httpclient.Wire(84) - << "m"
16:49:26,076 DEBUG httpclient.Wire(84) - << "a"
16:49:26,076 DEBUG httpclient.Wire(84) - << "n"
16:49:26,076 DEBUG httpclient.Wire(84) - << "d"
16:49:26,076 DEBUG httpclient.Wire(84) - << "L"
16:49:26,076 DEBUG httpclient.Wire(84) - << "o"
16:49:26,076 DEBUG httpclient.Wire(84) - << "g"
16:49:26,077 DEBUG httpclient.Wire(84) - << "g"
16:49:26,077 DEBUG httpclient.Wire(84) - << "e"
16:49:26,077 DEBUG httpclient.Wire(84) - << "r"
16:49:26,077 DEBUG httpclient.Wire(84) - << "."
16:49:26,077 DEBUG httpclient.Wire(84) - << "j"
16:49:26,077 DEBUG httpclient.Wire(84) - << "a"
16:49:26,078 DEBUG httpclient.Wire(84) - << "v"
16:49:26,078 DEBUG httpclient.Wire(84) - << "a"
16:49:26,078 DEBUG httpclient.Wire(84) - << ":"
16:49:26,078 DEBUG httpclient.Wire(84) - << "9"
16:49:26,079 DEBUG httpclient.Wire(84) - << "0"
16:49:26,079 DEBUG httpclient.Wire(84) - << ")"
16:49:26,079 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,079 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,079 DEBUG httpclient.Wire(84) - << "o"
16:49:26,080 DEBUG httpclient.Wire(84) - << "r"
16:49:26,080 DEBUG httpclient.Wire(84) - << "g"
16:49:26,080 DEBUG httpclient.Wire(84) - << "."
16:49:26,080 DEBUG httpclient.Wire(84) - << "a"
16:49:26,081 DEBUG httpclient.Wire(84) - << "p"
16:49:26,081 DEBUG httpclient.Wire(84) - << "a"
16:49:26,081 DEBUG httpclient.Wire(84) - << "c"
16:49:26,081 DEBUG httpclient.Wire(84) - << "h"
16:49:26,081 DEBUG httpclient.Wire(84) - << "e"
16:49:26,082 DEBUG httpclient.Wire(84) - << "."
16:49:26,082 DEBUG httpclient.Wire(84) - << "a"
16:49:26,082 DEBUG httpclient.Wire(84) - << "x"
16:49:26,082 DEBUG httpclient.Wire(84) - << "i"
16:49:26,082 DEBUG httpclient.Wire(84) - << "s"
16:49:26,082 DEBUG httpclient.Wire(84) - << "2"
16:49:26,083 DEBUG httpclient.Wire(84) - << "."
16:49:26,083 DEBUG httpclient.Wire(84) - << "t"
16:49:26,083 DEBUG httpclient.Wire(84) - << "r"
16:49:26,083 DEBUG httpclient.Wire(84) - << "a"
16:49:26,083 DEBUG httpclient.Wire(84) - << "n"
16:49:26,083 DEBUG httpclient.Wire(84) - << "s"
16:49:26,084 DEBUG httpclient.Wire(84) - << "p"
16:49:26,084 DEBUG httpclient.Wire(84) - << "o"
16:49:26,084 DEBUG httpclient.Wire(84) - << "r"
16:49:26,084 DEBUG httpclient.Wire(84) - << "t"
16:49:26,084 DEBUG httpclient.Wire(84) - << "."
16:49:26,084 DEBUG httpclient.Wire(84) - << "h"
16:49:26,085 DEBUG httpclient.Wire(84) - << "t"
16:49:26,085 DEBUG httpclient.Wire(84) - << "t"
16:49:26,085 DEBUG httpclient.Wire(84) - << "p"
16:49:26,085 DEBUG httpclient.Wire(84) - << "."
16:49:26,086 DEBUG httpclient.Wire(84) - << "A"
16:49:26,086 DEBUG httpclient.Wire(84) - << "x"
16:49:26,086 DEBUG httpclient.Wire(84) - << "i"
16:49:26,086 DEBUG httpclient.Wire(84) - << "s"
16:49:26,086 DEBUG httpclient.Wire(84) - << "S"
16:49:26,087 DEBUG httpclient.Wire(84) - << "e"
16:49:26,087 DEBUG httpclient.Wire(84) - << "r"
16:49:26,087 DEBUG httpclient.Wire(84) - << "v"
16:49:26,087 DEBUG httpclient.Wire(84) - << "l"
16:49:26,087 DEBUG httpclient.Wire(84) - << "e"
16:49:26,087 DEBUG httpclient.Wire(84) - << "t"
16:49:26,088 DEBUG httpclient.Wire(84) - << "."
16:49:26,088 DEBUG httpclient.Wire(84) - << "d"
16:49:26,088 DEBUG httpclient.Wire(84) - << "o"
16:49:26,088 DEBUG httpclient.Wire(84) - << "P"
16:49:26,088 DEBUG httpclient.Wire(84) - << "o"
16:49:26,089 DEBUG httpclient.Wire(84) - << "s"
16:49:26,089 DEBUG httpclient.Wire(84) - << "t"
16:49:26,089 DEBUG httpclient.Wire(84) - << "("
16:49:26,089 DEBUG httpclient.Wire(84) - << "A"
16:49:26,089 DEBUG httpclient.Wire(84) - << "x"
16:49:26,089 DEBUG httpclient.Wire(84) - << "i"
16:49:26,090 DEBUG httpclient.Wire(84) - << "s"
16:49:26,090 DEBUG httpclient.Wire(84) - << "S"
16:49:26,090 DEBUG httpclient.Wire(84) - << "e"
16:49:26,090 DEBUG httpclient.Wire(84) - << "r"
16:49:26,090 DEBUG httpclient.Wire(84) - << "v"
16:49:26,091 DEBUG httpclient.Wire(84) - << "l"
16:49:26,091 DEBUG httpclient.Wire(84) - << "e"
16:49:26,091 DEBUG httpclient.Wire(84) - << "t"
16:49:26,091 DEBUG httpclient.Wire(84) - << "."
16:49:26,091 DEBUG httpclient.Wire(84) - << "j"
16:49:26,091 DEBUG httpclient.Wire(84) - << "a"
16:49:26,092 DEBUG httpclient.Wire(84) - << "v"
16:49:26,092 DEBUG httpclient.Wire(84) - << "a"
16:49:26,092 DEBUG httpclient.Wire(84) - << ":"
16:49:26,092 DEBUG httpclient.Wire(84) - << "1"
16:49:26,092 DEBUG httpclient.Wire(84) - << "9"
16:49:26,093 DEBUG httpclient.Wire(84) - << "3"
16:49:26,093 DEBUG httpclient.Wire(84) - << ")"
16:49:26,093 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,093 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,093 DEBUG httpclient.Wire(84) - << "j"
16:49:26,094 DEBUG httpclient.Wire(84) - << "a"
16:49:26,094 DEBUG httpclient.Wire(84) - << "v"
16:49:26,094 DEBUG httpclient.Wire(84) - << "a"
16:49:26,094 DEBUG httpclient.Wire(84) - << "x"
16:49:26,094 DEBUG httpclient.Wire(84) - << "."
16:49:26,094 DEBUG httpclient.Wire(84) - << "s"
16:49:26,095 DEBUG httpclient.Wire(84) - << "e"
16:49:26,095 DEBUG httpclient.Wire(84) - << "r"
16:49:26,095 DEBUG httpclient.Wire(84) - << "v"
16:49:26,095 DEBUG httpclient.Wire(84) - << "l"
16:49:26,095 DEBUG httpclient.Wire(84) - << "e"
16:49:26,096 DEBUG httpclient.Wire(84) - << "t"
16:49:26,096 DEBUG httpclient.Wire(84) - << "."
16:49:26,096 DEBUG httpclient.Wire(84) - << "h"
16:49:26,096 DEBUG httpclient.Wire(84) - << "t"
16:49:26,096 DEBUG httpclient.Wire(84) - << "t"
16:49:26,096 DEBUG httpclient.Wire(84) - << "p"
16:49:26,097 DEBUG httpclient.Wire(84) - << "."
16:49:26,097 DEBUG httpclient.Wire(84) - << "H"
16:49:26,097 DEBUG httpclient.Wire(84) - << "t"
16:49:26,097 DEBUG httpclient.Wire(84) - << "t"
16:49:26,097 DEBUG httpclient.Wire(84) - << "p"
16:49:26,097 DEBUG httpclient.Wire(84) - << "S"
16:49:26,097 DEBUG httpclient.Wire(84) - << "e"
16:49:26,098 DEBUG httpclient.Wire(84) - << "r"
16:49:26,098 DEBUG httpclient.Wire(84) - << "v"
16:49:26,098 DEBUG httpclient.Wire(84) - << "l"
16:49:26,098 DEBUG httpclient.Wire(84) - << "e"
16:49:26,098 DEBUG httpclient.Wire(84) - << "t"
16:49:26,099 DEBUG httpclient.Wire(84) - << "."
16:49:26,099 DEBUG httpclient.Wire(84) - << "s"
16:49:26,099 DEBUG httpclient.Wire(84) - << "e"
16:49:26,099 DEBUG httpclient.Wire(84) - << "r"
16:49:26,099 DEBUG httpclient.Wire(84) - << "v"
16:49:26,099 DEBUG httpclient.Wire(84) - << "i"
16:49:26,100 DEBUG httpclient.Wire(84) - << "c"
16:49:26,100 DEBUG httpclient.Wire(84) - << "e"
16:49:26,100 DEBUG httpclient.Wire(84) - << "("
16:49:26,100 DEBUG httpclient.Wire(84) - << "H"
16:49:26,100 DEBUG httpclient.Wire(84) - << "t"
16:49:26,101 DEBUG httpclient.Wire(84) - << "t"
16:49:26,101 DEBUG httpclient.Wire(84) - << "p"
16:49:26,101 DEBUG httpclient.Wire(84) - << "S"
16:49:26,101 DEBUG httpclient.Wire(84) - << "e"
16:49:26,102 DEBUG httpclient.Wire(84) - << "r"
16:49:26,102 DEBUG httpclient.Wire(84) - << "v"
16:49:26,102 DEBUG httpclient.Wire(84) - << "l"
16:49:26,102 DEBUG httpclient.Wire(84) - << "e"
16:49:26,102 DEBUG httpclient.Wire(84) - << "t"
16:49:26,103 DEBUG httpclient.Wire(84) - << "."
16:49:26,103 DEBUG httpclient.Wire(84) - << "j"
16:49:26,103 DEBUG httpclient.Wire(84) - << "a"
16:49:26,103 DEBUG httpclient.Wire(84) - << "v"
16:49:26,104 DEBUG httpclient.Wire(84) - << "a"
16:49:26,104 DEBUG httpclient.Wire(84) - << ":"
16:49:26,104 DEBUG httpclient.Wire(84) - << "6"
16:49:26,104 DEBUG httpclient.Wire(84) - << "3"
16:49:26,104 DEBUG httpclient.Wire(84) - << "7"
16:49:26,105 DEBUG httpclient.Wire(84) - << ")"
16:49:26,105 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,105 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,105 DEBUG httpclient.Wire(84) - << "j"
16:49:26,105 DEBUG httpclient.Wire(84) - << "a"
16:49:26,105 DEBUG httpclient.Wire(84) - << "v"
16:49:26,106 DEBUG httpclient.Wire(84) - << "a"
16:49:26,106 DEBUG httpclient.Wire(84) - << "x"
16:49:26,106 DEBUG httpclient.Wire(84) - << "."
16:49:26,106 DEBUG httpclient.Wire(84) - << "s"
16:49:26,106 DEBUG httpclient.Wire(84) - << "e"
16:49:26,106 DEBUG httpclient.Wire(84) - << "r"
16:49:26,107 DEBUG httpclient.Wire(84) - << "v"
16:49:26,107 DEBUG httpclient.Wire(84) - << "l"
16:49:26,107 DEBUG httpclient.Wire(84) - << "e"
16:49:26,107 DEBUG httpclient.Wire(84) - << "t"
16:49:26,107 DEBUG httpclient.Wire(84) - << "."
16:49:26,107 DEBUG httpclient.Wire(84) - << "h"
16:49:26,107 DEBUG httpclient.Wire(84) - << "t"
16:49:26,108 DEBUG httpclient.Wire(84) - << "t"
16:49:26,108 DEBUG httpclient.Wire(84) - << "p"
16:49:26,108 DEBUG httpclient.Wire(84) - << "."
16:49:26,108 DEBUG httpclient.Wire(84) - << "H"
16:49:26,108 DEBUG httpclient.Wire(84) - << "t"
16:49:26,108 DEBUG httpclient.Wire(84) - << "t"
16:49:26,109 DEBUG httpclient.Wire(84) - << "p"
16:49:26,109 DEBUG httpclient.Wire(84) - << "S"
16:49:26,109 DEBUG httpclient.Wire(84) - << "e"
16:49:26,109 DEBUG httpclient.Wire(84) - << "r"
16:49:26,109 DEBUG httpclient.Wire(84) - << "v"
16:49:26,109 DEBUG httpclient.Wire(84) - << "l"
16:49:26,109 DEBUG httpclient.Wire(84) - << "e"
16:49:26,110 DEBUG httpclient.Wire(84) - << "t"
16:49:26,110 DEBUG httpclient.Wire(84) - << "."
16:49:26,110 DEBUG httpclient.Wire(84) - << "s"
16:49:26,110 DEBUG httpclient.Wire(84) - << "e"
16:49:26,110 DEBUG httpclient.Wire(84) - << "r"
16:49:26,110 DEBUG httpclient.Wire(84) - << "v"
16:49:26,110 DEBUG httpclient.Wire(84) - << "i"
16:49:26,111 DEBUG httpclient.Wire(84) - << "c"
16:49:26,111 DEBUG httpclient.Wire(84) - << "e"
16:49:26,111 DEBUG httpclient.Wire(84) - << "("
16:49:26,111 DEBUG httpclient.Wire(84) - << "H"
16:49:26,111 DEBUG httpclient.Wire(84) - << "t"
16:49:26,111 DEBUG httpclient.Wire(84) - << "t"
16:49:26,111 DEBUG httpclient.Wire(84) - << "p"
16:49:26,112 DEBUG httpclient.Wire(84) - << "S"
16:49:26,112 DEBUG httpclient.Wire(84) - << "e"
16:49:26,112 DEBUG httpclient.Wire(84) - << "r"
16:49:26,113 DEBUG httpclient.Wire(84) - << "v"
16:49:26,113 DEBUG httpclient.Wire(84) - << "l"
16:49:26,113 DEBUG httpclient.Wire(84) - << "e"
16:49:26,113 DEBUG httpclient.Wire(84) - << "t"
16:49:26,113 DEBUG httpclient.Wire(84) - << "."
16:49:26,114 DEBUG httpclient.Wire(84) - << "j"
16:49:26,114 DEBUG httpclient.Wire(84) - << "a"
16:49:26,114 DEBUG httpclient.Wire(84) - << "v"
16:49:26,114 DEBUG httpclient.Wire(84) - << "a"
16:49:26,115 DEBUG httpclient.Wire(84) - << ":"
16:49:26,115 DEBUG httpclient.Wire(84) - << "7"
16:49:26,115 DEBUG httpclient.Wire(84) - << "1"
16:49:26,115 DEBUG httpclient.Wire(84) - << "7"
16:49:26,116 DEBUG httpclient.Wire(84) - << ")"
16:49:26,116 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,116 DEBUG httpclient.Wire(84) - << "[0x9]"
16:49:26,116 DEBUG httpclient.Wire(84) - << "f"
16:49:26,116 DEBUG httpclient.Wire(84) - << "i"
16:49:26,117 DEBUG httpclient.Wire(84) - << "l"
16:49:26,117 DEBUG httpclient.Wire(84) - << "t"
16:49:26,117 DEBUG httpclient.Wire(84) - << "e"
16:49:26,117 DEBUG httpclient.Wire(84) - << "r"
16:49:26,118 DEBUG httpclient.Wire(84) - << "s"
16:49:26,118 DEBUG httpclient.Wire(84) - << "."
16:49:26,118 DEBUG httpclient.Wire(84) - << "S"
16:49:26,118 DEBUG httpclient.Wire(84) - << "e"
16:49:26,119 DEBUG httpclient.Wire(84) - << "t"
16:49:26,119 DEBUG httpclient.Wire(84) - << "C"
16:49:26,119 DEBUG httpclient.Wire(84) - << "h"
16:49:26,119 DEBUG httpclient.Wire(84) - << "a"
16:49:26,119 DEBUG httpclient.Wire(84) - << "r"
16:49:26,119 DEBUG httpclient.Wire(84) - << "a"
16:49:26,120 DEBUG httpclient.Wire(84) - << "c"
16:49:26,120 DEBUG httpclient.Wire(84) - << "t"
16:49:26,120 DEBUG httpclient.Wire(84) - << "e"
16:49:26,120 DEBUG httpclient.Wire(84) - << "r"
16:49:26,120 DEBUG httpclient.Wire(84) - << "E"
16:49:26,120 DEBUG httpclient.Wire(84) - << "n"
16:49:26,120 DEBUG httpclient.Wire(84) - << "c"
16:49:26,121 DEBUG httpclient.Wire(84) - << "o"
16:49:26,121 DEBUG httpclient.Wire(84) - << "d"
16:49:26,121 DEBUG httpclient.Wire(84) - << "i"
16:49:26,121 DEBUG httpclient.Wire(84) - << "n"
16:49:26,121 DEBUG httpclient.Wire(84) - << "g"
16:49:26,121 DEBUG httpclient.Wire(84) - << "F"
16:49:26,121 DEBUG httpclient.Wire(84) - << "i"
16:49:26,122 DEBUG httpclient.Wire(84) - << "l"
16:49:26,122 DEBUG httpclient.Wire(84) - << "t"
16:49:26,122 DEBUG httpclient.Wire(84) - << "e"
16:49:26,122 DEBUG httpclient.Wire(84) - << "r"
16:49:26,122 DEBUG httpclient.Wire(84) - << "."
16:49:26,122 DEBUG httpclient.Wire(84) - << "d"
16:49:26,122 DEBUG httpclient.Wire(84) - << "o"
16:49:26,123 DEBUG httpclient.Wire(84) - << "F"
16:49:26,123 DEBUG httpclient.Wire(84) - << "i"
16:49:26,123 DEBUG httpclient.Wire(84) - << "l"
16:49:26,123 DEBUG httpclient.Wire(84) - << "t"
16:49:26,123 DEBUG httpclient.Wire(84) - << "e"
16:49:26,123 DEBUG httpclient.Wire(84) - << "r"
16:49:26,123 DEBUG httpclient.Wire(84) - << "("
16:49:26,124 DEBUG httpclient.Wire(84) - << "S"
16:49:26,124 DEBUG httpclient.Wire(84) - << "e"
16:49:26,124 DEBUG httpclient.Wire(84) - << "t"
16:49:26,124 DEBUG httpclient.Wire(84) - << "C"
16:49:26,124 DEBUG httpclient.Wire(84) - << "h"
16:49:26,124 DEBUG httpclient.Wire(84) - << "a"
16:49:26,124 DEBUG httpclient.Wire(84) - << "r"
16:49:26,125 DEBUG httpclient.Wire(84) - << "a"
16:49:26,125 DEBUG httpclient.Wire(84) - << "c"
16:49:26,125 DEBUG httpclient.Wire(84) - << "t"
16:49:26,125 DEBUG httpclient.Wire(84) - << "e"
16:49:26,125 DEBUG httpclient.Wire(84) - << "r"
16:49:26,125 DEBUG httpclient.Wire(84) - << "E"
16:49:26,126 DEBUG httpclient.Wire(84) - << "n"
16:49:26,126 DEBUG httpclient.Wire(84) - << "c"
16:49:26,126 DEBUG httpclient.Wire(84) - << "o"
16:49:26,126 DEBUG httpclient.Wire(84) - << "d"
16:49:26,126 DEBUG httpclient.Wire(84) - << "i"
16:49:26,126 DEBUG httpclient.Wire(84) - << "n"
16:49:26,126 DEBUG httpclient.Wire(84) - << "g"
16:49:26,127 DEBUG httpclient.Wire(84) - << "F"
16:49:26,127 DEBUG httpclient.Wire(84) - << "i"
16:49:26,127 DEBUG httpclient.Wire(84) - << "l"
16:49:26,127 DEBUG httpclient.Wire(84) - << "t"
16:49:26,127 DEBUG httpclient.Wire(84) - << "e"
16:49:26,127 DEBUG httpclient.Wire(84) - << "r"
16:49:26,127 DEBUG httpclient.Wire(84) - << "."
16:49:26,128 DEBUG httpclient.Wire(84) - << "j"
16:49:26,128 DEBUG httpclient.Wire(84) - << "a"
16:49:26,128 DEBUG httpclient.Wire(84) - << "v"
16:49:26,128 DEBUG httpclient.Wire(84) - << "a"
16:49:26,128 DEBUG httpclient.Wire(84) - << ":"
16:49:26,128 DEBUG httpclient.Wire(84) - << "3"
16:49:26,128 DEBUG httpclient.Wire(84) - << "5"
16:49:26,129 DEBUG httpclient.Wire(84) - << ")"
16:49:26,129 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:26,130 DEBUG httpclient.Wire(84) - << "<"
16:49:26,130 DEBUG httpclient.Wire(84) - << "/"
16:49:26,131 DEBUG httpclient.Wire(84) - << "p"
16:49:26,131 DEBUG httpclient.Wire(84) - << "r"
16:49:26,131 DEBUG httpclient.Wire(84) - << "e"
16:49:26,131 DEBUG httpclient.Wire(84) - << ">"
16:49:26,131 DEBUG httpclient.Wire(84) - << "<"
16:49:26,131 DEBUG httpclient.Wire(84) - << "/"
16:49:26,131 DEBUG httpclient.Wire(84) - << "p"
16:49:26,132 DEBUG httpclient.Wire(84) - << ">"
16:49:26,132 DEBUG httpclient.Wire(84) - << "<"
16:49:26,132 DEBUG httpclient.Wire(84) - << "p"
16:49:26,132 DEBUG httpclient.Wire(84) - << ">"
16:49:26,132 DEBUG httpclient.Wire(84) - << "<"
16:49:26,132 DEBUG httpclient.Wire(84) - << "b"
16:49:26,132 DEBUG httpclient.Wire(84) - << ">"
16:49:26,133 DEBUG httpclient.Wire(84) - << "n"
16:49:26,133 DEBUG httpclient.Wire(84) - << "o"
16:49:26,133 DEBUG httpclient.Wire(84) - << "t"
16:49:26,133 DEBUG httpclient.Wire(84) - << "e"
16:49:26,133 DEBUG httpclient.Wire(84) - << "<"
16:49:26,133 DEBUG httpclient.Wire(84) - << "/"
16:49:26,133 DEBUG httpclient.Wire(84) - << "b"
16:49:26,133 DEBUG httpclient.Wire(84) - << ">"
16:49:26,134 DEBUG httpclient.Wire(84) - << " "
16:49:26,134 DEBUG httpclient.Wire(84) - << "<"
16:49:26,134 DEBUG httpclient.Wire(84) - << "u"
16:49:26,134 DEBUG httpclient.Wire(84) - << ">"
16:49:26,134 DEBUG httpclient.Wire(84) - << "T"
16:49:26,135 DEBUG httpclient.Wire(84) - << "h"
16:49:26,135 DEBUG httpclient.Wire(84) - << "e"
16:49:26,135 DEBUG httpclient.Wire(84) - << " "
16:49:26,135 DEBUG httpclient.Wire(84) - << "f"
16:49:26,135 DEBUG httpclient.Wire(84) - << "u"
16:49:26,135 DEBUG httpclient.Wire(84) - << "l"
16:49:26,136 DEBUG httpclient.Wire(84) - << "l"
16:49:26,136 DEBUG httpclient.Wire(84) - << " "
16:49:26,136 DEBUG httpclient.Wire(84) - << "s"
16:49:26,136 DEBUG httpclient.Wire(84) - << "t"
16:49:26,136 DEBUG httpclient.Wire(84) - << "a"
16:49:26,136 DEBUG httpclient.Wire(84) - << "c"
16:49:26,137 DEBUG httpclient.Wire(84) - << "k"
16:49:26,137 DEBUG httpclient.Wire(84) - << " "
16:49:26,137 DEBUG httpclient.Wire(84) - << "t"
16:49:26,137 DEBUG httpclient.Wire(84) - << "r"
16:49:26,137 DEBUG httpclient.Wire(84) - << "a"
16:49:26,137 DEBUG httpclient.Wire(84) - << "c"
16:49:26,137 DEBUG httpclient.Wire(84) - << "e"
16:49:26,138 DEBUG httpclient.Wire(84) - << " "
16:49:26,138 DEBUG httpclient.Wire(84) - << "o"
16:49:26,138 DEBUG httpclient.Wire(84) - << "f"
16:49:26,138 DEBUG httpclient.Wire(84) - << " "
16:49:26,138 DEBUG httpclient.Wire(84) - << "t"
16:49:26,138 DEBUG httpclient.Wire(84) - << "h"
16:49:26,139 DEBUG httpclient.Wire(84) - << "e"
16:49:26,139 DEBUG httpclient.Wire(84) - << " "
16:49:26,139 DEBUG httpclient.Wire(84) - << "r"
16:49:26,139 DEBUG httpclient.Wire(84) - << "o"
16:49:26,139 DEBUG httpclient.Wire(84) - << "o"
16:49:26,139 DEBUG httpclient.Wire(84) - << "t"
16:49:26,140 DEBUG httpclient.Wire(84) - << " "
16:49:26,140 DEBUG httpclient.Wire(84) - << "c"
16:49:26,140 DEBUG httpclient.Wire(84) - << "a"
16:49:26,140 DEBUG httpclient.Wire(84) - << "u"
16:49:26,140 DEBUG httpclient.Wire(84) - << "s"
16:49:26,140 DEBUG httpclient.Wire(84) - << "e"
16:49:26,141 DEBUG httpclient.Wire(84) - << " "
16:49:26,141 DEBUG httpclient.Wire(84) - << "i"
16:49:26,141 DEBUG httpclient.Wire(84) - << "s"
16:49:26,141 DEBUG httpclient.Wire(84) - << " "
16:49:26,141 DEBUG httpclient.Wire(84) - << "a"
16:49:26,141 DEBUG httpclient.Wire(84) - << "v"
16:49:26,142 DEBUG httpclient.Wire(84) - << "a"
16:49:26,142 DEBUG httpclient.Wire(84) - << "i"
16:49:26,142 DEBUG httpclient.Wire(84) - << "l"
16:49:26,142 DEBUG httpclient.Wire(84) - << "a"
16:49:26,142 DEBUG httpclient.Wire(84) - << "b"
16:49:26,142 DEBUG httpclient.Wire(84) - << "l"
16:49:26,143 DEBUG httpclient.Wire(84) - << "e"
16:49:26,143 DEBUG httpclient.Wire(84) - << " "
16:49:26,143 DEBUG httpclient.Wire(84) - << "i"
16:49:26,143 DEBUG httpclient.Wire(84) - << "n"
16:49:26,143 DEBUG httpclient.Wire(84) - << " "
16:49:26,143 DEBUG httpclient.Wire(84) - << "t"
16:49:26,144 DEBUG httpclient.Wire(84) - << "h"
16:49:26,144 DEBUG httpclient.Wire(84) - << "e"
16:49:26,144 DEBUG httpclient.Wire(84) - << " "
16:49:26,144 DEBUG httpclient.Wire(84) - << "A"
16:49:26,144 DEBUG httpclient.Wire(84) - << "p"
16:49:26,145 DEBUG httpclient.Wire(84) - << "a"
16:49:26,145 DEBUG httpclient.Wire(84) - << "c"
16:49:26,145 DEBUG httpclient.Wire(84) - << "h"
16:49:26,145 DEBUG httpclient.Wire(84) - << "e"
16:49:26,145 DEBUG httpclient.Wire(84) - << " "
16:49:26,146 DEBUG httpclient.Wire(84) - << "T"
16:49:26,146 DEBUG httpclient.Wire(84) - << "o"
16:49:26,146 DEBUG httpclient.Wire(84) - << "m"
16:49:26,146 DEBUG httpclient.Wire(84) - << "c"
16:49:26,146 DEBUG httpclient.Wire(84) - << "a"
16:49:26,146 DEBUG httpclient.Wire(84) - << "t"
16:49:26,146 DEBUG httpclient.Wire(84) - << "/"
16:49:26,147 DEBUG httpclient.Wire(84) - << "6"
16:49:26,147 DEBUG httpclient.Wire(84) - << "."
16:49:26,147 DEBUG httpclient.Wire(84) - << "0"
16:49:26,147 DEBUG httpclient.Wire(84) - << "."
16:49:26,147 DEBUG httpclient.Wire(84) - << "3"
16:49:26,147 DEBUG httpclient.Wire(84) - << "3"
16:49:26,147 DEBUG httpclient.Wire(84) - << " "
16:49:26,147 DEBUG httpclient.Wire(84) - << "l"
16:49:26,148 DEBUG httpclient.Wire(84) - << "o"
16:49:26,148 DEBUG httpclient.Wire(84) - << "g"
16:49:26,148 DEBUG httpclient.Wire(84) - << "s"
16:49:26,148 DEBUG httpclient.Wire(84) - << "."
16:49:26,148 DEBUG httpclient.Wire(84) - << "<"
16:49:26,148 DEBUG httpclient.Wire(84) - << "/"
16:49:26,148 DEBUG httpclient.Wire(84) - << "u"
16:49:26,148 DEBUG httpclient.Wire(84) - << ">"
16:49:26,149 DEBUG httpclient.Wire(84) - << "<"
16:49:26,149 DEBUG httpclient.Wire(84) - << "/"
16:49:26,149 DEBUG httpclient.Wire(84) - << "p"
16:49:26,149 DEBUG httpclient.Wire(84) - << ">"
16:49:26,149 DEBUG httpclient.Wire(84) - << "<"
16:49:26,149 DEBUG httpclient.Wire(84) - << "H"
16:49:26,149 DEBUG httpclient.Wire(84) - << "R"
16:49:26,149 DEBUG httpclient.Wire(84) - << " "
16:49:26,150 DEBUG httpclient.Wire(84) - << "s"
16:49:26,150 DEBUG httpclient.Wire(84) - << "i"
16:49:26,150 DEBUG httpclient.Wire(84) - << "z"
16:49:26,150 DEBUG httpclient.Wire(84) - << "e"
16:49:26,150 DEBUG httpclient.Wire(84) - << "="
16:49:26,150 DEBUG httpclient.Wire(84) - << """
16:49:26,150 DEBUG httpclient.Wire(84) - << "1"
16:49:26,150 DEBUG httpclient.Wire(84) - << """
16:49:26,151 DEBUG httpclient.Wire(84) - << " "
16:49:26,151 DEBUG httpclient.Wire(84) - << "n"
16:49:26,151 DEBUG httpclient.Wire(84) - << "o"
16:49:26,151 DEBUG httpclient.Wire(84) - << "s"
16:49:26,151 DEBUG httpclient.Wire(84) - << "h"
16:49:26,151 DEBUG httpclient.Wire(84) - << "a"
16:49:26,151 DEBUG httpclient.Wire(84) - << "d"
16:49:26,152 DEBUG httpclient.Wire(84) - << "e"
16:49:26,152 DEBUG httpclient.Wire(84) - << "="
16:49:26,152 DEBUG httpclient.Wire(84) - << """
16:49:26,152 DEBUG httpclient.Wire(84) - << "n"
16:49:26,152 DEBUG httpclient.Wire(84) - << "o"
16:49:26,152 DEBUG httpclient.Wire(84) - << "s"
16:49:26,153 DEBUG httpclient.Wire(84) - << "h"
16:49:26,153 DEBUG httpclient.Wire(84) - << "a"
16:49:26,153 DEBUG httpclient.Wire(84) - << "d"
16:49:26,153 DEBUG httpclient.Wire(84) - << "e"
16:49:26,153 DEBUG httpclient.Wire(84) - << """
16:49:26,153 DEBUG httpclient.Wire(84) - << ">"
16:49:26,153 DEBUG httpclient.Wire(84) - << "<"
16:49:26,154 DEBUG httpclient.Wire(84) - << "h"
16:49:26,154 DEBUG httpclient.Wire(84) - << "3"
16:49:26,154 DEBUG httpclient.Wire(84) - << ">"
16:49:26,154 DEBUG httpclient.Wire(84) - << "A"
16:49:26,154 DEBUG httpclient.Wire(84) - << "p"
16:49:26,154 DEBUG httpclient.Wire(84) - << "a"
16:49:26,154 DEBUG httpclient.Wire(84) - << "c"
16:49:26,155 DEBUG httpclient.Wire(84) - << "h"
16:49:26,155 DEBUG httpclient.Wire(84) - << "e"
16:49:26,155 DEBUG httpclient.Wire(84) - << " "
16:49:26,155 DEBUG httpclient.Wire(84) - << "T"
16:49:26,155 DEBUG httpclient.Wire(84) - << "o"
16:49:26,155 DEBUG httpclient.Wire(84) - << "m"
16:49:26,155 DEBUG httpclient.Wire(84) - << "c"
16:49:26,155 DEBUG httpclient.Wire(84) - << "a"
16:49:26,156 DEBUG httpclient.Wire(84) - << "t"
16:49:26,156 DEBUG httpclient.Wire(84) - << "/"
16:49:26,156 DEBUG httpclient.Wire(84) - << "6"
16:49:26,156 DEBUG httpclient.Wire(84) - << "."
16:49:26,156 DEBUG httpclient.Wire(84) - << "0"
16:49:26,156 DEBUG httpclient.Wire(84) - << "."
16:49:26,156 DEBUG httpclient.Wire(84) - << "3"
16:49:26,156 DEBUG httpclient.Wire(84) - << "3"
16:49:26,157 DEBUG httpclient.Wire(84) - << "<"
16:49:26,157 DEBUG httpclient.Wire(84) - << "/"
16:49:26,157 DEBUG httpclient.Wire(84) - << "h"
16:49:26,157 DEBUG httpclient.Wire(84) - << "3"
16:49:26,157 DEBUG httpclient.Wire(84) - << ">"
16:49:26,157 DEBUG httpclient.Wire(84) - << "<"
16:49:26,157 DEBUG httpclient.Wire(84) - << "/"
16:49:26,158 DEBUG httpclient.Wire(84) - << "b"
16:49:26,158 DEBUG httpclient.Wire(84) - << "o"
16:49:26,158 DEBUG httpclient.Wire(84) - << "d"
16:49:26,158 DEBUG httpclient.Wire(84) - << "y"
16:49:26,158 DEBUG httpclient.Wire(84) - << ">"
16:49:26,158 DEBUG httpclient.Wire(84) - << "<"
16:49:26,159 DEBUG httpclient.Wire(84) - << "/"
16:49:26,159 DEBUG httpclient.Wire(84) - << "h"
16:49:26,159 DEBUG httpclient.Wire(84) - << "t"
16:49:26,159 DEBUG httpclient.Wire(84) - << "m"
16:49:26,159 DEBUG httpclient.Wire(84) - << "l"
16:49:26,159 DEBUG httpclient.Wire(84) - << ">"
16:49:26,198 ERROR service.NewContConfirm(253) - 新单确认交易失败！
org.apache.axis2.AxisFault: First Element must contain the local name, Envelope , but found html
	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
	at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:123)
	at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:67)
	at org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:354)
	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:421)
	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:113)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:141)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
Caused by: org.apache.axiom.soap.SOAPProcessingException: First Element must contain the local name, Envelope , but found html
	at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.constructNode(StAXSOAPModelBuilder.java:299)
	at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.createOMElement(StAXSOAPModelBuilder.java:246)
	at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.createNextOMElement(StAXSOAPModelBuilder.java:228)
	at org.apache.axiom.om.impl.builder.StAXOMBuilder.next(StAXOMBuilder.java:249)
	at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.getSOAPEnvelope(StAXSOAPModelBuilder.java:198)
	at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.<init>(StAXSOAPModelBuilder.java:154)
	at org.apache.axiom.soap.impl.builder.StAXSOAPModelBuilder.<init>(StAXSOAPModelBuilder.java:140)
	at org.apache.axis2.builder.BuilderUtil.getSOAPBuilder(BuilderUtil.java:686)
	at org.apache.axis2.transport.TransportUtils.createDocumentElement(TransportUtils.java:197)
	at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:145)
	at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:108)
	... 11 more
16:49:27,138 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:49:27,139 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:49:27,140 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3725,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011420',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='First Element must contain the local name, Envelope , but found html',UsedTime=256,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3725_3_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=164509,ModifyDate=20161209,ModifyTime=164926,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011420'
16:49:27,409 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:49:27,410 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:49:27,412 INFO common.Log4jPrint(20) - 使用的样式表：null
16:49:27,419 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:49:27,420 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:49:27,421 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:49:27,495 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:49:27,514 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:49:27,516 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:49:27,521 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:49:27,522 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:49:27,526 INFO common.SaveMessage(69) - 3725_9_1014_out.xml IO输出耗时:0.0020s
16:49:27,527 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3725_9_1014_out.xml
16:49:27,528 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>871</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2135</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209164509195</SYS_RECV_TIME><SYS_RESP_TIME>20161209164927521</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>68</SYS_RESP_DESC_LEN><SYS_RESP_DESC>First Element must contain the local name, Envelope , but found html</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011420</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011420</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:49:27,528 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:49:27,530 INFO test.NewCCBTestUI(519) - 返回报文长度：2146
16:49:27,532 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：337.58s
16:49:28,281 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:49:28,282 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:49:28,561 INFO common.Log4jPrint(20) - i=0
16:49:28,562 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:49:28,562 INFO midplat.Ybt4Socket(170) - 处理总耗时：259.542s
16:49:28,563 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:49:37,808 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
16:49:37,818 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:49:37,818 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:49:37,819 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:49:37,819 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:49:37,826 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
16:49:37,826 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
16:49:37,827 INFO test.NewCCBTestUI(505) - 收到返回报文！
16:49:37,827 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011421</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000020</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:49:37,829 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:49:37,830 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:49:37,835 INFO common.SaveMessage(69) - 3731_12_1014_in.xml IO输出耗时:0.0020s
16:49:37,835 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3731_12_1014_in.xml
16:49:37,836 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:49:37,836 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:49:37,838 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:49:37,838 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:49:37,844 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:49:37,844 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:49:37,845 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:49:37,845 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:49:37,845 INFO common.Log4jPrint(20) - 进程名：3731
16:49:37,845 INFO common.Log4jPrint(20) - trancom:13
16:49:37,845 INFO common.Log4jPrint(20) - FuncFlag:1014
16:49:37,845 INFO common.Log4jPrint(20) - mHeadEle.getChildText3731_12_1014_in.xml
16:49:38,363 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:49:38,364 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3731,13,'110378300','108011rv11481267306011421','77976569',1014,20161230,150851,'101019000002066',-1,-1,'127.0.0.1','108011rv11481266619011388','3731_12_1014_in.xml',20161209,164937,20161209,164937 )
16:49:38,466 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
16:49:38,466 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
16:49:38,467 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:49:38,468 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:49:38,469 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:49:39,288 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002066' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
16:49:39,832 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
16:49:39,851 INFO common.SaveMessage(69) - 3731_15_1_inSvc.xml IO输出耗时:0.018s
16:49:39,852 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3731_15_1_inSvc.xml
16:49:39,853 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:49:39,853 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:49:39,934 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:49:39,935 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:49:39,935 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:49:39,935 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:49:39,936 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
16:49:39,936 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:49:39,936 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:49:39,937 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
16:49:39,937 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyMTwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzczMV8xMl8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjA2NjwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
16:49:39,937 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:49:39,937 DEBUG httpclient.Wire(84) - >> "0"
16:49:39,937 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:49:39,938 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:49:45,313 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:49:45,314 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:49:45,315 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
16:49:45,315 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
16:49:45,316 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:49:45,317 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 08:49:23 GMT[\r][\n]"
16:49:45,317 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:49:45,322 DEBUG httpclient.Wire(84) - << "1"
16:49:45,323 DEBUG httpclient.Wire(84) - << "f"
16:49:45,324 DEBUG httpclient.Wire(84) - << "7"
16:49:45,325 DEBUG httpclient.Wire(84) - << "[\r]"
16:49:45,325 DEBUG httpclient.Wire(70) - << "[\n]"
16:49:45,326 DEBUG httpclient.Wire(84) - << "<?xm"
16:49:45,338 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
16:49:45,346 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+1N29u7fRusXOqqO6MTAxMDE5MDAwMDAyMDY2ILXEvM3CvNLRvq205tTao6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:49:45,356 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002066收费签单(service)耗时：5.503s
16:49:45,365 INFO common.SaveMessage(69) - 3731_18_1_outSvc.xml IO输出耗时:0.0060s
16:49:45,365 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3731_18_1_outSvc.xml
16:49:45,365 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
16:49:45,365 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 暂交费号为：101019000002066 的纪录已经存在！
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:50:06,734 INFO common.Log4jPrint(20) - DBConn Exception1: Io 异常: Read timed out
16:50:06,734 INFO common.Log4jPrint(20) - 	at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:180)
16:50:06,735 INFO common.Log4jPrint(20) - 	at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:222)
16:50:06,735 INFO common.Log4jPrint(20) - 	at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:335)
16:50:06,735 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.<init>(OracleStatement.java:503)
16:50:06,736 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleConnection.privateCreateStatement(OracleConnection.java:683)
16:50:06,736 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleConnection.createStatement(OracleConnection.java:560)
16:50:06,736 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConn.createConnection(DBConn.java:149)
16:50:06,737 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConnPool.getConnection(DBConnPool.java:84)
16:50:06,737 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBOper.update(DBOper.java:260)
16:50:06,737 INFO common.Log4jPrint(20) - 	at com.sinosoft.lis.db.TranLogDB.update(TranLogDB.java:86)
16:50:06,738 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:267)
16:50:06,738 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:50:06,738 INFO common.Log4jPrint(20) - DBConn : recreate DBConn
16:50:06,739 INFO common.Log4jPrint(20) - DBConn Exception2: Io 异常: Connection reset by peer: socket write error
16:50:06,740 INFO common.Log4jPrint(20) - 	at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:180)
16:50:06,740 INFO common.Log4jPrint(20) - 	at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:222)
16:50:06,741 INFO common.Log4jPrint(20) - 	at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:335)
16:50:06,741 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleStatement.<init>(OracleStatement.java:503)
16:50:06,741 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleConnection.privateCreateStatement(OracleConnection.java:683)
16:50:06,742 INFO common.Log4jPrint(20) - 	at oracle.jdbc.driver.OracleConnection.createStatement(OracleConnection.java:560)
16:50:06,742 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConn.createConnection(DBConn.java:149)
16:50:06,742 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConnPool.getConnection(DBConnPool.java:84)
16:50:06,743 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBOper.update(DBOper.java:260)
16:50:06,743 INFO common.Log4jPrint(20) - 	at com.sinosoft.lis.db.TranLogDB.update(TranLogDB.java:86)
16:50:06,743 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:267)
16:50:06,744 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:50:11,905 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:50:11,906 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:50:11,906 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3731,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011421',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002066',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='暂交费号为：101019000002066 的纪录已经存在！',UsedTime=7,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3731_12_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=164937,ModifyDate=20161209,ModifyTime=164945,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011421'
16:50:12,131 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:50:12,132 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:50:12,134 INFO common.Log4jPrint(20) - 使用的样式表：null
16:50:12,134 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:50:12,134 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:50:12,135 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:50:12,190 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:50:12,208 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:50:12,210 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:50:12,214 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:50:12,214 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:50:12,218 INFO common.SaveMessage(69) - 3731_21_1014_out.xml IO输出耗时:0.0020s
16:50:12,218 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3731_21_1014_out.xml
16:50:12,219 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>861</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2125</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209164937838</SYS_RECV_TIME><SYS_RESP_TIME>20161209165012213</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>30</SYS_RESP_DESC_LEN><SYS_RESP_DESC>浜よ垂蜂负锛101019000002066 绾褰宸茬瀛锛</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011421</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011421</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:50:12,219 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:50:12,221 INFO test.NewCCBTestUI(519) - 返回报文长度：2115
16:50:12,223 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：34.404s
16:50:13,036 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:50:13,037 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:50:13,435 INFO common.Log4jPrint(20) - i=0
16:50:13,436 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:50:13,437 INFO midplat.Ybt4Socket(170) - 处理总耗时：35.618s
16:50:13,437 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:53:28,589 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29de6817
16:53:28,597 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:53:28,601 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:53:28,602 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:53:28,604 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
16:53:28,605 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:53:28,605 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:53:28,609 INFO common.XmlConf(64) - conf file modified at (2016-12-09 15:51:22,472) and length=23947 bytes!
16:53:28,686 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:53:28,697 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:53:28,698 INFO common.Log4jPrint(20) - End reset System.out!
16:53:28,699 INFO net.SocketConf(27) - Into SocketConf.load()...
16:53:28,700 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:53:28,701 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
16:53:28,704 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:53:28,704 INFO net.SocketConf(60) - Out SocketConf.load()!
16:53:28,721 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
16:53:28,722 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:53:28,731 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
16:53:28,732 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
16:53:28,732 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:53:28,739 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
16:53:28,740 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
16:53:28,740 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:53:28,748 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
16:53:28,749 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
16:53:28,749 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:53:28,754 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
16:53:28,755 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
16:53:28,755 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
16:53:42,535 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
16:53:42,546 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:53:42,547 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:53:42,547 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
16:53:42,556 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
16:53:42,557 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:53:42,557 INFO test.NewCCBTestUI(505) - 收到返回报文！
16:53:42,579 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:53:42,580 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:53:42,582 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:53:42,588 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:53:43,574 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:53:43,825 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:53:43,980 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:53:43,985 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:53:43,986 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:53:43,987 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:53:43,989 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
16:53:43,994 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011421</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:53:43,999 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:53:44,000 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:53:44,138 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:53:44,139 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:53:44,142 INFO common.SaveMessage(69) - 3737_3_1014_in.xml IO输出耗时:0.0030s
16:53:44,142 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3737_3_1014_in.xml
16:53:44,143 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:53:44,144 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:53:44,146 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:53:44,152 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:53:44,160 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
16:53:44,160 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
16:53:44,161 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,801) and length=3118 bytes!
16:53:44,448 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
16:53:44,452 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_BillNo)" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

16:53:44,452 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
16:53:44,597 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:53:44,597 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:53:44,602 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:53:44,602 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:53:44,611 INFO common.Log4jPrint(20) - 进程名：3737
16:53:44,611 INFO common.Log4jPrint(20) - trancom:13
16:53:44,612 INFO common.Log4jPrint(20) - FuncFlag:1014
16:53:44,612 INFO common.Log4jPrint(20) - mHeadEle.getChildText3737_3_1014_in.xml
16:53:44,811 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:53:44,812 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3737,13,'110378300','108011rv11481267306011421','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3737_3_1014_in.xml',20161209,165344,20161209,165344 )
16:53:44,941 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
16:53:44,945 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:44)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:53:44,951 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:53:44,952 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:53:44,956 INFO common.Log4jPrint(20) - 使用的样式表：null
16:53:44,964 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:53:44,964 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:53:44,965 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:53:45,048 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:53:45,067 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:53:45,070 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:53:45,087 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:53:45,088 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:53:45,096 INFO common.SaveMessage(69) - 3737_6_1014_out.xml IO输出耗时:0.0070s
16:53:45,097 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3737_6_1014_out.xml
16:53:45,098 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2087</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209165344153</SYS_RECV_TIME><SYS_RESP_TIME>20161209165345087</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011421</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011421</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:53:45,098 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:53:45,100 INFO test.NewCCBTestUI(519) - 返回报文长度：2087
16:53:45,101 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：2.554s
16:53:45,113 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
16:53:45,426 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:53:45,427 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:53:45,571 INFO common.Log4jPrint(20) - i=0
16:53:45,571 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:53:45,572 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.586s
16:53:45,573 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:54:28,569 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
16:54:28,579 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:54:28,580 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:54:28,580 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:54:28,580 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:54:28,587 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
16:54:28,588 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
16:54:28,588 INFO test.NewCCBTestUI(505) - 收到返回报文！
16:54:28,588 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011422</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:54:28,591 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:54:28,591 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:54:28,595 INFO common.SaveMessage(69) - 3743_9_1014_in.xml IO输出耗时:0.0020s
16:54:28,595 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3743_9_1014_in.xml
16:54:28,596 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:54:28,596 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:54:28,598 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:54:28,598 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:54:28,605 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:54:28,605 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:54:28,605 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:54:28,605 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:54:28,605 INFO common.Log4jPrint(20) - 进程名：3743
16:54:28,606 INFO common.Log4jPrint(20) - trancom:13
16:54:28,606 INFO common.Log4jPrint(20) - FuncFlag:1014
16:54:28,606 INFO common.Log4jPrint(20) - mHeadEle.getChildText3743_9_1014_in.xml
16:54:28,655 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:54:28,655 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3743,13,'110378300','108011rv11481267306011422','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3743_9_1014_in.xml',20161209,165428,20161209,165428 )
16:54:28,766 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
16:54:28,766 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
16:54:28,767 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:54:28,767 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:54:28,767 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:54:29,048 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002173' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
16:54:29,598 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
16:54:29,602 INFO common.SaveMessage(69) - 3743_12_1_inSvc.xml IO输出耗时:0.0030s
16:54:29,603 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3743_12_1_inSvc.xml
16:54:29,604 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:54:29,605 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:54:29,886 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
16:54:30,337 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:54:30,356 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:54:30,356 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:54:30,357 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:54:30,357 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
16:54:30,357 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:54:30,358 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:54:30,381 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
16:54:30,382 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyMjwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc0M185XzEwMTRfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48QmFua0NvZGU+MDEwNDwvQmFua0NvZGU+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE5MDAwMDAyMTczPC9Qcm9wb3NhbFBydE5vPjxQcmVtPjEwMDAwLjAwPC9QcmVtPjxPbGRUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NjYxOTAxMTM4ODwvT2xkVHJhbk5vPjxDb250Tm8gLz48Q29udFBydE5vPjwvQ29udFBydE5vPjxCa1BheU1vZGU+MDwvQmtQYXlNb2RlPjxCa0FjY3RObz40MzQwNjEwMDEyMTc1MzkxPC9Ca0FjY3RObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
16:54:30,383 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:54:30,383 DEBUG httpclient.Wire(84) - >> "0"
16:54:30,383 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:54:30,384 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:58:30,111 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:58:30,112 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
16:58:30,133 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
16:58:30,134 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
16:58:30,134 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
16:58:30,134 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 08:58:11 GMT[\r][\n]"
16:58:30,135 DEBUG httpclient.Wire(70) - << "[\r][\n]"
16:58:30,150 DEBUG httpclient.Wire(84) - << "2"
16:58:30,150 DEBUG httpclient.Wire(84) - << "0"
16:58:30,150 DEBUG httpclient.Wire(84) - << "7"
16:58:30,151 DEBUG httpclient.Wire(84) - << "[\r]"
16:58:30,151 DEBUG httpclient.Wire(70) - << "[\n]"
16:58:30,151 DEBUG httpclient.Wire(84) - << "<?xm"
16:58:30,156 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
16:58:30,165 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjE3M9TdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
16:58:30,173 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002173收费签单(service)耗时：240.568s
16:58:30,176 INFO common.SaveMessage(69) - 3743_15_1_outSvc.xml IO输出耗时:0.0010s
16:58:30,176 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3743_15_1_outSvc.xml
16:58:30,176 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
16:58:30,177 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002173暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:58:30,298 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:58:30,298 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:58:30,299 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3743,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011422',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002173',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002173暂收费分类存在未到账保费,不能签单!',UsedTime=241,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3743_9_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=165428,ModifyDate=20161209,ModifyTime=165830,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011422'
16:58:30,333 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
16:58:30,334 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
16:58:30,335 INFO common.Log4jPrint(20) - 使用的样式表：null
16:58:30,336 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
16:58:30,336 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
16:58:30,337 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
16:58:30,391 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
16:58:30,409 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

16:58:30,412 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
16:58:30,416 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
16:58:30,416 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:58:30,430 INFO common.SaveMessage(69) - 3743_18_1014_out.xml IO输出耗时:0.012s
16:58:30,431 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3743_18_1014_out.xml
16:58:30,432 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2142</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209165428599</SYS_RECV_TIME><SYS_RESP_TIME>20161209165830416</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002173惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011422</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011422</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:58:30,432 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
16:58:30,434 INFO test.NewCCBTestUI(519) - 返回报文长度：2124
16:58:30,435 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：241.856s
16:58:31,226 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:58:31,227 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
16:58:31,460 INFO common.Log4jPrint(20) - i=0
16:58:31,460 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
16:58:31,460 INFO midplat.Ybt4Socket(170) - 处理总耗时：242.88s
16:58:31,461 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:58:41,894 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
16:58:41,904 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:58:41,904 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:58:41,905 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:58:41,905 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:58:41,912 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
16:58:41,913 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
16:58:41,913 INFO test.NewCCBTestUI(505) - 收到返回报文！
16:58:41,913 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011423</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:58:41,916 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
16:58:41,924 INFO newNet.CcbNetImpl(58) - mTranCom==============13
16:58:41,928 INFO common.SaveMessage(69) - 3749_21_1014_in.xml IO输出耗时:0.0010s
16:58:41,929 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3749_21_1014_in.xml
16:58:41,929 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:58:41,930 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:58:41,932 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
16:58:41,932 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
16:58:41,940 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
16:58:41,941 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
16:58:41,941 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
16:58:41,941 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
16:58:41,942 INFO common.Log4jPrint(20) - 进程名：3749
16:58:41,942 INFO common.Log4jPrint(20) - trancom:13
16:58:41,942 INFO common.Log4jPrint(20) - FuncFlag:1014
16:58:41,942 INFO common.Log4jPrint(20) - mHeadEle.getChildText3749_21_1014_in.xml
16:58:41,989 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:58:41,990 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3749,13,'110378300','108011rv11481267306011423','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3749_21_1014_in.xml',20161209,165841,20161209,165841 )
16:58:42,026 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
16:58:42,027 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
16:58:42,028 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:58:42,029 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:58:42,030 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
16:58:42,087 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002173' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
16:58:42,173 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
16:58:42,177 INFO common.SaveMessage(69) - 3749_24_1_inSvc.xml IO输出耗时:0.0040s
16:58:42,178 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3749_24_1_inSvc.xml
16:58:42,179 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:58:42,179 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
16:58:42,230 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
16:58:42,230 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
16:58:42,231 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
16:58:42,231 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
16:58:42,231 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
16:58:42,232 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
16:58:42,232 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:58:42,233 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
16:58:42,233 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyMzwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc0OV8yMV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjE3MzwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
16:58:42,233 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:58:42,234 DEBUG httpclient.Wire(84) - >> "0"
16:58:42,234 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
16:58:42,234 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:00:27,655 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:00:27,657 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:00:27,658 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:00:27,659 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:00:27,660 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:00:27,661 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:00:08 GMT[\r][\n]"
17:00:27,662 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:00:27,664 DEBUG httpclient.Wire(84) - << "2"
17:00:27,665 DEBUG httpclient.Wire(84) - << "0"
17:00:27,666 DEBUG httpclient.Wire(84) - << "7"
17:00:27,667 DEBUG httpclient.Wire(84) - << "[\r]"
17:00:27,668 DEBUG httpclient.Wire(70) - << "[\n]"
17:00:27,669 DEBUG httpclient.Wire(84) - << "<?xm"
17:00:27,670 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:00:27,672 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjE3M9TdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:00:27,674 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002173收费签单(service)耗时：105.494s
17:00:27,678 INFO common.SaveMessage(69) - 3749_27_1_outSvc.xml IO输出耗时:0.0010s
17:00:27,678 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3749_27_1_outSvc.xml
17:00:27,679 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:00:27,679 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002173暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:00:27,720 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:00:27,721 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:00:27,721 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3749,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011423',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002173',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002173暂收费分类存在未到账保费,不能签单!',UsedTime=105,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3749_21_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=165841,ModifyDate=20161209,ModifyTime=170027,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011423'
17:00:27,743 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
17:00:27,743 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
17:00:27,745 INFO common.Log4jPrint(20) - 使用的样式表：null
17:00:27,746 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
17:00:27,747 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
17:00:27,748 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
17:00:27,827 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
17:00:27,842 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:00:27,844 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
17:00:27,847 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
17:00:27,848 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:00:27,878 INFO common.SaveMessage(69) - 3749_30_1014_out.xml IO输出耗时:0.029s
17:00:27,879 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3749_30_1014_out.xml
17:00:27,879 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2142</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209165841932</SYS_RECV_TIME><SYS_RESP_TIME>20161209170027847</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002173惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011423</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011423</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:00:27,880 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:00:27,881 INFO test.NewCCBTestUI(519) - 返回报文长度：2124
17:00:27,883 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：105.978s
17:00:27,919 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:00:27,919 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:00:27,949 INFO common.Log4jPrint(20) - i=0
17:00:27,949 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:00:27,950 INFO midplat.Ybt4Socket(170) - 处理总耗时：106.045s
17:00:27,950 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:00:33,724 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:00:33,735 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:00:33,736 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:00:33,736 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:00:33,737 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:00:33,744 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
17:00:33,745 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
17:00:33,745 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:00:33,746 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011424</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:00:33,748 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
17:00:33,749 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:00:33,752 INFO common.SaveMessage(69) - 3755_33_1014_in.xml IO输出耗时:0.0010s
17:00:33,752 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3755_33_1014_in.xml
17:00:33,753 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:00:33,753 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:00:33,756 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
17:00:33,756 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
17:00:33,762 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
17:00:33,763 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
17:00:33,763 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
17:00:33,763 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:00:33,763 INFO common.Log4jPrint(20) - 进程名：3755
17:00:33,764 INFO common.Log4jPrint(20) - trancom:13
17:00:33,764 INFO common.Log4jPrint(20) - FuncFlag:1014
17:00:33,764 INFO common.Log4jPrint(20) - mHeadEle.getChildText3755_33_1014_in.xml
17:00:33,836 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:00:33,837 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3755,13,'110378300','108011rv11481267306011424','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3755_33_1014_in.xml',20161209,170033,20161209,170033 )
17:00:33,857 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:00:33,857 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
17:00:33,858 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:00:33,858 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:00:33,859 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:00:33,923 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002173' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
17:00:34,007 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:00:34,008 INFO common.SaveMessage(69) - 3755_36_1_inSvc.xml IO输出耗时:0.0010s
17:00:34,008 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3755_36_1_inSvc.xml
17:00:34,009 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:00:34,009 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:00:34,039 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
17:00:34,039 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
17:00:34,040 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
17:00:34,040 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
17:00:34,040 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
17:00:34,040 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
17:00:34,041 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:00:34,042 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
17:00:34,042 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyNDwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc1NV8zM18xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjE3MzwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
17:00:34,042 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:00:34,043 DEBUG httpclient.Wire(84) - >> "0"
17:00:34,043 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:00:34,043 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:01:39,683 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:01:39,684 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:01:39,685 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:01:39,686 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:01:39,687 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:01:39,688 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:01:19 GMT[\r][\n]"
17:01:39,688 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:01:39,690 DEBUG httpclient.Wire(84) - << "2"
17:01:39,690 DEBUG httpclient.Wire(84) - << "0"
17:01:39,691 DEBUG httpclient.Wire(84) - << "7"
17:01:39,692 DEBUG httpclient.Wire(84) - << "[\r]"
17:01:39,693 DEBUG httpclient.Wire(70) - << "[\n]"
17:01:39,693 DEBUG httpclient.Wire(84) - << "<?xm"
17:01:39,694 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:01:39,696 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjE3M9TdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:01:39,698 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002173收费签单(service)耗时：65.689s
17:01:39,703 INFO common.SaveMessage(69) - 3755_39_1_outSvc.xml IO输出耗时:0.0010s
17:01:39,704 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3755_39_1_outSvc.xml
17:01:39,704 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:01:39,705 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002173暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:01:42,264 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:01:42,265 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:01:42,265 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3755,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011424',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002173',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002173暂收费分类存在未到账保费,不能签单!',UsedTime=65,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3755_33_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=170033,ModifyDate=20161209,ModifyTime=170139,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011424'
17:01:42,485 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
17:01:42,486 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
17:01:42,488 INFO common.Log4jPrint(20) - 使用的样式表：null
17:01:42,488 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
17:01:42,489 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
17:01:42,490 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
17:01:42,547 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
17:01:42,562 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:01:42,564 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
17:01:42,568 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
17:01:42,568 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:01:42,587 INFO common.SaveMessage(69) - 3755_42_1014_out.xml IO输出耗时:0.018s
17:01:42,587 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3755_42_1014_out.xml
17:01:42,588 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2142</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209170033757</SYS_RECV_TIME><SYS_RESP_TIME>20161209170142567</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002173惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011424</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011424</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:01:42,588 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:01:42,590 INFO test.NewCCBTestUI(519) - 返回报文长度：2124
17:01:42,591 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：68.856s
17:01:44,162 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:01:44,162 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:01:45,146 INFO common.Log4jPrint(20) - i=0
17:01:45,146 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:01:45,147 INFO midplat.Ybt4Socket(170) - 处理总耗时：71.411s
17:01:45,148 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:03:22,358 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:03:22,369 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:03:22,370 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:03:22,370 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:03:22,370 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:03:22,377 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
17:03:22,378 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
17:03:22,378 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:03:22,379 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011426</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:03:22,383 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
17:03:22,383 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:03:22,386 INFO common.SaveMessage(69) - 3761_45_1014_in.xml IO输出耗时:0.0010s
17:03:22,386 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3761_45_1014_in.xml
17:03:22,387 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:03:22,388 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:03:22,389 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
17:03:22,390 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
17:03:22,396 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
17:03:22,396 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
17:03:22,396 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
17:03:22,396 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:03:22,396 INFO common.Log4jPrint(20) - 进程名：3761
17:03:22,397 INFO common.Log4jPrint(20) - trancom:13
17:03:22,397 INFO common.Log4jPrint(20) - FuncFlag:1014
17:03:22,397 INFO common.Log4jPrint(20) - mHeadEle.getChildText3761_45_1014_in.xml
17:03:22,460 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:03:22,461 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3761,13,'110378300','108011rv11481267306011426','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3761_45_1014_in.xml',20161209,170322,20161209,170322 )
17:03:22,475 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:03:22,476 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
17:03:22,477 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:03:22,478 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:03:22,479 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:03:22,571 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002173' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
17:03:22,682 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:03:22,687 INFO common.SaveMessage(69) - 3761_48_1_inSvc.xml IO输出耗时:0.0040s
17:03:22,688 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3761_48_1_inSvc.xml
17:03:22,689 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:03:22,690 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:03:22,738 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
17:03:22,738 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
17:03:22,739 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
17:03:22,739 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
17:03:22,740 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
17:03:22,740 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
17:03:22,741 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:03:22,742 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
17:03:22,742 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyNjwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc2MV80NV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjE3MzwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
17:03:22,743 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:03:22,743 DEBUG httpclient.Wire(84) - >> "0"
17:03:22,744 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:03:22,744 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:04:17,081 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:04:17,082 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:04:17,083 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:04:17,084 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:04:17,085 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:04:17,086 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:03:58 GMT[\r][\n]"
17:04:17,087 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:04:17,089 DEBUG httpclient.Wire(84) - << "2"
17:04:17,090 DEBUG httpclient.Wire(84) - << "0"
17:04:17,091 DEBUG httpclient.Wire(84) - << "7"
17:04:17,092 DEBUG httpclient.Wire(84) - << "[\r]"
17:04:17,093 DEBUG httpclient.Wire(70) - << "[\n]"
17:04:17,094 DEBUG httpclient.Wire(84) - << "<?xm"
17:04:17,095 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:04:17,097 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjE3M9TdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:04:17,099 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002173收费签单(service)耗时：54.408s
17:04:17,131 INFO common.SaveMessage(69) - 3761_51_1_outSvc.xml IO输出耗时:0.026s
17:04:17,131 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3761_51_1_outSvc.xml
17:04:17,131 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:04:17,132 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002173暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:04:17,200 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:04:17,201 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:04:17,201 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3761,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011426',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002173',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002173暂收费分类存在未到账保费,不能签单!',UsedTime=54,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3761_45_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=170322,ModifyDate=20161209,ModifyTime=170417,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011426'
17:04:17,269 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
17:04:17,269 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
17:04:17,271 INFO common.Log4jPrint(20) - 使用的样式表：null
17:04:17,272 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
17:04:17,272 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
17:04:17,273 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
17:04:17,321 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
17:04:17,336 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:04:17,338 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
17:04:17,342 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
17:04:17,342 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:04:17,344 INFO common.SaveMessage(69) - 3761_54_1014_out.xml IO输出耗时:0.0010s
17:04:17,344 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3761_54_1014_out.xml
17:04:17,345 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2142</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209170322390</SYS_RECV_TIME><SYS_RESP_TIME>20161209170417341</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002173惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011426</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011426</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:04:17,346 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:04:17,348 INFO test.NewCCBTestUI(519) - 返回报文长度：2124
17:04:17,349 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：54.979s
17:04:17,383 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:04:17,383 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:04:17,408 INFO common.Log4jPrint(20) - i=0
17:04:17,409 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:04:17,409 INFO midplat.Ybt4Socket(170) - 处理总耗时：55.039s
17:04:17,409 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:04:23,334 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:04:23,345 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:04:23,345 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:04:23,346 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:04:23,346 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:04:23,353 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
17:04:23,354 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
17:04:23,354 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:04:23,354 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011427</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:04:23,358 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
17:04:23,358 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:04:23,362 INFO common.SaveMessage(69) - 3767_57_1014_in.xml IO输出耗时:0.0010s
17:04:23,363 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3767_57_1014_in.xml
17:04:23,363 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:04:23,364 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:04:23,367 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
17:04:23,367 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
17:04:23,377 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
17:04:23,377 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
17:04:23,378 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
17:04:23,378 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:04:23,379 INFO common.Log4jPrint(20) - 进程名：3767
17:04:23,379 INFO common.Log4jPrint(20) - trancom:13
17:04:23,379 INFO common.Log4jPrint(20) - FuncFlag:1014
17:04:23,379 INFO common.Log4jPrint(20) - mHeadEle.getChildText3767_57_1014_in.xml
17:04:23,447 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:04:23,447 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3767,13,'110378300','108011rv11481267306011427','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3767_57_1014_in.xml',20161209,170423,20161209,170423 )
17:04:23,475 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:04:23,476 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
17:04:23,477 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:04:23,477 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:04:23,478 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:04:23,605 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002173' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
17:04:23,718 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:04:23,719 INFO common.SaveMessage(69) - 3767_60_1_inSvc.xml IO输出耗时:0.0010s
17:04:23,719 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3767_60_1_inSvc.xml
17:04:23,719 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:04:23,720 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:04:23,739 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
17:04:23,740 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
17:04:23,740 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
17:04:23,741 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
17:04:23,741 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
17:04:23,741 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
17:04:23,741 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:04:23,742 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
17:04:23,743 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyNzwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc2N181N18xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjE3MzwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
17:04:23,743 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:04:23,743 DEBUG httpclient.Wire(84) - >> "0"
17:04:23,744 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:04:23,744 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:17:12,041 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:17:12,042 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:17:12,043 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:17:12,044 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:17:12,044 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:17:12,045 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:16:52 GMT[\r][\n]"
17:17:12,046 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:17:12,047 DEBUG httpclient.Wire(84) - << "2"
17:17:12,048 DEBUG httpclient.Wire(84) - << "0"
17:17:12,048 DEBUG httpclient.Wire(84) - << "7"
17:17:12,049 DEBUG httpclient.Wire(84) - << "[\r]"
17:17:12,050 DEBUG httpclient.Wire(70) - << "[\n]"
17:17:12,050 DEBUG httpclient.Wire(84) - << "<?xm"
17:17:12,052 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:17:12,053 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjE3M9TdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:17:12,055 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002173收费签单(service)耗时：768.335s
17:17:12,062 INFO common.SaveMessage(69) - 3767_63_1_outSvc.xml IO输出耗时:0.0020s
17:17:12,063 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3767_63_1_outSvc.xml
17:17:12,063 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:17:12,064 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002173暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:17:12,120 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:17:12,120 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:17:12,121 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3767,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011427',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002173',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002173暂收费分类存在未到账保费,不能签单!',UsedTime=768,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3767_57_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=170423,ModifyDate=20161209,ModifyTime=171712,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011427'
17:17:12,137 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
17:17:12,137 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
17:17:12,138 INFO common.Log4jPrint(20) - 使用的样式表：null
17:17:12,138 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
17:17:12,139 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
17:17:12,139 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
17:17:12,180 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
17:17:12,193 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:17:12,195 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
17:17:12,198 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
17:17:12,198 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:17:12,200 INFO common.SaveMessage(69) - 3767_66_1014_out.xml IO输出耗时:0.0010s
17:17:12,200 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3767_66_1014_out.xml
17:17:12,201 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2142</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209170423368</SYS_RECV_TIME><SYS_RESP_TIME>20161209171712198</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002173惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011427</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011427</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:17:12,201 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:17:12,204 INFO test.NewCCBTestUI(519) - 返回报文长度：2124
17:17:12,205 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：768.859s
17:17:12,238 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:17:12,238 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:17:12,261 INFO common.Log4jPrint(20) - i=0
17:17:12,261 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:17:12,261 INFO midplat.Ybt4Socket(170) - 处理总耗时：768.915s
17:17:12,261 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:17:16,323 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:17:16,333 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:17:16,334 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:17:16,334 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:17:16,334 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:17:16,341 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
17:17:16,342 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
17:17:16,342 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:17:16,342 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011428</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:17:16,344 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
17:17:16,345 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:17:16,348 INFO common.SaveMessage(69) - 3773_69_1014_in.xml IO输出耗时:0.0s
17:17:16,348 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3773_69_1014_in.xml
17:17:16,348 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:17:16,349 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:17:16,350 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
17:17:16,350 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
17:17:16,356 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
17:17:16,356 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
17:17:16,356 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
17:17:16,357 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:17:16,357 INFO common.Log4jPrint(20) - 进程名：3773
17:17:16,357 INFO common.Log4jPrint(20) - trancom:13
17:17:16,357 INFO common.Log4jPrint(20) - FuncFlag:1014
17:17:16,357 INFO common.Log4jPrint(20) - mHeadEle.getChildText3773_69_1014_in.xml
17:17:16,390 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:17:16,391 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3773,13,'110378300','108011rv11481267306011428','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3773_69_1014_in.xml',20161209,171716,20161209,171716 )
17:17:16,403 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:17:16,403 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
17:17:16,404 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:17:16,405 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:17:16,406 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:17:16,495 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002173' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
17:17:16,581 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:17:16,584 INFO common.SaveMessage(69) - 3773_72_1_inSvc.xml IO输出耗时:0.0020s
17:17:16,584 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3773_72_1_inSvc.xml
17:17:16,585 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:17:16,586 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:17:16,634 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
17:17:16,635 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
17:17:16,635 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
17:17:16,636 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
17:17:16,636 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
17:17:16,636 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
17:17:16,637 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:17:16,638 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
17:17:16,639 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyODwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc3M182OV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjE3MzwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
17:17:16,639 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:17:16,639 DEBUG httpclient.Wire(84) - >> "0"
17:17:16,640 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:17:16,640 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:19:47,930 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:19:47,931 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:19:47,932 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:19:47,933 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:19:47,934 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:19:47,934 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:19:28 GMT[\r][\n]"
17:19:47,935 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:19:47,937 DEBUG httpclient.Wire(84) - << "2"
17:19:47,937 DEBUG httpclient.Wire(84) - << "0"
17:19:47,938 DEBUG httpclient.Wire(84) - << "7"
17:19:47,939 DEBUG httpclient.Wire(84) - << "[\r]"
17:19:47,939 DEBUG httpclient.Wire(70) - << "[\n]"
17:19:47,940 DEBUG httpclient.Wire(84) - << "<?xm"
17:19:47,941 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:19:47,942 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82sOjEwMTAxOTAwMDAwMjE3M9TdytW30bfWwOC05tTazrS1vdXLsaO30Syyu8Tcx6m1pSE8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:19:47,944 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002173收费签单(service)耗时：151.357s
17:19:47,976 INFO common.SaveMessage(69) - 3773_75_1_outSvc.xml IO输出耗时:0.027s
17:19:47,976 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3773_75_1_outSvc.xml
17:19:47,977 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:19:47,977 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同:101019000002173暂收费分类存在未到账保费,不能签单!
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:161)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:19:48,021 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:19:48,021 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:19:48,022 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3773,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011428',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002173',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同:101019000002173暂收费分类存在未到账保费,不能签单!',UsedTime=151,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3773_69_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=171716,ModifyDate=20161209,ModifyTime=171947,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011428'
17:19:48,037 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
17:19:48,037 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
17:19:48,038 INFO common.Log4jPrint(20) - 使用的样式表：null
17:19:48,038 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
17:19:48,039 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
17:19:48,039 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
17:19:48,078 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
17:19:48,090 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:19:48,091 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
17:19:48,095 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
17:19:48,095 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:19:48,097 INFO common.SaveMessage(69) - 3773_78_1014_out.xml IO输出耗时:0.0010s
17:19:48,097 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3773_78_1014_out.xml
17:19:48,098 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>878</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2142</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209171716351</SYS_RECV_TIME><SYS_RESP_TIME>20161209171948094</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>37</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ?101019000002173惰垂绫诲ㄦ拌处淇璐,涓界惧!</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011428</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011428</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:19:48,098 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:19:48,100 INFO test.NewCCBTestUI(519) - 返回报文长度：2124
17:19:48,102 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：151.768s
17:19:48,153 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:19:48,154 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:19:48,241 INFO common.Log4jPrint(20) - i=0
17:19:48,241 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:19:48,241 INFO midplat.Ybt4Socket(170) - 处理总耗时：151.907s
17:19:48,241 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:25:58,598 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:25:58,609 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:25:58,610 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:25:58,610 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:25:58,610 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:25:58,617 INFO test.NewCCBTestUI(490) - 请求报文长度：1966
17:25:58,618 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1966
17:25:58,619 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230150851661</SYS_REQ_TIME><SYS_TIME_LEFT>000119609</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011429</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000021</Ins_BillNo><!--???????--><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481266619011388</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:25:58,618 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:25:58,621 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
17:25:58,621 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:25:58,624 INFO common.SaveMessage(69) - 3779_81_1014_in.xml IO输出耗时:0.0010s
17:25:58,624 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3779_81_1014_in.xml
17:25:58,625 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:25:58,625 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:25:58,627 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
17:25:58,627 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
17:25:58,634 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
17:25:58,634 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
17:25:58,634 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
17:25:58,634 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:25:58,635 INFO common.Log4jPrint(20) - 进程名：3779
17:25:58,635 INFO common.Log4jPrint(20) - trancom:13
17:25:58,635 INFO common.Log4jPrint(20) - FuncFlag:1014
17:25:58,635 INFO common.Log4jPrint(20) - mHeadEle.getChildText3779_81_1014_in.xml
17:26:00,753 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:26:00,754 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3779,13,'110378300','108011rv11481267306011429','77976569',1014,20161230,150851,'101019000002173',-1,-1,'127.0.0.1','108011rv11481266619011388','3779_81_1014_in.xml',20161209,172558,20161209,172558 )
17:26:00,815 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:26:00,815 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
17:26:00,816 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:26:00,816 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:26:00,817 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
17:26:01,626 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002173' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
17:26:08,752 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:26:08,754 INFO common.SaveMessage(69) - 3779_84_1_inSvc.xml IO输出耗时:0.0010s
17:26:08,754 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3779_84_1_inSvc.xml
17:26:08,755 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:26:08,755 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:26:09,074 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
17:26:09,075 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
17:26:09,076 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
17:26:09,076 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
17:26:09,077 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
17:26:09,077 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
17:26:09,077 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:26:09,079 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
17:26:09,079 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTUwODUxPC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI2NzMwNjAxMTQyOTwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc3OV84MV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjE3MzwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNjY2MTkwMTEzODg8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
17:26:09,080 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:26:09,080 DEBUG httpclient.Wire(84) - >> "0"
17:26:09,081 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:26:09,081 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:27:00,281 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:27:00,282 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:27:00,283 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:27:00,284 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:27:00,285 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:27:00,286 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:26:41 GMT[\r][\n]"
17:27:00,287 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:27:00,288 DEBUG httpclient.Wire(84) - << "1"
17:27:00,289 DEBUG httpclient.Wire(84) - << "7"
17:27:00,289 DEBUG httpclient.Wire(84) - << "4"
17:27:00,290 DEBUG httpclient.Wire(84) - << "f"
17:27:00,291 DEBUG httpclient.Wire(84) - << "[\r]"
17:27:00,291 DEBUG httpclient.Wire(70) - << "[\n]"
17:27:00,292 DEBUG httpclient.Wire(84) - << "<?xm"
17:27:00,293 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:27:00,294 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjA8L0ZsYWc+DQogICAgPERlc2M+vbvS17PJuaajoTwvRGVzYz4NCiAgPC9IZWFkPg0KICA8Qm9keT4NCiAgICA8Q29udE5vPjg4ODAxOTAwMDAwMjE3MzwvQ29udE5vPg0KICAgIDxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjE3MzwvUHJvcG9zYWxQcnRObz4NCiAgICA8Q29udFBydE5vPjwvQ29udFBydE5vPg0KICAgIDxQb2xpY3lQbGVkZ2U+MDwvUG9saWN5UGxlZGdlPg0KICAgIDxDb250VmFsdWU+MTAwMDAwMDwvQ29udFZhbHVlPg0KICAgIDxBY2NvdW50VmFsdWU+MTAwMDAwMDwvQWNjb3VudFZhbHVlPg0KICAgIDxQYXlQcm92PjwvUGF5UHJvdj4NCiAgICA8UGF5Tm9kZU5vPjEzMDEwMTAwMDE8L1BheU5vZGVObz4NCiAgICA8UGF5VHlwZT4wPC9QYXlUeXBlPg0KICAgIDxQYXlQcmVtPjEwMDAwMDA8L1BheVByZW0+DQogICAgPEFjY05vPjQzNDA2MTAwMTIxNzUzOTE8L0FjY05vPg0KICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgPFByZW1UZXh0PsjLw/Gx0tK8zfLUqtX7PC9QcmVtVGV4dD4NCiAgICA8QW1udD4wPC9BbW50Pg0KICAgIDxBbW50VGV4dD7Iy8PxsdLB49Sq1fs8L0FtbnRUZXh0Pg0KICAgIDxBZ2VudENvZGU+NTIwMTMwMDAwNTwvQWdlbnRDb2RlPg0KICAgIDxBZ2VudE5hbWU+zfXSu9K7PC9BZ2VudE5hbWU+DQogICAgPEFnZW50R3JwQ29kZT4wMDAwMDAwMDAyMjM8L0FnZW50R3JwQ29kZT4NCiAgICA8QWdlbnRHcnBOYW1lPrnz0fTS+LGj06rStbK/MbbTPC9BZ2VudEdycE5hbWU+DQogICAgPEFnZW50Q29tPjEzMDEwMTAwMDE8L0FnZW50Q29tPg0KICAgIDxBZ2VudENvbU5hbWU+vajJ6NL40NC589bdufPR9MrAvM2zx834teM8L0FnZW50Q29tTmFtZT4NCiAgICA8Q29tQ29kZT44NjUyMDEwMTwvQ29tQ29kZT4NCiAgICA8Q29tTG9jYXRpb24+ufPR9NK7tv7SuzwvQ29tTG9jYXRpb24+DQogICAgPENvbU5hbWU+ufPW3bfWuavLvjwvQ29tTmFtZT4NCiAgICA8Q29tWmlwQ29kZT48L0NvbVppcENvZGU+DQogICAgPENvbVBob25lPjwvQ29tUGhvbmU+DQogICAgPFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPg0KICAgIDxTYWxlTmFtZT62rb3cPC9TYWxlTmFtZT4NCiAgICA8U2FsZUNlcnRObz4yMDA4MDIxMTAwMDAwMDAxMDU2NzwvU2FsZUNlcnRObz4NCiAgICA8UG9saWN5U3RhdHVzPjwvUG9saWN5U3RhdHVzPg0KICAgIDxCYW5rQ29tTm8+MTEwMzc4MzAwPC9CYW5rQ29tTm8+DQogICAgPEFnZW50UGhvbmU+MTUwMjE0NTIxNTk8L0FnZW50UGhvbmU+DQogICAgPFBheUludHY+MDwvUGF5SW50dj4NCiAgICA8SW5zUHJlbV9QeUZfUHJkX051bT4xMDAwPC9JbnNQcmVtX1B5Rl9QcmRfTnVtPg0KICAgIDxQYXllbmRZZWFyPjEwMDA8L1BheWVuZFllYXI+DQogICAgPFBheWVuZFllYXJGbGFnPlk8L1BheWVuZFllYXJGbGFnPg0KICAgIDxBcHBudD4NCiAgICAgIDxDdXN0b21lck5vPjAwMDAwMDA1ODY8L0N1c3RvbWVyTm8+DQogICAgICA8TmFtZT7N9cH5zuU8L05hbWU+DQogICAgICA8U2V4PjA8L1NleD4NCiAgICAgIDxCaXJ0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+DQogICAgICA8SURUeXBlPjA8L0lEVHlwZT4NCiAgICAgIDxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz4NCiAgICAgIDxKb2JUeXBlPjE8L0pvYlR5cGU+DQogICAgICA8Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPg0KICAgICAgPEpvYk5hbWU+MTwvSm9iTmFtZT4NCiAgICAgIDxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5Pg0KICAgICAgPFN0YXR1cmU+PC9TdGF0dXJlPg0KICAgICAgPFdlaWdodD48L1dlaWdodD4NCiAgICAgIDxNYXJpdGFsU3RhdHVzPjwvTWFyaXRhbFN0YXR1cz4NCiAgICAgIDxBZGRyZXNzPjwvQWRkcmVzcz4NCiAgICAgIDxaaXBDb2RlPjEwMDAwMDwvWmlwQ29kZT4NCiAgICAgIDxNb2JpbGU+MTMzNTU2NTk4Nzc8L01vYmlsZT4NCiAgICAgIDxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+DQogICAgICA8RW1haWw+PC9FbWFpbD4NCiAgICAgIDxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPg0KICAgICAgPFllYXJTYWxhcnk+MzAuMDwvWWVhclNhbGFyeT4NCiAgICAgIDxGYW1pbHlZZWFyU2FsYXJ5PjEwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5Pg0KICAgICAgPERlblR5cGU+MTwvRGVuVHlwZT4NCiAgICA8L0FwcG50Pg0KICAgIDxJbnN1cmVkPg0KICAgICAgPEN1c3RvbWVyTm8+MDAwMDAwMDU4NjwvQ3VzdG9tZXJObz4NCiAgICAgIDxOYW1lPs31wfnO5TwvTmFtZT4NCiAgICAgIDxTZXg+MDwvU2V4Pg0KICAgICAgPEJpcnRoZGF5PjE5NjMwNjI2PC9CaXJ0aGRheT4NCiAgICAgIDxJRFR5cGU+MDwvSURUeXBlPg0KICAgICAgPElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPg0KICAgICAgPEpvYlR5cGU+MTwvSm9iVHlwZT4NCiAgICAgIDxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+DQogICAgICA8Sm9iTmFtZT4xPC9Kb2JOYW1lPg0KICAgICAgPFN0YXR1cmU+PC9TdGF0dXJlPg0KICAgICAgPE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+DQogICAgICA8V2VpZ2h0PjwvV2VpZ2h0Pg0KICAgICAgPE1hcml0YWxTdGF0dXM+PC9NYXJpdGFsU3RhdHVzPg0KICAgICAgPEFkZHJlc3M+PC9BZGRyZXNzPg0KICAgICAgPFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPg0KICAgICAgPE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPg0KICAgICAgPFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT4NCiAgICAgIDxFbWFpbD48L0VtYWlsPg0KICAgICAgPERlblR5cGU+PC9EZW5UeXBlPg0KICAgIDwvSW5zdXJlZD4NCiAgICA8SGVzaXRhdGVQZXJpb2Q+MjE8L0hlc2l0YXRlUGVyaW9kPg0KICAgIDxSaXNrPg0KICAgICAgPFJpc2tDb2RlPjAxMUEwMTAwPC9SaXNrQ29kZT4NCiAgICAgIDxSaXNrTmFtZT67qrnztuCyyrGmMrrFwb3Iq7Gjz9WjqM3yxNzQzaOpPC9SaXNrTmFtZT4NCiAgICAgIDxNYWluUmlza0NvZGU+MDExQTAxMDA8L01haW5SaXNrQ29kZT4NCiAgICAgIDxQb2xBcHBseURhdGU+MjAxNjEyMzA8L1BvbEFwcGx5RGF0ZT4NCiAgICAgIDxTaWduRGF0ZT4yMDE2MTIwOTwvU2lnbkRhdGU+DQogICAgICA8Q1ZhbGlEYXRlPjIwMTYxMjEwPC9DVmFsaURhdGU+DQogICAgICA8SW5zdUVuZERhdGU+MjAyMTEyMTA8L0luc3VFbmREYXRlPg0KICAgICAgPEFtbnQ+MDwvQW1udD4NCiAgICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgICA8TXVsdD4xMDwvTXVsdD4NCiAgICAgIDxQYXlJbnR2PjA8L1BheUludHY+DQogICAgICA8UGF5TW9kZT4wPC9QYXlNb2RlPg0KICAgICAgPEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+DQogICAgICA8SW5zdVllYXI+NTwvSW5zdVllYXI+DQogICAgICA8WWVhcnM+NTwvWWVhcnM+DQogICAgICA8UGF5RW5kWWVhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+DQogICAgICA8UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPg0KICAgICAgPFBheUVuZERhdGU+MzAxNjEyMTA8L1BheUVuZERhdGU+DQogICAgICA8Q29zdEludHY+PC9Db3N0SW50dj4NCiAgICAgIDxDb3N0RGF0ZT48L0Nvc3REYXRlPg0KICAgICAgPFBheVRvRGF0ZT4zMDE2MTIxMDwvUGF5VG9EYXRlPg0KICAgICAgPEdldFllYXJGbGFnPlk8L0dldFllYXJGbGFnPg0KICAgICAgPEdldFN0YXJ0RGF0ZT4yMDE2MTIxMDwvR2V0U3RhcnREYXRlPg0KICAgICAgPEdldFllYXI+PC9HZXRZZWFyPg0KICAgICAgPEdldEludHY+PC9HZXRJbnR2Pg0KICAgICAgPEdldFRlcm1zPjwvR2V0VGVybXM+DQogICAgICA8R2V0QmFua0NvZGU+PC9HZXRCYW5rQ29kZT4NCiAgICAgIDxHZXRCYW5rQWNjTm8+PC9HZXRCYW5rQWNjTm8+DQogICAgICA8R2V0QWNjTmFtZT48L0dldEFjY05hbWU+DQogICAgICA8QXV0b1BheUZsYWc+PC9BdXRvUGF5RmxhZz4NCiAgICAgIDxCb251c0dldE1vZGU+PC9Cb251c0dldE1vZGU+DQogICAgICA8U3ViRmxhZz48L1N1YkZsYWc+DQogICAgICA8RnVsbEJvbnVzR2V0TW9kZT48L0Z1bGxCb251c0dldE1vZGU+DQogICAgICA8QWNjb3VudD48L0FjY291bnQ+DQogICAgICA8Q2FzaFZhbHVlcz48L0Nhc2hWYWx1ZXM+DQogICAgICA8RGVkdWN0aW9uVmFsdWVzPjwvRGVkdWN0aW9uVmFsdWVzPg0KICAgICAgPEJvbnVzVmFsdWVzPjwvQm9udXNWYWx1ZXM+DQogICAgICA8U3BlY0NvbnRlbnQ+PC9TcGVjQ29udGVudD4NCiAgICA8L1Jpc2s+DQogIDwvQm9keT4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:27:00,300 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002173收费签单(service)耗时：51.545s
17:27:00,330 INFO common.SaveMessage(69) - 3779_87_1_outSvc.xml IO输出耗时:0.019s
17:27:00,330 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3779_87_1_outSvc.xml
17:27:00,330 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:27:00,332 ERROR service.NewContConfirm(253) - 新单确认交易失败！
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:235)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:27:00,923 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:27:00,923 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:27:00,924 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3779,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481267306011429',Operator='77976569',FuncFlag=1014,TranDate=20161230,TranTime=150851,ProposalPrtNo='101019000002173',ContNo='888019000002173',OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=61,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481266619011388',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3779_81_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=172558,ModifyDate=20161209,ModifyTime=172700,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481267306011429'
17:27:01,550 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
17:27:01,550 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
17:27:01,551 INFO common.Log4jPrint(20) - 使用的样式表：null
17:27:01,552 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
17:27:01,552 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
17:27:01,553 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
17:27:01,592 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
17:27:01,603 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:27:01,605 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
17:27:01,608 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
17:27:01,608 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:27:01,610 INFO common.SaveMessage(69) - 3779_90_1014_out.xml IO输出耗时:0.0010s
17:27:01,610 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3779_90_1014_out.xml
17:27:01,611 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>802</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2066</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018021483081731016168</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209172558628</SYS_RECV_TIME><SYS_RESP_TIME>20161209172701608</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481267306011429</SvPt_Jrnl_No><!--#?????????--><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481267306011429</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:27:01,611 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:27:01,613 INFO test.NewCCBTestUI(519) - 返回报文长度：2077
17:27:01,615 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：63.005s
17:27:01,919 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:27:01,920 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:27:02,203 INFO common.Log4jPrint(20) - i=0
17:27:02,204 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:27:02,204 INFO midplat.Ybt4Socket(170) - 处理总耗时：63.594s
17:27:02,204 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:53:30,937 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:53:30,948 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:53:30,949 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:53:30,951 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:53:30,952 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:53:30,957 INFO test.NewCCBTestUI(490) - 请求报文长度：1679
17:53:30,975 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1679
17:53:30,975 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230174826560</SYS_REQ_TIME><SYS_TIME_LEFT>000119892</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011766</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Cvr_ID>011A0100</Cvr_ID><InsPolcy_No>888019000002280</InsPolcy_No><Rvl_Rcrd_Num>1</Rvl_Rcrd_Num><Detail_List><Detail><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Ins_IBVoch_ID>1800190000013</Ins_IBVoch_ID></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:53:30,975 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:53:30,977 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819182
17:53:30,978 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:53:30,979 INFO common.SaveMessage(69) - 3785_93_1032_in.xml IO输出耗时:0.0s
17:53:30,980 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3785_93_1032_in.xml
17:53:30,980 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:53:30,980 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:53:30,981 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.PrintCont
17:53:31,024 INFO format.PrintCont(40) - Into PrintCont.noStd2Std()...
17:53:31,027 INFO format.PrintContInXsl(26) - Into PrintContInXsl.load()...
17:53:31,028 INFO format.PrintContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContIn.xsl...
17:53:31,028 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:06,270) and length=1951 bytes!
17:53:31,031 INFO format.PrintContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContIn.xsl!
17:53:31,033 INFO format.PrintContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
				<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 
				<TranCom>03</TranCom> --><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id ？待确认
				<ServiceId>0</ServiceId> --><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 保单号 --><ContNo><xsl:value-of select="InsPolcy_No" /></ContNo><xsl:for-each select="Detail_List/Detail"><!-- 保险重空编号 --><ContPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_IBVoch_ID)" /></ContPrtNo></xsl:for-each></Body></xsl:template></xsl:stylesheet>

17:53:31,034 INFO format.PrintContInXsl(64) - Out PrintContInXsl.load()!
17:53:31,038 INFO format.PrintCont(62) - Out PrintCont.noStd2Std()!
17:53:31,038 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewPrintCont
17:53:31,063 INFO service.NewPrintCont(34) - Into NewPrintCont.service()...
17:53:31,064 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:53:31,064 INFO common.Log4jPrint(20) - 进程名：3785
17:53:31,064 INFO common.Log4jPrint(20) - trancom:13
17:53:31,064 INFO common.Log4jPrint(20) - FuncFlag:1032
17:53:31,064 INFO common.Log4jPrint(20) - mHeadEle.getChildText3785_93_1032_in.xml
17:53:31,107 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:53:31,108 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ContNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3785,13,'110378300','108011rv11481276983011766','77976569',1032,20161230,174826,'888019000002280','180019000001371',-1,-1,'127.0.0.1','3785_93_1032_in.xml',20161209,175331,20161209,175331 )
17:53:31,123 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:53:31,125 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:53:31,137 INFO common.SaveMessage(69) - 3785_96_29_inSvc.xml IO输出耗时:0.012s
17:53:31,138 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3785_96_29_inSvc.xml
17:53:31,138 INFO common.Log4jPrint(20) - start call 打印保单(http://10.0.4.31:9080/services/ServiceForBankInterfaceService.service)...
17:53:31,138 INFO net.CallWebsvcAtomSvc(75) - start call 打印保单(http://10.0.4.31:9080/services/ServiceForBankInterfaceService.service)...
17:54:55,191 ERROR service.NewPrintCont(152) - 打印保单交易失败！
org.apache.axis2.AxisFault: Connection timed out: connect
	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:113)
	at com.sinosoft.midplat.newccb.service.NewPrintCont.service(NewPrintCont.java:73)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
	... 13 more
17:54:55,257 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:54:55,258 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:54:55,258 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3785,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481276983011766',Operator='77976569',FuncFlag=1032,TranDate=20161230,TranTime=174826,ProposalPrtNo=null,ContNo='888019000002280',OtherNo='180019000001371',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='Connection timed out: connect',UsedTime=84,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3785_93_1032_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=175331,ModifyDate=20161209,ModifyTime=175455,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481276983011766'
17:54:55,273 INFO service.NewPrintCont(170) - Out NewPrintCont.service()!
17:54:55,273 INFO format.PrintCont(67) - Into PrintCont.std2NoStd()...
17:54:55,274 INFO common.Log4jPrint(20) - 使用的样式表：null
17:54:55,285 INFO format.PrintContOutXsl(35) - Into PrintContOutXsl.load()...
17:54:55,285 INFO format.PrintContOutXsl(38) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl...
17:54:55,286 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:06,275) and length=32066 bytes!
17:54:55,319 INFO format.PrintContOutXsl(54) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl!
17:54:55,330 INFO format.PrintContOutXsl(65) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 ?--><AgInsRgAutoDdcn_AccNo><xsl:value-of select="/TranData/Body/Account/AccNo" /></AgInsRgAutoDdcn_AccNo><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="/TranData/Body/Risk/InsuYearFlag" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:value-of select="/TranData/Body/Risk/InsuYear" /></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>保险合同号2：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　</xsl:text>（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　　　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--	<Ret_Inf />--><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                     现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:54:55,332 INFO format.PrintContOutXsl(73) - Out PrintContOutXsl.load()!
17:54:55,337 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.PrintCont.std2NoStd(PrintCont.java:93)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
17:54:55,345 INFO format.PrintCont(128) - Out PrintCont.std2NoStd()!
17:54:55,345 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:54:55,347 INFO common.SaveMessage(69) - 3785_99_1032_out.xml IO输出耗时:0.0010s
17:54:55,347 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3785_99_1032_out.xml
17:54:55,348 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>832</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2990</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209175331025</SYS_RECV_TIME><SYS_RESP_TIME>20161209175455344</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>29</SYS_RESP_DESC_LEN><SYS_RESP_DESC>Connection timed out: connect</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num>0</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd /><InsPolcy_HsitPrd /><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?╁2锛?                                               璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>?╁绔ワ?016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>?淇浜哄锛?           у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011766</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276983011766</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:54:55,348 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:197)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
17:54:55,415 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:54:55,416 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:54:55,462 INFO common.Log4jPrint(20) - i=0
17:54:55,463 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:54:55,463 INFO midplat.Ybt4Socket(170) - 处理总耗时：84.512s
17:54:55,463 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:55:22,773 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:55:22,783 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:55:22,784 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:55:22,784 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:55:22,784 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:55:22,791 INFO test.NewCCBTestUI(490) - 请求报文长度：1679
17:55:22,792 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1679
17:55:22,792 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230174826560</SYS_REQ_TIME><SYS_TIME_LEFT>000119892</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011766</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Cvr_ID>011A0100</Cvr_ID><InsPolcy_No>888019000002280</InsPolcy_No><Rvl_Rcrd_Num>1</Rvl_Rcrd_Num><Detail_List><Detail><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Ins_IBVoch_ID>1800190000013</Ins_IBVoch_ID></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:55:22,792 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:55:22,794 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819182
17:55:22,794 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:55:22,808 INFO common.SaveMessage(69) - 3791_102_1032_in.xml IO输出耗时:0.013s
17:55:22,808 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3791_102_1032_in.xml
17:55:22,809 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:55:22,809 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:55:22,810 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.PrintCont
17:55:22,810 INFO format.PrintCont(40) - Into PrintCont.noStd2Std()...
17:55:22,815 INFO format.PrintCont(62) - Out PrintCont.noStd2Std()!
17:55:22,815 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewPrintCont
17:55:22,816 INFO service.NewPrintCont(34) - Into NewPrintCont.service()...
17:55:22,816 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:55:22,816 INFO common.Log4jPrint(20) - 进程名：3791
17:55:22,816 INFO common.Log4jPrint(20) - trancom:13
17:55:22,817 INFO common.Log4jPrint(20) - FuncFlag:1032
17:55:22,817 INFO common.Log4jPrint(20) - mHeadEle.getChildText3791_102_1032_in.xml
17:55:22,862 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:55:22,863 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ContNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3791,13,'110378300','108011rv11481276983011766','77976569',1032,20161230,174826,'888019000002280','180019000001371',-1,-1,'127.0.0.1','3791_102_1032_in.xml',20161209,175522,20161209,175522 )
17:55:22,886 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
17:55:22,887 ERROR service.NewPrintCont(152) - 打印保单交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewPrintCont.service(NewPrintCont.java:45)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:55:22,887 INFO service.NewPrintCont(170) - Out NewPrintCont.service()!
17:55:22,888 INFO format.PrintCont(67) - Into PrintCont.std2NoStd()...
17:55:22,889 INFO common.Log4jPrint(20) - 使用的样式表：null
17:55:22,890 INFO format.PrintContOutXsl(35) - Into PrintContOutXsl.load()...
17:55:22,890 INFO format.PrintContOutXsl(38) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl...
17:55:22,891 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:06,275) and length=32066 bytes!
17:55:22,943 INFO format.PrintContOutXsl(54) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl!
17:55:22,952 INFO format.PrintContOutXsl(65) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 ?--><AgInsRgAutoDdcn_AccNo><xsl:value-of select="/TranData/Body/Account/AccNo" /></AgInsRgAutoDdcn_AccNo><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="/TranData/Body/Risk/InsuYearFlag" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:value-of select="/TranData/Body/Risk/InsuYear" /></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>保险合同号2：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　</xsl:text>（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　　　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--	<Ret_Inf />--><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                     现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:55:22,953 INFO format.PrintContOutXsl(73) - Out PrintContOutXsl.load()!
17:55:22,957 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.PrintCont.std2NoStd(PrintCont.java:93)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
17:55:22,962 INFO format.PrintCont(128) - Out PrintCont.std2NoStd()!
17:55:22,963 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:55:22,964 INFO common.SaveMessage(69) - 3791_105_1032_out.xml IO输出耗时:0.0010s
17:55:22,965 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3791_105_1032_out.xml
17:55:22,965 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2981</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209175522811</SYS_RECV_TIME><SYS_RESP_TIME>20161209175522962</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num>0</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd /><InsPolcy_HsitPrd /><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?╁2锛?                                               璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>?╁绔ワ?016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>?淇浜哄锛?           у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011766</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276983011766</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:55:22,966 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:55:22,968 INFO test.NewCCBTestUI(519) - 返回报文长度：2875
17:55:22,969 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：0.185s
17:55:22,981 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
17:55:23,017 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:55:23,017 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:55:23,059 INFO common.Log4jPrint(20) - i=0
17:55:23,060 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:55:23,061 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.277s
17:55:23,061 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:55:28,738 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:55:28,740 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:55:28,741 INFO common.XmlConf(64) - conf file modified at (2016-12-09 17:55:18,527) and length=23952 bytes!
17:55:28,756 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:55:28,757 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:55:52,483 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:55:52,493 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:55:52,493 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:55:52,494 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:55:52,494 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:55:52,501 INFO test.NewCCBTestUI(490) - 请求报文长度：1679
17:55:52,502 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1679
17:55:52,502 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:55:52,502 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230174826560</SYS_REQ_TIME><SYS_TIME_LEFT>000119892</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011767</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Cvr_ID>011A0100</Cvr_ID><InsPolcy_No>888019000002280</InsPolcy_No><Rvl_Rcrd_Num>1</Rvl_Rcrd_Num><Detail_List><Detail><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Ins_IBVoch_ID>1800190000013</Ins_IBVoch_ID></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:55:52,504 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819182
17:55:52,504 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:55:52,507 INFO common.SaveMessage(69) - 3797_108_1032_in.xml IO输出耗时:0.0020s
17:55:52,507 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3797_108_1032_in.xml
17:55:52,507 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:55:52,508 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:55:52,510 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.PrintCont
17:55:52,510 INFO format.PrintCont(40) - Into PrintCont.noStd2Std()...
17:55:52,517 INFO format.PrintCont(62) - Out PrintCont.noStd2Std()!
17:55:52,517 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewPrintCont
17:55:52,517 INFO service.NewPrintCont(34) - Into NewPrintCont.service()...
17:55:52,517 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:55:52,518 INFO common.Log4jPrint(20) - 进程名：3797
17:55:52,518 INFO common.Log4jPrint(20) - trancom:13
17:55:52,518 INFO common.Log4jPrint(20) - FuncFlag:1032
17:55:52,518 INFO common.Log4jPrint(20) - mHeadEle.getChildText3797_108_1032_in.xml
17:55:55,773 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:55:55,774 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ContNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3797,13,'110378300','108011rv11481276983011767','77976569',1032,20161230,174826,'888019000002280','180019000001371',-1,-1,'127.0.0.1','3797_108_1032_in.xml',20161209,175552,20161209,175552 )
17:55:55,859 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:55:55,863 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:55:55,897 INFO common.SaveMessage(69) - 3797_111_29_inSvc.xml IO输出耗时:0.034s
17:55:55,898 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3797_111_29_inSvc.xml
17:55:55,899 INFO common.Log4jPrint(20) - start call 打印保单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:55:55,899 INFO net.CallWebsvcAtomSvc(75) - start call 打印保单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:55:55,963 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
17:55:55,964 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
17:55:55,965 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
17:55:55,966 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
17:55:55,968 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
17:55:55,969 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
17:55:55,970 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:55:55,972 DEBUG httpclient.Wire(70) - >> "3a9[\r][\n]"
17:55:55,973 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTc0ODI2PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI3Njk4MzAxMTc2NzwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDMyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzc5N18xMDhfMTAzMl9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4yOTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxDb250Tm8+ODg4MDE5MDAwMDAyMjgwPC9Db250Tm8+PENvbnRQcnRObz4xODAwMTkwMDAwMDEzNzE8L0NvbnRQcnRObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
17:55:55,974 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:55:55,975 DEBUG httpclient.Wire(84) - >> "0"
17:55:55,976 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:55:55,977 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:55:56,573 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:55:56,574 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:55:56,575 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:55:56,576 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:55:56,577 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:55:56,578 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:55:37 GMT[\r][\n]"
17:55:56,579 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:55:56,580 DEBUG httpclient.Wire(84) - << "1"
17:55:56,581 DEBUG httpclient.Wire(84) - << "e"
17:55:56,582 DEBUG httpclient.Wire(84) - << "f"
17:55:56,583 DEBUG httpclient.Wire(84) - << "[\r]"
17:55:56,584 DEBUG httpclient.Wire(70) - << "[\n]"
17:55:56,585 DEBUG httpclient.Wire(84) - << "<?xm"
17:55:56,586 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:55:56,588 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvU2r/J08O3ts6nu/LS0b6tsbvKudPDo6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:55:56,590 INFO net.CallWebsvcAtomSvc(118) - 投保单号null打印保单(service)耗时：0.69s
17:55:56,595 INFO common.SaveMessage(69) - 3797_114_29_outSvc.xml IO输出耗时:0.0010s
17:55:56,595 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3797_114_29_outSvc.xml
17:55:56,595 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:55:56,596 ERROR service.NewPrintCont(152) - 打印保单交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不在可用范围或已经被使用！
	at com.sinosoft.midplat.newccb.service.NewPrintCont.service(NewPrintCont.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:55:57,069 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:55:57,070 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:55:57,071 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3797,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481276983011767',Operator='77976569',FuncFlag=1032,TranDate=20161230,TranTime=174826,ProposalPrtNo=null,ContNo='888019000002280',OtherNo='180019000001371',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不在可用范围或已经被使用！',UsedTime=4,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3797_108_1032_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=175552,ModifyDate=20161209,ModifyTime=175556,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481276983011767'
17:55:57,363 INFO service.NewPrintCont(170) - Out NewPrintCont.service()!
17:55:57,364 INFO format.PrintCont(67) - Into PrintCont.std2NoStd()...
17:55:57,366 INFO common.Log4jPrint(20) - 使用的样式表：null
17:55:57,366 INFO format.PrintContOutXsl(35) - Into PrintContOutXsl.load()...
17:55:57,367 INFO format.PrintContOutXsl(38) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl...
17:55:57,368 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:06,275) and length=32066 bytes!
17:55:57,436 INFO format.PrintContOutXsl(54) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl!
17:55:57,445 INFO format.PrintContOutXsl(65) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 ?--><AgInsRgAutoDdcn_AccNo><xsl:value-of select="/TranData/Body/Account/AccNo" /></AgInsRgAutoDdcn_AccNo><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="/TranData/Body/Risk/InsuYearFlag" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:value-of select="/TranData/Body/Risk/InsuYear" /></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>保险合同号2：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　</xsl:text>（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　　　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--	<Ret_Inf />--><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                     现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:55:57,448 INFO format.PrintContOutXsl(73) - Out PrintContOutXsl.load()!
17:55:57,453 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.PrintCont.std2NoStd(PrintCont.java:93)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
17:55:57,455 INFO format.PrintCont(128) - Out PrintCont.std2NoStd()!
17:55:57,455 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:55:57,458 INFO common.SaveMessage(69) - 3797_117_1032_out.xml IO输出耗时:0.0020s
17:55:57,458 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3797_117_1032_out.xml
17:55:57,458 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>860</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3018</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209175552510</SYS_RECV_TIME><SYS_RESP_TIME>20161209175557455</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂ㄥㄨ存宸茬琚浣跨锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num>0</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd /><InsPolcy_HsitPrd /><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?╁2锛?                                               璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>?╁绔ワ?016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>?淇浜哄锛?           у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011767</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276983011767</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:55:57,459 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:55:57,461 INFO test.NewCCBTestUI(519) - 返回报文长度：2894
17:55:57,463 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：4.969s
17:55:57,475 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
17:55:58,121 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:55:58,122 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:56:00,555 INFO common.Log4jPrint(20) - i=0
17:56:00,556 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:56:00,557 INFO midplat.Ybt4Socket(170) - 处理总耗时：8.063s
17:56:00,557 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:59:14,869 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
17:59:14,879 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:59:14,880 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:59:14,880 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:59:14,880 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:59:14,887 INFO test.NewCCBTestUI(490) - 请求报文长度：1679
17:59:14,887 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1679
17:59:14,888 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230174826560</SYS_REQ_TIME><SYS_TIME_LEFT>000119892</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011768</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Cvr_ID>011A0100</Cvr_ID><InsPolcy_No>888019000002280</InsPolcy_No><Rvl_Rcrd_Num>1</Rvl_Rcrd_Num><Detail_List><Detail><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Ins_IBVoch_ID>1800190000013</Ins_IBVoch_ID></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

17:59:14,888 INFO test.NewCCBTestUI(505) - 收到返回报文！
17:59:14,890 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819182
17:59:14,890 INFO newNet.CcbNetImpl(58) - mTranCom==============13
17:59:14,892 INFO common.SaveMessage(69) - 3803_120_1032_in.xml IO输出耗时:0.0s
17:59:14,892 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3803_120_1032_in.xml
17:59:14,892 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:59:14,892 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:59:14,893 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.PrintCont
17:59:14,893 INFO format.PrintCont(40) - Into PrintCont.noStd2Std()...
17:59:14,898 INFO format.PrintCont(62) - Out PrintCont.noStd2Std()!
17:59:14,898 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewPrintCont
17:59:14,899 INFO service.NewPrintCont(34) - Into NewPrintCont.service()...
17:59:14,899 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
17:59:14,899 INFO common.Log4jPrint(20) - 进程名：3803
17:59:14,900 INFO common.Log4jPrint(20) - trancom:13
17:59:14,900 INFO common.Log4jPrint(20) - FuncFlag:1032
17:59:14,900 INFO common.Log4jPrint(20) - mHeadEle.getChildText3803_120_1032_in.xml
17:59:14,950 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:59:14,950 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ContNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3803,13,'110378300','108011rv11481276983011768','77976569',1032,20161230,174826,'888019000002280','180019000001371',-1,-1,'127.0.0.1','3803_120_1032_in.xml',20161209,175914,20161209,175914 )
17:59:14,967 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
17:59:14,968 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
17:59:15,021 INFO common.SaveMessage(69) - 3803_123_29_inSvc.xml IO输出耗时:0.052s
17:59:15,021 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3803_123_29_inSvc.xml
17:59:15,022 INFO common.Log4jPrint(20) - start call 打印保单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:59:15,023 INFO net.CallWebsvcAtomSvc(75) - start call 打印保单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
17:59:15,060 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
17:59:15,060 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
17:59:15,061 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
17:59:15,061 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
17:59:15,061 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
17:59:15,062 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
17:59:15,062 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:59:15,063 DEBUG httpclient.Wire(70) - >> "3a9[\r][\n]"
17:59:15,063 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTc0ODI2PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI3Njk4MzAxMTc2ODwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDMyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzgwM18xMjBfMTAzMl9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4yOTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxDb250Tm8+ODg4MDE5MDAwMDAyMjgwPC9Db250Tm8+PENvbnRQcnRObz4xODAwMTkwMDAwMDEzNzE8L0NvbnRQcnRObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
17:59:15,063 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:59:15,063 DEBUG httpclient.Wire(84) - >> "0"
17:59:15,064 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:59:15,064 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
17:59:15,567 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:59:15,568 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
17:59:15,569 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
17:59:15,570 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
17:59:15,571 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
17:59:15,579 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 09:58:56 GMT[\r][\n]"
17:59:15,581 DEBUG httpclient.Wire(70) - << "[\r][\n]"
17:59:15,583 DEBUG httpclient.Wire(84) - << "1"
17:59:15,584 DEBUG httpclient.Wire(84) - << "e"
17:59:15,585 DEBUG httpclient.Wire(84) - << "f"
17:59:15,585 DEBUG httpclient.Wire(84) - << "[\r]"
17:59:15,586 DEBUG httpclient.Wire(70) - << "[\n]"
17:59:15,587 DEBUG httpclient.Wire(84) - << "<?xm"
17:59:15,589 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
17:59:15,590 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvU2r/J08O3ts6nu/LS0b6tsbvKudPDo6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
17:59:15,592 INFO net.CallWebsvcAtomSvc(118) - 投保单号null打印保单(service)耗时：0.569s
17:59:15,605 INFO common.SaveMessage(69) - 3803_126_29_outSvc.xml IO输出耗时:0.0020s
17:59:15,605 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3803_126_29_outSvc.xml
17:59:15,606 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
17:59:15,607 ERROR service.NewPrintCont(152) - 打印保单交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不在可用范围或已经被使用！
	at com.sinosoft.midplat.newccb.service.NewPrintCont.service(NewPrintCont.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:59:15,677 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:59:15,677 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:59:15,678 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3803,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481276983011768',Operator='77976569',FuncFlag=1032,TranDate=20161230,TranTime=174826,ProposalPrtNo=null,ContNo='888019000002280',OtherNo='180019000001371',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不在可用范围或已经被使用！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3803_120_1032_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=175914,ModifyDate=20161209,ModifyTime=175915,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481276983011768'
17:59:15,699 INFO service.NewPrintCont(170) - Out NewPrintCont.service()!
17:59:15,699 INFO format.PrintCont(67) - Into PrintCont.std2NoStd()...
17:59:15,700 INFO common.Log4jPrint(20) - 使用的样式表：null
17:59:15,700 INFO format.PrintContOutXsl(35) - Into PrintContOutXsl.load()...
17:59:15,700 INFO format.PrintContOutXsl(38) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl...
17:59:15,700 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:06,275) and length=32066 bytes!
17:59:15,722 INFO format.PrintContOutXsl(54) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl!
17:59:15,728 INFO format.PrintContOutXsl(65) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 ?--><AgInsRgAutoDdcn_AccNo><xsl:value-of select="/TranData/Body/Account/AccNo" /></AgInsRgAutoDdcn_AccNo><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="/TranData/Body/Risk/InsuYearFlag" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:value-of select="/TranData/Body/Risk/InsuYear" /></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>保险合同号2：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　</xsl:text>（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　　　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--	<Ret_Inf />--><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                     现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

17:59:15,730 INFO format.PrintContOutXsl(73) - Out PrintContOutXsl.load()!
17:59:15,733 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.PrintCont.std2NoStd(PrintCont.java:93)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
17:59:15,735 INFO format.PrintCont(128) - Out PrintCont.std2NoStd()!
17:59:15,735 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
17:59:15,736 INFO common.SaveMessage(69) - 3803_129_1032_out.xml IO输出耗时:0.0s
17:59:15,736 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3803_129_1032_out.xml
17:59:15,737 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>860</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3018</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209175914894</SYS_RECV_TIME><SYS_RESP_TIME>20161209175915734</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂ㄥㄨ存宸茬琚浣跨锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num>0</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd /><InsPolcy_HsitPrd /><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?╁2锛?                                               璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>?╁绔ワ?016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>?淇浜哄锛?           у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011768</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276983011768</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:59:15,737 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
17:59:15,739 INFO test.NewCCBTestUI(519) - 返回报文长度：2894
17:59:15,740 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：0.861s
17:59:15,752 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
17:59:15,836 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:59:15,837 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
17:59:15,873 INFO common.Log4jPrint(20) - i=0
17:59:15,874 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
17:59:15,874 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.994s
17:59:15,875 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
18:01:01,636 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
18:01:01,646 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:01:01,647 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:01:01,647 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:01:01,648 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:01:01,654 INFO test.NewCCBTestUI(490) - 请求报文长度：1679
18:01:01,655 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1679
18:01:01,656 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230174826560</SYS_REQ_TIME><SYS_TIME_LEFT>000119892</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011768</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Cvr_ID>011A0100</Cvr_ID><InsPolcy_No>888019000002281</InsPolcy_No><Rvl_Rcrd_Num>1</Rvl_Rcrd_Num><Detail_List><Detail><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Ins_IBVoch_ID>1800190000013</Ins_IBVoch_ID></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:01:01,656 INFO test.NewCCBTestUI(505) - 收到返回报文！
18:01:01,658 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819182
18:01:01,658 INFO newNet.CcbNetImpl(58) - mTranCom==============13
18:01:01,660 INFO common.SaveMessage(69) - 3809_132_1032_in.xml IO输出耗时:0.0010s
18:01:01,660 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3809_132_1032_in.xml
18:01:01,661 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
18:01:01,661 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
18:01:01,662 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.PrintCont
18:01:01,662 INFO format.PrintCont(40) - Into PrintCont.noStd2Std()...
18:01:01,666 INFO format.PrintCont(62) - Out PrintCont.noStd2Std()!
18:01:01,667 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewPrintCont
18:01:01,667 INFO service.NewPrintCont(34) - Into NewPrintCont.service()...
18:01:01,667 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
18:01:01,667 INFO common.Log4jPrint(20) - 进程名：3809
18:01:01,667 INFO common.Log4jPrint(20) - trancom:13
18:01:01,667 INFO common.Log4jPrint(20) - FuncFlag:1032
18:01:01,667 INFO common.Log4jPrint(20) - mHeadEle.getChildText3809_132_1032_in.xml
18:01:01,734 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:01:01,735 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ContNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3809,13,'110378300','108011rv11481276983011768','77976569',1032,20161230,174826,'888019000002281','180019000001371',-1,-1,'127.0.0.1','3809_132_1032_in.xml',20161209,180101,20161209,180101 )
18:01:01,753 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
18:01:01,754 ERROR service.NewPrintCont(152) - 打印保单交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewPrintCont.service(NewPrintCont.java:45)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
18:01:01,755 INFO service.NewPrintCont(170) - Out NewPrintCont.service()!
18:01:01,756 INFO format.PrintCont(67) - Into PrintCont.std2NoStd()...
18:01:01,757 INFO common.Log4jPrint(20) - 使用的样式表：null
18:01:01,758 INFO format.PrintContOutXsl(35) - Into PrintContOutXsl.load()...
18:01:01,758 INFO format.PrintContOutXsl(38) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl...
18:01:01,759 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:06,275) and length=32066 bytes!
18:01:01,810 INFO format.PrintContOutXsl(54) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl!
18:01:01,818 INFO format.PrintContOutXsl(65) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 ?--><AgInsRgAutoDdcn_AccNo><xsl:value-of select="/TranData/Body/Account/AccNo" /></AgInsRgAutoDdcn_AccNo><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="/TranData/Body/Risk/InsuYearFlag" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:value-of select="/TranData/Body/Risk/InsuYear" /></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>保险合同号2：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　</xsl:text>（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　　　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--	<Ret_Inf />--><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                     现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

18:01:01,819 INFO format.PrintContOutXsl(73) - Out PrintContOutXsl.load()!
18:01:01,823 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.PrintCont.std2NoStd(PrintCont.java:93)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
18:01:01,825 INFO format.PrintCont(128) - Out PrintCont.std2NoStd()!
18:01:01,825 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:01:01,842 INFO common.SaveMessage(69) - 3809_135_1032_out.xml IO输出耗时:0.016s
18:01:01,843 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3809_135_1032_out.xml
18:01:01,843 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2981</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209180101663</SYS_RECV_TIME><SYS_RESP_TIME>20161209180101825</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num>0</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd /><InsPolcy_HsitPrd /><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?╁2锛?                                               璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>?╁绔ワ?016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>?淇浜哄锛?           у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011768</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276983011768</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

18:01:01,843 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
18:01:01,845 INFO test.NewCCBTestUI(519) - 返回报文长度：2875
18:01:01,847 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：0.2s
18:01:01,858 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
18:01:01,948 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:01:01,949 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:01:02,075 INFO common.Log4jPrint(20) - i=0
18:01:02,076 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
18:01:02,076 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.429s
18:01:02,077 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
18:01:19,856 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
18:01:19,866 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:01:19,867 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:01:19,867 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:01:19,867 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:01:19,874 INFO test.NewCCBTestUI(490) - 请求报文长度：1679
18:01:19,875 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1679
18:01:19,875 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230174826560</SYS_REQ_TIME><SYS_TIME_LEFT>000119892</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011769</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Cvr_ID>011A0100</Cvr_ID><InsPolcy_No>888019000002281</InsPolcy_No><Rvl_Rcrd_Num>1</Rvl_Rcrd_Num><Detail_List><Detail><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Ins_IBVoch_ID>1800190000013</Ins_IBVoch_ID></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:01:19,875 INFO test.NewCCBTestUI(505) - 收到返回报文！
18:01:19,877 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819182
18:01:19,877 INFO newNet.CcbNetImpl(58) - mTranCom==============13
18:01:19,879 INFO common.SaveMessage(69) - 3815_138_1032_in.xml IO输出耗时:0.0010s
18:01:19,879 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3815_138_1032_in.xml
18:01:19,879 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
18:01:19,879 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
18:01:19,880 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.PrintCont
18:01:19,880 INFO format.PrintCont(40) - Into PrintCont.noStd2Std()...
18:01:19,884 INFO format.PrintCont(62) - Out PrintCont.noStd2Std()!
18:01:19,884 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewPrintCont
18:01:19,884 INFO service.NewPrintCont(34) - Into NewPrintCont.service()...
18:01:19,884 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
18:01:19,884 INFO common.Log4jPrint(20) - 进程名：3815
18:01:19,884 INFO common.Log4jPrint(20) - trancom:13
18:01:19,885 INFO common.Log4jPrint(20) - FuncFlag:1032
18:01:19,885 INFO common.Log4jPrint(20) - mHeadEle.getChildText3815_138_1032_in.xml
18:01:20,047 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:01:20,048 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ContNo,OtherNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3815,13,'110378300','108011rv11481276983011769','77976569',1032,20161230,174826,'888019000002281','180019000001371',-1,-1,'127.0.0.1','3815_138_1032_in.xml',20161209,180119,20161209,180119 )
18:01:20,070 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
18:01:20,073 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
18:01:20,075 INFO common.SaveMessage(69) - 3815_141_29_inSvc.xml IO输出耗时:0.0010s
18:01:20,075 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3815_141_29_inSvc.xml
18:01:20,076 INFO common.Log4jPrint(20) - start call 打印保单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
18:01:20,081 INFO net.CallWebsvcAtomSvc(75) - start call 打印保单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
18:01:20,124 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
18:01:20,125 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
18:01:20,125 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
18:01:20,125 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
18:01:20,126 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
18:01:20,126 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
18:01:20,126 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:01:20,127 DEBUG httpclient.Wire(70) - >> "3a9[\r][\n]"
18:01:20,128 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjMwPC9UcmFuRGF0ZT48VHJhblRpbWU+MTc0ODI2PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI3Njk4MzAxMTc2OTwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDMyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzgxNV8xMzhfMTAzMl9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4yOTwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxDb250Tm8+ODg4MDE5MDAwMDAyMjgxPC9Db250Tm8+PENvbnRQcnRObz4xODAwMTkwMDAwMDEzNzE8L0NvbnRQcnRObz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
18:01:20,128 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:01:20,128 DEBUG httpclient.Wire(84) - >> "0"
18:01:20,129 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:01:20,129 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:01:20,690 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
18:01:20,691 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
18:01:20,692 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
18:01:20,693 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
18:01:20,693 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
18:01:20,694 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 10:01:01 GMT[\r][\n]"
18:01:20,695 DEBUG httpclient.Wire(70) - << "[\r][\n]"
18:01:20,696 DEBUG httpclient.Wire(84) - << "1"
18:01:20,697 DEBUG httpclient.Wire(84) - << "e"
18:01:20,697 DEBUG httpclient.Wire(84) - << "f"
18:01:20,698 DEBUG httpclient.Wire(84) - << "[\r]"
18:01:20,699 DEBUG httpclient.Wire(70) - << "[\n]"
18:01:20,699 DEBUG httpclient.Wire(84) - << "<?xm"
18:01:20,700 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
18:01:20,702 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvU2r/J08O3ts6nu/LS0b6tsbvKudPDo6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
18:01:20,704 INFO net.CallWebsvcAtomSvc(118) - 投保单号null打印保单(service)耗时：0.621s
18:01:20,709 INFO common.SaveMessage(69) - 3815_144_29_outSvc.xml IO输出耗时:0.0010s
18:01:20,710 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3815_144_29_outSvc.xml
18:01:20,710 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
18:01:20,711 ERROR service.NewPrintCont(152) - 打印保单交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不在可用范围或已经被使用！
	at com.sinosoft.midplat.newccb.service.NewPrintCont.service(NewPrintCont.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
18:01:20,756 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:01:20,757 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:01:20,758 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3815,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481276983011769',Operator='77976569',FuncFlag=1032,TranDate=20161230,TranTime=174826,ProposalPrtNo=null,ContNo='888019000002281',OtherNo='180019000001371',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不在可用范围或已经被使用！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3815_138_1032_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=180119,ModifyDate=20161209,ModifyTime=180120,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481276983011769'
18:01:20,775 INFO service.NewPrintCont(170) - Out NewPrintCont.service()!
18:01:20,775 INFO format.PrintCont(67) - Into PrintCont.std2NoStd()...
18:01:20,777 INFO common.Log4jPrint(20) - 使用的样式表：null
18:01:20,778 INFO format.PrintContOutXsl(35) - Into PrintContOutXsl.load()...
18:01:20,778 INFO format.PrintContOutXsl(38) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl...
18:01:20,779 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:06,275) and length=32066 bytes!
18:01:20,827 INFO format.PrintContOutXsl(54) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/PrintContOut.xsl!
18:01:20,836 INFO format.PrintContOutXsl(65) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 ?--><AgInsRgAutoDdcn_AccNo><xsl:value-of select="/TranData/Body/Account/AccNo" /></AgInsRgAutoDdcn_AccNo><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="/TranData/Body/Risk/InsuYearFlag" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:value-of select="/TranData/Body/Risk/InsuYear" /></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>保险合同号2：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　</xsl:text>（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　　　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text>　　　　　　　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--	<Ret_Inf />--><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                     现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text>公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text>                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text /></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf><xsl:text>　　　</xsl:text><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

18:01:20,837 INFO format.PrintContOutXsl(73) - Out PrintContOutXsl.load()!
18:01:20,841 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FunctionDef1Arg.getArg0AsString(FunctionDef1Arg.java:97)
	at org.apache.xpath.functions.FuncString.execute(FuncString.java:45)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.PrintCont.std2NoStd(PrintCont.java:93)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
18:01:20,842 INFO format.PrintCont(128) - Out PrintCont.std2NoStd()!
18:01:20,842 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:01:20,861 INFO common.SaveMessage(69) - 3815_147_1032_out.xml IO输出耗时:0.018s
18:01:20,861 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3815_147_1032_out.xml
18:01:20,862 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>860</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3018</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018041483091306012191</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209180119881</SYS_RECV_TIME><SYS_RESP_TIME>20161209180120842</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂ㄥㄨ存宸茬琚浣跨锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num>0</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd /><InsPolcy_HsitPrd /><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?╁2锛?                                               璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>?╁绔ワ?016-12-09                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>?-----------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>?淇浜哄锛?           у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276983011769</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819182</SYS_TX_CODE><Ins_Co_Acg_Dt>20161230</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276983011769</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

18:01:20,862 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
18:01:20,864 INFO test.NewCCBTestUI(519) - 返回报文长度：2894
18:01:20,865 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：0.999s
18:01:20,877 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
18:01:20,932 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:01:20,932 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:01:20,975 INFO common.Log4jPrint(20) - i=0
18:01:20,976 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
18:01:20,976 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.109s
18:01:20,977 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
18:08:02,877 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4145b02f
18:08:02,889 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:08:02,894 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:08:02,895 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:08:02,897 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
18:08:02,898 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:08:02,898 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:08:02,902 INFO common.XmlConf(64) - conf file modified at (2016-12-09 17:55:18,527) and length=23952 bytes!
18:08:02,973 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:08:02,982 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:08:02,983 INFO common.Log4jPrint(20) - End reset System.out!
18:08:02,985 INFO net.SocketConf(27) - Into SocketConf.load()...
18:08:02,986 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:08:02,987 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
18:08:02,990 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:08:02,990 INFO net.SocketConf(60) - Out SocketConf.load()!
18:08:03,005 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
18:08:03,005 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:08:03,014 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
18:08:03,015 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:08:03,015 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
18:08:03,019 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
18:08:03,020 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
18:08:03,020 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:08:03,027 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
18:08:03,027 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
18:08:03,028 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:08:03,034 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
18:08:03,034 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
18:08:03,035 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
18:31:16,739 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:167)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:167)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:167)
18:31:16,747 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
18:31:16,760 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
18:31:16,761 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:31:16,761 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
18:31:16,772 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:31:16,796 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

18:31:16,797 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
18:31:16,800 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
18:31:16,807 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:31:20,426 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:31:20,481 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:31:20,619 INFO midplat.Ybt4Socket(33) - TranLogNo:3818
18:31:20,620 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:31:20,635 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:31:20,637 INFO midplat.Ybt4Socket(55) - Into Ybt4Socket.run()...
18:31:20,639 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:31:20,662 ERROR midplat.Ybt4Socket(115) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:59)
18:31:20,667 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:31:20,668 INFO common.Log4jPrint(20) - ==================send====
18:31:20,668 ERROR midplat.Ybt4Socket(122) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:120)
18:31:20,821 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:31:20,822 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:31:20,861 INFO common.Log4jPrint(20) - i=0
18:31:20,864 ERROR midplat.Ybt4Socket(128) - 查询Tranlog表异常!
18:31:20,865 INFO midplat.Ybt4Socket(140) - 处理总耗时：0.228s
18:31:20,866 INFO midplat.Ybt4Socket(141) - Out Ybt4Socket.run()!
18:31:36,935 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
18:31:36,945 INFO midplat.Ybt4Socket(33) - TranLogNo:3824
18:31:36,945 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:31:36,946 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:31:36,946 INFO midplat.Ybt4Socket(55) - Into Ybt4Socket.run()...
18:31:36,946 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:31:36,955 INFO test.NewCCBTestUI(490) - 请求报文长度：5862
18:31:36,957 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
18:31:36,957 INFO test.NewCCBTestUI(505) - 收到返回报文！
18:31:36,958 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483090757012460</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161230173917645</SYS_REQ_TIME><SYS_TIME_LEFT>000119808</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276333011750</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000023</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:31:36,965 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
18:31:36,965 INFO newNet.CcbNetImpl(58) - mTranCom==============13
18:31:37,090 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
18:31:37,090 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
18:31:37,096 INFO common.SaveMessage(69) - 3827_3_1012_in.xml IO输出耗时:0.0040s
18:31:37,096 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3827_3_1012_in.xml
18:31:37,098 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
18:31:37,101 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
18:31:37,103 INFO midplat.Ybt4Socket(96) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
18:31:37,184 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
18:31:37,220 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
18:31:37,221 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
18:31:37,222 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
18:31:37,574 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
18:31:37,591 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

18:31:37,593 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
18:31:37,795 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
18:31:37,801 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
18:31:37,813 INFO common.Log4jPrint(20) - ================0133043
18:31:37,813 INFO common.Log4jPrint(20) - ================00
18:31:37,813 INFO common.Log4jPrint(20) - ++++++++++++++++00
18:31:37,813 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
18:31:37,814 INFO midplat.Ybt4Socket(102) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
18:31:37,826 INFO service.NewContInput(43) - Into NewContInput.service()...
18:31:37,827 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
18:31:37,828 INFO common.Log4jPrint(20) - 进程名：3827
18:31:37,828 INFO common.Log4jPrint(20) - trancom:13
18:31:37,828 INFO common.Log4jPrint(20) - FuncFlag:1012
18:31:37,828 INFO common.Log4jPrint(20) - mHeadEle.getChildText3827_3_1012_in.xml
18:31:37,873 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:31:37,873 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo ) values ( 3827,13,'110378300','108011rv11481276333011750','77976569',1012,20161230,173917,'101019000002387',-1,-1,'??????','127.0.0.1','3827_3_1012_in.xml',20161209,183137,20161209,183137,'320177196306261011','??????','320177196306261011' )
18:31:37,889 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
18:31:37,891 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000002387' and MakeDate>=20161209 and MakeTime>=182817
18:31:38,017 INFO common.RuleXsl(155) - Into RuleXsl.load()...
18:31:38,018 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
18:31:38,019 INFO common.XslCache(64) - conf file modified at (2016-12-09 12:11:59,478) and length=15623 bytes!
18:31:38,089 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
18:31:38,089 INFO common.RuleXsl(179) - Out RuleXsl.load()!
18:31:38,089 INFO common.RuleXml(198) - Into RuleXml.load()...
18:31:38,089 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
18:31:38,090 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
18:31:38,099 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
18:31:38,099 INFO common.RuleXml(215) - Out RuleXml.load()!
18:31:38,099 INFO common.RuleParser(49) - Into RuleParser.check()...
18:31:38,099 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
18:31:38,107 INFO common.Log4jPrint(20) - 对邮编进行校验
18:31:38,108 INFO common.Log4jPrint(20) - 对邮编进行校验
18:31:38,108 INFO common.Log4jPrint(20) - 返回的结果是:0
18:31:38,110 INFO common.Log4jPrint(20) - 对邮编进行校验
18:31:38,112 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

18:31:38,112 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:106)
18:31:38,178 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:31:38,178 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:31:38,179 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3827,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481276333011750',Operator='77976569',FuncFlag=1012,TranDate=20161230,TranTime=173917,ProposalPrtNo='101019000002387',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3827_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=183137,ModifyDate=20161209,ModifyTime=183138,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId=null,OutNoDoc=null where TranNo='108011rv11481276333011750'
18:31:38,200 INFO service.NewContInput(245) - Out NewContInput.service()!
18:31:38,201 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
18:31:38,224 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
18:31:38,225 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
18:31:38,225 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
18:31:38,237 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
18:31:38,244 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

18:31:38,245 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
18:31:38,250 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
18:31:38,250 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:31:38,255 INFO common.SaveMessage(69) - 3827_6_1012_out.xml IO输出耗时:0.0030s
18:31:38,255 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3827_6_1012_out.xml
18:31:38,256 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1932</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483090757012460</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209183137186</SYS_RECV_TIME><SYS_RESP_TIME>20161209183138249</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276333011750</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

18:31:38,257 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
18:31:38,260 INFO test.NewCCBTestUI(519) - 返回报文长度：1929
18:31:38,261 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：1.315s
18:31:38,274 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
18:31:38,301 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:31:38,302 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:31:38,372 INFO common.Log4jPrint(20) - i=0
18:31:38,372 ERROR midplat.Ybt4Socket(128) - 查询Tranlog表异常!
18:31:38,373 INFO midplat.Ybt4Socket(140) - 处理总耗时：1.427s
18:31:38,373 INFO midplat.Ybt4Socket(141) - Out Ybt4Socket.run()!
18:34:33,382 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7c6576d5
18:34:33,391 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:34:33,395 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:34:33,396 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:34:33,398 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
18:34:33,399 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:34:33,399 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:34:33,403 INFO common.XmlConf(64) - conf file modified at (2016-12-09 17:55:18,527) and length=23952 bytes!
18:34:33,465 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:34:33,476 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:34:33,477 INFO common.Log4jPrint(20) - End reset System.out!
18:34:33,479 INFO net.SocketConf(27) - Into SocketConf.load()...
18:34:33,479 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:34:33,480 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
18:34:33,483 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:34:33,484 INFO net.SocketConf(60) - Out SocketConf.load()!
18:34:33,500 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
18:34:33,501 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:34:33,510 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
18:34:33,511 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
18:34:33,511 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:34:33,519 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
18:34:33,519 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
18:34:33,519 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:34:33,526 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
18:34:33,527 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:34:33,526 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
18:34:33,532 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
18:34:33,532 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
18:34:33,532 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
18:34:36,829 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
18:34:36,839 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
18:34:36,840 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:34:36,840 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
18:34:36,849 INFO test.NewCCBTestUI(490) - 请求报文长度：5862
18:34:36,849 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:34:36,850 INFO test.NewCCBTestUI(505) - 收到返回报文！
18:34:36,871 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

18:34:36,872 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
18:34:36,875 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
18:34:36,881 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:34:37,368 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:34:37,423 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:34:37,478 INFO midplat.Ybt4Socket(33) - TranLogNo:3830
18:34:37,479 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:34:37,491 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:34:37,492 INFO midplat.Ybt4Socket(55) - Into Ybt4Socket.run()...
18:34:37,494 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:34:37,500 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
18:34:37,502 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483090757012460</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209173917645</SYS_REQ_TIME><SYS_TIME_LEFT>000119808</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276333011750</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000023</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:34:37,536 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
18:34:37,536 INFO newNet.CcbNetImpl(58) - mTranCom==============13
18:34:37,663 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
18:34:37,663 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
18:34:37,668 INFO common.SaveMessage(69) - 3833_3_1012_in.xml IO输出耗时:0.0050s
18:34:37,668 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3833_3_1012_in.xml
18:34:37,670 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
18:34:37,673 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
18:34:37,675 INFO midplat.Ybt4Socket(96) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
18:34:37,680 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
18:34:37,688 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
18:34:37,688 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
18:34:37,689 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
18:34:38,009 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
18:34:38,027 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

18:34:38,028 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
18:34:38,188 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
18:34:38,189 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
18:34:38,200 INFO common.Log4jPrint(20) - ================0133043
18:34:38,200 INFO common.Log4jPrint(20) - ================00
18:34:38,200 INFO common.Log4jPrint(20) - ++++++++++++++++00
18:34:38,200 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
18:34:38,200 INFO midplat.Ybt4Socket(102) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
18:34:38,206 INFO service.NewContInput(43) - Into NewContInput.service()...
18:34:38,207 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
18:34:38,216 INFO common.Log4jPrint(20) - 进程名：3833
18:34:38,217 INFO common.Log4jPrint(20) - trancom:13
18:34:38,217 INFO common.Log4jPrint(20) - FuncFlag:1012
18:34:38,217 INFO common.Log4jPrint(20) - mHeadEle.getChildText3833_3_1012_in.xml
18:34:38,250 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:34:38,251 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo ) values ( 3833,13,'110378300','108011rv11481276333011750','77976569',1012,20161209,173917,'101019000002387',-1,-1,'??????','127.0.0.1','3833_3_1012_in.xml',20161209,183438,20161209,183438,'320177196306261011','??????','320177196306261011' )
18:34:38,278 ERROR service.ServiceImpl(138) - ORA-00001: 违反唯一约束条件 (YBT.PK_TRANNO) 
18:34:38,280 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 插入日志失败！
	at com.sinosoft.midplat.service.ServiceImpl.insertTranLog(ServiceImpl.java:139)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:56)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:106)
18:34:38,283 INFO service.NewContInput(245) - Out NewContInput.service()!
18:34:38,283 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
18:34:38,290 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
18:34:38,290 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
18:34:38,291 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
18:34:38,309 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
18:34:38,314 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

18:34:38,315 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
18:34:38,318 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
18:34:38,318 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:34:38,353 INFO common.SaveMessage(69) - 3833_6_1012_out.xml IO输出耗时:0.033s
18:34:38,353 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3833_6_1012_out.xml
18:34:38,354 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>823</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1926</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483090757012460</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209183437681</SYS_RECV_TIME><SYS_RESP_TIME>20161209183438318</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>7</SYS_RESP_DESC_LEN><SYS_RESP_DESC>ユュ澶辫触锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276333011750</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

18:34:38,354 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
18:34:38,356 INFO test.NewCCBTestUI(519) - 返回报文长度：1926
18:34:38,357 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：1.518s
18:34:38,368 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
18:34:38,400 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:34:38,400 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:34:38,433 INFO common.Log4jPrint(20) - i=0
18:34:38,433 ERROR midplat.Ybt4Socket(128) - 查询Tranlog表异常!
18:34:38,434 INFO midplat.Ybt4Socket(140) - 处理总耗时：0.942s
18:34:38,434 INFO midplat.Ybt4Socket(141) - Out Ybt4Socket.run()!
18:35:52,086 DEBUG net.SocketListenerF5(32) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
18:35:52,095 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:35:52,100 DEBUG common.SysInfo(25) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:35:52,100 DEBUG common.SysInfo(28) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:35:52,102 DEBUG common.SysInfo(35) - MIDPLAT_HOME = null
18:35:52,103 DEBUG common.SysInfo(51) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:35:52,104 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:35:52,107 INFO common.XmlConf(64) - conf file modified at (2016-12-09 17:55:18,527) and length=23952 bytes!
18:35:52,174 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:35:52,186 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:35:52,187 INFO common.Log4jPrint(20) - End reset System.out!
18:35:52,189 INFO net.SocketConf(27) - Into SocketConf.load()...
18:35:52,189 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:35:52,190 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,852) and length=686 bytes!
18:35:52,194 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:35:52,195 INFO net.SocketConf(60) - Out SocketConf.load()!
18:35:52,213 INFO net.SocketListenerF5(55) - Into SocketListenerF5.contextInitialized()...
18:35:52,214 INFO net.SocketListenerF5(66) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:35:52,224 INFO net.SocketListenerF5(73) - 0_Socket(农业银行)加载成功!
18:35:52,225 INFO net.SocketListenerF5(66) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:35:52,225 INFO net.SocketListenerF5$Server(141) - 监听端口 35006
18:35:52,231 INFO net.SocketListenerF5(73) - 1_Socket(贵州银行)加载成功!
18:35:52,231 INFO net.SocketListenerF5$Server(141) - 监听端口 35017
18:35:52,231 INFO net.SocketListenerF5(66) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:35:52,237 INFO net.SocketListenerF5(73) - 2_Socket(中国银行)加载成功!
18:35:52,237 INFO net.SocketListenerF5$Server(141) - 监听端口 52004
18:35:52,238 INFO net.SocketListenerF5(66) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:35:52,244 INFO net.SocketListenerF5(73) - 3_Socket(建设银行)加载成功!
18:35:52,245 INFO net.SocketListenerF5(81) - Out SocketListenerF5.contextInitialized()!
18:35:52,244 INFO net.SocketListenerF5$Server(141) - 监听端口 39871
18:35:57,771 INFO test.NewCCBTestUI(477) - Socket连接127.0.0.1:39871
18:35:57,785 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
18:35:57,785 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:35:57,786 INFO common.XmlConf(64) - conf file modified at (2016-12-09 12:17:22,931) and length=14144 bytes!
18:35:57,794 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:35:57,795 INFO test.NewCCBTestUI(490) - 请求报文长度：5862
18:35:57,796 INFO test.NewCCBTestUI(505) - 收到返回报文！
18:35:57,816 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="13">13</TranCom><CoreNo>010072</CoreNo><AgentCom>1301010001</AgentCom><!--代理机构编码:建设银行贵州贵阳世纪城网点 --><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><name>实时投保</name><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

18:35:57,817 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
18:35:57,819 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
18:35:57,825 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:35:58,294 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:35:58,368 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:35:58,426 INFO midplat.Ybt4Socket(33) - TranLogNo:3830
18:35:58,428 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:35:58,442 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:35:58,444 INFO midplat.Ybt4Socket(55) - Into Ybt4Socket.run()...
18:35:58,446 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:35:58,454 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：5862
18:35:58,455 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483090757012460</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209173917645</SYS_REQ_TIME><SYS_TIME_LEFT>000119808</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276333011751</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><Plchd_Brth_Dt>19630626</Plchd_Brth_Dt><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><Plchd_City_Cd>110000</Plchd_City_Cd><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><Plchd_Dtl_Adr_Cntnt>????????・111??</Plchd_Dtl_Adr_Cntnt><Plchd_Comm_Adr /><Plchd_ZipECD>100000</Plchd_ZipECD><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><Plchd_Fix_TelNo>38643564</Plchd_Fix_TelNo><PlchdMoveTelItlDstcNo>86</PlchdMoveTelItlDstcNo><Plchd_Move_TelNo>13355659877</Plchd_Move_TelNo><Plchd_Email_Adr /><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><Plchd_Yr_IncmAm>300000.00</Plchd_Yr_IncmAm><Fam_Yr_IncmAm>1000000.00</Fam_Yr_IncmAm><InsPrem_Bdgt_Amt>10000.00</InsPrem_Bdgt_Amt><Rsdnt_TpCd>1</Rsdnt_TpCd><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133043</Plchd_And_Rcgn_ReTpCd><Rcgn_Nm>??????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19630626</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>320177196306261011</Rcgn_Crdt_No><Rcgn_Crdt_EfDt>20070924</Rcgn_Crdt_EfDt><Rcgn_Crdt_ExpDt>20181212</Rcgn_Crdt_ExpDt><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????・111??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr /><Rcgn_ZipECD>100000</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo>86</RcgnFixTelItnl_DstcNo><RcgnFixTelDmst_DstcNo>010</RcgnFixTelDmst_DstcNo><Rcgn_Fix_TelNo>38643564</Rcgn_Fix_TelNo><RcgnMoveTelItnlDstcNo>86</RcgnMoveTelItnlDstcNo><Rcgn_Move_TelNo>13355659877</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm>300000.00</Rcgn_Yr_IncmAm><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>0</Benf_Num><Benf_List /><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>???????2????????????????)</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><Ins_Cps>10</Ins_Cps><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd /><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><Ins_Ddln>5</Ins_Ddln><Ins_Cyc_Cd>03</Ins_Cyc_Cd><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>1010190000023</Ins_Bl_Prt_No><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><BO_Nm>?й??????й??????????????????</BO_Nm><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><BO_Sale_Stff_Nm>????</BO_Sale_Stff_Nm><BO_Sale_Stff_ID>77976569</BO_Sale_Stff_ID><Sale_Stff_AICSQCtf_ID>20080211000000010567</Sale_Stff_AICSQCtf_ID><InsAgnCrStQuaCtVld_Dt>20180531</InsAgnCrStQuaCtVld_Dt><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><BOIChOfAgInsBsnPnp_Nm>????</BOIChOfAgInsBsnPnp_Nm><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo /><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>02</Cst_Rsk_Tlrnc_Cpy_Cd><Rsk_Evlt_AvlDt>20171118</Rsk_Evlt_AvlDt></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:35:58,472 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
18:35:58,472 INFO newNet.CcbNetImpl(58) - mTranCom==============13
18:35:58,596 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
18:35:58,597 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
18:35:58,602 INFO common.SaveMessage(69) - 3833_3_1012_in.xml IO输出耗时:0.0050s
18:35:58,602 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3833_3_1012_in.xml
18:35:58,604 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
18:35:58,606 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
18:35:58,608 INFO midplat.Ybt4Socket(96) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
18:35:58,614 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
18:35:58,621 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
18:35:58,621 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
18:35:58,622 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,860) and length=25875 bytes!
18:35:58,937 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
18:35:58,954 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

18:35:58,955 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
18:35:59,113 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
18:35:59,114 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.0E8
18:35:59,124 INFO common.Log4jPrint(20) - ================0133043
18:35:59,124 INFO common.Log4jPrint(20) - ================00
18:35:59,125 INFO common.Log4jPrint(20) - ++++++++++++++++00
18:35:59,125 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
18:35:59,125 INFO midplat.Ybt4Socket(102) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
18:35:59,130 INFO service.NewContInput(43) - Into NewContInput.service()...
18:35:59,131 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
18:35:59,140 INFO common.Log4jPrint(20) - 进程名：3833
18:35:59,141 INFO common.Log4jPrint(20) - trancom:13
18:35:59,141 INFO common.Log4jPrint(20) - FuncFlag:1012
18:35:59,141 INFO common.Log4jPrint(20) - mHeadEle.getChildText3833_3_1012_in.xml
18:35:59,188 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:35:59,190 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo ) values ( 3833,13,'110378300','108011rv11481276333011751','77976569',1012,20161209,173917,'101019000002387',-1,-1,'??????','127.0.0.1','3833_3_1012_in.xml',20161209,183559,20161209,183559,'320177196306261011','??????','320177196306261011' )
18:35:59,205 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
18:35:59,207 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101019000002387' and MakeDate>=20161209 and MakeTime>=183239
18:35:59,292 INFO common.RuleXsl(155) - Into RuleXsl.load()...
18:35:59,293 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
18:35:59,294 INFO common.XslCache(64) - conf file modified at (2016-12-09 12:11:59,478) and length=15623 bytes!
18:35:59,364 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
18:35:59,364 INFO common.RuleXsl(179) - Out RuleXsl.load()!
18:35:59,365 INFO common.RuleXml(198) - Into RuleXml.load()...
18:35:59,365 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
18:35:59,365 INFO common.XmlConf(64) - conf file modified at (2016-12-09 11:58:00,851) and length=9884 bytes!
18:35:59,370 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
18:35:59,370 INFO common.RuleXml(215) - Out RuleXml.load()!
18:35:59,371 INFO common.RuleParser(49) - Into RuleParser.check()...
18:35:59,371 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
18:35:59,378 INFO common.Log4jPrint(20) - 对邮编进行校验
18:35:59,378 INFO common.Log4jPrint(20) - 对邮编进行校验
18:35:59,379 INFO common.Log4jPrint(20) - 返回的结果是:0
18:35:59,381 INFO common.Log4jPrint(20) - 对邮编进行校验
18:35:59,382 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

18:35:59,383 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
18:35:59,383 INFO common.RuleParser(62) - Out RuleParser.check()!
18:35:59,383 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
18:35:59,388 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
18:35:59,390 INFO common.SaveMessage(69) - 3833_6_0_inSvc.xml IO输出耗时:0.0020s
18:35:59,390 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3833_6_0_inSvc.xml
18:35:59,391 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
18:35:59,391 INFO net.CallWebsvcAtomSvc(75) - start call 录单核保(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
18:35:59,645 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
18:36:00,085 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
18:36:00,103 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
18:36:00,103 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
18:36:00,104 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
18:36:00,104 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
18:36:00,104 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
18:36:00,105 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:36:00,127 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
18:36:00,128 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTczOTE3PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI3NjMzMzAxMTc1MTwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+MzgzM18zXzEwMTJfaW4ueG1sPC9Jbk5vRG9jPjxTZXJ2aWNlSWQ+MDwvU2VydmljZUlkPjwvSGVhZD48Qm9keT48UHJvcG9zYWxQcnRObz4xMDEwMTkwMDAwMDIzODc8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT48QWNjTm8gLz48QWNjTmFtZT4/Pz8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PzwvU2FsZU5hbWU+PFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vPjIwMDgwMjExMDAwMDAwMDEwNTY3PC9TYWxlQ2VydE5vPjxMdjFCck5vPjExMDAwMDAwMDwvTHYxQnJObz48QXBwbnQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48WWVhclNhbGFyeT4zMC4wPC9ZZWFyU2FsYXJ5PjxGYW1pbHlZZWFyU2FsYXJ5PjEwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDQzPC9SZWxhVG9JbnN1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaX"
18:36:00,128 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:36:00,129 DEBUG httpclient.Wire(70) - >> "5d5[\r][\n]"
18:36:00,129 DEBUG httpclient.Wire(84) - >> "J0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPjxJZEV4cERhdGU+MjAxODEyMTI8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz+hpDExMT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz44NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3MgLz48WmlwQ29kZT4xMDAwMDA8L1ppcENvZGU+PFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT48TW9iaWxlPjEzMzU1NjU5ODc3PC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtPjMwMDAwMC4wMDwvUmNnbllySW5jbUFtPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wMjwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE3MTExODwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxSaXNrPjxSaXNrQ29kZT4wMTFBMDEwMDwvUmlza0NvZGU+PFJpc2tOYW1lPj8/Pz8/Pz8yPz8/Pz8/Pz8/Pz8/Pz8/Pyk8L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xMDAwMDAwPC9QcmVtPjxNdWx0PjEwPC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC9QYXlFbmRZZWFyRmxhZz48R2V0SW50diAvPjxHZXRZZWFyRmxhZyAvPjxCb251c0dldE1vZGUgLz48U3ViRmxhZyAvPjxHZXRZZWFyIC8+PEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+PEluc3VZZWFyPjU8L0luc3VZZWFyPjxHZXRCYW5rQ29kZSAvPjxHZXRCYW5rQWNjTm8gLz48R2V0QWNjTmFtZSAvPjxBdXRvUGF5RmxhZyAvPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
18:36:00,130 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:36:00,130 DEBUG httpclient.Wire(84) - >> "0"
18:36:00,130 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:36:00,131 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:36:39,006 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
18:36:39,007 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
18:36:39,013 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
18:36:39,015 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
18:36:39,016 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
18:36:39,017 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 10:36:19 GMT[\r][\n]"
18:36:39,018 DEBUG httpclient.Wire(70) - << "[\r][\n]"
18:36:39,047 DEBUG httpclient.Wire(84) - << "1"
18:36:39,048 DEBUG httpclient.Wire(84) - << "7"
18:36:39,048 DEBUG httpclient.Wire(84) - << "1"
18:36:39,048 DEBUG httpclient.Wire(84) - << "f"
18:36:39,049 DEBUG httpclient.Wire(84) - << "[\r]"
18:36:39,049 DEBUG httpclient.Wire(70) - << "[\n]"
18:36:39,049 DEBUG httpclient.Wire(84) - << "<?xm"
18:36:39,056 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
18:36:39,066 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjA8L0ZsYWc+DQogICAgPERlc2M+vbvS17PJuaajoTwvRGVzYz4NCiAgPC9IZWFkPg0KICA8Qm9keT4NCiAgICA8Q29udE5vPjEwMTAxOTAwMDAwMjM4NzwvQ29udE5vPg0KICAgIDxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjM4NzwvUHJvcG9zYWxQcnRObz4NCiAgICA8Q29udFBydE5vPjwvQ29udFBydE5vPg0KICAgIDxQb2xpY3lQbGVkZ2U+MDwvUG9saWN5UGxlZGdlPg0KICAgIDxDb250VmFsdWU+MTAwMDAwMDwvQ29udFZhbHVlPg0KICAgIDxBY2NvdW50VmFsdWU+MTAwMDAwMDwvQWNjb3VudFZhbHVlPg0KICAgIDxQYXlQcm92PjwvUGF5UHJvdj4NCiAgICA8UGF5Tm9kZU5vPjEzMDEwMTAwMDE8L1BheU5vZGVObz4NCiAgICA8UGF5VHlwZT4wPC9QYXlUeXBlPg0KICAgIDxQYXlQcmVtPjA8L1BheVByZW0+DQogICAgPEFjY05vPm51bGw8L0FjY05vPg0KICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgPFByZW1UZXh0PsjLw/Gx0tK8zfLUqtX7PC9QcmVtVGV4dD4NCiAgICA8QW1udD4wPC9BbW50Pg0KICAgIDxBbW50VGV4dD7Iy8PxsdLB49Sq1fs8L0FtbnRUZXh0Pg0KICAgIDxBZ2VudENvZGU+NTIwMTMwMDAwNTwvQWdlbnRDb2RlPg0KICAgIDxBZ2VudE5hbWU+zfXSu9K7PC9BZ2VudE5hbWU+DQogICAgPEFnZW50R3JwQ29kZT4wMDAwMDAwMDAyMjM8L0FnZW50R3JwQ29kZT4NCiAgICA8QWdlbnRHcnBOYW1lPrnz0fTS+LGj06rStbK/MbbTPC9BZ2VudEdycE5hbWU+DQogICAgPEFnZW50Q29tPjEzMDEwMTAwMDE8L0FnZW50Q29tPg0KICAgIDxBZ2VudENvbU5hbWU+vajJ6NL40NC589bdufPR9MrAvM2zx834teM8L0FnZW50Q29tTmFtZT4NCiAgICA8Q29tQ29kZT44NjUyMDEwMTwvQ29tQ29kZT4NCiAgICA8Q29tTG9jYXRpb24+ufPR9NK7tv7SuzwvQ29tTG9jYXRpb24+DQogICAgPENvbU5hbWU+ufPW3bfWuavLvjwvQ29tTmFtZT4NCiAgICA8Q29tWmlwQ29kZT48L0NvbVppcENvZGU+DQogICAgPENvbVBob25lPjwvQ29tUGhvbmU+DQogICAgPFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPg0KICAgIDxTYWxlTmFtZT4/Pz8/PC9TYWxlTmFtZT4NCiAgICA8U2FsZUNlcnRObz4yMDA4MDIxMTAwMDAwMDAxMDU2NzwvU2FsZUNlcnRObz4NCiAgICA8UG9saWN5U3RhdHVzPjwvUG9saWN5U3RhdHVzPg0KICAgIDxCYW5rQ29tTm8+MTEwMzc4MzAwPC9CYW5rQ29tTm8+DQogICAgPEFnZW50UGhvbmU+MTUwMjE0NTIxNTk8L0FnZW50UGhvbmU+DQogICAgPFBheUludHY+MDwvUGF5SW50dj4NCiAgICA8SW5zUHJlbV9QeUZfUHJkX051bT4xMDAwPC9JbnNQcmVtX1B5Rl9QcmRfTnVtPg0KICAgIDxQYXllbmRZZWFyPjEwMDA8L1BheWVuZFllYXI+DQogICAgPFBheWVuZFllYXJGbGFnPlk8L1BheWVuZFllYXJGbGFnPg0KICAgIDxBcHBudD4NCiAgICAgIDxDdXN0b21lck5vPjAwMDAwMDA2MjI8L0N1c3RvbWVyTm8+DQogICAgICA8TmFtZT4/Pz8/Pz88L05hbWU+DQogICAgICA8U2V4PjA8L1NleD4NCiAgICAgIDxCaXJ0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+DQogICAgICA8SURUeXBlPjA8L0lEVHlwZT4NCiAgICAgIDxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz4NCiAgICAgIDxKb2JUeXBlPjE8L0pvYlR5cGU+DQogICAgICA8Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPg0KICAgICAgPEpvYk5hbWU+MTwvSm9iTmFtZT4NCiAgICAgIDxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5Pg0KICAgICAgPFN0YXR1cmU+PC9TdGF0dXJlPg0KICAgICAgPFdlaWdodD48L1dlaWdodD4NCiAgICAgIDxNYXJpdGFsU3RhdHVzPjwvTWFyaXRhbFN0YXR1cz4NCiAgICAgIDxBZGRyZXNzPjwvQWRkcmVzcz4NCiAgICAgIDxaaXBDb2RlPjEwMDAwMDwvWmlwQ29kZT4NCiAgICAgIDxNb2JpbGU+MTMzNTU2NTk4Nzc8L01vYmlsZT4NCiAgICAgIDxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+DQogICAgICA8RW1haWw+PC9FbWFpbD4NCiAgICAgIDxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPg0KICAgICAgPFllYXJTYWxhcnk+MzAuMDwvWWVhclNhbGFyeT4NCiAgICAgIDxGYW1pbHlZZWFyU2FsYXJ5PjEwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5Pg0KICAgICAgPERlblR5cGU+MTwvRGVuVHlwZT4NCiAgICA8L0FwcG50Pg0KICAgIDxJbnN1cmVkPg0KICAgICAgPEN1c3RvbWVyTm8+MDAwMDAwMDYyMjwvQ3VzdG9tZXJObz4NCiAgICAgIDxOYW1lPj8/Pz8/PzwvTmFtZT4NCiAgICAgIDxTZXg+MDwvU2V4Pg0KICAgICAgPEJpcnRoZGF5PjE5NjMwNjI2PC9CaXJ0aGRheT4NCiAgICAgIDxJRFR5cGU+MDwvSURUeXBlPg0KICAgICAgPElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPg0KICAgICAgPEpvYlR5cGU+MTwvSm9iVHlwZT4NCiAgICAgIDxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+DQogICAgICA8Sm9iTmFtZT4xPC9Kb2JOYW1lPg0KICAgICAgPFN0YXR1cmU+PC9TdGF0dXJlPg0KICAgICAgPE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+DQogICAgICA8V2VpZ2h0PjwvV2VpZ2h0Pg0KICAgICAgPE1hcml0YWxTdGF0dXM+PC9NYXJpdGFsU3RhdHVzPg0KICAgICAgPEFkZHJlc3M+PC9BZGRyZXNzPg0KICAgICAgPFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPg0KICAgICAgPE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPg0KICAgICAgPFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT4NCiAgICAgIDxFbWFpbD48L0VtYWlsPg0KICAgICAgPERlblR5cGU+PC9EZW5UeXBlPg0KICAgIDwvSW5zdXJlZD4NCiAgICA8SGVzaXRhdGVQZXJpb2Q+MjE8L0hlc2l0YXRlUGVyaW9kPg0KICAgIDxSaXNrPg0KICAgICAgPFJpc2tDb2RlPjAxMUEwMTAwPC9SaXNrQ29kZT4NCiAgICAgIDxSaXNrTmFtZT67qrnztuCyyrGmMrrFwb3Iq7Gjz9WjqM3yxNzQzaOpPC9SaXNrTmFtZT4NCiAgICAgIDxNYWluUmlza0NvZGU+MDExQTAxMDA8L01haW5SaXNrQ29kZT4NCiAgICAgIDxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT4NCiAgICAgIDxTaWduRGF0ZT48L1NpZ25EYXRlPg0KICAgICAgPENWYWxpRGF0ZT4yMDE2MTIwOTwvQ1ZhbGlEYXRlPg0KICAgICAgPEluc3VFbmREYXRlPjIwMjExMjA5PC9JbnN1RW5kRGF0ZT4NCiAgICAgIDxBbW50PjA8L0FtbnQ+DQogICAgICA8UHJlbT4xMDAwMDAwPC9QcmVtPg0KICAgICAgPE11bHQ+MTA8L011bHQ+DQogICAgICA8UGF5SW50dj4wPC9QYXlJbnR2Pg0KICAgICAgPFBheU1vZGU+MDwvUGF5TW9kZT4NCiAgICAgIDxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPg0KICAgICAgPEluc3VZZWFyPjU8L0luc3VZZWFyPg0KICAgICAgPFllYXJzPjU8L1llYXJzPg0KICAgICAgPFBheUVuZFllYXJGbGFnPlk8L1BheUVuZFllYXJGbGFnPg0KICAgICAgPFBheUVuZFllYXI+MTAwMDwvUGF5RW5kWWVhcj4NCiAgICAgIDxQYXlFbmREYXRlPjMwMTYxMjA5PC9QYXlFbmREYXRlPg0KICAgICAgPENvc3RJbnR2PjwvQ29zdEludHY+DQogICAgICA8Q29zdERhdGU+PC9Db3N0RGF0ZT4NCiAgICAgIDxQYXlUb0RhdGU+PC9QYXlUb0RhdGU+DQogICAgICA8R2V0WWVhckZsYWc+WTwvR2V0WWVhckZsYWc+DQogICAgICA8R2V0U3RhcnREYXRlPjIwMTYxMjA5PC9HZXRTdGFydERhdGU+DQogICAgICA8R2V0WWVhcj48L0dldFllYXI+DQogICAgICA8R2V0SW50dj48L0dldEludHY+DQogICAgICA8R2V0VGVybXM+PC9HZXRUZXJtcz4NCiAgICAgIDxHZXRCYW5rQ29kZT48L0dldEJhbmtDb2RlPg0KICAgICAgPEdldEJhbmtBY2NObz48L0dldEJhbmtBY2NObz4NCiAgICAgIDxHZXRBY2NOYW1lPjwvR2V0QWNjTmFtZT4NCiAgICAgIDxBdXRvUGF5RmxhZz48L0F1dG9QYXlGbGFnPg0KICAgICAgPEJvbnVzR2V0TW9kZT48L0JvbnVzR2V0TW9kZT4NCiAgICAgIDxTdWJGbGFnPjwvU3ViRmxhZz4NCiAgICAgIDxGdWxsQm9udXNHZXRNb2RlPjwvRnVsbEJvbnVzR2V0TW9kZT4NCiAgICAgIDxBY2NvdW50PjwvQWNjb3VudD4NCiAgICAgIDxDYXNoVmFsdWVzPjwvQ2FzaFZhbHVlcz4NCiAgICAgIDxEZWR1Y3Rpb25WYWx1ZXM+PC9EZWR1Y3Rpb25WYWx1ZXM+DQogICAgICA8Qm9udXNWYWx1ZXM+PC9Cb251c1ZhbHVlcz4NCiAgICAgIDxTcGVjQ29udGVudD48L1NwZWNDb250ZW50Pg0KICAgIDwvUmlzaz4NCiAgPC9Cb2R5Pg0KPC9UcmFuRGF0YT4NCg0K</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
18:36:39,075 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002387录单核保(service)耗时：39.684s
18:36:39,081 INFO common.SaveMessage(69) - 3833_9_0_outSvc.xml IO输出耗时:0.0020s
18:36:39,082 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3833_9_0_outSvc.xml
18:36:39,082 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
18:36:39,082 INFO common.Log4jPrint(20) - -----------------------------------------------
18:36:39,082 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
18:36:39,083 DEBUG service.NewContInput(251) - Into NewContInput.getContDB()...
18:36:39,090 INFO service.NewContInput(298) - 101019000002387,被保人与投保人关系,银行代码:null
18:36:39,090 INFO common.Log4jPrint(20) - 一级分行号：110000000  套餐编号：
18:36:39,090 DEBUG service.NewContInput(312) - Out NewContInput.getContDB()!
18:36:39,564 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:36:39,565 INFO common.Log4jPrint(20) - mSql: insert into Cont ( RecordNo,Type,ContNo,ProposalPrtNo,ProductId,TranCom,NodeNo,AgentCom,AgentComName,AgentCode,AgentName,ManageCom,AppntNo,AppntName,AppntSex,AppntBirthday,AppntIDType,AppntIDNo,InsuredNo,InsuredName,InsuredSex,InsuredBirthday,InsuredIDType,InsuredIDNo,TranDate,PolApplyDate,SignDate,Prem,Amnt,State,Bak1,Bak2,Bak10,MakeDate,MakeTime,ModifyDate,ModifyTime,Operator ) values ( 173,0,'101019000002387','101019000002387',0,13,'110378300','1301010001','建设银行贵州贵阳世纪城网点','5201300005','王一一','86520101','0000000622','??????','0',19630626,'0','320177196306261011','0000000622','??????','0',19630626,'0','320177196306261011',20161209,20161209,0,1000000.0,0.0,1,'011A0100','0133043','110000000',20161209,183639,20161209,183639,'sys' )
18:36:40,550 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:36:40,552 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:36:40,552 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3833,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481276333011751',Operator='77976569',FuncFlag=1012,TranDate=20161209,TranTime=173917,ProposalPrtNo='101019000002387',ContNo=null,OtherNo=null,AgentCom='1301010001',AgentCode='5201300005',AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86520101',RCode=0,RText='交易成功！',UsedTime=40,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='3833_3_1012_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=183559,ModifyDate=20161209,ModifyTime=183639,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='320177196306261011',ProductId=null,OutNoDoc=null where TranNo='108011rv11481276333011751'
18:36:40,863 INFO service.NewContInput(245) - Out NewContInput.service()!
18:36:40,863 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
18:36:41,239 INFO dao.LKPolicyXMLDao(87) - insert into LKPolicyXML(contNo,proposalPrtNo,tranCom,zoneNo,nodeNo,trandate,xmlContent,makeDate,makeTime,modifyDate,modifyTime) values('101019000002387','101019000002387','03','','','2016-12-08',EMPTY_BLOB(),'2016-12-09','18:36:40','2016-12-09','18:36:40')
18:36:43,025 INFO dao.LKPolicyXMLDao(98) - select xmlContent from LKPolicyXML where contNo=? and tranCom=? for update
18:36:47,349 INFO format.NewCont(255) - 保存非标准报文到数据库成功!
18:36:47,357 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
18:36:47,358 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
18:36:47,359 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,861) and length=7233 bytes!
18:36:47,386 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
18:36:47,395 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

18:36:47,396 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
18:36:47,413 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
18:36:47,413 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:36:47,417 INFO common.SaveMessage(69) - 3833_12_1012_out.xml IO输出耗时:0.0010s
18:36:47,417 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3833_12_1012_out.xml
18:36:47,418 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>817</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2372</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483090757012460</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209183558615</SYS_RECV_TIME><SYS_RESP_TIME>20161209183647411</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>5</SYS_RESP_DESC_LEN><SYS_RESP_DESC>浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>1</Cvr_Num><Bu_List><Bu_Detail><Cvr_ID>011A0100</Cvr_ID><InsPrem_Amt>10000.00</InsPrem_Amt><Ins_Cps>10</Ins_Cps><Ins_Cvr>0.00</Ins_Cvr></Bu_Detail></Bu_List><Ins_BillNo>1010190000023</Ins_BillNo><Tot_InsPrem_Amt>10000.00</Tot_InsPrem_Amt><Init_PyF_Amt>10000.00</Init_PyF_Amt><Anulz_InsPrem_Amt>10000.00</Anulz_InsPrem_Amt><Ins_Co_Acrdt_Stff_Nm>????</Ins_Co_Acrdt_Stff_Nm><InsCoAcrStCrQuaCtf_ID>20080211000000010567</InsCoAcrStCrQuaCtf_ID><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf>10000.00</EcIst_PyF_Amt_Inf><InsPrem_PyF_Prd_Num>1000</InsPrem_PyF_Prd_Num><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276333011751</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt>20161209</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276333011751</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

18:36:47,418 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
18:36:47,420 INFO test.NewCCBTestUI(519) - 返回报文长度：2375
18:36:47,421 INFO test.NewCCBTestUI(523) - 客户端接收返回报文完毕！耗时：49.637s
18:36:47,433 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:171)
18:36:48,226 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:36:48,227 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:36:48,475 INFO common.Log4jPrint(20) - i=0
18:36:48,480 ERROR midplat.Ybt4Socket(128) - 查询Tranlog表异常!
18:36:48,482 INFO midplat.Ybt4Socket(140) - 处理总耗时：50.038s
18:36:48,482 INFO midplat.Ybt4Socket(141) - Out Ybt4Socket.run()!
18:42:36,891 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 50: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
18:42:36,897 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
18:42:36,907 INFO midplat.Ybt4Socket(33) - TranLogNo:3836
18:42:36,907 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:42:36,908 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:42:36,908 INFO midplat.Ybt4Socket(55) - Into Ybt4Socket.run()...
18:42:36,908 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:42:36,928 ERROR midplat.Ybt4Socket(115) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:59)
18:42:36,932 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:42:36,932 INFO common.Log4jPrint(20) - ==================send====
18:42:36,933 ERROR midplat.Ybt4Socket(122) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:107)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:120)
18:42:36,996 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:42:36,996 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:42:37,024 INFO common.Log4jPrint(20) - i=0
18:42:37,024 ERROR midplat.Ybt4Socket(128) - 查询Tranlog表异常!
18:42:37,025 INFO midplat.Ybt4Socket(140) - 处理总耗时：0.117s
18:42:37,025 INFO midplat.Ybt4Socket(141) - Out Ybt4Socket.run()!
18:43:02,524 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
18:43:02,534 INFO midplat.Ybt4Socket(33) - TranLogNo:3842
18:43:02,534 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:43:02,535 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:43:02,535 INFO midplat.Ybt4Socket(55) - Into Ybt4Socket.run()...
18:43:02,536 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:43:02,542 INFO test.NewCCBTestUI(488) - 请求报文长度：1931
18:43:02,543 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1931
18:43:02,543 INFO test.NewCCBTestUI(503) - 收到返回报文！
18:43:02,543 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020018031483091006012567</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161209174326644</SYS_REQ_TIME><SYS_TIME_LEFT>000119615</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><LocalID>510096</LocalID><remoteID>105005</remoteID></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276582011756</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><Plchd_Nm>??????</Plchd_Nm><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Crdt_No>320177196306261011</Plchd_Crdt_No><Plchd_Crdt_EfDt>20070924</Plchd_Crdt_EfDt><Plchd_Crdt_ExpDt>20181212</Plchd_Crdt_ExpDt><Plchd_Nat_Cd>156</Plchd_Nat_Cd><Ins_BillNo>1010190000023</Ins_BillNo><Ins_PyF_Amt>10000.00</Ins_PyF_Amt><InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd><CCB_AccNo>4340610012175391</CCB_AccNo><Ins_Co_Jrnl_No>108011rv11481276333011749</Ins_Co_Jrnl_No><Lv1_Br_No>110000000</Lv1_Br_No></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

18:43:02,548 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
18:43:02,548 INFO newNet.CcbNetImpl(58) - mTranCom==============13
18:43:02,552 INFO common.SaveMessage(69) - 3845_15_1014_in.xml IO输出耗时:0.0010s
18:43:02,553 INFO newNet.CcbNetImpl(68) - 保存报文完毕！3845_15_1014_in.xml
18:43:02,553 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
18:43:02,554 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
18:43:02,556 INFO midplat.Ybt4Socket(96) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
18:43:02,558 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
18:43:02,561 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
18:43:02,561 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
18:43:02,562 INFO common.XslCache(64) - conf file modified at (2016-12-09 11:42:00,801) and length=3118 bytes!
18:43:02,567 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
18:43:02,570 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_BillNo)" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

18:43:02,570 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
18:43:02,575 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
18:43:02,576 INFO midplat.Ybt4Socket(102) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
18:43:02,578 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
18:43:02,579 DEBUG service.ServiceImpl(57) - Into ServiceImpl.insertTranLog()...
18:43:02,579 INFO common.Log4jPrint(20) - 进程名：3845
18:43:02,579 INFO common.Log4jPrint(20) - trancom:13
18:43:02,579 INFO common.Log4jPrint(20) - FuncFlag:1014
18:43:02,580 INFO common.Log4jPrint(20) - mHeadEle.getChildText3845_15_1014_in.xml
18:43:03,520 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:43:03,521 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 3845,13,'110378300','108011rv11481276582011756','77976569',1014,20161209,174326,'101019000002387',-1,-1,'127.0.0.1','108011rv11481276333011749','3845_15_1014_in.xml',20161209,184302,20161209,184302 )
18:43:03,535 DEBUG service.ServiceImpl(142) - Out ServiceImpl.insertTranLog()!
18:43:03,540 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
18:43:03,542 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
18:43:03,542 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
18:43:03,544 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161209 and TranNo = 'null' and RCode=0 
18:43:04,121 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='101019000002387' and MakeDate=20161209 and TranCom=13 and NodeNo='110378300'
18:43:04,896 INFO net.CallWebsvcAtomSvc(47) - Into CallWebsvcAtomSvc.service()...
18:43:04,899 INFO common.SaveMessage(69) - 3845_18_1_inSvc.xml IO输出耗时:0.0020s
18:43:04,900 INFO net.CallWebsvcAtomSvc(64) - 保存报文完毕！3845_18_1_inSvc.xml
18:43:04,901 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
18:43:04,902 INFO net.CallWebsvcAtomSvc(75) - start call 收费签单(http://10.0.0.193:18080/ui/services/ServiceForBankInterfaceService.service)...
18:43:05,000 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
18:43:05,001 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
18:43:05,001 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
18:43:05,001 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
18:43:05,002 DEBUG httpclient.Wire(70) - >> "Host: 10.0.0.193:18080[\r][\n]"
18:43:05,002 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
18:43:05,002 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:43:05,003 DEBUG httpclient.Wire(70) - >> "475[\r][\n]"
18:43:05,004 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMjA5PC9UcmFuRGF0ZT48VHJhblRpbWU+MTc0MzI2PC9UcmFuVGltZT48Tm9kZU5vPjExMDM3ODMwMDwvTm9kZU5vPjxCYW5rQ29kZT4wMTA0PC9CYW5rQ29kZT48VGVsbGVyTm8+Nzc5NzY1Njk8L1RlbGxlck5vPjxUcmFuTm8+MTA4MDExcnYxMTQ4MTI3NjU4MjAxMTc1NjwvVHJhbk5vPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjEzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDE0PC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+Mzg0NV8xNV8xMDE0X2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjE8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjM4NzwvUHJvcG9zYWxQcnRObz48UHJlbT4xMDAwMC4wMDwvUHJlbT48T2xkVHJhbk5vPjEwODAxMXJ2MTE0ODEyNzYzMzMwMTE3NDk8L09sZFRyYW5Obz48Q29udE5vIC8+PENvbnRQcnRObz48L0NvbnRQcnRObz48QmtQYXlNb2RlPjA8L0JrUGF5TW9kZT48QmtBY2N0Tm8+NDM0MDYxMDAxMjE3NTM5MTwvQmtBY2N0Tm8+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
18:43:05,004 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:43:05,004 DEBUG httpclient.Wire(84) - >> "0"
18:43:05,004 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:43:05,005 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
18:55:11,213 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
18:55:11,215 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
18:55:11,216 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
18:55:11,217 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
18:55:11,218 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
18:55:11,220 DEBUG httpclient.Wire(70) - << "Date: Fri, 09 Dec 2016 10:54:51 GMT[\r][\n]"
18:55:11,221 DEBUG httpclient.Wire(70) - << "[\r][\n]"
18:55:11,222 DEBUG httpclient.Wire(84) - << "1"
18:55:11,223 DEBUG httpclient.Wire(84) - << "7"
18:55:11,224 DEBUG httpclient.Wire(84) - << "4"
18:55:11,225 DEBUG httpclient.Wire(84) - << "f"
18:55:11,226 DEBUG httpclient.Wire(84) - << "[\r]"
18:55:11,227 DEBUG httpclient.Wire(70) - << "[\n]"
18:55:11,228 DEBUG httpclient.Wire(84) - << "<?xm"
18:55:11,230 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
18:55:11,232 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjA8L0ZsYWc+DQogICAgPERlc2M+vbvS17PJuaajoTwvRGVzYz4NCiAgPC9IZWFkPg0KICA8Qm9keT4NCiAgICA8Q29udE5vPjg4ODAxOTAwMDAwMjM4NzwvQ29udE5vPg0KICAgIDxQcm9wb3NhbFBydE5vPjEwMTAxOTAwMDAwMjM4NzwvUHJvcG9zYWxQcnRObz4NCiAgICA8Q29udFBydE5vPjwvQ29udFBydE5vPg0KICAgIDxQb2xpY3lQbGVkZ2U+MDwvUG9saWN5UGxlZGdlPg0KICAgIDxDb250VmFsdWU+MTAwMDAwMDwvQ29udFZhbHVlPg0KICAgIDxBY2NvdW50VmFsdWU+MTAwMDAwMDwvQWNjb3VudFZhbHVlPg0KICAgIDxQYXlQcm92PjwvUGF5UHJvdj4NCiAgICA8UGF5Tm9kZU5vPjEzMDEwMTAwMDE8L1BheU5vZGVObz4NCiAgICA8UGF5VHlwZT4wPC9QYXlUeXBlPg0KICAgIDxQYXlQcmVtPjEwMDAwMDA8L1BheVByZW0+DQogICAgPEFjY05vPjQzNDA2MTAwMTIxNzUzOTE8L0FjY05vPg0KICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgPFByZW1UZXh0PsjLw/Gx0tK8zfLUqtX7PC9QcmVtVGV4dD4NCiAgICA8QW1udD4wPC9BbW50Pg0KICAgIDxBbW50VGV4dD7Iy8PxsdLB49Sq1fs8L0FtbnRUZXh0Pg0KICAgIDxBZ2VudENvZGU+NTIwMTMwMDAwNTwvQWdlbnRDb2RlPg0KICAgIDxBZ2VudE5hbWU+zfXSu9K7PC9BZ2VudE5hbWU+DQogICAgPEFnZW50R3JwQ29kZT4wMDAwMDAwMDAyMjM8L0FnZW50R3JwQ29kZT4NCiAgICA8QWdlbnRHcnBOYW1lPrnz0fTS+LGj06rStbK/MbbTPC9BZ2VudEdycE5hbWU+DQogICAgPEFnZW50Q29tPjEzMDEwMTAwMDE8L0FnZW50Q29tPg0KICAgIDxBZ2VudENvbU5hbWU+vajJ6NL40NC589bdufPR9MrAvM2zx834teM8L0FnZW50Q29tTmFtZT4NCiAgICA8Q29tQ29kZT44NjUyMDEwMTwvQ29tQ29kZT4NCiAgICA8Q29tTG9jYXRpb24+ufPR9NK7tv7SuzwvQ29tTG9jYXRpb24+DQogICAgPENvbU5hbWU+ufPW3bfWuavLvjwvQ29tTmFtZT4NCiAgICA8Q29tWmlwQ29kZT48L0NvbVppcENvZGU+DQogICAgPENvbVBob25lPjwvQ29tUGhvbmU+DQogICAgPFNhbGVTdGFmZj43Nzk3NjU2OTwvU2FsZVN0YWZmPg0KICAgIDxTYWxlTmFtZT4/Pz8/PC9TYWxlTmFtZT4NCiAgICA8U2FsZUNlcnRObz4yMDA4MDIxMTAwMDAwMDAxMDU2NzwvU2FsZUNlcnRObz4NCiAgICA8UG9saWN5U3RhdHVzPjwvUG9saWN5U3RhdHVzPg0KICAgIDxCYW5rQ29tTm8+MTEwMzc4MzAwPC9CYW5rQ29tTm8+DQogICAgPEFnZW50UGhvbmU+MTUwMjE0NTIxNTk8L0FnZW50UGhvbmU+DQogICAgPFBheUludHY+MDwvUGF5SW50dj4NCiAgICA8SW5zUHJlbV9QeUZfUHJkX051bT4xMDAwPC9JbnNQcmVtX1B5Rl9QcmRfTnVtPg0KICAgIDxQYXllbmRZZWFyPjEwMDA8L1BheWVuZFllYXI+DQogICAgPFBheWVuZFllYXJGbGFnPlk8L1BheWVuZFllYXJGbGFnPg0KICAgIDxBcHBudD4NCiAgICAgIDxDdXN0b21lck5vPjAwMDAwMDA2MjI8L0N1c3RvbWVyTm8+DQogICAgICA8TmFtZT4/Pz8/Pz88L05hbWU+DQogICAgICA8U2V4PjA8L1NleD4NCiAgICAgIDxCaXJ0aGRheT4xOTYzMDYyNjwvQmlydGhkYXk+DQogICAgICA8SURUeXBlPjA8L0lEVHlwZT4NCiAgICAgIDxJRE5vPjMyMDE3NzE5NjMwNjI2MTAxMTwvSURObz4NCiAgICAgIDxKb2JUeXBlPjE8L0pvYlR5cGU+DQogICAgICA8Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPg0KICAgICAgPEpvYk5hbWU+MTwvSm9iTmFtZT4NCiAgICAgIDxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5Pg0KICAgICAgPFN0YXR1cmU+PC9TdGF0dXJlPg0KICAgICAgPFdlaWdodD48L1dlaWdodD4NCiAgICAgIDxNYXJpdGFsU3RhdHVzPjwvTWFyaXRhbFN0YXR1cz4NCiAgICAgIDxBZGRyZXNzPjwvQWRkcmVzcz4NCiAgICAgIDxaaXBDb2RlPjEwMDAwMDwvWmlwQ29kZT4NCiAgICAgIDxNb2JpbGU+MTMzNTU2NTk4Nzc8L01vYmlsZT4NCiAgICAgIDxQaG9uZT4wMTAzODY0MzU2NDwvUGhvbmU+DQogICAgICA8RW1haWw+PC9FbWFpbD4NCiAgICAgIDxSZWxhVG9JbnN1cmVkPjAwPC9SZWxhVG9JbnN1cmVkPg0KICAgICAgPFllYXJTYWxhcnk+MzAuMDwvWWVhclNhbGFyeT4NCiAgICAgIDxGYW1pbHlZZWFyU2FsYXJ5PjEwMC4wPC9GYW1pbHlZZWFyU2FsYXJ5Pg0KICAgICAgPERlblR5cGU+MTwvRGVuVHlwZT4NCiAgICA8L0FwcG50Pg0KICAgIDxJbnN1cmVkPg0KICAgICAgPEN1c3RvbWVyTm8+MDAwMDAwMDYyMjwvQ3VzdG9tZXJObz4NCiAgICAgIDxOYW1lPj8/Pz8/PzwvTmFtZT4NCiAgICAgIDxTZXg+MDwvU2V4Pg0KICAgICAgPEJpcnRoZGF5PjE5NjMwNjI2PC9CaXJ0aGRheT4NCiAgICAgIDxJRFR5cGU+MDwvSURUeXBlPg0KICAgICAgPElETm8+MzIwMTc3MTk2MzA2MjYxMDExPC9JRE5vPg0KICAgICAgPEpvYlR5cGU+MTwvSm9iVHlwZT4NCiAgICAgIDxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+DQogICAgICA8Sm9iTmFtZT4xPC9Kb2JOYW1lPg0KICAgICAgPFN0YXR1cmU+PC9TdGF0dXJlPg0KICAgICAgPE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+DQogICAgICA8V2VpZ2h0PjwvV2VpZ2h0Pg0KICAgICAgPE1hcml0YWxTdGF0dXM+PC9NYXJpdGFsU3RhdHVzPg0KICAgICAgPEFkZHJlc3M+PC9BZGRyZXNzPg0KICAgICAgPFppcENvZGU+MTAwMDAwPC9aaXBDb2RlPg0KICAgICAgPE1vYmlsZT4xMzM1NTY1OTg3NzwvTW9iaWxlPg0KICAgICAgPFBob25lPjAxMDM4NjQzNTY0PC9QaG9uZT4NCiAgICAgIDxFbWFpbD48L0VtYWlsPg0KICAgICAgPERlblR5cGU+PC9EZW5UeXBlPg0KICAgIDwvSW5zdXJlZD4NCiAgICA8SGVzaXRhdGVQZXJpb2Q+MjE8L0hlc2l0YXRlUGVyaW9kPg0KICAgIDxSaXNrPg0KICAgICAgPFJpc2tDb2RlPjAxMUEwMTAwPC9SaXNrQ29kZT4NCiAgICAgIDxSaXNrTmFtZT67qrnztuCyyrGmMrrFwb3Iq7Gjz9WjqM3yxNzQzaOpPC9SaXNrTmFtZT4NCiAgICAgIDxNYWluUmlza0NvZGU+MDExQTAxMDA8L01haW5SaXNrQ29kZT4NCiAgICAgIDxQb2xBcHBseURhdGU+MjAxNjEyMDk8L1BvbEFwcGx5RGF0ZT4NCiAgICAgIDxTaWduRGF0ZT4yMDE2MTIwOTwvU2lnbkRhdGU+DQogICAgICA8Q1ZhbGlEYXRlPjIwMTYxMjEwPC9DVmFsaURhdGU+DQogICAgICA8SW5zdUVuZERhdGU+MjAyMTEyMTA8L0luc3VFbmREYXRlPg0KICAgICAgPEFtbnQ+MDwvQW1udD4NCiAgICAgIDxQcmVtPjEwMDAwMDA8L1ByZW0+DQogICAgICA8TXVsdD4xMDwvTXVsdD4NCiAgICAgIDxQYXlJbnR2PjA8L1BheUludHY+DQogICAgICA8UGF5TW9kZT4wPC9QYXlNb2RlPg0KICAgICAgPEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+DQogICAgICA8SW5zdVllYXI+NTwvSW5zdVllYXI+DQogICAgICA8WWVhcnM+NTwvWWVhcnM+DQogICAgICA8UGF5RW5kWWVhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+DQogICAgICA8UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPg0KICAgICAgPFBheUVuZERhdGU+MzAxNjEyMTA8L1BheUVuZERhdGU+DQogICAgICA8Q29zdEludHY+PC9Db3N0SW50dj4NCiAgICAgIDxDb3N0RGF0ZT48L0Nvc3REYXRlPg0KICAgICAgPFBheVRvRGF0ZT4zMDE2MTIxMDwvUGF5VG9EYXRlPg0KICAgICAgPEdldFllYXJGbGFnPlk8L0dldFllYXJGbGFnPg0KICAgICAgPEdldFN0YXJ0RGF0ZT4yMDE2MTIxMDwvR2V0U3RhcnREYXRlPg0KICAgICAgPEdldFllYXI+PC9HZXRZZWFyPg0KICAgICAgPEdldEludHY+PC9HZXRJbnR2Pg0KICAgICAgPEdldFRlcm1zPjwvR2V0VGVybXM+DQogICAgICA8R2V0QmFua0NvZGU+PC9HZXRCYW5rQ29kZT4NCiAgICAgIDxHZXRCYW5rQWNjTm8+PC9HZXRCYW5rQWNjTm8+DQogICAgICA8R2V0QWNjTmFtZT48L0dldEFjY05hbWU+DQogICAgICA8QXV0b1BheUZsYWc+PC9BdXRvUGF5RmxhZz4NCiAgICAgIDxCb251c0dldE1vZGU+PC9Cb251c0dldE1vZGU+DQogICAgICA8U3ViRmxhZz48L1N1YkZsYWc+DQogICAgICA8RnVsbEJvbnVzR2V0TW9kZT48L0Z1bGxCb251c0dldE1vZGU+DQogICAgICA8QWNjb3VudD48L0FjY291bnQ+DQogICAgICA8Q2FzaFZhbHVlcz48L0Nhc2hWYWx1ZXM+DQogICAgICA8RGVkdWN0aW9uVmFsdWVzPjwvRGVkdWN0aW9uVmFsdWVzPg0KICAgICAgPEJvbnVzVmFsdWVzPjwvQm9udXNWYWx1ZXM+DQogICAgICA8U3BlY0NvbnRlbnQ+PC9TcGVjQ29udGVudD4NCiAgICA8L1Jpc2s+DQogIDwvQm9keT4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
18:55:11,237 INFO net.CallWebsvcAtomSvc(118) - 投保单号101019000002387收费签单(service)耗时：726.335s
18:55:11,295 INFO common.SaveMessage(69) - 3845_21_1_outSvc.xml IO输出耗时:0.05s
18:55:11,295 INFO net.CallWebsvcAtomSvc(138) - 保存报文完毕！3845_21_1_outSvc.xml
18:55:11,296 INFO net.CallWebsvcAtomSvc(140) - Out CallWebsvcAtomSvc.service()!
18:55:11,296 ERROR service.NewContConfirm(222) - 处理超时！UseTime=728.718s；TimeOut=200
18:55:11,297 ERROR service.NewContConfirm(253) - 新单确认交易失败！
com.sinosoft.midplat.exception.MidplatException: 系统繁忙，请稍后再试！
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:225)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:106)
18:55:11,351 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:55:11,351 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:55:11,351 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=3845,TranCom=13,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11481276582011756',Operator='77976569',FuncFlag=1014,TranDate=20161209,TranTime=174326,ProposalPrtNo='101019000002387',ContNo='888019000002387',OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='系统繁忙，请稍后再试！',UsedTime=728,AppntName=null,Bak1='127.0.0.1',Bak2='108011rv11481276333011749',Bak3=null,Bak4=null,Bak5=null,InNoDoc='3845_15_1014_in.xml',MakeDate=20161209,InDoc=null,OutDoc=null,MakeTime=184302,ModifyDate=20161209,ModifyTime=185511,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where TranNo='108011rv11481276582011756'
18:55:11,373 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
18:55:11,373 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
18:55:11,375 INFO common.Log4jPrint(20) - 使用的样式表：null
18:55:11,398 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
18:55:11,399 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
18:55:11,400 INFO common.XslCache(64) - conf file modified at (2016-12-09 15:41:04,323) and length=33725 bytes!
18:55:11,448 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
18:55:11,465 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><xsl:if test="/TranData/Head/Flag ='0'"><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></xsl:if></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash)),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash)),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

18:55:11,467 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
18:55:11,471 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
18:55:11,471 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:55:11,474 INFO common.SaveMessage(69) - 3845_24_1014_out.xml IO输出耗时:0.0020s
18:55:11,474 INFO newNet.CcbNetImpl(189) - 保存报文完毕！3845_24_1014_out.xml
18:55:11,475 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>836</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2083</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020018031483091006012567</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>2000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161209184302559</SYS_RECV_TIME><SYS_RESP_TIME>20161209185511470</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>11</SYS_RESP_DESC_LEN><SYS_RESP_DESC>绯荤绻蹇锛璇风璇锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010079</Ins_Co_ID><SvPt_Jrnl_No>108011rv11481276582011756</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>110378300</CCBIns_ID><CCB_EmpID>77976569</CCB_EmpID><OprgDay_Prd>20161230</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161209</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11481276582011756</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

18:55:11,476 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
18:55:11,479 INFO test.NewCCBTestUI(517) - 返回报文长度：2077
18:55:11,480 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：728.945s
18:55:11,495 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
18:55:11,549 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:55:11,549 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
18:55:11,611 INFO common.Log4jPrint(20) - i=0
18:55:11,611 ERROR midplat.Ybt4Socket(128) - 查询Tranlog表异常!
18:55:11,612 INFO midplat.Ybt4Socket(140) - 处理总耗时：729.077s
18:55:11,612 INFO midplat.Ybt4Socket(141) - Out Ybt4Socket.run()!
18:57:07,323 INFO net.SocketListenerF5(86) - Into SocketListenerF5.contextDestroyed()...
18:57:07,324 INFO net.SocketListenerF5(88) - 关闭ServerSocket监听...
18:57:07,324 DEBUG net.SocketListenerF5(108) - System.out = com.sinosoft.midplat.common.Log4jPrint@696e59da
18:57:07,324 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
18:57:07,325 INFO common.Log4jPrint(20) - Start revert System.out...
18:57:07,326 INFO net.SocketListenerF5(117) - Out SocketListenerF5.contextDestroyed()!
18:57:07,334 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
18:57:07,335 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！35017
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
18:57:07,334 ERROR net.SocketListenerF5$Server(176) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:154)
