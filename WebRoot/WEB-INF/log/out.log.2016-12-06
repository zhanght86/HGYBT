14:49:12,294 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7f1d3226
14:49:12,357 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:49:12,420 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:49:12,420 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:49:12,498 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:49:12,498 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:49:12,513 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:49:12,560 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
14:49:12,779 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:49:12,810 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:49:12,810 INFO common.Log4jPrint(20) - End reset System.out!
14:49:12,919 INFO net.SocketConf(27) - Into SocketConf.load()...
14:49:12,919 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:49:12,919 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
14:49:12,919 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:49:12,919 INFO net.SocketConf(60) - Out SocketConf.load()!
14:49:12,950 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:49:12,950 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:49:13,059 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:49:13,059 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:49:13,059 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:49:13,137 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:49:13,137 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:49:13,137 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:49:13,169 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:49:13,169 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:49:13,169 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:49:13,231 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:49:13,231 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:49:13,231 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:49:21,268 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:49:21,268 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:49:21,284 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
14:49:21,300 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:49:21,332 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:49:21,332 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:49:21,364 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:49:21,410 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:49:22,284 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:49:22,347 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:49:22,410 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:49:22,457 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:49:22,457 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:49:22,457 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:49:22,503 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
14:49:22,566 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:49:22,566 INFO common.Log4jPrint(20) - ==================send====
14:49:22,566 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
14:49:22,722 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:49:22,722 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1352
14:49:22,784 INFO common.Log4jPrint(20) - i=0
14:49:22,784 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
14:49:22,800 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.343s
14:49:22,800 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:50:18,801 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7c6576d5
14:50:18,817 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:50:18,817 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:50:18,817 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:50:18,817 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:50:18,817 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:50:18,817 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:50:18,832 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
14:50:18,895 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:50:18,895 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:50:18,895 INFO common.Log4jPrint(20) - End reset System.out!
14:50:18,910 INFO net.SocketConf(27) - Into SocketConf.load()...
14:50:18,910 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:50:18,910 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
14:50:18,910 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:50:18,910 INFO net.SocketConf(60) - Out SocketConf.load()!
14:50:18,926 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:50:18,926 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:50:18,926 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:50:18,942 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:50:18,942 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:50:18,942 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:50:18,942 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:50:18,942 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:50:18,942 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:50:18,942 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:50:18,957 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:50:18,957 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:50:18,957 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:50:18,957 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:50:23,513 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 53: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:67)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:165)
14:50:23,513 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
14:50:23,529 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:50:23,529 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:50:23,529 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
14:50:23,545 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:50:23,561 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:50:23,561 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:50:23,561 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:50:23,577 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:50:24,248 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:50:24,326 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:50:24,388 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:50:24,404 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:50:24,419 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:50:24,419 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:50:24,435 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:79)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
14:50:24,435 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:50:24,435 INFO common.Log4jPrint(20) - ==================send====
14:50:24,435 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
14:50:24,513 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:50:24,513 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1352
14:50:24,560 INFO common.Log4jPrint(20) - i=0
14:50:24,560 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
14:50:24,560 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.141s
14:50:24,560 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:50:59,759 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4640b181
14:50:59,775 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:50:59,775 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:50:59,775 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:50:59,775 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:50:59,775 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:50:59,791 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:50:59,791 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
14:50:59,854 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:50:59,870 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:50:59,870 INFO common.Log4jPrint(20) - End reset System.out!
14:50:59,870 INFO net.SocketConf(27) - Into SocketConf.load()...
14:50:59,870 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:50:59,870 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
14:50:59,870 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:50:59,870 INFO net.SocketConf(60) - Out SocketConf.load()!
14:50:59,885 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:50:59,885 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:50:59,901 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:50:59,901 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:50:59,901 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:50:59,901 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:50:59,901 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:50:59,901 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:50:59,916 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:50:59,916 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:50:59,916 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:50:59,916 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:50:59,916 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:50:59,916 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:51:04,895 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
14:51:04,895 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:51:04,910 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:51:04,910 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
14:51:04,910 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:51:04,942 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:51:04,943 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:51:04,943 INFO test.NewCCBTestUI(486) - 请求报文长度：1638
14:51:04,943 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:51:04,943 INFO test.NewCCBTestUI(500) - 收到返回报文！
14:51:04,943 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:51:05,567 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:51:05,645 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:51:05,723 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:51:05,738 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:51:05,738 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:51:05,738 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:51:05,738 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1638
14:51:05,738 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>101001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53819143</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1010010011453973235228880</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20160128052715634</SYS_REQ_TIME><SYS_TIME_LEFT>000029403</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11453973236002512</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>00010000000000000000000</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>10010001</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>310613637</CCBIns_ID><CCB_EmpID>000000</CCB_EmpID><OprgDay_Prd>20160128</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><InsPolcy_No>800000602457510</InsPolcy_No><InsPolcy_Pswd /><Btch_Bl_Prt_No /><Plchd_Crdt_No>211324198102201027</Plchd_Crdt_No><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><Plchd_Nm>??????</Plchd_Nm><Tel_OutbndCall_Ind>0</Tel_OutbndCall_Ind></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

14:51:05,738 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819143
14:51:05,738 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:51:05,894 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
14:51:05,894 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
14:51:05,957 INFO common.SaveMessage(59) - 1352_3_1021_in.xml IO输出耗时:0.063s
14:51:05,957 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1352_3_1021_in.xml
14:51:05,972 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:51:05,972 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:51:05,972 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ApplyReturnCont
14:51:06,082 INFO format.ApplyReturnCont(44) - Into ApplyReturnCont.noStd2Std()...
14:51:06,176 INFO format.ApplyReturnContInXsl(26) - Into ApplyReturnContInXsl.load()...
14:51:06,176 INFO format.ApplyReturnContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ApplyReturnContIn.xsl...
14:51:06,176 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:24,938) and length=3521 bytes!
14:51:06,816 INFO format.ApplyReturnContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ApplyReturnContIn.xsl!
14:51:06,816 INFO format.ApplyReturnContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 险种编号 --><RiskCode /><!-- 保单号码 --><ContNo><xsl:value-of select="InsPolcy_No" /></ContNo><!-- 保单密码 --><Password><xsl:value-of select="InsPolcy_Pswd" /></Password><!-- 投保人证件号 --><AppntIDNo><xsl:value-of select="Plchd_Crdt_No" /></AppntIDNo><!-- 投保人证件类型 --><AppntIDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></AppntIDType><!-- 投保人姓名 --><AppntName><xsl:value-of select="Plchd_Nm" /></AppntName><!-- 被保人姓名 --><Name /><!-- 被保人证件号 --><IDNo /><!-- 被保人证件类型 --><IDType /></Body></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

14:51:06,816 INFO format.ApplyReturnContInXsl(64) - Out ApplyReturnContInXsl.load()!
14:51:06,987 INFO format.ApplyReturnCont(68) - Out ApplyReturnCont.noStd2Std()!
14:51:06,987 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewApplyReturnCont
14:51:07,066 INFO service.NewApplyReturnCont(42) - Into NewApplyReturnCont.service()...
14:51:07,066 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:51:07,097 INFO common.Log4jPrint(20) - 进程名：1352
14:51:07,097 INFO common.Log4jPrint(20) - trancom:3
14:51:07,097 INFO common.Log4jPrint(20) - FuncFlag:1021
14:51:07,097 INFO common.Log4jPrint(20) - mHeadEle.getChildText1352_3_1021_in.xml
14:51:07,144 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:51:07,144 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ContNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1352,3,'310613637','108011rv11453973236002512','000000',1021,20160128,52715,'800000602457510',-1,-1,'127.0.0.1','1352_3_1021_in.xml',20161206,145107,20161206,145107 )
14:51:07,175 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:51:07,191 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
14:51:07,207 INFO common.SaveMessage(59) - 1352_6_52_inSvc.xml IO输出耗时:0.016s
14:51:07,207 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1352_6_52_inSvc.xml
14:51:07,207 INFO common.Log4jPrint(20) - start call 新建行退保申请(http://10.0.4.31:9080/services/ServiceForBankInterfaceService.service)...
14:51:07,207 INFO net.CallWebsvcAtomSvc(67) - start call 新建行退保申请(http://10.0.4.31:9080/services/ServiceForBankInterfaceService.service)...
14:51:08,267 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
14:52:33,365 ERROR service.NewApplyReturnCont(91) - 申请退保交易失败！
org.apache.axis2.AxisFault: Connection timed out: connect
	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
	at com.sinosoft.midplat.newccb.service.NewApplyReturnCont.service(NewApplyReturnCont.java:60)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
	... 13 more
14:52:33,428 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:52:33,428 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:52:33,428 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1352,TranCom=3,ZoneNo=null,NodeNo='310613637',TranNo='108011rv11453973236002512',Operator='000000',FuncFlag=1021,TranDate=20160128,TranTime=52715,ProposalPrtNo=null,ContNo='800000602457510',OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=1,RText='Connection timed out: connect',UsedTime=86,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='86.314',Bak4='0.0',Bak5=null,InNoDoc='1352_3_1021_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=145107,ModifyDate=20161206,ModifyTime=145233,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1352
14:52:33,444 INFO service.NewApplyReturnCont(126) - Out NewApplyReturnCont.service()!
14:52:33,444 INFO format.ApplyReturnCont(73) - Into ApplyReturnCont.std2NoStd()...
14:52:33,475 INFO format.ApplyReturnContOutXsl(26) - Into ApplyReturnContOutXsl.load()...
14:52:33,475 INFO format.ApplyReturnContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ApplyReturnContOut.xsl...
14:52:33,475 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:24,972) and length=6288 bytes!
14:52:33,522 INFO format.ApplyReturnContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ApplyReturnContOut.xsl!
14:52:33,522 INFO format.ApplyReturnContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 建行一级分行号  --><Lv1_Br_No /><!-- 实付金额 --><ActCashPymt_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/EdorCTPrem)" /></ActCashPymt_Amt><!-- 终了红利金额 --><ATEndOBns_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/BonusAmnt)" /></ATEndOBns_Amt><!-- 险种编号 --><Cvr_ID><xsl:value-of select="/TranData/Body/RiskCode" /></Cvr_ID><!-- 保单号码  --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 投保人姓名  --><Plchd_Nm><xsl:value-of select="/TranData/Body/AppntName" /></Plchd_Nm><!-- 被保人个数  --><Rcgn_Num><xsl:value-of select="count(/TranData/Body/NameList)" /></Rcgn_Num><!-- 被保人名称循环 --><xsl:for-each select="/TranData/Body/NameList"><RcgnNm_List><RcgnNm_Detail><!-- 被保人名称 --><Rcgn_Nm><xsl:value-of select="RcgnName" /></Rcgn_Nm></RcgnNm_Detail></RcgnNm_List></xsl:for-each><!-- 退保金额 --><CnclIns_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/EdorCTPrem)" /></CnclIns_Amt><!-- 批单号 --><Btch_BillNo /><!-- 投保人证件号 --><Plchd_Crdt_No><xsl:value-of select="/TranData/Body/AppntIdNo" /></Plchd_Crdt_No><!-- 投保人证件类型 --><Plchd_Crdt_TpCd><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="/TranData/Body/AppntIdType" /></xsl:with-param></xsl:call-template></Plchd_Crdt_TpCd><!-- 退保类	型代码  20150311lilu 跟核心沈世杰商定 01犹豫期退保，02非犹豫期退保--><CnclIns_TpCd><xsl:value-of select="/TranData/Body/EdorType" /></CnclIns_TpCd><!-- 代理保险套餐编号  --><AgIns_Pkg_ID /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '0'">1010</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '2'">1022</xsl:when><!-- 军官证 --><xsl:when test="$idtype = 'D'">1032</xsl:when><!-- 警官证 --><xsl:when test="$idtype = 'A'">1021</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '4'">1040</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = 'B'">1080'</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1'">1050</xsl:when><!-- 护照--><xsl:when test="$idtype = '5'">1060</xsl:when><!-- 学生证--><xsl:when test="$idtype = '6'">2999</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '3'">1100</xsl:when><!-- 驾照 --><xsl:when test="$idtype = 'C'">1011</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = 'E'">1160</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="1999" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

14:52:33,522 INFO format.ApplyReturnContOutXsl(64) - Out ApplyReturnContOutXsl.load()!
14:52:33,584 INFO format.ApplyReturnCont(139) - Out NoTaken.std2NoStd()!
14:52:33,584 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:52:33,600 INFO common.SaveMessage(59) - 1352_9_1021_out.xml IO输出耗时:0.0s
14:52:33,600 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1352_9_1021_out.xml
14:52:33,600 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>832</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1932</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>101001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1010010011453973235228880</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206145106082</SYS_RECV_TIME><SYS_RESP_TIME>20161206145233584</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>29</SYS_RESP_DESC_LEN><SYS_RESP_DESC>Connection timed out: connect</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Lv1_Br_No /><ActCashPymt_Amt /><ATEndOBns_Amt /><Cvr_ID /><InsPolcy_No /><Plchd_Nm /><Rcgn_Num>0</Rcgn_Num><CnclIns_Amt /><Btch_BillNo /><Plchd_Crdt_No /><Plchd_Crdt_TpCd>1999</Plchd_Crdt_TpCd><CnclIns_TpCd /><AgIns_Pkg_ID /></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11453973236002512</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>00010000000000000000000</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>10010001</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>310613637</CCBIns_ID><CCB_EmpID>000000</CCB_EmpID><OprgDay_Prd>20160128</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819143</SYS_TX_CODE><Ins_Co_Acg_Dt>20160128</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11453973236002512</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:52:33,615 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
14:52:33,615 INFO test.NewCCBTestUI(514) - 返回报文长度：1943
14:52:33,615 INFO test.NewCCBTestUI(518) - 客户端接收返回报文完毕！耗时：88.72s
14:52:33,680 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:52:33,680 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1352
14:52:33,742 INFO common.Log4jPrint(20) - -------------------------
14:52:33,742 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:52:33,742 INFO common.Log4jPrint(20) - -------------------------
14:52:33,758 INFO common.Log4jPrint(20) - i=1
14:52:33,820 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:52:33,820 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:52:33,820 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1352,TranCom=3,ZoneNo=null,NodeNo='310613637',TranNo='108011rv11453973236002512',Operator='000000',FuncFlag=1021,TranDate=20160128,TranTime=52715,ProposalPrtNo=null,ContNo='800000602457510',OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=1,RText='Connection timed out: connect',UsedTime=86,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='88.02',Bak4='0.0',Bak5=null,InNoDoc='1352_3_1021_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=145107,ModifyDate=20161206,ModifyTime=145233,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1352_9_1021_out.xml' where LogNo=1352
14:52:33,914 INFO midplat.Ybt4Socket(170) - 处理总耗时：88.176s
14:52:33,914 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:46:24,347 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@46b113c7
15:46:24,363 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:46:24,363 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:46:24,363 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:46:24,363 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:46:24,363 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:46:24,379 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:46:24,379 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
15:46:24,442 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:46:24,442 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:46:24,458 INFO common.Log4jPrint(20) - End reset System.out!
15:46:24,458 INFO net.SocketConf(27) - Into SocketConf.load()...
15:46:24,458 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:46:24,458 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
15:46:24,458 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:46:24,458 INFO net.SocketConf(60) - Out SocketConf.load()!
15:46:24,473 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:46:24,473 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:46:24,473 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:46:24,473 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:46:24,489 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:46:24,489 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:46:24,489 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:46:24,489 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:46:24,489 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:46:24,489 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:46:24,489 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:46:24,504 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:46:24,504 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:46:24,504 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:46:29,134 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
15:46:29,134 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:46:29,134 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:46:29,134 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
15:46:29,150 INFO test.NewCCBTestUI(486) - 请求报文长度：1480
15:46:29,150 INFO test.NewCCBTestUI(500) - 收到返回报文！
15:46:29,150 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:46:29,166 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:46:29,166 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:46:29,166 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:46:29,182 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:46:29,824 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:46:29,887 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:46:29,949 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:46:29,949 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:46:29,949 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:46:29,949 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:46:29,949 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1480
15:46:29,949 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:46:29,949 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
15:46:29,949 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:46:30,090 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:46:30,090 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:46:30,090 INFO common.SaveMessage(59) - 1358_3_111_in.xml IO输出耗时:0.0s
15:46:30,090 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1358_3_111_in.xml
15:46:30,090 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:46:30,090 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:46:30,105 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
15:46:30,168 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
15:46:30,183 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
15:46:30,183 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
15:46:30,183 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
15:46:30,449 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
15:46:30,449 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

15:46:30,449 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
15:46:30,590 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
15:46:30,590 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
15:46:30,621 INFO service.GreenTest(24) - Into GreenTest.service()...
15:46:30,621 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:46:30,637 INFO common.Log4jPrint(20) - 进程名：1358
15:46:30,637 INFO common.Log4jPrint(20) - trancom:3
15:46:30,637 INFO common.Log4jPrint(20) - FuncFlag:111
15:46:30,637 INFO common.Log4jPrint(20) - mHeadEle.getChildText1358_3_111_in.xml
15:46:30,683 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:46:30,699 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1358,3,'13099','108011rv11468393261001200','5201300004',111,20161128,150051,-1,-1,'127.0.0.1','1358_3_111_in.xml',20161206,154630,20161206,154630 )
15:46:30,715 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:46:30,715 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
15:46:30,746 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:46:30,746 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:46:30,746 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1358,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.094',Bak4='0.0',Bak5=null,InNoDoc='1358_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=154630,ModifyDate=20161206,ModifyTime=154630,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1358
15:46:30,761 INFO service.GreenTest(90) - Out GreenTest.service()!
15:46:30,761 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
15:46:30,777 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
15:46:30,777 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
15:46:30,777 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
15:46:30,793 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
15:46:30,808 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

15:46:30,808 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
15:46:30,808 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
15:46:30,808 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:46:30,824 INFO common.SaveMessage(59) - 1358_6_111_out.xml IO输出耗时:0.016s
15:46:30,824 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1358_6_111_out.xml
15:46:30,824 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206154630168</SYS_RECV_TIME><SYS_RESP_TIME>20161206154630808</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161128</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:46:30,824 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
15:46:30,824 INFO test.NewCCBTestUI(514) - 返回报文长度：1752
15:46:30,824 INFO test.NewCCBTestUI(518) - 客户端接收返回报文完毕！耗时：1.69s
15:46:30,856 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
15:46:30,872 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:46:30,872 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1358
15:46:30,904 INFO common.Log4jPrint(20) - -------------------------
15:46:30,904 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
15:46:30,904 INFO common.Log4jPrint(20) - -------------------------
15:46:30,904 INFO common.Log4jPrint(20) - i=1
15:46:30,951 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:46:30,951 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:46:30,951 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1358,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.955',Bak4='0.0',Bak5=null,InNoDoc='1358_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=154630,ModifyDate=20161206,ModifyTime=154630,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1358_6_111_out.xml' where LogNo=1358
15:46:30,966 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.017s
15:46:30,966 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:47:15,768 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
15:47:15,768 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:47:15,768 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:47:15,768 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:47:15,784 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:47:15,784 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:47:15,784 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:47:15,784 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
15:47:15,847 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:47:15,863 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:47:15,863 INFO common.Log4jPrint(20) - End reset System.out!
15:47:15,863 INFO net.SocketConf(27) - Into SocketConf.load()...
15:47:15,863 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:47:15,878 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
15:47:15,878 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:47:15,878 INFO net.SocketConf(60) - Out SocketConf.load()!
15:47:15,894 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:47:15,894 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:47:15,910 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:47:15,910 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:47:15,910 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:47:15,910 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:47:15,910 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:47:15,910 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:47:15,910 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:47:15,910 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:47:15,910 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:47:15,925 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:47:15,925 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:47:15,925 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:47:22,921 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
15:47:22,937 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:47:22,937 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:47:22,937 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
15:47:22,937 INFO test.NewCCBTestUI(486) - 请求报文长度：1480
15:47:22,937 INFO test.NewCCBTestUI(500) - 收到返回报文！
15:47:22,937 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:47:22,968 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:47:22,969 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:47:22,969 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:47:22,969 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:47:23,547 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:47:23,610 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:47:23,705 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:47:23,721 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:47:23,721 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:47:23,721 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:47:23,721 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1480
15:47:23,721 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

15:47:23,737 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
15:47:23,737 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:47:23,861 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:47:23,861 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:47:23,861 INFO common.SaveMessage(59) - 1364_3_111_in.xml IO输出耗时:0.0s
15:47:23,861 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1364_3_111_in.xml
15:47:23,861 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:47:23,861 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:47:23,861 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
15:47:23,861 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
15:47:23,877 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
15:47:23,877 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
15:47:23,877 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
15:47:24,127 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
15:47:24,142 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

15:47:24,142 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
15:47:24,268 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
15:47:24,268 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
15:47:24,268 INFO service.GreenTest(24) - Into GreenTest.service()...
15:47:24,268 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:47:24,284 INFO common.Log4jPrint(20) - 进程名：1364
15:47:24,284 INFO common.Log4jPrint(20) - trancom:3
15:47:24,284 INFO common.Log4jPrint(20) - FuncFlag:111
15:47:24,284 INFO common.Log4jPrint(20) - mHeadEle.getChildText1364_3_111_in.xml
15:47:24,330 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:47:24,330 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1364,3,'13099','108011rv11468393261001200','5201300004',111,20161128,150051,-1,-1,'127.0.0.1','1364_3_111_in.xml',20161206,154724,20161206,154724 )
15:47:24,346 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:47:24,346 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
15:47:24,377 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:47:24,377 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:24,393 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1364,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.078',Bak4='0.0',Bak5=null,InNoDoc='1364_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=154724,ModifyDate=20161206,ModifyTime=154724,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1364
15:47:24,408 INFO service.GreenTest(90) - Out GreenTest.service()!
15:47:24,408 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
15:47:24,408 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
15:47:24,424 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
15:47:24,425 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
15:47:24,425 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
15:47:24,441 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

15:47:24,441 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
15:47:24,441 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
15:47:24,441 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:47:24,472 INFO common.SaveMessage(59) - 1364_6_111_out.xml IO输出耗时:0.031s
15:47:24,472 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1364_6_111_out.xml
15:47:24,487 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206154723861</SYS_RECV_TIME><SYS_RESP_TIME>20161206154724441</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161128</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:47:24,487 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
15:47:24,487 INFO test.NewCCBTestUI(514) - 返回报文长度：1752
15:47:24,487 INFO test.NewCCBTestUI(518) - 客户端接收返回报文完毕！耗时：1.55s
15:47:24,520 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
15:47:24,535 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:24,535 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1364
15:47:24,567 INFO common.Log4jPrint(20) - -------------------------
15:47:24,567 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
15:47:24,567 INFO common.Log4jPrint(20) - -------------------------
15:47:24,583 INFO common.Log4jPrint(20) - i=1
15:47:24,614 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:47:24,614 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:24,614 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1364,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.862',Bak4='0.0',Bak5=null,InNoDoc='1364_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=154724,ModifyDate=20161206,ModifyTime=154724,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1364_6_111_out.xml' where LogNo=1364
15:47:24,647 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.926s
15:47:24,647 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:03:02,360 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4edc024a
16:03:02,370 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:03:02,374 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:03:02,375 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:03:02,377 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
16:03:02,378 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:03:02,378 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:03:02,382 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
16:03:02,431 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:03:02,449 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:03:02,449 INFO common.Log4jPrint(20) - End reset System.out!
16:03:02,449 INFO net.SocketConf(27) - Into SocketConf.load()...
16:03:02,449 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:03:02,449 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
16:03:02,464 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:03:02,464 INFO net.SocketConf(60) - Out SocketConf.load()!
16:03:02,481 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
16:03:02,481 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:03:02,481 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
16:03:02,481 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
16:03:02,497 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:03:02,497 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
16:03:02,497 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
16:03:02,497 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:03:02,497 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
16:03:02,497 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
16:03:02,497 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:03:02,512 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
16:03:02,512 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
16:03:02,512 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
16:03:09,305 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
16:03:09,305 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:03:09,305 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:03:09,305 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
16:03:09,325 INFO test.NewCCBTestUI(486) - 请求报文长度：1522
16:03:09,327 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:03:09,327 INFO test.NewCCBTestUI(500) - 收到返回报文！
16:03:09,348 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:03:09,349 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:03:09,352 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:03:09,356 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:03:09,828 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:03:09,906 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:03:09,984 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:03:10,064 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:03:10,064 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:03:10,064 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:03:10,064 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1522
16:03:10,064 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><!--???????????--><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2><!--?????????ζ?--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:03:10,079 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
16:03:10,079 INFO newNet.CcbNetImpl(58) - mTranCom==============03
16:03:10,225 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:03:10,225 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:03:10,228 INFO common.SaveMessage(59) - 1370_3_111_in.xml IO输出耗时:0.0020s
16:03:10,228 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1370_3_111_in.xml
16:03:10,229 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:03:10,229 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:03:10,231 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
16:03:10,231 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
16:03:10,231 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
16:03:10,231 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
16:03:10,231 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
16:03:10,505 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
16:03:10,505 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

16:03:10,520 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
16:03:10,646 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
16:03:10,646 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
16:03:10,662 INFO service.GreenTest(24) - Into GreenTest.service()...
16:03:10,662 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
16:03:10,662 INFO common.Log4jPrint(20) - 进程名：1370
16:03:10,662 INFO common.Log4jPrint(20) - trancom:3
16:03:10,662 INFO common.Log4jPrint(20) - FuncFlag:111
16:03:10,662 INFO common.Log4jPrint(20) - mHeadEle.getChildText1370_3_111_in.xml
16:03:10,730 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:03:10,731 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1370,3,'13099','108011rv11468393261001200','5201300004',111,20161206,150051,-1,-1,'127.0.0.1','1370_3_111_in.xml',20161206,160310,20161206,160310 )
16:03:10,747 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
16:03:10,748 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
16:03:10,782 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:03:10,798 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:03:10,798 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1370,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.088',Bak4='0.0010',Bak5=null,InNoDoc='1370_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160310,ModifyDate=20161206,ModifyTime=160310,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1370
16:03:10,813 INFO service.GreenTest(90) - Out GreenTest.service()!
16:03:10,813 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
16:03:10,813 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
16:03:10,813 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
16:03:10,813 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
16:03:10,844 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
16:03:10,844 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:03:10,844 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
16:03:10,844 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
16:03:10,844 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:03:10,844 INFO common.SaveMessage(59) - 1370_6_111_out.xml IO输出耗时:0.0s
16:03:10,860 INFO newNet.CcbNetImpl(180) - 保存报文完毕！1370_6_111_out.xml
16:03:10,860 INFO newNet.CcbNetImpl(183) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206160310231</SYS_RECV_TIME><SYS_RESP_TIME>20161206160310844</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161206</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:03:10,860 INFO newNet.CcbNetImpl(188) - Out CcbNetImpl.send()!
16:03:10,860 INFO test.NewCCBTestUI(514) - 返回报文长度：1752
16:03:10,860 INFO test.NewCCBTestUI(518) - 客户端接收返回报文完毕！耗时：1.555s
16:03:10,876 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
16:03:10,908 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:03:10,908 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1370
16:03:10,939 INFO common.Log4jPrint(20) - -------------------------
16:03:10,939 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
16:03:10,939 INFO common.Log4jPrint(20) - -------------------------
16:03:10,955 INFO common.Log4jPrint(20) - i=1
16:03:11,017 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:03:11,017 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:03:11,017 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1370,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.891',Bak4='0.0010',Bak5=null,InNoDoc='1370_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160310,ModifyDate=20161206,ModifyTime=160310,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1370_6_111_out.xml' where LogNo=1370
16:03:11,048 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.984s
16:03:11,048 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:04:14,694 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4e1a70b8
16:04:14,694 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:04:14,694 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:04:14,694 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:04:14,710 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
16:04:14,710 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:04:14,710 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:04:14,710 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
16:04:14,804 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:04:14,824 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:04:14,824 INFO common.Log4jPrint(20) - End reset System.out!
16:04:14,824 INFO net.SocketConf(27) - Into SocketConf.load()...
16:04:14,824 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:04:14,824 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
16:04:14,824 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:04:14,824 INFO net.SocketConf(60) - Out SocketConf.load()!
16:04:14,839 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
16:04:14,839 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:04:14,855 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
16:04:14,855 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:04:14,855 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
16:04:14,871 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
16:04:14,871 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:04:14,871 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
16:04:14,871 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
16:04:14,871 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
16:04:14,871 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:04:14,886 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
16:04:14,886 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
16:04:14,886 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
16:04:27,729 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
16:04:27,729 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:04:27,729 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:04:27,729 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
16:04:27,745 INFO test.NewCCBTestUI(486) - 请求报文长度：1522
16:04:27,745 INFO test.NewCCBTestUI(500) - 收到返回报文！
16:04:27,745 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:04:27,762 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:04:27,762 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:04:27,762 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:04:27,777 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:04:28,280 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:04:28,360 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:04:28,423 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:04:28,454 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:04:28,454 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:04:28,454 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:04:28,454 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1522
16:04:28,470 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><!--???????????--><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2><!--?????????ζ?--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:04:28,470 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
16:04:28,470 INFO newNet.CcbNetImpl(58) - mTranCom==============03
16:04:28,611 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:04:28,611 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:04:28,611 INFO common.SaveMessage(59) - 1376_3_111_in.xml IO输出耗时:0.0s
16:04:28,611 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1376_3_111_in.xml
16:04:28,611 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:04:28,611 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:04:28,611 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
16:04:28,627 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
16:04:28,627 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
16:04:28,627 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
16:04:28,627 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
16:04:28,892 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
16:04:28,892 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

16:04:28,907 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
16:04:29,033 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
16:04:29,033 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
16:04:29,033 INFO service.GreenTest(24) - Into GreenTest.service()...
16:04:29,033 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
16:04:29,049 INFO common.Log4jPrint(20) - 进程名：1376
16:04:29,049 INFO common.Log4jPrint(20) - trancom:3
16:04:29,049 INFO common.Log4jPrint(20) - FuncFlag:111
16:04:29,049 INFO common.Log4jPrint(20) - mHeadEle.getChildText1376_3_111_in.xml
16:04:29,082 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:04:29,082 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1376,3,'13099','108011rv11468393261001200','5201300004',111,20161206,150051,-1,-1,'127.0.0.1','1376_3_111_in.xml',20161206,160429,20161206,160429 )
16:04:29,097 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
16:04:29,097 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
16:04:29,160 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:04:29,160 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:04:29,160 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1376,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.064',Bak4='0.0',Bak5=null,InNoDoc='1376_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160429,ModifyDate=20161206,ModifyTime=160429,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1376
16:04:29,175 INFO service.GreenTest(90) - Out GreenTest.service()!
16:04:29,175 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
16:04:29,191 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
16:04:29,191 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
16:04:29,191 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
16:04:29,207 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
16:04:29,209 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:04:29,209 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
16:04:29,209 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
16:04:29,209 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:04:29,209 INFO common.SaveMessage(59) - 1376_6_111_out.xml IO输出耗时:0.0s
16:04:29,209 INFO newNet.CcbNetImpl(180) - 保存报文完毕！1376_6_111_out.xml
16:04:29,209 INFO newNet.CcbNetImpl(183) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206160428627</SYS_RECV_TIME><SYS_RESP_TIME>20161206160429209</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161206</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:04:29,209 INFO newNet.CcbNetImpl(188) - Out CcbNetImpl.send()!
16:04:29,209 INFO test.NewCCBTestUI(514) - 返回报文长度：1752
16:04:29,209 INFO test.NewCCBTestUI(518) - 客户端接收返回报文完毕！耗时：1.48s
16:04:29,224 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
16:04:29,256 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:04:29,256 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1376
16:04:29,344 INFO common.Log4jPrint(20) - -------------------------
16:04:29,345 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
16:04:29,345 INFO common.Log4jPrint(20) - -------------------------
16:04:29,356 INFO common.Log4jPrint(20) - i=1
16:04:29,386 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:04:29,387 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:04:29,387 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1376,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.903',Bak4='0.0',Bak5=null,InNoDoc='1376_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160429,ModifyDate=20161206,ModifyTime=160429,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1376_6_111_out.xml' where LogNo=1376
16:04:29,427 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.973s
16:04:29,427 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:04:51,588 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4640b181
16:04:51,603 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:04:51,603 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:04:51,603 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:04:51,603 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
16:04:51,619 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:04:51,619 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:04:51,619 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
16:04:51,684 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:04:51,700 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:04:51,700 INFO common.Log4jPrint(20) - End reset System.out!
16:04:51,700 INFO net.SocketConf(27) - Into SocketConf.load()...
16:04:51,700 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:04:51,700 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
16:04:51,700 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:04:51,700 INFO net.SocketConf(60) - Out SocketConf.load()!
16:04:51,716 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
16:04:51,716 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:04:51,731 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
16:04:51,731 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
16:04:51,731 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:04:51,731 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
16:04:51,747 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
16:04:51,747 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:04:51,747 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
16:04:51,747 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
16:04:51,747 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:04:51,747 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
16:04:51,747 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
16:04:51,747 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
16:05:03,039 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
16:05:03,054 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:05:03,054 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:05:03,054 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
16:05:03,054 INFO test.NewCCBTestUI(486) - 请求报文长度：1522
16:05:03,054 INFO test.NewCCBTestUI(500) - 收到返回报文！
16:05:03,070 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:05:03,091 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:05:03,092 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:05:03,095 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:05:03,100 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:05:03,607 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:05:03,671 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:05:03,772 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:05:03,787 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:05:03,787 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:05:03,787 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:05:03,803 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1522
16:05:03,803 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><!--???????????--><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2><!--?????????ζ?--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:05:03,818 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
16:05:03,818 INFO newNet.CcbNetImpl(58) - mTranCom==============03
16:05:03,943 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:05:03,943 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:05:03,943 INFO common.SaveMessage(59) - 1382_3_111_in.xml IO输出耗时:0.0s
16:05:03,943 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1382_3_111_in.xml
16:05:03,943 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:05:03,943 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:05:03,943 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
16:05:03,943 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
16:05:03,959 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
16:05:03,959 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
16:05:03,959 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
16:05:04,212 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
16:05:04,228 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

16:05:04,228 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
16:05:04,354 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
16:05:04,354 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
16:05:04,354 INFO service.GreenTest(24) - Into GreenTest.service()...
16:05:04,354 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
16:05:04,369 INFO common.Log4jPrint(20) - 进程名：1382
16:05:04,369 INFO common.Log4jPrint(20) - trancom:3
16:05:04,369 INFO common.Log4jPrint(20) - FuncFlag:111
16:05:04,369 INFO common.Log4jPrint(20) - mHeadEle.getChildText1382_3_111_in.xml
16:05:04,401 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:05:04,416 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1382,3,'13099','108011rv11468393261001200','5201300004',111,20161206,150051,-1,-1,'127.0.0.1','1382_3_111_in.xml',20161206,160504,20161206,160504 )
16:05:04,432 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
16:05:04,432 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
16:05:04,463 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:05:04,463 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:05:04,463 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1382,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.078',Bak4='0.0',Bak5=null,InNoDoc='1382_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160504,ModifyDate=20161206,ModifyTime=160504,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1382
16:05:04,494 INFO service.GreenTest(90) - Out GreenTest.service()!
16:05:04,494 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
16:05:04,494 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
16:05:04,494 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
16:05:04,494 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
16:05:04,525 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
16:05:04,541 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:05:04,541 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
16:05:04,541 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
16:05:04,541 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:05:04,541 INFO common.SaveMessage(59) - 1382_6_111_out.xml IO输出耗时:0.0s
16:05:04,541 INFO newNet.CcbNetImpl(180) - 保存报文完毕！1382_6_111_out.xml
16:05:04,541 INFO newNet.CcbNetImpl(183) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206160503943</SYS_RECV_TIME><SYS_RESP_TIME>20161206160504541</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161206</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:05:04,541 INFO newNet.CcbNetImpl(188) - Out CcbNetImpl.send()!
16:05:04,541 INFO test.NewCCBTestUI(514) - 返回报文长度：1752
16:05:04,557 INFO test.NewCCBTestUI(518) - 客户端接收返回报文完毕！耗时：1.503s
16:05:04,572 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
16:05:04,604 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:05:04,604 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1382
16:05:04,636 INFO common.Log4jPrint(20) - -------------------------
16:05:04,636 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
16:05:04,636 INFO common.Log4jPrint(20) - -------------------------
16:05:04,667 INFO common.Log4jPrint(20) - i=1
16:05:04,698 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:05:04,698 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:05:04,698 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1382,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.88',Bak4='0.0',Bak5=null,InNoDoc='1382_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160504,ModifyDate=20161206,ModifyTime=160504,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1382_6_111_out.xml' where LogNo=1382
16:05:04,777 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.99s
16:05:04,777 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:09:49,240 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
16:09:49,240 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:09:49,255 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:09:49,255 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:09:49,255 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
16:09:49,255 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:09:49,255 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:09:49,255 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
16:09:49,350 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:09:49,350 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:09:49,350 INFO common.Log4jPrint(20) - End reset System.out!
16:09:49,350 INFO net.SocketConf(27) - Into SocketConf.load()...
16:09:49,350 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:09:49,350 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
16:09:49,366 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:09:49,366 INFO net.SocketConf(60) - Out SocketConf.load()!
16:09:49,381 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
16:09:49,381 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:09:49,397 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
16:09:49,397 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
16:09:49,397 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:09:49,397 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
16:09:49,397 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
16:09:49,397 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:09:49,397 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
16:09:49,397 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
16:09:49,397 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:09:49,412 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
16:09:49,412 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
16:09:49,412 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
16:09:54,264 INFO test.NewCCBTestUI(474) - Socket连接127.0.0.1:39871
16:09:54,280 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:09:54,280 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:09:54,280 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
16:09:54,280 INFO test.NewCCBTestUI(486) - 请求报文长度：1522
16:09:54,280 INFO test.NewCCBTestUI(500) - 收到返回报文！
16:09:54,280 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:09:54,312 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:09:54,312 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:09:54,312 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:09:54,312 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:09:54,951 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:09:55,061 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:09:55,263 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:09:55,295 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:09:55,295 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:09:55,295 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:09:55,295 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1522
16:09:55,295 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><!--???????????--><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2><!--?????????ζ?--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:09:55,310 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
16:09:55,310 INFO newNet.CcbNetImpl(58) - mTranCom==============03
16:09:55,436 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:09:55,436 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:09:55,436 INFO common.SaveMessage(59) - 1388_3_111_in.xml IO输出耗时:0.0s
16:09:55,436 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1388_3_111_in.xml
16:09:55,436 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:09:55,436 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:09:55,436 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
16:09:55,452 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
16:09:55,452 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
16:09:55,452 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
16:09:55,452 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
16:09:55,717 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
16:09:55,717 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

16:09:55,717 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
16:09:55,857 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
16:09:55,857 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
16:09:55,857 INFO service.GreenTest(24) - Into GreenTest.service()...
16:09:55,857 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
16:09:55,873 INFO common.Log4jPrint(20) - 进程名：1388
16:09:55,873 INFO common.Log4jPrint(20) - trancom:3
16:09:55,873 INFO common.Log4jPrint(20) - FuncFlag:111
16:09:55,873 INFO common.Log4jPrint(20) - mHeadEle.getChildText1388_3_111_in.xml
16:09:56,091 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:09:56,091 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1388,3,'13099','108011rv11468393261001200','5201300004',111,20161206,150051,-1,-1,'127.0.0.1','1388_3_111_in.xml',20161206,160955,20161206,160955 )
16:09:56,107 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
16:09:56,122 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
16:09:56,185 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:09:56,200 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:09:56,200 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1388,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.265',Bak4='0.0',Bak5=null,InNoDoc='1388_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160955,ModifyDate=20161206,ModifyTime=160956,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1388
16:09:56,216 INFO service.GreenTest(90) - Out GreenTest.service()!
16:09:56,216 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
16:09:56,232 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
16:09:56,232 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
16:09:56,232 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
16:09:56,247 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
16:09:56,263 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:09:56,263 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
16:09:56,263 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
16:13:22,472 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
16:31:51,705 INFO common.SaveMessage(59) - 1388_6_111_out.xml IO输出耗时:0.0s
16:31:51,721 INFO newNet.CcbNetImpl(180) - 保存报文完毕！1388_6_111_out.xml
16:31:51,721 INFO newNet.CcbNetImpl(183) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206160955452</SYS_RECV_TIME><SYS_RESP_TIME>20161206160956263</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161206</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:31:51,738 INFO newNet.CcbNetImpl(188) - Out CcbNetImpl.send()!
16:31:51,741 INFO test.NewCCBTestUI(514) - 返回报文长度：1752
16:31:51,743 INFO test.NewCCBTestUI(518) - 客户端接收返回报文完毕！耗时：1317.461s
16:31:51,745 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
16:46:57,787 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:46:57,787 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1388
16:46:57,835 INFO common.Log4jPrint(20) - -------------------------
16:46:57,835 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
16:46:57,835 INFO common.Log4jPrint(20) - -------------------------
16:46:57,866 INFO common.Log4jPrint(20) - i=1
16:46:57,913 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:46:57,913 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:46:57,913 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1388,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='2222.587',Bak4='0.0',Bak5=null,InNoDoc='1388_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=160955,ModifyDate=20161206,ModifyTime=160956,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1388_6_111_out.xml' where LogNo=1388
16:46:57,929 INFO midplat.Ybt4Socket(170) - 处理总耗时：2222.634s
16:46:57,929 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:47:31,324 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@2a801059
16:47:31,324 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:47:31,339 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:47:31,339 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:47:31,339 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
16:47:31,339 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:47:31,339 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:47:31,339 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
16:47:31,403 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:47:31,418 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:47:31,418 INFO common.Log4jPrint(20) - End reset System.out!
16:47:31,418 INFO net.SocketConf(27) - Into SocketConf.load()...
16:47:31,418 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:47:31,418 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
16:47:31,418 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:47:31,434 INFO net.SocketConf(60) - Out SocketConf.load()!
16:47:31,449 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
16:47:31,449 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:47:31,449 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
16:47:31,449 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
16:47:31,449 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:47:31,465 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
16:47:31,465 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
16:47:31,465 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:47:31,465 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
16:47:31,465 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
16:47:31,465 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:47:31,481 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
16:47:31,481 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
16:47:31,481 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
16:47:46,628 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
16:47:46,644 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:47:46,644 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:47:46,644 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
16:47:46,644 INFO test.NewCCBTestUI(488) - 请求报文长度：1522
16:47:46,644 INFO test.NewCCBTestUI(503) - 收到返回报文！
16:47:46,644 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:47:46,676 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:47:46,676 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:47:46,676 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:47:46,676 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:47:47,331 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:47:47,409 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:47:47,534 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:47:47,565 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:47:47,565 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:47:47,565 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:47:47,581 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1522
16:47:47,581 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><!--???????????--><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2><!--?????????ζ?--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

16:47:47,581 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
16:47:47,581 INFO newNet.CcbNetImpl(58) - mTranCom==============03
16:47:47,706 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:47:47,706 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:47:47,706 INFO common.SaveMessage(60) - 1394_3_111_in.xml IO输出耗时:0.0s
16:47:47,706 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1394_3_111_in.xml
16:47:47,721 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:47:47,721 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:47:47,721 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
16:47:47,721 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
16:47:47,721 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
16:47:47,721 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
16:47:47,721 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
16:47:47,987 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
16:47:47,987 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

16:47:47,987 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
16:47:48,128 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
16:47:48,128 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
16:47:48,128 INFO service.GreenTest(24) - Into GreenTest.service()...
16:47:48,128 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
16:47:48,143 INFO common.Log4jPrint(20) - 进程名：1394
16:47:48,143 INFO common.Log4jPrint(20) - trancom:3
16:47:48,143 INFO common.Log4jPrint(20) - FuncFlag:111
16:47:48,143 INFO common.Log4jPrint(20) - mHeadEle.getChildText1394_3_111_in.xml
16:47:48,237 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:47:48,237 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1394,3,'13099','108011rv11468393261001200','5201300004',111,20161206,150051,-1,-1,'127.0.0.1','1394_3_111_in.xml',20161206,164748,20161206,164748 )
16:47:48,284 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
16:47:48,284 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
16:47:48,377 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:47:48,377 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:47:48,377 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1394,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.156',Bak4='0.0',Bak5=null,InNoDoc='1394_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=164748,ModifyDate=20161206,ModifyTime=164748,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1394
16:47:48,409 INFO service.GreenTest(90) - Out GreenTest.service()!
16:47:48,409 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
16:47:48,409 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
16:47:48,409 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
16:47:48,409 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
16:47:48,424 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
16:47:48,424 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

16:47:48,424 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
16:47:48,440 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
16:47:53,125 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
18:23:24,966 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
19:58:20,504 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@45cfd3b2
19:58:20,550 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:58:20,551 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:58:20,551 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:58:20,551 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:58:20,551 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:58:20,567 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:58:20,567 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
19:58:20,629 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:58:20,629 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:58:20,629 INFO common.Log4jPrint(20) - End reset System.out!
19:58:20,645 INFO net.SocketConf(27) - Into SocketConf.load()...
19:58:20,645 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:58:20,645 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
19:58:20,645 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:58:20,645 INFO net.SocketConf(60) - Out SocketConf.load()!
19:58:20,661 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:58:20,661 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:58:20,676 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:58:20,676 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:58:20,676 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:58:20,676 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:58:20,676 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:58:20,676 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:58:20,676 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:58:20,692 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:58:20,676 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:58:20,692 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:58:20,692 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:58:20,692 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:59:12,916 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
19:59:12,963 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:59:12,963 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:59:12,963 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
19:59:12,996 INFO test.NewCCBTestUI(488) - 请求报文长度：1522
19:59:12,996 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:59:13,027 INFO test.NewCCBTestUI(503) - 收到返回报文！
19:59:13,027 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:59:13,027 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:59:13,058 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:59:13,167 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:59:14,026 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:59:14,136 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:59:14,230 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:59:14,339 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:59:14,355 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:59:14,355 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:59:14,402 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1522
19:59:14,402 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><!--???????????--><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2><!--?????????ζ?--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

19:59:14,402 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
19:59:14,402 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:59:14,620 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:59:14,620 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:59:14,651 INFO common.SaveMessage(60) - 1400_3_111_in.xml IO输出耗时:0.031s
19:59:14,651 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1400_3_111_in.xml
19:59:14,651 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
19:59:14,651 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:59:14,651 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
19:59:14,682 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
19:59:14,698 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
19:59:14,698 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
19:59:14,698 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
19:59:15,214 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
19:59:15,214 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

19:59:15,229 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
19:59:15,482 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
19:59:15,482 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
19:59:15,544 INFO service.GreenTest(24) - Into GreenTest.service()...
19:59:15,544 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:59:15,654 INFO common.Log4jPrint(20) - 进程名：1400
19:59:15,654 INFO common.Log4jPrint(20) - trancom:3
19:59:15,654 INFO common.Log4jPrint(20) - FuncFlag:111
19:59:15,654 INFO common.Log4jPrint(20) - mHeadEle.getChildText1400_3_111_in.xml
19:59:15,700 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:59:15,700 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1400,3,'13099','108011rv11468393261001200','5201300004',111,20161206,150051,-1,-1,'127.0.0.1','1400_3_111_in.xml',20161206,195915,20161206,195915 )
19:59:15,716 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:59:15,716 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
19:59:15,778 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:59:15,778 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:59:15,778 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1400,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.172',Bak4='0.0',Bak5=null,InNoDoc='1400_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=195915,ModifyDate=20161206,ModifyTime=195915,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1400
19:59:15,794 INFO service.GreenTest(90) - Out GreenTest.service()!
19:59:15,794 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
19:59:15,810 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
19:59:15,810 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
19:59:15,810 INFO common.XslCache(62) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
19:59:15,810 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
19:59:15,810 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

19:59:15,810 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
19:59:15,825 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
20:21:11,092 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
20:27:34,959 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:177)
20:27:34,959 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
20:28:03,260 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4f536eec
20:28:03,278 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:28:03,278 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:28:03,278 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:28:03,278 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:28:03,278 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:28:03,278 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:28:03,278 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
20:28:03,357 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:28:03,357 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:28:03,357 INFO common.Log4jPrint(20) - End reset System.out!
20:28:03,357 INFO net.SocketConf(27) - Into SocketConf.load()...
20:28:03,372 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:28:03,372 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
20:28:03,372 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:28:03,372 INFO net.SocketConf(60) - Out SocketConf.load()!
20:28:03,388 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:28:03,388 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:28:03,388 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:28:03,403 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:28:03,403 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:28:03,403 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:28:03,403 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:28:03,403 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:28:03,403 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:28:03,403 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:28:03,403 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:28:03,419 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:28:03,419 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:28:03,419 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:28:26,627 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
20:28:26,642 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:28:26,642 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:28:26,642 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
20:28:26,642 INFO test.NewCCBTestUI(488) - 请求报文长度：1522
20:28:26,642 INFO test.NewCCBTestUI(503) - 收到返回报文！
20:28:26,642 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:28:26,675 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:28:26,676 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:28:26,676 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:28:26,676 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:28:27,223 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:28:27,316 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:28:27,394 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:28:27,425 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:28:27,425 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:28:27,425 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:28:27,441 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1522
20:28:27,441 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><!--???????????--><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2><!--?????????ζ?--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

20:28:27,441 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
20:28:27,441 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:28:27,566 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:28:27,566 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:28:27,566 INFO common.SaveMessage(60) - 1406_3_111_in.xml IO输出耗时:0.0s
20:28:27,566 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1406_3_111_in.xml
20:28:27,566 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:28:27,566 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:28:27,566 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
20:28:27,581 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
20:28:27,581 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
20:28:27,581 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
20:28:27,581 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,466) and length=1522 bytes!
20:28:27,851 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
20:28:27,851 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

20:28:27,866 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
20:28:27,993 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
20:28:27,993 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
20:28:28,009 INFO service.GreenTest(24) - Into GreenTest.service()...
20:28:28,009 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:28:28,009 INFO common.Log4jPrint(20) - 进程名：1406
20:28:28,009 INFO common.Log4jPrint(20) - trancom:3
20:28:28,009 INFO common.Log4jPrint(20) - FuncFlag:111
20:28:28,009 INFO common.Log4jPrint(20) - mHeadEle.getChildText1406_3_111_in.xml
20:28:28,071 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:28:28,071 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 1406,3,'13099','108011rv11468393261001200','5201300004',111,20161206,150051,-1,-1,'127.0.0.1','1406_3_111_in.xml',20161206,202828,20161206,202828 )
20:28:28,087 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:28:28,087 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
20:28:28,133 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:28:28,133 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:28:28,133 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1406,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.078',Bak4='0.0',Bak5=null,InNoDoc='1406_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=202828,ModifyDate=20161206,ModifyTime=202828,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=1406
20:28:28,149 INFO service.GreenTest(90) - Out GreenTest.service()!
20:28:28,149 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
20:28:28,165 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
20:28:28,165 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
20:28:28,165 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,488) and length=3306 bytes!
20:28:28,165 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
20:28:28,165 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

20:28:28,165 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
20:28:28,180 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
20:28:51,246 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
20:34:13,485 INFO common.SaveMessage(60) - 1406_6_111_out.xml IO输出耗时:0.015s
20:38:30,871 INFO newNet.CcbNetImpl(186) - 保存报文完毕！1406_6_111_out.xml
20:42:07,377 INFO newNet.CcbNetImpl(189) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206202827581</SYS_RECV_TIME><SYS_RESP_TIME>20161206202828180</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161206</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:57:42,768 INFO test.NewCCBTestUI(517) - 返回报文长度：1752
20:57:42,768 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：1756.126s
20:57:42,816 ERROR common.JdomUtil(84) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:82)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:51)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:42)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:169)
20:58:04,394 INFO newNet.CcbNetImpl(194) - Out CcbNetImpl.send()!
21:22:54,929 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:22:54,929 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1406
21:22:54,977 INFO common.Log4jPrint(20) - -------------------------
21:22:54,977 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
21:22:54,977 INFO common.Log4jPrint(20) - -------------------------
21:22:54,992 INFO common.Log4jPrint(20) - i=1
21:31:11,219 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:31:11,219 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:31:11,235 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1406,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161206,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='3711.733',Bak4='0.0',Bak5=null,InNoDoc='1406_3_111_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=202828,ModifyDate=20161206,ModifyTime=202828,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='1406_6_111_out.xml' where LogNo=1406
21:32:37,928 INFO midplat.Ybt4Socket(170) - 处理总耗时：3850.487s
21:32:52,032 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
21:36:34,571 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
21:36:34,586 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
21:36:34,586 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
21:36:34,586 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
21:36:34,586 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
21:36:34,586 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
21:36:34,586 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
21:36:34,586 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
21:36:34,665 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
21:36:34,665 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
21:36:34,665 INFO common.Log4jPrint(20) - End reset System.out!
21:36:34,665 INFO net.SocketConf(27) - Into SocketConf.load()...
21:36:34,681 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
21:36:34,681 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
21:36:34,681 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
21:36:34,681 INFO net.SocketConf(60) - Out SocketConf.load()!
21:36:34,696 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
21:36:34,696 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
21:36:34,696 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
21:36:34,696 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
21:36:34,696 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
21:36:34,712 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
21:36:34,712 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
21:36:34,712 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
21:36:34,712 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
21:36:34,712 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
21:36:34,712 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
21:36:34,712 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
21:36:34,728 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
21:36:34,728 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
21:36:41,670 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
21:36:41,685 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
21:36:41,685 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
21:36:41,685 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
21:36:41,701 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
21:36:41,701 INFO test.NewCCBTestUI(488) - 请求报文长度：8879
21:36:41,701 INFO test.NewCCBTestUI(503) - 收到返回报文！
21:36:41,733 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

21:36:41,733 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
21:36:41,733 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
21:36:41,733 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
21:36:42,263 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
21:36:42,341 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
21:36:42,388 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
21:36:42,435 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
21:36:42,435 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
21:36:42,435 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
21:36:42,435 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
21:36:42,451 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

21:36:42,482 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
21:36:42,482 INFO newNet.CcbNetImpl(58) - mTranCom==============03
21:36:42,607 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
21:36:42,607 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
21:36:42,607 INFO common.SaveMessage(66) - 1412_3_1012_in.xml IO输出耗时:0.0s
21:36:42,607 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1412_3_1012_in.xml
21:36:42,607 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
21:36:42,607 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
21:36:42,622 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
21:36:42,685 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
21:36:42,685 INFO common.Log4jPrint(20) - 
21:36:42,700 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
21:36:42,700 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
21:36:42,700 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
21:36:43,013 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
21:36:43,029 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

21:36:43,029 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
21:36:43,232 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
21:36:43,247 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
21:36:43,294 INFO common.Log4jPrint(20) - ================0133011
21:36:43,294 INFO common.Log4jPrint(20) - ================03
21:36:43,294 INFO common.Log4jPrint(20) - ++++++++++++++++03
21:36:43,294 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
21:36:43,294 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
21:36:43,310 INFO service.NewContInput(43) - Into NewContInput.service()...
21:36:43,325 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
21:36:43,341 INFO common.Log4jPrint(20) - 进程名：1412
21:36:43,341 INFO common.Log4jPrint(20) - trancom:3
21:36:43,341 INFO common.Log4jPrint(20) - FuncFlag:1012
21:36:43,341 INFO common.Log4jPrint(20) - mHeadEle.getChildText1412_3_1012_in.xml
21:36:43,372 INFO common.Log4jPrint(20) - 进入更新后的InsPart
21:36:43,372 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1412,3,'13099','demaxiya200164','5201300004',1012,20161206,145205,'210414131200027',-1,-1,'????','127.0.0.1','1412_3_1012_in.xml',20161206,213643,20161206,213643,'230803197906010035','????','230803197906010035','011A0100' )
21:36:43,388 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
21:36:43,388 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161206 and MakeTime>=213323
21:36:43,466 INFO common.RuleXsl(155) - Into RuleXsl.load()...
21:36:43,466 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
21:36:43,466 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
21:36:43,544 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
21:36:43,544 INFO common.RuleXsl(179) - Out RuleXsl.load()!
21:36:43,544 INFO common.RuleXml(198) - Into RuleXml.load()...
21:36:43,544 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
21:36:43,544 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
21:36:43,544 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
21:36:43,544 INFO common.RuleXml(215) - Out RuleXml.load()!
21:36:43,544 INFO common.RuleParser(49) - Into RuleParser.check()...
21:36:43,544 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
21:36:43,559 INFO common.Log4jPrint(20) - 对邮编进行校验
21:36:43,622 INFO common.Log4jPrint(20) - 对邮编进行校验
21:36:43,622 INFO common.Log4jPrint(20) - 返回的结果是:0
21:36:43,622 INFO common.Log4jPrint(20) - 对邮编进行校验
21:36:43,637 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

21:36:43,637 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
21:36:43,637 INFO common.RuleParser(62) - Out RuleParser.check()!
21:36:43,637 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
21:36:43,653 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
21:36:43,668 INFO common.SaveMessage(66) - 1412_6_0_inSvc.xml IO输出耗时:0.015s
21:36:43,668 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1412_6_0_inSvc.xml
21:36:43,668 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:36:43,668 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:36:44,901 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
21:36:50,455 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
21:36:50,455 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
21:36:50,455 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
21:36:50,455 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
21:36:50,455 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
21:36:50,471 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
21:36:50,471 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
21:36:50,471 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
21:36:50,471 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection refused: connect
21:36:50,471 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
21:36:50,471 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
21:36:50,471 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
21:36:50,471 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
21:36:50,471 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
21:36:50,471 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
21:36:50,471 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
21:36:50,471 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
21:36:50,471 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
21:36:50,471 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
21:36:50,471 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
21:36:50,471 INFO common.Log4jPrint(20) - 	... 13 more
21:36:50,471 INFO common.Log4jPrint(20) - -----------------------------------------------
21:36:50,471 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
21:36:50,471 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:228)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:212)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:154)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
21:36:50,550 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:36:50,550 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:36:50,550 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1412,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161206,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=7,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1412_3_1012_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=213643,ModifyDate=20161206,ModifyTime=213650,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1412
21:36:50,566 INFO service.NewContInput(245) - Out NewContInput.service()!
21:36:50,566 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
21:36:50,612 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
21:36:50,612 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
21:36:50,612 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
21:36:50,612 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
21:36:50,612 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

21:36:50,628 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
21:36:50,628 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
21:37:01,828 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
21:37:01,843 INFO common.SaveMessage(66) - 1412_9_1012_out.xml IO输出耗时:0.0s
21:37:01,843 INFO newNet.CcbNetImpl(189) - 保存报文完毕！1412_9_1012_out.xml
21:37:01,843 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2019</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206213642685</SYS_RECV_TIME><SYS_RESP_TIME>20161206213650628</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

21:37:01,843 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
21:37:01,843 INFO test.NewCCBTestUI(517) - 返回报文长度：2029
21:37:01,843 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：20.158s
21:37:01,909 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:37:01,909 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1412
21:37:01,940 INFO common.Log4jPrint(20) - -------------------------
21:37:01,940 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
21:37:01,940 INFO common.Log4jPrint(20) - -------------------------
21:37:01,955 INFO common.Log4jPrint(20) - i=1
21:37:01,971 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:37:01,971 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:37:01,971 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1412,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161206,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=7,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='19.52',Bak4=null,Bak5=null,InNoDoc='1412_3_1012_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=213643,ModifyDate=20161206,ModifyTime=213650,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1412_9_1012_out.xml' where LogNo=1412
21:37:01,987 INFO midplat.Ybt4Socket(170) - 处理总耗时：19.552s
21:37:01,987 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
21:40:00,340 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4883d37a
21:40:00,356 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
21:40:00,356 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
21:40:00,356 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
21:40:00,356 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
21:40:00,356 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
21:40:00,356 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
21:40:00,372 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
21:40:00,466 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
21:40:00,481 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
21:40:00,481 INFO common.Log4jPrint(20) - End reset System.out!
21:40:00,481 INFO net.SocketConf(27) - Into SocketConf.load()...
21:40:00,481 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
21:40:00,481 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
21:40:00,481 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
21:40:00,481 INFO net.SocketConf(60) - Out SocketConf.load()!
21:40:00,497 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
21:40:00,497 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
21:40:00,513 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
21:40:00,513 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
21:40:00,513 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
21:40:00,528 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
21:40:00,528 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
21:40:00,528 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
21:40:00,544 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
21:40:00,544 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
21:40:00,544 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
21:40:00,544 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
21:40:00,544 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
21:40:00,544 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
21:40:07,657 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
21:40:07,657 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
21:40:07,657 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
21:40:07,657 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
21:40:07,673 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
21:40:07,673 INFO test.NewCCBTestUI(488) - 请求报文长度：8879
21:40:07,673 INFO test.NewCCBTestUI(503) - 收到返回报文！
21:40:07,690 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

21:40:07,690 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
21:40:07,705 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
21:40:07,705 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
21:40:08,189 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
21:40:08,236 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
21:40:08,314 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
21:40:08,345 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
21:40:08,345 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
21:40:08,345 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
21:40:08,360 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
21:40:08,376 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

21:40:08,407 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
21:40:08,407 INFO newNet.CcbNetImpl(58) - mTranCom==============03
21:40:08,532 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
21:40:08,532 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
21:40:08,532 INFO common.SaveMessage(66) - 1418_3_1012_in.xml IO输出耗时:0.0s
21:40:08,532 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1418_3_1012_in.xml
21:40:08,532 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
21:40:08,532 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
21:40:08,548 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
21:40:08,548 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
21:40:08,548 INFO common.Log4jPrint(20) - 
21:40:08,563 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
21:40:08,563 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
21:40:08,563 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
21:40:08,893 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
21:40:08,924 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

21:40:08,925 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
21:40:09,097 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
21:40:09,097 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
21:40:09,112 INFO common.Log4jPrint(20) - ================0133011
21:40:09,112 INFO common.Log4jPrint(20) - ================03
21:40:09,112 INFO common.Log4jPrint(20) - ++++++++++++++++03
21:40:09,112 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
21:40:09,112 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
21:40:09,112 INFO service.NewContInput(43) - Into NewContInput.service()...
21:40:09,112 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
21:40:09,128 INFO common.Log4jPrint(20) - 进程名：1418
21:40:09,128 INFO common.Log4jPrint(20) - trancom:3
21:40:09,128 INFO common.Log4jPrint(20) - FuncFlag:1012
21:40:09,128 INFO common.Log4jPrint(20) - mHeadEle.getChildText1418_3_1012_in.xml
21:40:09,159 INFO common.Log4jPrint(20) - 进入更新后的InsPart
21:40:09,159 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1418,3,'13099','demaxiya200164','5201300004',1012,20161206,145205,'210414131200027',-1,-1,'????','127.0.0.1','1418_3_1012_in.xml',20161206,214009,20161206,214009,'230803197906010035','????','230803197906010035','011A0100' )
21:40:09,175 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
21:40:09,175 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161206 and MakeTime>=213649
21:40:09,331 INFO common.RuleXsl(155) - Into RuleXsl.load()...
21:40:09,331 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
21:40:09,331 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
21:40:09,393 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
21:40:09,393 INFO common.RuleXsl(179) - Out RuleXsl.load()!
21:40:09,393 INFO common.RuleXml(198) - Into RuleXml.load()...
21:40:09,393 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
21:40:09,393 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
21:40:09,393 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
21:40:09,393 INFO common.RuleXml(215) - Out RuleXml.load()!
21:40:09,393 INFO common.RuleParser(49) - Into RuleParser.check()...
21:40:09,393 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
21:40:09,409 INFO common.Log4jPrint(20) - 对邮编进行校验
21:40:09,409 INFO common.Log4jPrint(20) - 对邮编进行校验
21:40:09,409 INFO common.Log4jPrint(20) - 返回的结果是:0
21:40:09,409 INFO common.Log4jPrint(20) - 对邮编进行校验
21:40:09,409 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

21:40:09,409 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
21:40:09,409 INFO common.RuleParser(62) - Out RuleParser.check()!
21:40:09,409 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
21:40:09,424 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
21:40:09,424 INFO common.SaveMessage(66) - 1418_6_0_inSvc.xml IO输出耗时:0.0s
21:40:09,424 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1418_6_0_inSvc.xml
21:40:09,424 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:40:09,424 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:40:09,658 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
21:40:14,526 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
21:40:14,526 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
21:40:14,526 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
21:40:14,526 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
21:40:14,526 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
21:40:14,541 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
21:40:14,541 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
21:40:14,541 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
21:40:14,541 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection refused: connect
21:40:14,541 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
21:40:14,541 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
21:40:14,541 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
21:40:14,541 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
21:40:14,541 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
21:40:14,541 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
21:40:14,541 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
21:40:14,541 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
21:40:14,541 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
21:40:14,541 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
21:40:14,541 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
21:40:14,541 INFO common.Log4jPrint(20) - 	... 13 more
21:40:14,541 INFO common.Log4jPrint(20) - -----------------------------------------------
21:40:14,541 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
21:40:14,558 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:228)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:212)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:154)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
21:40:14,589 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:40:14,589 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:40:14,589 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1418,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161206,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=5,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1418_3_1012_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=214009,ModifyDate=20161206,ModifyTime=214014,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1418
21:40:14,605 INFO service.NewContInput(245) - Out NewContInput.service()!
21:40:14,605 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
21:40:14,620 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
21:40:14,620 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
21:40:14,620 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
21:40:14,636 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
21:40:14,651 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

21:40:14,651 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
21:40:14,651 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
21:40:18,603 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
21:40:18,670 INFO common.SaveMessage(66) - 1418_9_1012_out.xml IO输出耗时:0.0010s
21:40:18,670 INFO newNet.CcbNetImpl(189) - 保存报文完毕！1418_9_1012_out.xml
21:40:18,670 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2019</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206214008548</SYS_RECV_TIME><SYS_RESP_TIME>20161206214014651</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

21:40:18,670 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
21:40:18,670 INFO test.NewCCBTestUI(517) - 返回报文长度：2029
21:40:18,670 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：11.013s
21:40:18,717 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:40:18,717 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1418
21:40:18,734 INFO common.Log4jPrint(20) - -------------------------
21:40:18,734 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
21:40:18,734 INFO common.Log4jPrint(20) - -------------------------
21:40:18,750 INFO common.Log4jPrint(20) - i=1
21:40:18,781 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:40:18,781 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:40:18,781 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1418,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161206,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=5,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='10.405',Bak4=null,Bak5=null,InNoDoc='1418_3_1012_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=214009,ModifyDate=20161206,ModifyTime=214014,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1418_9_1012_out.xml' where LogNo=1418
21:40:18,796 INFO midplat.Ybt4Socket(170) - 处理总耗时：10.451s
21:40:18,796 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
21:45:56,222 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@56b61c3
21:45:56,222 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
21:45:56,237 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
21:45:56,237 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
21:45:56,237 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
21:45:56,237 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
21:45:56,237 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
21:45:56,237 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,105) and length=23443 bytes!
21:45:56,301 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
21:45:56,316 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
21:45:56,316 INFO common.Log4jPrint(20) - End reset System.out!
21:45:56,316 INFO net.SocketConf(27) - Into SocketConf.load()...
21:45:56,316 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
21:45:56,316 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,286) and length=686 bytes!
21:45:56,316 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
21:45:56,316 INFO net.SocketConf(60) - Out SocketConf.load()!
21:45:56,332 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
21:45:56,347 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
21:45:56,347 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
21:45:56,347 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
21:45:56,347 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
21:45:56,363 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
21:45:56,363 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
21:45:56,363 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
21:45:56,363 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
21:45:56,363 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
21:45:56,363 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
21:45:56,363 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
21:45:56,363 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
21:45:56,363 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
21:46:03,352 INFO test.NewCCBTestUI(475) - Socket连接127.0.0.1:39871
21:46:03,367 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
21:46:03,367 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
21:46:03,367 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,160) and length=14902 bytes!
21:46:03,367 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
21:46:03,367 INFO test.NewCCBTestUI(488) - 请求报文长度：8879
21:46:03,383 INFO test.NewCCBTestUI(503) - 收到返回报文！
21:46:03,400 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><!--录单自核:NewContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><!--收费签单:ContConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><!--保单重打:RePrintIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><!--重空核对:CardControlIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><!--当日撤单:WriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><!--新单回滚(自动冲正):AutoWriteOffIn.xsl--><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><!--打印投保单:PrintAppContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><!--打印保单:PrintContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><!--续期缴费查询(查询保费缴纳信息):QueryPremIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><!--续期缴费:RenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><!--续期缴费冲正:CancleRenewalPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><!--满期给付查询:QueryExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><!--满期给付:ExpirationPayIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><!--修改保单基本信息:ModifyContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><!--查询客户保单:QueryContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><!--查询保单详情(寿险) :QueryContDetailIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><!--查询保单历史变动信息:QueryContChangeIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><!--退保查询（申请退保）:ApplyReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><!--退保:ReturnContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><!--获取保单详细查询:GetContListIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><!--获取保单详情取数（寿险）:GetContList2In.xsl--><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><!--查询保险公司巡点员信息:QueryInsStaffIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><!--试算保险产品:CalculateContIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!--日终单证信息传递（发送银行端单证信息）:--><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><!--批量查询交易:BatchQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><!--建行代理保险售后提醒查询:ActInsuSaleRemindQueryIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><!--建行代理保险售后提醒取数:ActInsuSaleRemindAccessIn.xsl--><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><!--建行申请登记台账:SignPolicyFormatIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><!--建行确认登记台账:SignConfirmIn.xsl--><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

21:46:03,400 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
21:46:03,400 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
21:46:03,400 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
21:46:03,899 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
21:46:03,992 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
21:46:04,055 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
21:46:04,070 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
21:46:04,086 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
21:46:04,086 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
21:46:04,086 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
21:46:04,086 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161206145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

21:46:04,117 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
21:46:04,117 INFO newNet.CcbNetImpl(58) - mTranCom==============03
21:46:04,242 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
21:46:04,242 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
21:46:04,242 INFO common.SaveMessage(66) - 1424_3_1012_in.xml IO输出耗时:0.0s
21:46:04,242 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1424_3_1012_in.xml
21:46:04,242 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
21:46:04,258 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
21:46:04,258 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
21:46:04,258 INFO format.NewCont(68) - Into NewCont.noStd2Std()...
21:46:04,258 INFO common.Log4jPrint(20) - 
21:46:04,273 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
21:46:04,273 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
21:46:04,273 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,615) and length=25465 bytes!
21:46:04,601 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
21:46:04,616 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" >
				<PlchdCrdtEfDt>99990101</PlchdCrdtEfDt>
				</xsl:when>
				<xsl:otherwise>
				<PlchdCrdtEfDt>
				<xsl:value-of select="Plchd_Crdt_EfDt"/>
				</PlchdCrdtEfDt>
				</xsl:otherwise>
			</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="/TX/TX_BODY/ENTITY/APP_ENTITY/AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数
						<PayEndYear>
						<xsl:value-of select="InsPrem_PyF_Prd_Num" />
					</PayEndYear>--><!-- 保费缴纳周期代码
					<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
				<xsl:value-of select="Anuty_Drw_CgyCd" />
			</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

21:46:04,616 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
21:46:04,805 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
21:46:04,805 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
21:46:04,820 INFO common.Log4jPrint(20) - ================0133011
21:46:04,820 INFO common.Log4jPrint(20) - ================03
21:46:04,820 INFO common.Log4jPrint(20) - ++++++++++++++++03
21:46:04,820 INFO format.NewCont(154) - Out NewCont.noStd2Std()!
21:46:04,820 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
21:46:04,820 INFO service.NewContInput(43) - Into NewContInput.service()...
21:46:04,820 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
21:46:04,883 INFO common.Log4jPrint(20) - 进程名：1424
21:46:04,883 INFO common.Log4jPrint(20) - trancom:3
21:46:04,883 INFO common.Log4jPrint(20) - FuncFlag:1012
21:46:04,883 INFO common.Log4jPrint(20) - mHeadEle.getChildText1424_3_1012_in.xml
21:46:04,945 INFO common.Log4jPrint(20) - 进入更新后的InsPart
21:46:04,945 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1424,3,'13099','demaxiya200164','5201300004',1012,20161206,145205,'210414131200027',-1,-1,'????','127.0.0.1','1424_3_1012_in.xml',20161206,214604,20161206,214604,'230803197906010035','????','230803197906010035','011A0100' )
21:46:04,945 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
21:46:04,961 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161206 and MakeTime>=214244
21:46:05,023 INFO common.RuleXsl(155) - Into RuleXsl.load()...
21:46:05,023 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
21:46:05,023 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:53,283) and length=15140 bytes!
21:46:05,054 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
21:46:05,054 INFO common.RuleXsl(179) - Out RuleXsl.load()!
21:46:05,054 INFO common.RuleXml(198) - Into RuleXml.load()...
21:46:05,054 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
21:46:05,054 INFO common.XmlConf(62) - conf file modified at (2016-12-02 20:37:53,252) and length=9884 bytes!
21:46:05,070 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
21:46:05,070 INFO common.RuleXml(215) - Out RuleXml.load()!
21:46:05,070 INFO common.RuleParser(49) - Into RuleParser.check()...
21:46:05,070 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
21:46:05,070 INFO common.Log4jPrint(20) - 对邮编进行校验
21:46:05,070 INFO common.Log4jPrint(20) - 对邮编进行校验
21:46:05,070 INFO common.Log4jPrint(20) - 返回的结果是:0
21:46:05,070 INFO common.Log4jPrint(20) - 对邮编进行校验
21:46:05,085 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

21:46:05,085 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
21:46:05,085 INFO common.RuleParser(62) - Out RuleParser.check()!
21:46:05,085 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
21:46:05,085 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
21:46:05,101 INFO common.SaveMessage(66) - 1424_6_0_inSvc.xml IO输出耗时:0.016s
21:46:05,101 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1424_6_0_inSvc.xml
21:46:05,101 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:46:05,101 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
21:46:05,351 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
21:46:11,450 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
21:46:11,450 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
21:46:11,450 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
21:46:11,450 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
21:46:11,450 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
21:46:11,466 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
21:46:11,466 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
21:46:11,466 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
21:46:11,466 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection refused: connect
21:46:11,466 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
21:46:11,466 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
21:46:11,466 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
21:46:11,466 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
21:46:11,466 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
21:46:11,466 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
21:46:11,466 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
21:46:11,466 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
21:46:11,466 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
21:46:11,466 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
21:46:11,466 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
21:46:11,481 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
21:46:11,482 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
21:46:11,482 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
21:46:11,482 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
21:46:11,482 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
21:46:11,482 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
21:46:11,482 INFO common.Log4jPrint(20) - 	... 13 more
21:46:11,482 INFO common.Log4jPrint(20) - -----------------------------------------------
21:46:11,482 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
21:46:11,482 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:228)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:212)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:154)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
21:46:11,545 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:46:11,545 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:46:11,545 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1424,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161206,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=6,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1424_3_1012_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=214604,ModifyDate=20161206,ModifyTime=214611,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1424
21:46:11,560 INFO service.NewContInput(245) - Out NewContInput.service()!
21:46:11,560 INFO format.NewCont(159) - Into NewCont.std2NoStd()...
21:46:11,576 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
21:46:11,576 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
21:46:11,576 INFO common.XslCache(63) - conf file modified at (2016-12-02 20:37:30,701) and length=7048 bytes!
21:46:11,591 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
21:46:11,607 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

21:46:11,607 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
21:46:11,607 INFO format.NewCont(217) - Out NewCont.std2NoStd()!
21:46:11,607 INFO newNet.CcbNetImpl(101) - Into CcbNetImpl.send()...
21:46:11,607 INFO common.SaveMessage(66) - 1424_9_1012_out.xml IO输出耗时:0.0s
21:46:11,607 INFO newNet.CcbNetImpl(189) - 保存报文完毕！1424_9_1012_out.xml
21:46:11,607 INFO newNet.CcbNetImpl(195) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2019</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161206214604258</SYS_RECV_TIME><SYS_RESP_TIME>20161206214611607</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

21:46:11,607 INFO newNet.CcbNetImpl(201) - Out CcbNetImpl.send()!
21:46:11,623 INFO test.NewCCBTestUI(517) - 返回报文长度：2029
21:46:11,623 INFO test.NewCCBTestUI(521) - 客户端接收返回报文完毕！耗时：8.256s
21:46:11,638 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:46:11,638 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1424
21:46:11,675 INFO common.Log4jPrint(20) - -------------------------
21:46:11,675 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
21:46:11,675 INFO common.Log4jPrint(20) - -------------------------
21:46:11,675 INFO common.Log4jPrint(20) - i=1
21:46:11,723 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:46:11,723 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:46:11,723 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1424,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161206,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=6,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='7.589',Bak4=null,Bak5=null,InNoDoc='1424_3_1012_in.xml',MakeDate=20161206,InDoc=null,OutDoc=null,MakeTime=214604,ModifyDate=20161206,ModifyTime=214611,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1424_9_1012_out.xml' where LogNo=1424
21:46:11,739 INFO midplat.Ybt4Socket(170) - 处理总耗时：7.653s
21:46:11,739 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
