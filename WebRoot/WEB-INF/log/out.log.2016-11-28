17:40:43,974 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@47ed081
17:40:45,216 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:40:45,225 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:40:45,226 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:40:46,396 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
17:40:46,398 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:40:46,399 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:40:46,409 INFO common.XmlConf(62) - conf file modified at (2016-11-28 17:39:49,535) and length=23653 bytes!
17:40:46,672 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:40:46,699 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:40:46,700 INFO common.Log4jPrint(20) - End reset System.out!
17:40:46,701 INFO net.SocketConf(27) - Into SocketConf.load()...
17:40:46,702 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:40:46,702 INFO common.XmlConf(62) - conf file modified at (2016-11-28 17:39:49,795) and length=711 bytes!
17:40:46,705 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:40:46,705 INFO net.SocketConf(60) - Out SocketConf.load()!
17:40:46,721 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
17:40:46,721 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:40:46,731 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)??????!
17:40:46,732 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:40:46,731 INFO net.SocketListenerF5$Server(140) - ?????? 35006
17:40:46,737 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)??????!
17:40:46,737 INFO net.SocketListenerF5$Server(140) - ?????? 35008
17:40:46,737 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:40:46,742 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)??????!
17:40:46,742 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:40:46,742 INFO net.SocketListenerF5$Server(140) - ?????? 52004
17:40:46,746 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)??????!
17:40:46,747 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
17:40:46,747 INFO net.SocketListenerF5$Server(140) - ?????? 39871
18:56:57,775 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29de6817
18:56:57,783 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:56:57,787 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:56:57,788 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:56:57,790 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
18:56:57,791 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:56:57,791 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:56:57,795 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,154) and length=23653 bytes!
18:56:57,877 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:56:57,889 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:56:57,891 INFO common.Log4jPrint(20) - End reset System.out!
18:56:57,895 INFO net.SocketConf(27) - Into SocketConf.load()...
18:56:57,896 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:56:57,898 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,157) and length=711 bytes!
18:56:57,902 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:56:57,903 INFO net.SocketConf(60) - Out SocketConf.load()!
18:56:57,922 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
18:56:57,922 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:56:57,932 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
18:56:57,933 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
18:56:57,933 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:56:57,940 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
18:56:57,940 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
18:56:57,941 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:56:57,948 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
18:56:57,948 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
18:56:57,949 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:56:57,963 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
18:56:57,964 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
18:56:57,964 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:03:00,375 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
19:03:00,415 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:03:00,415 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:03:00,415 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,155) and length=14122 bytes!
19:03:00,425 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:03:00,446 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
19:03:00,456 INFO test.NewCCBTestUI(430) - 收到返回报文！
19:03:00,456 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:03:00,466 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:03:00,466 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:03:00,476 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:03:01,201 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:03:01,271 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:03:01,361 INFO midplat.Ybt4Socket(46) - ???????com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:03:01,411 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:03:01,411 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:03:01,421 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:03:01,421 DEBUG newNet.CcbNetImpl(43) - ??????????8879
19:03:01,442 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161127145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

19:03:01,462 INFO newNet.CcbNetImpl(55) - ????н??????==P53819113
19:03:01,462 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:03:01,602 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:03:01,602 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:03:01,612 INFO common.SaveMessage(59) - 806_3_1012_in.xml IO??????:0.01s
19:03:01,612 INFO newNet.CcbNetImpl(68) - ???汨??????806_3_1012_in.xml
19:03:01,612 INFO newNet.CcbNetImpl(91) - ??????????????????
19:03:01,612 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:03:01,622 INFO midplat.Ybt4Socket(117) - ?????????com.sinosoft.midplat.newccb.format.NewCont
19:03:01,646 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:03:01,666 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:03:01,666 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:03:01,666 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:03:02,206 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:03:02,226 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:03:02,226 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:03:02,406 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:03:02,406 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:03:02,426 INFO common.Log4jPrint(20) - ================0133011
19:03:02,426 INFO common.Log4jPrint(20) - ================03
19:03:02,426 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:03:02,426 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:03:02,426 INFO midplat.Ybt4Socket(125) - ???????com.sinosoft.midplat.newccb.service.NewContInput
19:03:02,477 INFO service.NewContInput(43) - Into NewContInput.service()...
19:03:02,477 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:03:02,487 INFO common.Log4jPrint(20) - ?????806
19:03:11,428 INFO common.Log4jPrint(20) - trancom:3
19:03:11,428 INFO common.Log4jPrint(20) - FuncFlag:1012
19:03:11,428 INFO common.Log4jPrint(20) - mHeadEle.getChildText806_3_1012_in.xml
19:03:11,469 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:03:11,469 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 806,3,'13099','demaxiya200164','5201300004',1012,20161127,145205,'210414131200027',-1,-1,'????','127.0.0.1','806_3_1012_in.xml',20161128,190311,20161128,190311,'230803197906010035','????','230803197906010035','011A0100' )
19:03:11,479 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:03:11,489 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161128 and MakeTime>=185951
19:03:11,579 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:03:11,579 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:03:11,579 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
19:03:11,629 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:03:11,629 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:03:11,629 INFO common.RuleXml(198) - Into RuleXml.load()...
19:03:11,629 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:03:11,629 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,156) and length=10207 bytes!
19:03:11,639 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:03:11,639 INFO common.RuleXml(215) - Out RuleXml.load()!
19:03:11,639 INFO common.RuleParser(49) - Into RuleParser.check()...
19:03:11,640 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:03:11,648 INFO common.Log4jPrint(20) - ????????У??
19:03:11,658 INFO common.Log4jPrint(20) - ????????У??
19:03:11,658 INFO common.Log4jPrint(20) - ?????????:0
19:03:11,658 INFO common.Log4jPrint(20) - ????????У??
19:03:11,668 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

19:03:11,668 ERROR service.NewContInput(217) - 实时投保????????
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:103)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:03:11,718 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:03:11,718 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:03:11,718 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=806,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=9,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='806_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=190311,ModifyDate=20161128,ModifyTime=190311,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=806
19:03:11,738 INFO service.NewContInput(237) - Out NewContInput.service()!
19:03:11,738 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
19:03:11,768 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:03:11,768 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
19:03:11,768 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
19:03:11,788 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
19:03:11,808 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:03:11,808 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:03:11,808 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
19:03:11,808 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:03:11,818 INFO common.SaveMessage(59) - 806_6_1012_out.xml IO??????:0.0s
19:03:11,818 INFO newNet.CcbNetImpl(178) - ???汨??????806_6_1012_out.xml
19:03:11,818 INFO newNet.CcbNetImpl(181) - ????????е?????<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2046</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128190301646</SYS_RECV_TIME><SYS_RESP_TIME>20161128190311808</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

19:03:11,818 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
19:03:11,818 INFO test.NewCCBTestUI(444) - 返回报文长度：2042
19:03:11,828 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：11.413s
19:03:11,848 ERROR common.JdomUtil(80) - xml??????????????
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
19:03:11,870 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:03:11,870 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=806
19:03:11,890 INFO common.Log4jPrint(20) - -------------------------
19:03:11,890 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:03:11,890 INFO common.Log4jPrint(20) - -------------------------
19:03:11,900 INFO common.Log4jPrint(20) - i=1
19:03:11,990 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:03:11,990 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:03:11,990 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=806,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=9,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='10.489',Bak4=null,Bak5=null,InNoDoc='806_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=190311,ModifyDate=20161128,ModifyTime=190311,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='806_6_1012_out.xml' where LogNo=806
19:03:12,070 INFO midplat.Ybt4Socket(170) - ??????????10.659s
19:03:12,070 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:13:08,267 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29de6817
19:13:08,277 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:13:08,287 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:13:08,288 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:13:08,288 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:13:08,288 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:13:08,288 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:13:08,288 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,154) and length=23653 bytes!
19:13:08,358 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:13:08,368 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:13:08,368 INFO common.Log4jPrint(20) - End reset System.out!
19:13:08,368 INFO net.SocketConf(27) - Into SocketConf.load()...
19:13:08,368 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:13:08,368 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,157) and length=711 bytes!
19:13:08,368 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:13:08,368 INFO net.SocketConf(60) - Out SocketConf.load()!
19:13:08,388 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:13:08,388 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:13:08,398 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:13:08,398 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:13:08,398 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:13:08,408 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:13:08,408 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:13:08,408 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:13:08,408 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:13:08,408 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:13:08,418 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:13:08,418 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:13:08,418 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:13:08,418 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:13:12,551 ERROR common.JdomUtil(80) - xml??????????????
org.jdom.input.JDOMParseException: Error on line 4: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:150)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:150)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:150)
19:13:12,611 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
19:13:12,631 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:13:12,631 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:13:12,631 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,155) and length=14122 bytes!
19:13:12,641 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:13:12,672 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:13:12,672 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:13:12,672 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:13:12,682 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:13:13,202 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:13:13,282 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:13:13,352 INFO midplat.Ybt4Socket(46) - ???????com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:13:13,372 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:13:13,372 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:13:13,372 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:13:13,422 ERROR midplat.Ybt4Socket(140) - ??????????????
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:75)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
19:13:13,442 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:13:13,442 INFO common.Log4jPrint(20) - ==================send====
19:13:13,442 ERROR midplat.Ybt4Socket(148) - ????????????!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
19:13:13,502 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:13:13,502 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=812
19:13:13,562 INFO common.Log4jPrint(20) - i=0
19:13:13,562 ERROR midplat.Ybt4Socket(157) - ???Tranlog????!
19:13:13,562 INFO midplat.Ybt4Socket(170) - ??????????0.19s
19:13:13,562 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:13:38,196 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4883d37a
19:13:38,206 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:13:38,206 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:13:38,206 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:13:38,206 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:13:38,206 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:13:38,206 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:13:38,217 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,154) and length=23653 bytes!
19:13:38,287 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:13:38,297 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:13:38,297 INFO common.Log4jPrint(20) - End reset System.out!
19:13:38,307 INFO net.SocketConf(27) - Into SocketConf.load()...
19:13:38,307 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:13:38,307 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,157) and length=711 bytes!
19:13:38,307 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:13:38,307 INFO net.SocketConf(60) - Out SocketConf.load()!
19:13:38,327 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:13:38,327 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:13:38,347 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:13:38,347 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:13:38,347 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:13:38,347 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:13:38,347 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:13:38,347 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:13:38,357 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:13:38,357 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:13:38,357 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:13:38,367 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:13:38,367 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:13:38,367 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:13:46,256 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
19:13:46,266 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:13:46,266 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:13:46,266 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,155) and length=14122 bytes!
19:13:46,276 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:13:46,276 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
19:13:46,286 INFO test.NewCCBTestUI(430) - 收到返回报文！
19:13:46,306 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:13:46,307 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:13:46,307 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:13:46,317 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:13:46,830 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:13:46,960 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:13:47,050 INFO midplat.Ybt4Socket(46) - ???????com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:13:47,070 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:13:47,070 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:13:47,070 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:13:47,080 DEBUG newNet.CcbNetImpl(43) - ??????????8879
19:13:47,090 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

19:13:47,130 INFO newNet.CcbNetImpl(55) - ????н??????==P53819113
19:13:47,130 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:13:47,250 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:13:47,250 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:13:47,250 INFO common.SaveMessage(59) - 812_3_1012_in.xml IO??????:0.0s
19:13:47,260 INFO newNet.CcbNetImpl(68) - ???汨??????812_3_1012_in.xml
19:13:47,260 INFO newNet.CcbNetImpl(91) - ??????????????????
19:13:47,260 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:13:47,260 INFO midplat.Ybt4Socket(117) - ?????????com.sinosoft.midplat.newccb.format.NewCont
19:13:47,270 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:13:47,280 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:13:47,280 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:13:47,280 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:13:47,581 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:13:47,601 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:13:47,601 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:13:47,766 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:13:47,766 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:13:47,776 INFO common.Log4jPrint(20) - ================0133011
19:13:47,776 INFO common.Log4jPrint(20) - ================03
19:13:47,776 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:13:47,776 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:13:47,776 INFO midplat.Ybt4Socket(125) - ???????com.sinosoft.midplat.newccb.service.NewContInput
19:13:47,786 INFO service.NewContInput(43) - Into NewContInput.service()...
19:13:47,786 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:13:47,796 INFO common.Log4jPrint(20) - ?????812
19:13:47,796 INFO common.Log4jPrint(20) - trancom:3
19:13:47,796 INFO common.Log4jPrint(20) - FuncFlag:1012
19:13:47,796 INFO common.Log4jPrint(20) - mHeadEle.getChildText812_3_1012_in.xml
19:13:47,836 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:13:47,836 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 812,3,'13099','demaxiya200164','5201300004',1012,20161128,145205,'210414131200027',-1,-1,'????','127.0.0.1','812_3_1012_in.xml',20161128,191347,20161128,191347,'230803197906010035','????','230803197906010035','011A0100' )
19:13:47,856 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:13:47,856 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161128 and MakeTime>=191027
19:13:47,986 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:13:47,986 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:13:47,986 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
19:13:48,036 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:13:48,046 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:13:48,046 INFO common.RuleXml(198) - Into RuleXml.load()...
19:13:48,046 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:13:48,046 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,156) and length=10207 bytes!
19:13:48,046 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:13:48,046 INFO common.RuleXml(215) - Out RuleXml.load()!
19:13:48,046 INFO common.RuleParser(49) - Into RuleParser.check()...
19:13:48,046 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:13:48,056 INFO common.Log4jPrint(20) - ????????У??
19:13:48,056 INFO common.Log4jPrint(20) - ????????У??
19:13:48,056 INFO common.Log4jPrint(20) - ?????????:0
19:13:48,056 INFO common.Log4jPrint(20) - ????????У??
19:13:48,066 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:13:48,066 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:13:48,066 INFO common.RuleParser(62) - Out RuleParser.check()!
19:13:48,066 INFO service.NewContInput(106) - ------???????????У??20140807------
19:13:48,076 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:13:48,076 INFO common.SaveMessage(59) - 812_6_0_inSvc.xml IO??????:0.0s
19:13:48,076 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！812_6_0_inSvc.xml
19:13:48,076 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:13:48,076 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:13:48,998 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:13:50,998 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
19:13:51,079 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
19:13:51,079 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
19:13:51,089 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
19:13:51,089 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
19:13:51,089 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
19:13:51,089 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMTI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTQ1MjA1PC9UcmFuVGltZT48Tm9kZU5vPjEzMDk5PC9Ob2RlTm8+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxUZWxsZXJObz41MjAxMzAwMDA0PC9UZWxsZXJObz48VHJhbk5vPmRlbWF4aXlhMjAwMTY0PC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MDM8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMTI8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz44MTJfM18xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MjEwNDE0MTMxMjAwMDI3PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTI4PC9Qb2xBcHBseURhdGU+PEFjY05vPjQzNjc0NjYwMTM2NTAyMDk5NDc8L0FjY05vPjxBY2NOYW1lPj8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjk1OTIwMTUwPC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MDAyMDEwMTIxMTAwMDAwNTg0Mjk8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTc5MDYwMTwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MjMwODAzMTk3OTA2MDEwMDM1PC9JRE5vPjxJZEV4cERhdGU+MjAxNzA5Mjg8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+MDg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA4NjwvWmlwQ29kZT48UGhvbmU+MDEwMjM0NTY3ODwvUGhvbmU+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbD5qaWFuZ2d1YW5xdW4wNjI1QDE2My5jb208L0VtYWlsPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MTIuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4zMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAxPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDExPC9SZWxhVG9Jbn"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(84) - >> "N1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3OTA2MDE8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDgwMzE5NzkwNjAxMDAzNTwvSURObz48SWRFeHBEYXRlIC8+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3M+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzcz48WmlwQ29kZT4xMDAwODY8L1ppcENvZGU+PFBob25lIC8+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbSAvPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wNDwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE2MDkxMjwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxCbmY+PFR5cGU+MTwvVHlwZT48QmVuZlNOPjE8L0JlbmZTTj48R3JhZGU+MTwvR3JhZGU+PE5hbWU+p7M/Pz8/PC9OYW1lPjxTZXg+MTwvU2V4PjxCaXJ0aGRheT4xOTk0MDEwMTwvQmlydGhkYXk+PElEVHlwZT44PC9JRFR5cGU+PElETm8+MDAwMDAwMTExPC9JRE5vPjxJZEV4cERhdGUgLz48TmF0aW9uYWxpdHkgLz48UmVsYVRvSW5zdXJlZD4wMjwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDM+MDEzMzAxMDwvUmVsYVRvSW5zdXJlZDM+PExvdD4xMDA8L0xvdD48QWRkcmVzc0NvbnRlbnQgLz48QmVuZkNvbW1BZHIgLz48QmVuZWZpY1R5cGU+TjwvQmVuZWZpY1R5cGU+PC9CbmY+PEJuZj48VHlwZT4xPC9UeXBlPjxCZW5mU04+MjwvQmVuZlNOPjxHcmFkZT4yPC9HcmFkZT48TmFtZT6nsz8/Pz88L05hbWU+PFNleD4xPC9TZXg+PEJpcnRoZGF5PjE5OTUwMTAxPC9CaXJ0aGRheT48SURUeXBlPjg8L0lEVHlwZT48SURObz4wMDAwMDAxMTE8L0lETm8+PElkRXhwRGF0ZSAvPjxOYXRpb25hbGl0eSAvPjxSZWxhVG9JbnN1cmVkPjAyPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMz4wMTMzMDEwPC9SZWxhVG9JbnN1cmVkMz48TG90PjEwMDwvTG90PjxBZGRyZXNzQ29udGVudCAvPjxCZW5mQ29tbUFkciAvPjxCZW5lZmljVHlwZT5OPC9CZW5lZmljVHlwZT48L0JuZj48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Pz8/Pz88L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xOTkwMDAwMDwvUHJlbT48TXVsdD4xOTk8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYX"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "175[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(84) - >> "JGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnPjE8L0F1dG9QYXlGbGFnPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(84) - >> "0"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:13:51,129 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:13:53,548 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:13:53,548 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:13:53,558 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
19:13:53,558 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
19:13:53,558 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
19:13:53,558 DEBUG httpclient.Wire(70) - << "Date: Mon, 28 Nov 2016 11:13:51 GMT[\r][\n]"
19:13:53,558 DEBUG httpclient.Wire(70) - << "[\r][\n]"
19:13:53,629 DEBUG httpclient.Wire(84) - << "1"
19:13:53,629 DEBUG httpclient.Wire(84) - << "e"
19:13:53,629 DEBUG httpclient.Wire(84) - << "7"
19:13:53,629 DEBUG httpclient.Wire(84) - << "[\r]"
19:13:53,629 DEBUG httpclient.Wire(70) - << "[\n]"
19:13:53,629 DEBUG httpclient.Wire(84) - << "<?xm"
19:13:53,639 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
19:13:53,639 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+t8e1scjVs7e1pbXEsaO1paOssrvE3NbY0MLNtrGjo6E8L0Rlc2M+DQogIDwvSGVhZD4NCjwvVHJhbkRhdGE+DQoNCg==</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
19:13:53,649 INFO net.CallWebsvcAtomSvc(109) - 投保单号210414131200027录单核保(service)耗时：5.573s
19:13:53,649 INFO common.SaveMessage(59) - 812_9_0_outSvc.xml IO??????:0.0s
19:13:53,649 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！812_9_0_outSvc.xml
19:13:53,649 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
19:13:53,649 INFO common.Log4jPrint(20) - -----------------------------------------------
19:13:53,649 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:13:53,659 INFO service.NewContInput(132) - ?????????????16
19:13:53,661 ERROR service.NewContInput(217) - 实时投保????????
com.sinosoft.midplat.exception.MidplatException: 非当日撤单的保单，不能重新投保！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:13:53,688 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:13:53,688 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:13:53,688 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=812,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=5,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='812_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=191347,ModifyDate=20161128,ModifyTime=191353,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=812
19:13:53,698 INFO service.NewContInput(237) - Out NewContInput.service()!
19:13:53,698 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
19:13:53,708 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:13:53,708 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
19:13:53,708 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
19:13:53,718 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
19:13:53,718 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:13:53,728 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:13:53,728 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
19:13:53,728 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:13:53,728 INFO common.SaveMessage(59) - 812_12_1012_out.xml IO??????:0.0s
19:13:53,728 INFO newNet.CcbNetImpl(178) - ???汨??????812_12_1012_out.xml
19:13:53,728 INFO newNet.CcbNetImpl(181) - ????????е?????<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>841</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2068</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128191347270</SYS_RECV_TIME><SYS_RESP_TIME>20161128191353728</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>16</SYS_RESP_DESC_LEN><SYS_RESP_DESC>褰ユゅ淇锛涓介版淇锛</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

19:13:53,738 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
19:13:53,738 INFO test.NewCCBTestUI(444) - 返回报文长度：2054
19:13:53,738 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：7.472s
19:13:53,815 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:13:53,815 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=812
19:13:53,835 INFO common.Log4jPrint(20) - -------------------------
19:13:53,835 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:13:53,835 INFO common.Log4jPrint(20) - -------------------------
19:13:53,845 INFO common.Log4jPrint(20) - i=1
19:13:53,875 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:13:53,875 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:13:53,875 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=812,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日撤单的保单，不能重新投保！',UsedTime=5,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='6.775',Bak4=null,Bak5=null,InNoDoc='812_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=191347,ModifyDate=20161128,ModifyTime=191353,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='812_12_1012_out.xml' where LogNo=812
19:13:53,905 INFO midplat.Ybt4Socket(170) - ??????????6.835s
19:13:53,905 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:20:23,628 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
19:20:23,638 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:20:23,638 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:20:23,638 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:20:23,638 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:20:23,638 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:20:23,648 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:20:23,649 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,154) and length=23653 bytes!
19:20:23,722 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:20:23,732 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:20:23,732 INFO common.Log4jPrint(20) - End reset System.out!
19:20:23,742 INFO net.SocketConf(27) - Into SocketConf.load()...
19:20:23,742 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:20:23,742 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,157) and length=711 bytes!
19:20:23,742 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:20:23,742 INFO net.SocketConf(60) - Out SocketConf.load()!
19:20:23,762 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:20:23,762 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:20:23,772 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:20:23,772 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:20:23,772 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:20:23,772 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:20:23,772 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:20:23,782 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:20:23,782 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:20:23,782 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:20:23,782 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:20:23,792 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:20:23,792 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:20:23,792 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:20:38,900 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
19:20:38,910 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:20:38,910 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:20:38,910 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,155) and length=14122 bytes!
19:20:38,920 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:20:38,920 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
19:20:38,920 INFO test.NewCCBTestUI(430) - 收到返回报文！
19:20:38,941 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:20:38,941 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:20:38,941 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:20:38,951 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:20:39,581 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:20:39,651 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:20:39,721 INFO midplat.Ybt4Socket(46) - ???????com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:20:39,731 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:20:39,731 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:20:39,731 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:20:39,741 DEBUG newNet.CcbNetImpl(43) - ??????????8879
19:20:39,741 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200028</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

19:20:39,771 INFO newNet.CcbNetImpl(55) - ????н??????==P53819113
19:20:39,771 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:20:39,901 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:20:39,901 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:20:39,911 INFO common.SaveMessage(59) - 818_3_1012_in.xml IO??????:0.01s
19:20:39,911 INFO newNet.CcbNetImpl(68) - ???汨??????818_3_1012_in.xml
19:20:39,921 INFO newNet.CcbNetImpl(91) - ??????????????????
19:20:39,921 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:20:39,921 INFO midplat.Ybt4Socket(117) - ?????????com.sinosoft.midplat.newccb.format.NewCont
19:20:39,932 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:20:39,942 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:20:39,942 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:20:39,942 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:20:40,243 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:20:40,263 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:20:40,263 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:20:40,423 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:20:40,423 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:20:40,443 INFO common.Log4jPrint(20) - ================0133011
19:20:40,443 INFO common.Log4jPrint(20) - ================03
19:20:40,443 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:20:40,443 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:20:40,443 INFO midplat.Ybt4Socket(125) - ???????com.sinosoft.midplat.newccb.service.NewContInput
19:20:40,453 INFO service.NewContInput(43) - Into NewContInput.service()...
19:20:40,453 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:20:40,463 INFO common.Log4jPrint(20) - ?????818
19:20:40,463 INFO common.Log4jPrint(20) - trancom:3
19:20:40,463 INFO common.Log4jPrint(20) - FuncFlag:1012
19:20:40,463 INFO common.Log4jPrint(20) - mHeadEle.getChildText818_3_1012_in.xml
19:20:40,503 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:20:40,503 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 818,3,'13099','demaxiya200164','5201300004',1012,20161128,145205,'210414131200028',-1,-1,'????','127.0.0.1','818_3_1012_in.xml',20161128,192040,20161128,192040,'230803197906010035','????','230803197906010035','011A0100' )
19:20:40,513 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:20:40,513 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200028' and MakeDate>=20161128 and MakeTime>=191720
19:20:40,603 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:20:40,603 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:20:40,603 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
19:20:40,663 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:20:40,663 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:20:40,663 INFO common.RuleXml(198) - Into RuleXml.load()...
19:20:40,663 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:20:40,663 INFO common.XmlConf(62) - conf file modified at (2016-11-28 18:56:52,156) and length=10207 bytes!
19:20:40,673 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:20:40,673 INFO common.RuleXml(215) - Out RuleXml.load()!
19:20:40,673 INFO common.RuleParser(49) - Into RuleParser.check()...
19:20:40,673 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:20:40,683 INFO common.Log4jPrint(20) - ????????У??
19:20:40,683 INFO common.Log4jPrint(20) - ????????У??
19:20:40,683 INFO common.Log4jPrint(20) - ?????????:0
19:20:40,683 INFO common.Log4jPrint(20) - ????????У??
19:20:40,683 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:20:40,683 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:20:40,683 INFO common.RuleParser(62) - Out RuleParser.check()!
19:20:40,693 INFO service.NewContInput(106) - ------???????????У??20140807------
19:20:40,703 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:20:40,703 INFO common.SaveMessage(59) - 818_6_0_inSvc.xml IO??????:0.0s
19:20:40,703 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！818_6_0_inSvc.xml
19:20:40,703 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:20:40,703 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:20:40,953 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:20:41,554 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
19:20:41,604 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
19:20:41,604 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
19:20:41,604 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
19:20:41,604 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
19:20:41,604 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
19:20:41,604 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMTI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTQ1MjA1PC9UcmFuVGltZT48Tm9kZU5vPjEzMDk5PC9Ob2RlTm8+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxUZWxsZXJObz41MjAxMzAwMDA0PC9UZWxsZXJObz48VHJhbk5vPmRlbWF4aXlhMjAwMTY0PC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MDM8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMTI8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz44MThfM18xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MjEwNDE0MTMxMjAwMDI4PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTI4PC9Qb2xBcHBseURhdGU+PEFjY05vPjQzNjc0NjYwMTM2NTAyMDk5NDc8L0FjY05vPjxBY2NOYW1lPj8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjk1OTIwMTUwPC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MDAyMDEwMTIxMTAwMDAwNTg0Mjk8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTc5MDYwMTwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MjMwODAzMTk3OTA2MDEwMDM1PC9JRE5vPjxJZEV4cERhdGU+MjAxNzA5Mjg8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+MDg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA4NjwvWmlwQ29kZT48UGhvbmU+MDEwMjM0NTY3ODwvUGhvbmU+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbD5qaWFuZ2d1YW5xdW4wNjI1QDE2My5jb208L0VtYWlsPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MTIuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4zMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAxPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDExPC9SZWxhVG9Jbn"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(84) - >> "N1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3OTA2MDE8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDgwMzE5NzkwNjAxMDAzNTwvSURObz48SWRFeHBEYXRlIC8+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3M+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzcz48WmlwQ29kZT4xMDAwODY8L1ppcENvZGU+PFBob25lIC8+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbSAvPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wNDwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE2MDkxMjwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxCbmY+PFR5cGU+MTwvVHlwZT48QmVuZlNOPjE8L0JlbmZTTj48R3JhZGU+MTwvR3JhZGU+PE5hbWU+p7M/Pz8/PC9OYW1lPjxTZXg+MTwvU2V4PjxCaXJ0aGRheT4xOTk0MDEwMTwvQmlydGhkYXk+PElEVHlwZT44PC9JRFR5cGU+PElETm8+MDAwMDAwMTExPC9JRE5vPjxJZEV4cERhdGUgLz48TmF0aW9uYWxpdHkgLz48UmVsYVRvSW5zdXJlZD4wMjwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDM+MDEzMzAxMDwvUmVsYVRvSW5zdXJlZDM+PExvdD4xMDA8L0xvdD48QWRkcmVzc0NvbnRlbnQgLz48QmVuZkNvbW1BZHIgLz48QmVuZWZpY1R5cGU+TjwvQmVuZWZpY1R5cGU+PC9CbmY+PEJuZj48VHlwZT4xPC9UeXBlPjxCZW5mU04+MjwvQmVuZlNOPjxHcmFkZT4yPC9HcmFkZT48TmFtZT6nsz8/Pz88L05hbWU+PFNleD4xPC9TZXg+PEJpcnRoZGF5PjE5OTUwMTAxPC9CaXJ0aGRheT48SURUeXBlPjg8L0lEVHlwZT48SURObz4wMDAwMDAxMTE8L0lETm8+PElkRXhwRGF0ZSAvPjxOYXRpb25hbGl0eSAvPjxSZWxhVG9JbnN1cmVkPjAyPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMz4wMTMzMDEwPC9SZWxhVG9JbnN1cmVkMz48TG90PjEwMDwvTG90PjxBZGRyZXNzQ29udGVudCAvPjxCZW5mQ29tbUFkciAvPjxCZW5lZmljVHlwZT5OPC9CZW5lZmljVHlwZT48L0JuZj48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Pz8/Pz88L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xOTkwMDAwMDwvUHJlbT48TXVsdD4xOTk8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYX"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "175[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(84) - >> "JGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnPjE8L0F1dG9QYXlGbGFnPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(84) - >> "0"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:20:41,634 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:20:43,297 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:20:43,297 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:20:43,297 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
19:20:43,297 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
19:20:43,297 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
19:20:43,307 DEBUG httpclient.Wire(70) - << "Date: Fri, 30 Dec 2016 11:20:39 GMT[\r][\n]"
19:20:43,307 DEBUG httpclient.Wire(70) - << "[\r][\n]"
19:20:43,338 DEBUG httpclient.Wire(84) - << "1"
19:20:43,338 DEBUG httpclient.Wire(84) - << "e"
19:20:43,338 DEBUG httpclient.Wire(84) - << "b"
19:20:43,338 DEBUG httpclient.Wire(84) - << "[\r]"
19:20:43,338 DEBUG httpclient.Wire(70) - << "[\n]"
19:20:43,338 DEBUG httpclient.Wire(84) - << "<?xm"
19:20:43,348 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
19:20:43,368 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
19:20:43,368 INFO net.CallWebsvcAtomSvc(109) - 投保单号210414131200028录单核保(service)耗时：2.665s
19:20:43,368 INFO common.SaveMessage(59) - 818_9_0_outSvc.xml IO??????:0.0s
19:20:43,368 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！818_9_0_outSvc.xml
19:20:43,368 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
19:20:43,368 INFO common.Log4jPrint(20) - -----------------------------------------------
19:20:43,368 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:20:43,368 INFO service.NewContInput(132) - ?????????????19
19:20:43,378 ERROR service.NewContInput(217) - 实时投保????????
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:20:43,478 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:20:43,478 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:20:43,478 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=818,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='818_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=192040,ModifyDate=20161128,ModifyTime=192043,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=818
19:20:43,498 INFO service.NewContInput(237) - Out NewContInput.service()!
19:20:43,498 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
19:20:43,498 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:20:43,498 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
19:20:43,498 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
19:20:43,508 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
19:20:43,518 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:20:43,518 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:20:43,518 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
19:20:43,518 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:20:43,518 INFO common.SaveMessage(59) - 818_12_1012_out.xml IO??????:0.0s
19:20:43,528 INFO newNet.CcbNetImpl(178) - ???汨??????818_12_1012_out.xml
19:20:43,528 INFO newNet.CcbNetImpl(181) - ????????е?????<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>846</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2073</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128192039932</SYS_RECV_TIME><SYS_RESP_TIME>20161128192043518</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

19:20:43,528 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
19:20:43,528 INFO test.NewCCBTestUI(444) - 返回报文长度：2057
19:20:43,528 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：4.618s
19:20:43,538 ERROR common.JdomUtil(80) - xml??????????????
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
19:20:43,570 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:20:43,570 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=818
19:20:43,630 INFO common.Log4jPrint(20) - -------------------------
19:20:43,630 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:20:43,630 INFO common.Log4jPrint(20) - -------------------------
19:20:43,640 INFO common.Log4jPrint(20) - i=1
19:20:43,678 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:20:43,678 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:20:43,678 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=818,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='3.909',Bak4=null,Bak5=null,InNoDoc='818_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=192040,ModifyDate=20161128,ModifyTime=192043,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='818_12_1012_out.xml' where LogNo=818
19:20:43,688 INFO midplat.Ybt4Socket(170) - ??????????3.957s
19:20:43,688 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:50:53,887 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4145b02f
19:50:53,897 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:50:53,907 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:50:53,907 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:50:53,907 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:50:53,907 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:50:53,907 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:50:53,907 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,407) and length=23653 bytes!
19:50:53,987 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:50:54,007 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:50:54,007 INFO common.Log4jPrint(20) - End reset System.out!
19:50:54,007 INFO net.SocketConf(27) - Into SocketConf.load()...
19:50:54,007 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:50:54,007 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,410) and length=711 bytes!
19:50:54,017 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:50:54,027 INFO net.SocketConf(60) - Out SocketConf.load()!
19:50:54,038 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:50:54,038 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:50:54,048 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:50:54,048 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:50:54,048 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:50:54,058 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:50:54,058 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:50:54,058 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:50:54,068 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:50:54,068 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:50:54,068 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:50:54,078 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:50:54,078 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:50:54,078 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:50:59,939 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
19:50:59,949 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:50:59,949 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:50:59,949 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=14122 bytes!
19:50:59,959 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:50:59,959 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
19:50:59,969 INFO test.NewCCBTestUI(430) - 收到返回报文！
19:50:59,989 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:50:59,990 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:50:59,992 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:50:59,992 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:51:00,602 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:51:00,712 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:51:00,782 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:51:00,782 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:51:00,782 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:51:00,782 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:51:00,792 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
19:51:00,792 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200028</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

19:51:00,812 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
19:51:00,812 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:51:00,932 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:51:00,932 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:51:00,942 INFO common.SaveMessage(59) - 824_3_1012_in.xml IO输出耗时:0.01s
19:51:00,942 INFO newNet.CcbNetImpl(68) - 保存报文完毕！824_3_1012_in.xml
19:51:00,942 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
19:51:00,942 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:51:00,952 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
19:51:00,952 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:51:00,962 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:51:00,962 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:51:00,962 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:51:01,263 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:51:01,283 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:51:01,283 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:51:01,443 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:51:01,443 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:51:01,453 INFO common.Log4jPrint(20) - ================0133011
19:51:01,453 INFO common.Log4jPrint(20) - ================03
19:51:01,453 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:51:01,453 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:51:01,453 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
19:51:01,463 INFO service.NewContInput(43) - Into NewContInput.service()...
19:51:01,463 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:51:01,473 INFO common.Log4jPrint(20) - 进程名：824
19:51:01,473 INFO common.Log4jPrint(20) - trancom:3
19:51:01,473 INFO common.Log4jPrint(20) - FuncFlag:1012
19:51:01,473 INFO common.Log4jPrint(20) - mHeadEle.getChildText824_3_1012_in.xml
19:51:01,533 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:51:01,543 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 824,3,'13099','demaxiya200164','5201300004',1012,20161128,145205,'210414131200028',-1,-1,'????','127.0.0.1','824_3_1012_in.xml',20161128,195101,20161128,195101,'230803197906010035','????','230803197906010035','011A0100' )
19:51:01,553 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:51:01,563 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200028' and MakeDate>=20161128 and MakeTime>=194741
19:51:01,643 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:51:01,643 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:51:01,643 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
19:51:01,693 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:51:01,693 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:51:01,693 INFO common.RuleXml(198) - Into RuleXml.load()...
19:51:01,693 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:51:01,693 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=10207 bytes!
19:51:01,693 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:51:01,693 INFO common.RuleXml(215) - Out RuleXml.load()!
19:51:01,693 INFO common.RuleParser(49) - Into RuleParser.check()...
19:51:01,693 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:51:01,703 INFO common.Log4jPrint(20) - 对邮编进行校验
19:51:01,703 INFO common.Log4jPrint(20) - 对邮编进行校验
19:51:01,703 INFO common.Log4jPrint(20) - 返回的结果是:0
19:51:01,703 INFO common.Log4jPrint(20) - 对邮编进行校验
19:51:01,713 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:51:01,713 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:51:01,713 INFO common.RuleParser(62) - Out RuleParser.check()!
19:51:01,713 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
19:51:01,723 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:51:01,733 INFO common.SaveMessage(59) - 824_6_0_inSvc.xml IO输出耗时:0.01s
19:51:01,733 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！824_6_0_inSvc.xml
19:51:01,733 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:51:01,733 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:51:01,973 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:51:02,424 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
19:51:02,444 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
19:51:02,444 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
19:51:02,444 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
19:51:02,444 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
19:51:02,444 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
19:51:02,444 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:51:02,464 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:51:02,474 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMTI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTQ1MjA1PC9UcmFuVGltZT48Tm9kZU5vPjEzMDk5PC9Ob2RlTm8+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxUZWxsZXJObz41MjAxMzAwMDA0PC9UZWxsZXJObz48VHJhbk5vPmRlbWF4aXlhMjAwMTY0PC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MDM8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMTI8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz44MjRfM18xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MjEwNDE0MTMxMjAwMDI4PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTI4PC9Qb2xBcHBseURhdGU+PEFjY05vPjQzNjc0NjYwMTM2NTAyMDk5NDc8L0FjY05vPjxBY2NOYW1lPj8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjk1OTIwMTUwPC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MDAyMDEwMTIxMTAwMDAwNTg0Mjk8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTc5MDYwMTwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MjMwODAzMTk3OTA2MDEwMDM1PC9JRE5vPjxJZEV4cERhdGU+MjAxNzA5Mjg8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+MDg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA4NjwvWmlwQ29kZT48UGhvbmU+MDEwMjM0NTY3ODwvUGhvbmU+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbD5qaWFuZ2d1YW5xdW4wNjI1QDE2My5jb208L0VtYWlsPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MTIuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4zMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAxPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDExPC9SZWxhVG9Jbn"
19:51:02,474 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:51:02,474 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
19:51:02,474 DEBUG httpclient.Wire(84) - >> "N1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3OTA2MDE8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDgwMzE5NzkwNjAxMDAzNTwvSURObz48SWRFeHBEYXRlIC8+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3M+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzcz48WmlwQ29kZT4xMDAwODY8L1ppcENvZGU+PFBob25lIC8+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbSAvPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wNDwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE2MDkxMjwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxCbmY+PFR5cGU+MTwvVHlwZT48QmVuZlNOPjE8L0JlbmZTTj48R3JhZGU+MTwvR3JhZGU+PE5hbWU+p7M/Pz8/PC9OYW1lPjxTZXg+MTwvU2V4PjxCaXJ0aGRheT4xOTk0MDEwMTwvQmlydGhkYXk+PElEVHlwZT44PC9JRFR5cGU+PElETm8+MDAwMDAwMTExPC9JRE5vPjxJZEV4cERhdGUgLz48TmF0aW9uYWxpdHkgLz48UmVsYVRvSW5zdXJlZD4wMjwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDM+MDEzMzAxMDwvUmVsYVRvSW5zdXJlZDM+PExvdD4xMDA8L0xvdD48QWRkcmVzc0NvbnRlbnQgLz48QmVuZkNvbW1BZHIgLz48QmVuZWZpY1R5cGU+TjwvQmVuZWZpY1R5cGU+PC9CbmY+PEJuZj48VHlwZT4xPC9UeXBlPjxCZW5mU04+MjwvQmVuZlNOPjxHcmFkZT4yPC9HcmFkZT48TmFtZT6nsz8/Pz88L05hbWU+PFNleD4xPC9TZXg+PEJpcnRoZGF5PjE5OTUwMTAxPC9CaXJ0aGRheT48SURUeXBlPjg8L0lEVHlwZT48SURObz4wMDAwMDAxMTE8L0lETm8+PElkRXhwRGF0ZSAvPjxOYXRpb25hbGl0eSAvPjxSZWxhVG9JbnN1cmVkPjAyPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMz4wMTMzMDEwPC9SZWxhVG9JbnN1cmVkMz48TG90PjEwMDwvTG90PjxBZGRyZXNzQ29udGVudCAvPjxCZW5mQ29tbUFkciAvPjxCZW5lZmljVHlwZT5OPC9CZW5lZmljVHlwZT48L0JuZj48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Pz8/Pz88L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xOTkwMDAwMDwvUHJlbT48TXVsdD4xOTk8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYX"
19:51:02,474 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:51:02,474 DEBUG httpclient.Wire(70) - >> "175[\r][\n]"
19:51:02,474 DEBUG httpclient.Wire(84) - >> "JGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnPjE8L0F1dG9QYXlGbGFnPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
19:51:02,474 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:51:02,474 DEBUG httpclient.Wire(84) - >> "0"
19:51:02,474 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:51:02,474 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
19:51:04,024 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:51:04,024 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
19:51:04,024 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
19:51:04,024 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
19:51:04,034 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
19:51:04,034 DEBUG httpclient.Wire(70) - << "Date: Fri, 30 Dec 2016 11:51:00 GMT[\r][\n]"
19:51:04,034 DEBUG httpclient.Wire(70) - << "[\r][\n]"
19:51:04,065 DEBUG httpclient.Wire(84) - << "1"
19:51:04,065 DEBUG httpclient.Wire(84) - << "e"
19:51:04,065 DEBUG httpclient.Wire(84) - << "b"
19:51:04,065 DEBUG httpclient.Wire(84) - << "[\r]"
19:51:04,065 DEBUG httpclient.Wire(70) - << "[\n]"
19:51:04,065 DEBUG httpclient.Wire(84) - << "<?xm"
19:51:04,075 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
19:51:04,085 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
19:51:04,095 INFO net.CallWebsvcAtomSvc(109) - 投保单号210414131200028录单核保(service)耗时：2.362s
19:51:04,095 INFO common.SaveMessage(59) - 824_9_0_outSvc.xml IO输出耗时:0.0s
19:51:04,095 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！824_9_0_outSvc.xml
19:51:04,095 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
19:51:04,095 INFO common.Log4jPrint(20) - -----------------------------------------------
19:51:04,095 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:51:04,095 INFO service.NewContInput(132) - 错误描述长度：19
19:51:04,095 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:51:04,145 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:51:04,145 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:51:04,145 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=824,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='824_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=195101,ModifyDate=20161128,ModifyTime=195104,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=824
19:51:04,165 INFO service.NewContInput(237) - Out NewContInput.service()!
19:51:04,165 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
19:51:04,185 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:51:04,185 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
19:51:04,185 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
19:51:04,205 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
19:51:04,215 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:51:04,215 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:51:04,215 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
19:51:04,215 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:51:04,225 INFO common.SaveMessage(59) - 824_12_1012_out.xml IO输出耗时:0.0s
19:51:04,225 INFO newNet.CcbNetImpl(178) - 保存报文完毕！824_12_1012_out.xml
19:51:04,225 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>846</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2073</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128195100952</SYS_RECV_TIME><SYS_RESP_TIME>20161128195104215</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

19:51:04,225 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
19:51:04,225 INFO test.NewCCBTestUI(444) - 返回报文长度：2057
19:51:04,225 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：4.276s
19:51:04,245 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
19:51:04,266 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:51:04,266 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=824
19:51:04,287 INFO common.Log4jPrint(20) - -------------------------
19:51:04,287 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:51:04,297 INFO common.Log4jPrint(20) - -------------------------
19:51:04,327 INFO common.Log4jPrint(20) - i=1
19:51:04,347 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:51:04,347 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:51:04,347 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=824,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='3.545',Bak4=null,Bak5=null,InNoDoc='824_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=195101,ModifyDate=20161128,ModifyTime=195104,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='824_12_1012_out.xml' where LogNo=824
19:51:04,367 INFO midplat.Ybt4Socket(170) - 处理总耗时：3.585s
19:51:04,367 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:41:10,023 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
20:41:10,032 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:41:10,036 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:41:10,037 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:41:10,039 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:41:10,040 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:41:10,040 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:41:10,045 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,407) and length=23653 bytes!
20:41:10,118 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:41:10,126 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:41:10,127 INFO common.Log4jPrint(20) - End reset System.out!
20:41:10,129 INFO net.SocketConf(27) - Into SocketConf.load()...
20:41:10,130 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:41:10,131 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,410) and length=711 bytes!
20:41:10,137 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:41:10,138 INFO net.SocketConf(60) - Out SocketConf.load()!
20:41:10,158 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:41:10,159 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:41:10,172 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:41:10,173 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:41:10,173 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:41:10,180 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:41:10,180 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:41:10,180 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:41:10,189 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:41:10,189 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:41:10,190 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:41:10,199 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:41:10,200 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:41:10,199 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:41:15,393 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
20:41:15,404 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:41:15,404 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:41:15,405 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=14122 bytes!
20:41:15,413 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:41:15,414 INFO test.NewCCBTestUI(416) - 请求报文长度：8881
20:41:15,415 INFO test.NewCCBTestUI(430) - 收到返回报文！
20:41:15,437 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:41:15,438 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:41:15,440 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:41:15,446 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:41:15,935 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:41:15,985 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:41:16,045 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:41:16,061 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:41:16,062 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:41:16,064 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:41:16,070 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8881
20:41:16,079 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>10101400000000067</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

20:41:16,109 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:41:16,109 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:41:16,234 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:41:16,234 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:41:16,240 INFO common.SaveMessage(59) - 830_3_1012_in.xml IO输出耗时:0.0060s
20:41:16,240 INFO newNet.CcbNetImpl(68) - 保存报文完毕！830_3_1012_in.xml
20:41:16,243 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:41:16,245 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:41:16,247 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:41:16,253 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
20:41:16,263 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:41:16,263 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:41:16,263 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
20:41:16,579 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:41:16,596 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:41:16,598 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:41:16,763 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:41:16,763 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:41:16,779 INFO common.Log4jPrint(20) - ================0133011
20:41:16,780 INFO common.Log4jPrint(20) - ================03
20:41:16,780 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:41:16,780 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
20:41:16,780 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:41:16,790 INFO service.NewContInput(43) - Into NewContInput.service()...
20:41:16,792 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:41:16,801 INFO common.Log4jPrint(20) - 进程名：830
20:41:16,801 INFO common.Log4jPrint(20) - trancom:3
20:41:16,801 INFO common.Log4jPrint(20) - FuncFlag:1012
20:41:16,802 INFO common.Log4jPrint(20) - mHeadEle.getChildText830_3_1012_in.xml
20:41:16,833 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:41:16,833 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 830,3,'13099','demaxiya200164','5201300004',1012,20161128,145205,'10101400000000067',-1,-1,'????','127.0.0.1','830_3_1012_in.xml',20161128,204116,20161128,204116,'230803197906010035','????','230803197906010035','011A0100' )
20:41:16,851 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:41:16,853 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='10101400000000067' and MakeDate>=20161128 and MakeTime>=203756
20:41:16,958 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:41:16,959 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:41:16,960 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
20:41:17,013 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:41:17,013 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:41:17,014 INFO common.RuleXml(198) - Into RuleXml.load()...
20:41:17,014 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:41:17,014 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=10207 bytes!
20:41:17,019 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:41:17,020 INFO common.RuleXml(215) - Out RuleXml.load()!
20:41:17,020 INFO common.RuleParser(49) - Into RuleParser.check()...
20:41:17,020 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:41:17,028 INFO common.Log4jPrint(20) - 对邮编进行校验
20:41:17,029 INFO common.Log4jPrint(20) - 对邮编进行校验
20:41:17,029 INFO common.Log4jPrint(20) - 返回的结果是:0
20:41:17,031 INFO common.Log4jPrint(20) - 对邮编进行校验
20:41:17,035 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:41:17,035 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:41:17,035 INFO common.RuleParser(62) - Out RuleParser.check()!
20:41:17,035 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
20:41:17,046 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:41:17,077 INFO common.SaveMessage(59) - 830_6_0_inSvc.xml IO输出耗时:0.031s
20:41:17,077 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！830_6_0_inSvc.xml
20:41:17,078 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:41:17,079 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:41:17,383 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:41:18,051 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
20:41:18,092 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
20:41:18,092 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
20:41:18,093 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
20:41:18,093 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
20:41:18,094 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
20:41:18,094 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:41:18,118 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:41:18,119 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMTI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTQ1MjA1PC9UcmFuVGltZT48Tm9kZU5vPjEzMDk5PC9Ob2RlTm8+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxUZWxsZXJObz41MjAxMzAwMDA0PC9UZWxsZXJObz48VHJhbk5vPmRlbWF4aXlhMjAwMTY0PC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MDM8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMTI8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz44MzBfM18xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE0MDAwMDAwMDAwNjc8L1Byb3Bvc2FsUHJ0Tm8+PENvbnRQcnRObyAvPjxQb2xBcHBseURhdGU+MjAxNjExMjg8L1BvbEFwcGx5RGF0ZT48QWNjTm8+NDM2NzQ2NjAxMzY1MDIwOTk0NzwvQWNjTm8+PEFjY05hbWU+Pz8/PzwvQWNjTmFtZT48R2V0UG9sTW9kZT4xPC9HZXRQb2xNb2RlPjxIZWFsdGhOb3RpY2U+TjwvSGVhbHRoTm90aWNlPjxTYWxlTmFtZT4/Pz88L1NhbGVOYW1lPjxTYWxlU3RhZmY+OTU5MjAxNTA8L1NhbGVTdGFmZj48U2FsZUNlcnRObz4wMDIwMTAxMjExMDAwMDA1ODQyOTwvU2FsZUNlcnRObz48THYxQnJObz4xMTAwMDAwMDA8L0x2MUJyTm8+PEFwcG50PjxOYW1lPj8/Pz88L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NzkwNjAxPC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4yMzA4MDMxOTc5MDYwMTAwMzU8L0lETm8+PElkRXhwRGF0ZT4yMDE3MDkyODwvSWRFeHBEYXRlPjxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5PjxBZGRyZXNzQ29udGVudD4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObz4wMTA8L0ZpeFRlbERtc3REc3RjTm8+PE1vYmlsZUl0bERzdGNObz4wODY8L01vYmlsZUl0bERzdGNObz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzPj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3M+PFppcENvZGU+MTAwMDg2PC9aaXBDb2RlPjxQaG9uZT4wMTAyMzQ1Njc4PC9QaG9uZT48TW9iaWxlPjE3MDAwMDAwMTIwPC9Nb2JpbGU+PEVtYWlsPmppYW5nZ3VhbnF1bjA2MjVAMTYzLmNvbTwvRW1haWw+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48WWVhclNhbGFyeT4xMi4wPC9ZZWFyU2FsYXJ5PjxGYW1pbHlZZWFyU2FsYXJ5PjMwLjA8L0ZhbWlseVllYXJTYWxhcnk+PFJlbGFUb0luc3VyZWQ+MDE8L1JlbGFUb0luc3VyZWQ+PFJlbGFUb0luc3VyZWQyPjAxMzMwMTE8L1JlbGFUb0"
20:41:18,120 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:41:18,120 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:41:18,121 DEBUG httpclient.Wire(84) - >> "luc3VyZWQyPjxEZW5UeXBlPjE8L0RlblR5cGU+PC9BcHBudD48SW5zdXJlZD48TmFtZT4/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTc5MDYwMTwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MjMwODAzMTk3OTA2MDEwMDM1PC9JRE5vPjxJZEV4cERhdGUgLz48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8gLz48TW9iaWxlSXRsRHN0Y05vIC8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA4NjwvWmlwQ29kZT48UGhvbmUgLz48TW9iaWxlPjE3MDAwMDAwMTIwPC9Nb2JpbGU+PEVtYWlsIC8+PEpvYkNvZGU+MzAxMDEwMTwvSm9iQ29kZT48UmNnbllySW5jbUFtIC8+PENvdlN1bUFtdD4wPC9Db3ZTdW1BbXQ+PFJpc2tBc3Nlc3NtZW50UmVzdWx0PjA0PC9SaXNrQXNzZXNzbWVudFJlc3VsdD48Umlza0Fzc2Vzc21lbnRFbmREYXRlPjIwMTYwOTEyPC9SaXNrQXNzZXNzbWVudEVuZERhdGU+PFByZW1pdW1CdWRnZXQ+MDwvUHJlbWl1bUJ1ZGdldD48L0luc3VyZWQ+PEJuZj48VHlwZT4xPC9UeXBlPjxCZW5mU04+MTwvQmVuZlNOPjxHcmFkZT4xPC9HcmFkZT48TmFtZT6nsz8/Pz88L05hbWU+PFNleD4xPC9TZXg+PEJpcnRoZGF5PjE5OTQwMTAxPC9CaXJ0aGRheT48SURUeXBlPjg8L0lEVHlwZT48SURObz4wMDAwMDAxMTE8L0lETm8+PElkRXhwRGF0ZSAvPjxOYXRpb25hbGl0eSAvPjxSZWxhVG9JbnN1cmVkPjAyPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMz4wMTMzMDEwPC9SZWxhVG9JbnN1cmVkMz48TG90PjEwMDwvTG90PjxBZGRyZXNzQ29udGVudCAvPjxCZW5mQ29tbUFkciAvPjxCZW5lZmljVHlwZT5OPC9CZW5lZmljVHlwZT48L0JuZj48Qm5mPjxUeXBlPjE8L1R5cGU+PEJlbmZTTj4yPC9CZW5mU04+PEdyYWRlPjI8L0dyYWRlPjxOYW1lPqezPz8/PzwvTmFtZT48U2V4PjE8L1NleD48QmlydGhkYXk+MTk5NTAxMDE8L0JpcnRoZGF5PjxJRFR5cGU+ODwvSURUeXBlPjxJRE5vPjAwMDAwMDExMTwvSURObz48SWRFeHBEYXRlIC8+PE5hdGlvbmFsaXR5IC8+PFJlbGFUb0luc3VyZWQ+MDI8L1JlbGFUb0luc3VyZWQ+PFJlbGFUb0luc3VyZWQzPjAxMzMwMTA8L1JlbGFUb0luc3VyZWQzPjxMb3Q+MTAwPC9Mb3Q+PEFkZHJlc3NDb250ZW50IC8+PEJlbmZDb21tQWRyIC8+PEJlbmVmaWNUeXBlPk48L0JlbmVmaWNUeXBlPjwvQm5mPjxSaXNrPjxSaXNrQ29kZT4wMTFBMDEwMDwvUmlza0NvZGU+PFJpc2tOYW1lPj8/Pz8/Pz8/Pz8/PzwvUmlza05hbWU+PEFnSW5zUGtnSUQgLz48QW1udD4wPC9BbW50PjxQcmVtPjE5OTAwMDAwPC9QcmVtPjxNdWx0PjE5OTwvTXVsdD48UGF5TW9kZT5CPC9QYXlNb2RlPjxQYXlJbnR2PjA8L1BheUludHY+PFBheUVuZFllYXI+MTAwMDwvUGF5RW5kWWVhcj48UGF5RW5kWW"
20:41:18,121 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:41:18,122 DEBUG httpclient.Wire(70) - >> "175[\r][\n]"
20:41:18,122 DEBUG httpclient.Wire(84) - >> "VhckZsYWc+WTwvUGF5RW5kWWVhckZsYWc+PEdldEludHYgLz48R2V0WWVhckZsYWcgLz48Qm9udXNHZXRNb2RlIC8+PFN1YkZsYWcgLz48R2V0WWVhciAvPjxJbnN1WWVhckZsYWc+WTwvSW5zdVllYXJGbGFnPjxJbnN1WWVhcj41PC9JbnN1WWVhcj48R2V0QmFua0NvZGUgLz48R2V0QmFua0FjY05vIC8+PEdldEFjY05hbWUgLz48QXV0b1BheUZsYWc+MTwvQXV0b1BheUZsYWc+PC9SaXNrPjwvQm9keT48L1RyYW5EYXRhPg0K</arg0></service></soapenv:Body></soapenv:Envelope>"
20:41:18,123 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:41:18,123 DEBUG httpclient.Wire(84) - >> "0"
20:41:18,123 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:41:18,124 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:41:19,844 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:41:19,845 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:41:19,851 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
20:41:19,852 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
20:41:19,853 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
20:41:19,854 DEBUG httpclient.Wire(70) - << "Date: Fri, 30 Dec 2016 11:58:14 GMT[\r][\n]"
20:41:19,855 DEBUG httpclient.Wire(70) - << "[\r][\n]"
20:41:19,891 DEBUG httpclient.Wire(84) - << "1"
20:41:19,893 DEBUG httpclient.Wire(84) - << "e"
20:41:19,894 DEBUG httpclient.Wire(84) - << "b"
20:41:19,895 DEBUG httpclient.Wire(84) - << "[\r]"
20:41:19,896 DEBUG httpclient.Wire(70) - << "[\n]"
20:41:19,897 DEBUG httpclient.Wire(84) - << "<?xm"
20:41:19,908 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
20:41:19,921 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
20:41:19,931 INFO net.CallWebsvcAtomSvc(109) - 投保单号10101400000000067录单核保(service)耗时：2.852s
20:41:19,933 INFO common.SaveMessage(59) - 830_9_0_outSvc.xml IO输出耗时:0.0s
20:41:19,933 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！830_9_0_outSvc.xml
20:41:19,934 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
20:41:19,934 INFO common.Log4jPrint(20) - -----------------------------------------------
20:41:19,934 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:41:19,934 INFO service.NewContInput(132) - 错误描述长度：19
20:41:19,937 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:41:19,970 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:41:19,971 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:41:19,971 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=830,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='10101400000000067',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=3,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='830_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=204116,ModifyDate=20161128,ModifyTime=204119,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=830
20:41:19,986 INFO service.NewContInput(237) - Out NewContInput.service()!
20:41:19,986 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
20:41:19,993 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:41:19,994 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:41:19,994 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
20:41:20,002 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:41:20,007 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:41:20,008 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:41:20,012 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
20:41:20,012 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:41:20,016 INFO common.SaveMessage(59) - 830_12_1012_out.xml IO输出耗时:0.0020s
20:41:20,017 INFO newNet.CcbNetImpl(178) - 保存报文完毕！830_12_1012_out.xml
20:41:20,018 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>846</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2073</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128204116255</SYS_RECV_TIME><SYS_RESP_TIME>20161128204120011</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:41:20,018 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:41:20,020 INFO test.NewCCBTestUI(444) - 返回报文长度：2057
20:41:20,022 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：4.618s
20:41:20,038 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
20:41:20,062 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:41:20,063 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=830
20:41:20,108 INFO common.Log4jPrint(20) - -------------------------
20:41:20,108 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:41:20,109 INFO common.Log4jPrint(20) - -------------------------
20:41:20,120 INFO common.Log4jPrint(20) - i=1
20:41:20,155 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:41:20,155 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:41:20,155 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=830,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='10101400000000067',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=3,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='4.058',Bak4=null,Bak5=null,InNoDoc='830_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=204116,ModifyDate=20161128,ModifyTime=204119,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='830_12_1012_out.xml' where LogNo=830
20:41:20,168 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.105s
20:41:20,168 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:48:08,295 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@46b113c7
20:48:08,305 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:48:08,310 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:48:08,311 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:48:08,313 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:48:08,314 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:48:08,315 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:48:08,318 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,407) and length=23653 bytes!
20:48:08,392 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:48:08,403 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:48:08,405 INFO common.Log4jPrint(20) - End reset System.out!
20:48:08,408 INFO net.SocketConf(27) - Into SocketConf.load()...
20:48:08,409 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:48:08,410 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,410) and length=711 bytes!
20:48:08,413 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:48:08,414 INFO net.SocketConf(60) - Out SocketConf.load()!
20:48:08,430 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:48:08,431 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:48:08,441 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:48:08,441 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:48:08,442 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:48:08,450 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:48:08,450 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:48:08,450 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:48:08,457 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:48:08,457 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:48:08,458 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:48:08,464 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:48:08,465 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:48:08,464 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:48:12,308 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
20:48:12,318 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:48:12,318 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:48:12,319 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=14122 bytes!
20:48:12,328 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:48:12,329 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
20:48:12,330 INFO test.NewCCBTestUI(430) - 收到返回报文！
20:48:12,350 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:48:12,351 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:48:12,354 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:48:12,360 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:48:12,887 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:48:12,968 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:48:13,019 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:48:13,024 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:48:13,025 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:48:13,025 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:48:13,028 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
20:48:13,032 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101014000000067</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

20:48:13,061 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:48:13,061 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:48:13,200 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:48:13,200 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:48:13,209 INFO common.SaveMessage(59) - 836_3_1012_in.xml IO输出耗时:0.0080s
20:48:13,209 INFO newNet.CcbNetImpl(68) - 保存报文完毕！836_3_1012_in.xml
20:48:13,212 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:48:13,215 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:48:13,217 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:48:13,224 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
20:48:13,233 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:48:13,234 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:48:13,234 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
20:48:13,555 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:48:13,572 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:48:13,574 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:48:13,742 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:48:13,743 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:48:13,758 INFO common.Log4jPrint(20) - ================0133011
20:48:13,759 INFO common.Log4jPrint(20) - ================03
20:48:13,759 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:48:13,759 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
20:48:13,759 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:48:13,769 INFO service.NewContInput(43) - Into NewContInput.service()...
20:48:13,770 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:48:13,779 INFO common.Log4jPrint(20) - 进程名：836
20:48:13,780 INFO common.Log4jPrint(20) - trancom:3
20:48:13,780 INFO common.Log4jPrint(20) - FuncFlag:1012
20:48:13,780 INFO common.Log4jPrint(20) - mHeadEle.getChildText836_3_1012_in.xml
20:48:13,811 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:48:13,812 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 836,3,'13099','demaxiya200164','5201300004',1012,20161128,145205,'101014000000067',-1,-1,'????','127.0.0.1','836_3_1012_in.xml',20161128,204813,20161128,204813,'230803197906010035','????','230803197906010035','011A0100' )
20:48:13,829 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:48:13,832 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101014000000067' and MakeDate>=20161128 and MakeTime>=204453
20:48:13,939 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:48:13,940 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:48:13,941 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
20:48:13,987 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:48:13,987 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:48:13,988 INFO common.RuleXml(198) - Into RuleXml.load()...
20:48:13,988 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:48:13,988 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=10207 bytes!
20:48:13,994 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:48:13,994 INFO common.RuleXml(215) - Out RuleXml.load()!
20:48:13,994 INFO common.RuleParser(49) - Into RuleParser.check()...
20:48:13,994 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:48:14,002 INFO common.Log4jPrint(20) - 对邮编进行校验
20:48:14,003 INFO common.Log4jPrint(20) - 对邮编进行校验
20:48:14,003 INFO common.Log4jPrint(20) - 返回的结果是:0
20:48:14,005 INFO common.Log4jPrint(20) - 对邮编进行校验
20:48:14,009 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:48:14,009 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:48:14,009 INFO common.RuleParser(62) - Out RuleParser.check()!
20:48:14,009 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
20:48:14,019 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:48:14,044 INFO common.SaveMessage(59) - 836_6_0_inSvc.xml IO输出耗时:0.024s
20:48:14,044 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！836_6_0_inSvc.xml
20:48:14,045 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:48:14,045 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:48:14,304 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:48:14,967 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
20:48:15,019 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
20:48:15,020 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
20:48:15,021 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
20:48:15,021 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
20:48:15,021 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
20:48:15,022 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:48:15,049 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:48:15,050 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMTI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTQ1MjA1PC9UcmFuVGltZT48Tm9kZU5vPjEzMDk5PC9Ob2RlTm8+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxUZWxsZXJObz41MjAxMzAwMDA0PC9UZWxsZXJObz48VHJhbk5vPmRlbWF4aXlhMjAwMTY0PC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MDM8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMTI8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz44MzZfM18xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MTAxMDE0MDAwMDAwMDY3PC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTI4PC9Qb2xBcHBseURhdGU+PEFjY05vPjQzNjc0NjYwMTM2NTAyMDk5NDc8L0FjY05vPjxBY2NOYW1lPj8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjk1OTIwMTUwPC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MDAyMDEwMTIxMTAwMDAwNTg0Mjk8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTc5MDYwMTwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MjMwODAzMTk3OTA2MDEwMDM1PC9JRE5vPjxJZEV4cERhdGU+MjAxNzA5Mjg8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+MDg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA4NjwvWmlwQ29kZT48UGhvbmU+MDEwMjM0NTY3ODwvUGhvbmU+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbD5qaWFuZ2d1YW5xdW4wNjI1QDE2My5jb208L0VtYWlsPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MTIuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4zMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAxPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDExPC9SZWxhVG9Jbn"
20:48:15,050 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:48:15,051 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:48:15,052 DEBUG httpclient.Wire(84) - >> "N1cmVkMj48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3OTA2MDE8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDgwMzE5NzkwNjAxMDAzNTwvSURObz48SWRFeHBEYXRlIC8+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3M+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzcz48WmlwQ29kZT4xMDAwODY8L1ppcENvZGU+PFBob25lIC8+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbSAvPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wNDwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE2MDkxMjwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxCbmY+PFR5cGU+MTwvVHlwZT48QmVuZlNOPjE8L0JlbmZTTj48R3JhZGU+MTwvR3JhZGU+PE5hbWU+p7M/Pz8/PC9OYW1lPjxTZXg+MTwvU2V4PjxCaXJ0aGRheT4xOTk0MDEwMTwvQmlydGhkYXk+PElEVHlwZT44PC9JRFR5cGU+PElETm8+MDAwMDAwMTExPC9JRE5vPjxJZEV4cERhdGUgLz48TmF0aW9uYWxpdHkgLz48UmVsYVRvSW5zdXJlZD4wMjwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDM+MDEzMzAxMDwvUmVsYVRvSW5zdXJlZDM+PExvdD4xMDA8L0xvdD48QWRkcmVzc0NvbnRlbnQgLz48QmVuZkNvbW1BZHIgLz48QmVuZWZpY1R5cGU+TjwvQmVuZWZpY1R5cGU+PC9CbmY+PEJuZj48VHlwZT4xPC9UeXBlPjxCZW5mU04+MjwvQmVuZlNOPjxHcmFkZT4yPC9HcmFkZT48TmFtZT6nsz8/Pz88L05hbWU+PFNleD4xPC9TZXg+PEJpcnRoZGF5PjE5OTUwMTAxPC9CaXJ0aGRheT48SURUeXBlPjg8L0lEVHlwZT48SURObz4wMDAwMDAxMTE8L0lETm8+PElkRXhwRGF0ZSAvPjxOYXRpb25hbGl0eSAvPjxSZWxhVG9JbnN1cmVkPjAyPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMz4wMTMzMDEwPC9SZWxhVG9JbnN1cmVkMz48TG90PjEwMDwvTG90PjxBZGRyZXNzQ29udGVudCAvPjxCZW5mQ29tbUFkciAvPjxCZW5lZmljVHlwZT5OPC9CZW5lZmljVHlwZT48L0JuZj48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Pz8/Pz88L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xOTkwMDAwMDwvUHJlbT48TXVsdD4xOTk8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYX"
20:48:15,052 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:48:15,053 DEBUG httpclient.Wire(70) - >> "175[\r][\n]"
20:48:15,053 DEBUG httpclient.Wire(84) - >> "JGbGFnPlk8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnPjE8L0F1dG9QYXlGbGFnPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
20:48:15,053 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:48:15,053 DEBUG httpclient.Wire(84) - >> "0"
20:48:15,054 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:48:15,054 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:48:16,821 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:48:16,822 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:48:16,827 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
20:48:16,828 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
20:48:16,830 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
20:48:16,831 DEBUG httpclient.Wire(70) - << "Date: Fri, 30 Dec 2016 11:58:14 GMT[\r][\n]"
20:48:16,832 DEBUG httpclient.Wire(70) - << "[\r][\n]"
20:48:16,869 DEBUG httpclient.Wire(84) - << "1"
20:48:16,870 DEBUG httpclient.Wire(84) - << "e"
20:48:16,871 DEBUG httpclient.Wire(84) - << "b"
20:48:16,872 DEBUG httpclient.Wire(84) - << "[\r]"
20:48:16,872 DEBUG httpclient.Wire(70) - << "[\n]"
20:48:16,873 DEBUG httpclient.Wire(84) - << "<?xm"
20:48:16,880 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
20:48:16,891 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
20:48:16,899 INFO net.CallWebsvcAtomSvc(109) - 投保单号101014000000067录单核保(service)耗时：2.854s
20:48:16,917 INFO common.SaveMessage(59) - 836_9_0_outSvc.xml IO输出耗时:0.0010s
20:48:16,917 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！836_9_0_outSvc.xml
20:48:16,917 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
20:48:16,918 INFO common.Log4jPrint(20) - -----------------------------------------------
20:48:16,918 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:48:16,918 INFO service.NewContInput(132) - 错误描述长度：19
20:48:16,920 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:48:16,957 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:48:16,957 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:48:16,957 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=836,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='101014000000067',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=3,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='836_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=204813,ModifyDate=20161128,ModifyTime=204816,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=836
20:48:16,972 INFO service.NewContInput(237) - Out NewContInput.service()!
20:48:16,972 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
20:48:16,994 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:48:16,995 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:48:16,996 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
20:48:17,021 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:48:17,031 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:48:17,032 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:48:17,041 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
20:48:17,042 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:48:17,049 INFO common.SaveMessage(59) - 836_12_1012_out.xml IO输出耗时:0.0040s
20:48:17,050 INFO newNet.CcbNetImpl(178) - 保存报文完毕！836_12_1012_out.xml
20:48:17,052 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>846</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2073</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128204813226</SYS_RECV_TIME><SYS_RESP_TIME>20161128204817040</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:48:17,053 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:48:17,054 INFO test.NewCCBTestUI(444) - 返回报文长度：2057
20:48:17,056 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：4.737s
20:48:17,068 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
20:48:17,121 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:48:17,122 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=836
20:48:17,142 INFO common.Log4jPrint(20) - -------------------------
20:48:17,143 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:48:17,144 INFO common.Log4jPrint(20) - -------------------------
20:48:17,153 INFO common.Log4jPrint(20) - i=1
20:48:17,180 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:48:17,180 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:48:17,180 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=836,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='101014000000067',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=3,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='4.128',Bak4=null,Bak5=null,InNoDoc='836_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=204813,ModifyDate=20161128,ModifyTime=204816,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='836_12_1012_out.xml' where LogNo=836
20:48:17,203 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.178s
20:48:17,203 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:54:22,631 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
20:54:22,640 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:54:22,644 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:54:22,644 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:54:22,646 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:54:22,647 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:54:22,648 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:54:22,651 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,407) and length=23653 bytes!
20:54:22,717 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:54:22,727 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:54:22,728 INFO common.Log4jPrint(20) - End reset System.out!
20:54:22,731 INFO net.SocketConf(27) - Into SocketConf.load()...
20:54:22,732 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:54:22,733 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,410) and length=711 bytes!
20:54:22,736 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:54:22,737 INFO net.SocketConf(60) - Out SocketConf.load()!
20:54:22,754 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:54:22,754 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:54:22,763 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:54:22,764 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:54:22,764 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:54:22,769 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:54:22,770 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:54:22,769 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:54:22,776 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:54:22,776 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:54:22,777 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:54:22,783 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:54:22,784 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:54:22,783 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:54:26,891 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
20:54:26,902 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:54:26,903 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:54:26,903 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=14122 bytes!
20:54:26,913 INFO test.NewCCBTestUI(416) - 请求报文长度：8871
20:54:26,914 INFO test.NewCCBTestUI(430) - 收到返回报文！
20:54:26,915 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:54:26,937 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:54:26,938 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:54:26,940 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:54:26,946 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:54:27,420 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:54:27,475 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:54:27,555 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:54:27,560 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:54:27,561 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:54:27,562 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:54:27,564 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8871
20:54:27,568 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101014000000067</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

20:54:27,597 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:54:27,598 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:54:27,750 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:54:27,750 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:54:27,757 INFO common.SaveMessage(59) - 842_3_1012_in.xml IO输出耗时:0.0070s
20:54:27,758 INFO newNet.CcbNetImpl(68) - 保存报文完毕！842_3_1012_in.xml
20:54:27,761 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:54:27,764 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:54:27,767 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:54:27,775 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
20:54:27,786 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:54:27,786 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:54:27,787 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
20:54:28,108 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:54:28,126 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:54:28,127 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:54:28,293 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:54:28,293 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:54:28,310 INFO common.Log4jPrint(20) - ================0133011
20:54:28,310 INFO common.Log4jPrint(20) - ================03
20:54:28,310 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:54:28,310 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
20:54:28,311 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:54:28,320 INFO service.NewContInput(43) - Into NewContInput.service()...
20:54:28,321 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:54:28,330 INFO common.Log4jPrint(20) - 进程名：842
20:54:28,331 INFO common.Log4jPrint(20) - trancom:3
20:54:28,331 INFO common.Log4jPrint(20) - FuncFlag:1012
20:54:28,332 INFO common.Log4jPrint(20) - mHeadEle.getChildText842_3_1012_in.xml
20:54:28,365 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:54:28,367 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 842,3,'13099','200164','5201300004',1012,20161128,145205,'101014000000067',-1,-1,'????','127.0.0.1','842_3_1012_in.xml',20161128,205428,20161128,205428,'230803197906010035','????','230803197906010035','011A0100' )
20:54:28,382 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:54:28,384 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101014000000067' and MakeDate>=20161128 and MakeTime>=205108
20:54:28,461 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:54:28,462 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:54:28,463 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
20:54:28,516 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:54:28,516 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:54:28,517 INFO common.RuleXml(198) - Into RuleXml.load()...
20:54:28,517 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:54:28,517 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=10207 bytes!
20:54:28,523 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:54:28,523 INFO common.RuleXml(215) - Out RuleXml.load()!
20:54:28,523 INFO common.RuleParser(49) - Into RuleParser.check()...
20:54:28,523 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:54:28,531 INFO common.Log4jPrint(20) - 对邮编进行校验
20:54:28,531 INFO common.Log4jPrint(20) - 对邮编进行校验
20:54:28,532 INFO common.Log4jPrint(20) - 返回的结果是:0
20:54:28,534 INFO common.Log4jPrint(20) - 对邮编进行校验
20:54:28,537 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:54:28,538 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:54:28,538 INFO common.RuleParser(62) - Out RuleParser.check()!
20:54:28,538 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
20:54:28,548 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:54:28,563 INFO common.SaveMessage(59) - 842_6_0_inSvc.xml IO输出耗时:0.014s
20:54:28,564 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！842_6_0_inSvc.xml
20:54:28,565 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:54:28,565 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:54:28,824 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:54:29,417 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
20:54:29,458 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
20:54:29,459 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
20:54:29,459 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
20:54:29,460 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
20:54:29,460 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
20:54:29,461 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:54:29,485 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:54:29,486 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMTI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTQ1MjA1PC9UcmFuVGltZT48Tm9kZU5vPjEzMDk5PC9Ob2RlTm8+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxUZWxsZXJObz41MjAxMzAwMDA0PC9UZWxsZXJObz48VHJhbk5vPjIwMDE2NDwvVHJhbk5vPjxDbGllbnRJcD4xMjcuMC4wLjE8L0NsaWVudElwPjxUcmFuQ29tPjAzPC9UcmFuQ29tPjxGdW5jRmxhZz4xMDEyPC9GdW5jRmxhZz48QWdlbnRDb20gLz48QWdlbnRDb2RlIC8+PEluTm9Eb2M+ODQyXzNfMTAxMl9pbi54bWw8L0luTm9Eb2M+PFNlcnZpY2VJZD4wPC9TZXJ2aWNlSWQ+PC9IZWFkPjxCb2R5PjxQcm9wb3NhbFBydE5vPjEwMTAxNDAwMDAwMDA2NzwvUHJvcG9zYWxQcnRObz48Q29udFBydE5vIC8+PFBvbEFwcGx5RGF0ZT4yMDE2MTEyODwvUG9sQXBwbHlEYXRlPjxBY2NObz40MzY3NDY2MDEzNjUwMjA5OTQ3PC9BY2NObz48QWNjTmFtZT4/Pz8/PC9BY2NOYW1lPjxHZXRQb2xNb2RlPjE8L0dldFBvbE1vZGU+PEhlYWx0aE5vdGljZT5OPC9IZWFsdGhOb3RpY2U+PFNhbGVOYW1lPj8/PzwvU2FsZU5hbWU+PFNhbGVTdGFmZj45NTkyMDE1MDwvU2FsZVN0YWZmPjxTYWxlQ2VydE5vPjAwMjAxMDEyMTEwMDAwMDU4NDI5PC9TYWxlQ2VydE5vPjxMdjFCck5vPjExMDAwMDAwMDwvTHYxQnJObz48QXBwbnQ+PE5hbWU+Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3OTA2MDE8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDgwMzE5NzkwNjAxMDAzNTwvSURObz48SWRFeHBEYXRlPjIwMTcwOTI4PC9JZEV4cERhdGU+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vPjAxMDwvRml4VGVsRG1zdERzdGNObz48TW9iaWxlSXRsRHN0Y05vPjA4NjwvTW9iaWxlSXRsRHN0Y05vPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3M+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzcz48WmlwQ29kZT4xMDAwODY8L1ppcENvZGU+PFBob25lPjAxMDIzNDU2Nzg8L1Bob25lPjxNb2JpbGU+MTcwMDAwMDAxMjA8L01vYmlsZT48RW1haWw+amlhbmdndWFucXVuMDYyNUAxNjMuY29tPC9FbWFpbD48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxZZWFyU2FsYXJ5PjEyLjA8L1llYXJTYWxhcnk+PEZhbWlseVllYXJTYWxhcnk+MzAuMDwvRmFtaWx5WWVhclNhbGFyeT48UmVsYVRvSW5zdXJlZD4wMTwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDI+MDEzMzAxMTwvUmVsYVRvSW5zdXJlZDI+PE"
20:54:29,487 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:54:29,488 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:54:29,488 DEBUG httpclient.Wire(84) - >> "RlblR5cGU+MTwvRGVuVHlwZT48L0FwcG50PjxJbnN1cmVkPjxOYW1lPj8/Pz88L05hbWU+PFNleD4wPC9TZXg+PEJpcnRoZGF5PjE5NzkwNjAxPC9CaXJ0aGRheT48SURUeXBlPjA8L0lEVHlwZT48SURObz4yMzA4MDMxOTc5MDYwMTAwMzU8L0lETm8+PElkRXhwRGF0ZSAvPjxOYXRpb25hbGl0eT5DSE48L05hdGlvbmFsaXR5PjxBZGRyZXNzQ29udGVudD4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzQ29udGVudD48Rml4VGVsRG1zdERzdGNObyAvPjxNb2JpbGVJdGxEc3RjTm8gLz48TmF0aW9uYWxpdHlDb2RlPjE1NjwvTmF0aW9uYWxpdHlDb2RlPjxBZGRyZXNzPj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3M+PFppcENvZGU+MTAwMDg2PC9aaXBDb2RlPjxQaG9uZSAvPjxNb2JpbGU+MTcwMDAwMDAxMjA8L01vYmlsZT48RW1haWwgLz48Sm9iQ29kZT4zMDEwMTAxPC9Kb2JDb2RlPjxSY2duWXJJbmNtQW0gLz48Q292U3VtQW10PjA8L0NvdlN1bUFtdD48Umlza0Fzc2Vzc21lbnRSZXN1bHQ+MDQ8L1Jpc2tBc3Nlc3NtZW50UmVzdWx0PjxSaXNrQXNzZXNzbWVudEVuZERhdGU+MjAxNjA5MTI8L1Jpc2tBc3Nlc3NtZW50RW5kRGF0ZT48UHJlbWl1bUJ1ZGdldD4wPC9QcmVtaXVtQnVkZ2V0PjwvSW5zdXJlZD48Qm5mPjxUeXBlPjE8L1R5cGU+PEJlbmZTTj4xPC9CZW5mU04+PEdyYWRlPjE8L0dyYWRlPjxOYW1lPqezPz8/PzwvTmFtZT48U2V4PjE8L1NleD48QmlydGhkYXk+MTk5NDAxMDE8L0JpcnRoZGF5PjxJRFR5cGU+ODwvSURUeXBlPjxJRE5vPjAwMDAwMDExMTwvSURObz48SWRFeHBEYXRlIC8+PE5hdGlvbmFsaXR5IC8+PFJlbGFUb0luc3VyZWQ+MDI8L1JlbGFUb0luc3VyZWQ+PFJlbGFUb0luc3VyZWQzPjAxMzMwMTA8L1JlbGFUb0luc3VyZWQzPjxMb3Q+MTAwPC9Mb3Q+PEFkZHJlc3NDb250ZW50IC8+PEJlbmZDb21tQWRyIC8+PEJlbmVmaWNUeXBlPk48L0JlbmVmaWNUeXBlPjwvQm5mPjxCbmY+PFR5cGU+MTwvVHlwZT48QmVuZlNOPjI8L0JlbmZTTj48R3JhZGU+MjwvR3JhZGU+PE5hbWU+p7M/Pz8/PC9OYW1lPjxTZXg+MTwvU2V4PjxCaXJ0aGRheT4xOTk1MDEwMTwvQmlydGhkYXk+PElEVHlwZT44PC9JRFR5cGU+PElETm8+MDAwMDAwMTExPC9JRE5vPjxJZEV4cERhdGUgLz48TmF0aW9uYWxpdHkgLz48UmVsYVRvSW5zdXJlZD4wMjwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDM+MDEzMzAxMDwvUmVsYVRvSW5zdXJlZDM+PExvdD4xMDA8L0xvdD48QWRkcmVzc0NvbnRlbnQgLz48QmVuZkNvbW1BZHIgLz48QmVuZWZpY1R5cGU+TjwvQmVuZWZpY1R5cGU+PC9CbmY+PFJpc2s+PFJpc2tDb2RlPjAxMUEwMTAwPC9SaXNrQ29kZT48Umlza05hbWU+Pz8/Pz8/Pz8/Pz8/PC9SaXNrTmFtZT48QWdJbnNQa2dJRCAvPjxBbW50PjA8L0FtbnQ+PFByZW0+MTk5MDAwMDA8L1ByZW0+PE11bHQ+MTk5PC9NdWx0PjxQYXlNb2RlPkI8L1BheU1vZGU+PFBheUludHY+MDwvUGF5SW50dj48UGF5RW5kWWVhcj4xMDAwPC9QYXlFbmRZZWFyPjxQYXlFbmRZZWFyRmxhZz5ZPC"
20:54:29,489 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:54:29,490 DEBUG httpclient.Wire(70) - >> "169[\r][\n]"
20:54:29,490 DEBUG httpclient.Wire(84) - >> "9QYXlFbmRZZWFyRmxhZz48R2V0SW50diAvPjxHZXRZZWFyRmxhZyAvPjxCb251c0dldE1vZGUgLz48U3ViRmxhZyAvPjxHZXRZZWFyIC8+PEluc3VZZWFyRmxhZz5ZPC9JbnN1WWVhckZsYWc+PEluc3VZZWFyPjU8L0luc3VZZWFyPjxHZXRCYW5rQ29kZSAvPjxHZXRCYW5rQWNjTm8gLz48R2V0QWNjTmFtZSAvPjxBdXRvUGF5RmxhZz4xPC9BdXRvUGF5RmxhZz48L1Jpc2s+PC9Cb2R5PjwvVHJhbkRhdGE+DQo=</arg0></service></soapenv:Body></soapenv:Envelope>"
20:54:29,490 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:54:29,490 DEBUG httpclient.Wire(84) - >> "0"
20:54:29,491 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:54:29,491 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:54:31,096 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:54:31,097 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:54:31,103 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
20:54:31,104 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
20:54:31,105 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
20:54:31,106 DEBUG httpclient.Wire(70) - << "Date: Fri, 30 Dec 2016 11:58:14 GMT[\r][\n]"
20:54:31,107 DEBUG httpclient.Wire(70) - << "[\r][\n]"
20:54:31,145 DEBUG httpclient.Wire(84) - << "1"
20:54:31,146 DEBUG httpclient.Wire(84) - << "e"
20:54:31,148 DEBUG httpclient.Wire(84) - << "b"
20:54:31,149 DEBUG httpclient.Wire(84) - << "[\r]"
20:54:31,150 DEBUG httpclient.Wire(70) - << "[\n]"
20:54:31,151 DEBUG httpclient.Wire(84) - << "<?xm"
20:54:31,160 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
20:54:31,171 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
20:54:31,180 INFO net.CallWebsvcAtomSvc(109) - 投保单号101014000000067录单核保(service)耗时：2.614s
20:54:31,182 INFO common.SaveMessage(59) - 842_9_0_outSvc.xml IO输出耗时:0.0s
20:54:31,183 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！842_9_0_outSvc.xml
20:54:31,183 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
20:54:31,183 INFO common.Log4jPrint(20) - -----------------------------------------------
20:54:31,183 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:54:31,184 INFO service.NewContInput(132) - 错误描述长度：19
20:54:31,186 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:54:31,220 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:54:31,221 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:54:31,221 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=842,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='101014000000067',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='842_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=205428,ModifyDate=20161128,ModifyTime=205431,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=842
20:54:31,235 INFO service.NewContInput(237) - Out NewContInput.service()!
20:54:31,235 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
20:54:31,243 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:54:31,243 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:54:31,243 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
20:54:31,251 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:54:31,256 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:54:31,257 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:54:31,261 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
20:54:31,261 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:54:31,265 INFO common.SaveMessage(59) - 842_12_1012_out.xml IO输出耗时:0.0020s
20:54:31,265 INFO newNet.CcbNetImpl(178) - 保存报文完毕！842_12_1012_out.xml
20:54:31,266 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>846</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2065</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128205427777</SYS_RECV_TIME><SYS_RESP_TIME>20161128205431260</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:54:31,267 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:54:31,269 INFO test.NewCCBTestUI(444) - 返回报文长度：2049
20:54:31,272 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：4.369s
20:54:31,296 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
20:54:31,338 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:54:31,338 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=842
20:54:31,359 INFO common.Log4jPrint(20) - -------------------------
20:54:31,360 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:54:31,360 INFO common.Log4jPrint(20) - -------------------------
20:54:31,371 INFO common.Log4jPrint(20) - i=1
20:54:31,401 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:54:31,402 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:54:31,403 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=842,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='200164',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='101014000000067',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=2,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='3.81',Bak4=null,Bak5=null,InNoDoc='842_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=205428,ModifyDate=20161128,ModifyTime=205431,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='842_12_1012_out.xml' where LogNo=842
20:54:31,418 INFO midplat.Ybt4Socket(170) - 处理总耗时：3.857s
20:54:31,418 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:56:09,664 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@32771eb1
20:56:09,672 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:56:09,677 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:56:09,677 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:56:09,679 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:56:09,680 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:56:09,681 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:56:09,684 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,407) and length=23653 bytes!
20:56:09,757 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:56:09,768 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:56:09,769 INFO common.Log4jPrint(20) - End reset System.out!
20:56:09,772 INFO net.SocketConf(27) - Into SocketConf.load()...
20:56:09,773 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:56:09,774 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,410) and length=711 bytes!
20:56:09,777 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:56:09,777 INFO net.SocketConf(60) - Out SocketConf.load()!
20:56:09,796 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:56:09,798 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:56:09,807 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:56:09,807 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:56:09,807 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:56:09,814 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:56:09,815 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:56:09,815 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:56:09,821 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:56:09,822 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:56:09,822 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:56:09,828 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:56:09,829 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:56:09,828 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:56:14,262 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
20:56:14,274 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:56:14,274 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:56:14,274 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=14122 bytes!
20:56:14,283 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:56:14,284 INFO test.NewCCBTestUI(416) - 请求报文长度：8873
20:56:14,285 INFO test.NewCCBTestUI(430) - 收到返回报文！
20:56:14,308 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:56:14,309 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:56:14,311 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:56:14,317 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:56:14,786 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:56:14,840 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:56:14,894 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:56:14,899 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:56:14,899 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:56:14,900 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:56:14,902 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8873
20:56:14,906 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>20160101</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>101012016010151</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

20:56:14,934 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:56:14,935 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:56:15,096 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:56:15,097 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:56:15,106 INFO common.SaveMessage(59) - 848_3_1012_in.xml IO输出耗时:0.0090s
20:56:15,107 INFO newNet.CcbNetImpl(68) - 保存报文完毕！848_3_1012_in.xml
20:56:15,109 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:56:15,112 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:56:15,115 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:56:15,122 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
20:56:15,132 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:56:15,133 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:56:15,133 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
20:56:15,470 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:56:15,487 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:56:15,489 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:56:15,660 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:56:15,661 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:56:15,676 INFO common.Log4jPrint(20) - ================0133011
20:56:15,677 INFO common.Log4jPrint(20) - ================03
20:56:15,677 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:56:15,677 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
20:56:15,677 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:56:15,686 INFO service.NewContInput(43) - Into NewContInput.service()...
20:56:15,688 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:56:15,697 INFO common.Log4jPrint(20) - 进程名：848
20:56:15,697 INFO common.Log4jPrint(20) - trancom:3
20:56:15,697 INFO common.Log4jPrint(20) - FuncFlag:1012
20:56:15,697 INFO common.Log4jPrint(20) - mHeadEle.getChildText848_3_1012_in.xml
20:56:15,757 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:56:15,758 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 848,3,'13099','20160101','5201300004',1012,20161128,145205,'101012016010151',-1,-1,'????','127.0.0.1','848_3_1012_in.xml',20161128,205615,20161128,205615,'230803197906010035','????','230803197906010035','011A0100' )
20:56:15,782 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:56:15,783 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101012016010151' and MakeDate>=20161128 and MakeTime>=205255
20:56:15,867 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:56:15,868 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:56:15,869 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
20:56:15,913 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:56:15,913 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:56:15,913 INFO common.RuleXml(198) - Into RuleXml.load()...
20:56:15,914 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:56:15,914 INFO common.XmlConf(62) - conf file modified at (2016-11-28 19:50:42,409) and length=10207 bytes!
20:56:15,919 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:56:15,919 INFO common.RuleXml(215) - Out RuleXml.load()!
20:56:15,920 INFO common.RuleParser(49) - Into RuleParser.check()...
20:56:15,920 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:56:15,928 INFO common.Log4jPrint(20) - 对邮编进行校验
20:56:15,929 INFO common.Log4jPrint(20) - 对邮编进行校验
20:56:15,929 INFO common.Log4jPrint(20) - 返回的结果是:0
20:56:15,931 INFO common.Log4jPrint(20) - 对邮编进行校验
20:56:15,934 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:56:15,934 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:56:15,935 INFO common.RuleParser(62) - Out RuleParser.check()!
20:56:15,935 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
20:56:15,945 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:56:15,948 INFO common.SaveMessage(59) - 848_6_0_inSvc.xml IO输出耗时:0.0030s
20:56:15,948 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！848_6_0_inSvc.xml
20:56:15,949 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:56:15,949 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:56:16,206 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:56:17,281 DEBUG httpclient.Wire(70) - >> "POST /ui/services/ServiceForBankInterfaceService?wsdl HTTP/1.1[\r][\n]"
20:56:17,331 DEBUG httpclient.Wire(70) - >> "Content-Type: text/xml; charset=UTF-8[\r][\n]"
20:56:17,331 DEBUG httpclient.Wire(70) - >> "SOAPAction: ""[\r][\n]"
20:56:17,332 DEBUG httpclient.Wire(70) - >> "User-Agent: Axis2[\r][\n]"
20:56:17,332 DEBUG httpclient.Wire(70) - >> "Host: 10.0.1.160:8080[\r][\n]"
20:56:17,333 DEBUG httpclient.Wire(70) - >> "Transfer-Encoding: chunked[\r][\n]"
20:56:17,333 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:56:17,359 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:56:17,360 DEBUG httpclient.Wire(84) - >> "<?xml version="1.0" encoding="UTF-8"?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><service xmlns="http://kernel.ablinkbank.sinosoft.com"><arg0 xmlns="">PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8VHJhbkRhdGE+PEhlYWQ+PFRyYW5EYXRlPjIwMTYxMTI4PC9UcmFuRGF0ZT48VHJhblRpbWU+MTQ1MjA1PC9UcmFuVGltZT48Tm9kZU5vPjEzMDk5PC9Ob2RlTm8+PEJhbmtDb2RlPjAxMDQ8L0JhbmtDb2RlPjxUZWxsZXJObz41MjAxMzAwMDA0PC9UZWxsZXJObz48VHJhbk5vPjIwMTYwMTAxPC9UcmFuTm8+PENsaWVudElwPjEyNy4wLjAuMTwvQ2xpZW50SXA+PFRyYW5Db20+MDM8L1RyYW5Db20+PEZ1bmNGbGFnPjEwMTI8L0Z1bmNGbGFnPjxBZ2VudENvbSAvPjxBZ2VudENvZGUgLz48SW5Ob0RvYz44NDhfM18xMDEyX2luLnhtbDwvSW5Ob0RvYz48U2VydmljZUlkPjA8L1NlcnZpY2VJZD48L0hlYWQ+PEJvZHk+PFByb3Bvc2FsUHJ0Tm8+MTAxMDEyMDE2MDEwMTUxPC9Qcm9wb3NhbFBydE5vPjxDb250UHJ0Tm8gLz48UG9sQXBwbHlEYXRlPjIwMTYxMTI4PC9Qb2xBcHBseURhdGU+PEFjY05vPjQzNjc0NjYwMTM2NTAyMDk5NDc8L0FjY05vPjxBY2NOYW1lPj8/Pz88L0FjY05hbWU+PEdldFBvbE1vZGU+MTwvR2V0UG9sTW9kZT48SGVhbHRoTm90aWNlPk48L0hlYWx0aE5vdGljZT48U2FsZU5hbWU+Pz8/PC9TYWxlTmFtZT48U2FsZVN0YWZmPjk1OTIwMTUwPC9TYWxlU3RhZmY+PFNhbGVDZXJ0Tm8+MDAyMDEwMTIxMTAwMDAwNTg0Mjk8L1NhbGVDZXJ0Tm8+PEx2MUJyTm8+MTEwMDAwMDAwPC9MdjFCck5vPjxBcHBudD48TmFtZT4/Pz8/PC9OYW1lPjxTZXg+MDwvU2V4PjxCaXJ0aGRheT4xOTc5MDYwMTwvQmlydGhkYXk+PElEVHlwZT4wPC9JRFR5cGU+PElETm8+MjMwODAzMTk3OTA2MDEwMDM1PC9JRE5vPjxJZEV4cERhdGU+MjAxNzA5Mjg8L0lkRXhwRGF0ZT48TmF0aW9uYWxpdHk+Q0hOPC9OYXRpb25hbGl0eT48QWRkcmVzc0NvbnRlbnQ+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzc0NvbnRlbnQ+PEZpeFRlbERtc3REc3RjTm8+MDEwPC9GaXhUZWxEbXN0RHN0Y05vPjxNb2JpbGVJdGxEc3RjTm8+MDg2PC9Nb2JpbGVJdGxEc3RjTm8+PE5hdGlvbmFsaXR5Q29kZT4xNTY8L05hdGlvbmFsaXR5Q29kZT48QWRkcmVzcz4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/PzEyNT8/PC9BZGRyZXNzPjxaaXBDb2RlPjEwMDA4NjwvWmlwQ29kZT48UGhvbmU+MDEwMjM0NTY3ODwvUGhvbmU+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbD5qaWFuZ2d1YW5xdW4wNjI1QDE2My5jb208L0VtYWlsPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFllYXJTYWxhcnk+MTIuMDwvWWVhclNhbGFyeT48RmFtaWx5WWVhclNhbGFyeT4zMC4wPC9GYW1pbHlZZWFyU2FsYXJ5PjxSZWxhVG9JbnN1cmVkPjAxPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMj4wMTMzMDExPC9SZWxhVG9JbnN1cmVkMj"
20:56:17,360 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:56:17,361 DEBUG httpclient.Wire(70) - >> "800[\r][\n]"
20:56:17,362 DEBUG httpclient.Wire(84) - >> "48RGVuVHlwZT4xPC9EZW5UeXBlPjwvQXBwbnQ+PEluc3VyZWQ+PE5hbWU+Pz8/PzwvTmFtZT48U2V4PjA8L1NleD48QmlydGhkYXk+MTk3OTA2MDE8L0JpcnRoZGF5PjxJRFR5cGU+MDwvSURUeXBlPjxJRE5vPjIzMDgwMzE5NzkwNjAxMDAzNTwvSURObz48SWRFeHBEYXRlIC8+PE5hdGlvbmFsaXR5PkNITjwvTmF0aW9uYWxpdHk+PEFkZHJlc3NDb250ZW50Pj8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/MTI1Pz88L0FkZHJlc3NDb250ZW50PjxGaXhUZWxEbXN0RHN0Y05vIC8+PE1vYmlsZUl0bERzdGNObyAvPjxOYXRpb25hbGl0eUNvZGU+MTU2PC9OYXRpb25hbGl0eUNvZGU+PEFkZHJlc3M+Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8xMjU/PzwvQWRkcmVzcz48WmlwQ29kZT4xMDAwODY8L1ppcENvZGU+PFBob25lIC8+PE1vYmlsZT4xNzAwMDAwMDEyMDwvTW9iaWxlPjxFbWFpbCAvPjxKb2JDb2RlPjMwMTAxMDE8L0pvYkNvZGU+PFJjZ25ZckluY21BbSAvPjxDb3ZTdW1BbXQ+MDwvQ292U3VtQW10PjxSaXNrQXNzZXNzbWVudFJlc3VsdD4wNDwvUmlza0Fzc2Vzc21lbnRSZXN1bHQ+PFJpc2tBc3Nlc3NtZW50RW5kRGF0ZT4yMDE2MDkxMjwvUmlza0Fzc2Vzc21lbnRFbmREYXRlPjxQcmVtaXVtQnVkZ2V0PjA8L1ByZW1pdW1CdWRnZXQ+PC9JbnN1cmVkPjxCbmY+PFR5cGU+MTwvVHlwZT48QmVuZlNOPjE8L0JlbmZTTj48R3JhZGU+MTwvR3JhZGU+PE5hbWU+p7M/Pz8/PC9OYW1lPjxTZXg+MTwvU2V4PjxCaXJ0aGRheT4xOTk0MDEwMTwvQmlydGhkYXk+PElEVHlwZT44PC9JRFR5cGU+PElETm8+MDAwMDAwMTExPC9JRE5vPjxJZEV4cERhdGUgLz48TmF0aW9uYWxpdHkgLz48UmVsYVRvSW5zdXJlZD4wMjwvUmVsYVRvSW5zdXJlZD48UmVsYVRvSW5zdXJlZDM+MDEzMzAxMDwvUmVsYVRvSW5zdXJlZDM+PExvdD4xMDA8L0xvdD48QWRkcmVzc0NvbnRlbnQgLz48QmVuZkNvbW1BZHIgLz48QmVuZWZpY1R5cGU+TjwvQmVuZWZpY1R5cGU+PC9CbmY+PEJuZj48VHlwZT4xPC9UeXBlPjxCZW5mU04+MjwvQmVuZlNOPjxHcmFkZT4yPC9HcmFkZT48TmFtZT6nsz8/Pz88L05hbWU+PFNleD4xPC9TZXg+PEJpcnRoZGF5PjE5OTUwMTAxPC9CaXJ0aGRheT48SURUeXBlPjg8L0lEVHlwZT48SURObz4wMDAwMDAxMTE8L0lETm8+PElkRXhwRGF0ZSAvPjxOYXRpb25hbGl0eSAvPjxSZWxhVG9JbnN1cmVkPjAyPC9SZWxhVG9JbnN1cmVkPjxSZWxhVG9JbnN1cmVkMz4wMTMzMDEwPC9SZWxhVG9JbnN1cmVkMz48TG90PjEwMDwvTG90PjxBZGRyZXNzQ29udGVudCAvPjxCZW5mQ29tbUFkciAvPjxCZW5lZmljVHlwZT5OPC9CZW5lZmljVHlwZT48L0JuZj48Umlzaz48Umlza0NvZGU+MDExQTAxMDA8L1Jpc2tDb2RlPjxSaXNrTmFtZT4/Pz8/Pz8/Pz8/Pz88L1Jpc2tOYW1lPjxBZ0luc1BrZ0lEIC8+PEFtbnQ+MDwvQW1udD48UHJlbT4xOTkwMDAwMDwvUHJlbT48TXVsdD4xOTk8L011bHQ+PFBheU1vZGU+QjwvUGF5TW9kZT48UGF5SW50dj4wPC9QYXlJbnR2PjxQYXlFbmRZZWFyPjEwMDA8L1BheUVuZFllYXI+PFBheUVuZFllYXJGbGFnPl"
20:56:17,362 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:56:17,363 DEBUG httpclient.Wire(70) - >> "16d[\r][\n]"
20:56:17,363 DEBUG httpclient.Wire(84) - >> "k8L1BheUVuZFllYXJGbGFnPjxHZXRJbnR2IC8+PEdldFllYXJGbGFnIC8+PEJvbnVzR2V0TW9kZSAvPjxTdWJGbGFnIC8+PEdldFllYXIgLz48SW5zdVllYXJGbGFnPlk8L0luc3VZZWFyRmxhZz48SW5zdVllYXI+NTwvSW5zdVllYXI+PEdldEJhbmtDb2RlIC8+PEdldEJhbmtBY2NObyAvPjxHZXRBY2NOYW1lIC8+PEF1dG9QYXlGbGFnPjE8L0F1dG9QYXlGbGFnPjwvUmlzaz48L0JvZHk+PC9UcmFuRGF0YT4NCg==</arg0></service></soapenv:Body></soapenv:Envelope>"
20:56:17,363 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:56:17,363 DEBUG httpclient.Wire(84) - >> "0"
20:56:17,364 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:56:17,364 DEBUG httpclient.Wire(70) - >> "[\r][\n]"
20:56:18,861 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:56:18,862 DEBUG httpclient.Wire(70) - << "HTTP/1.1 200 OK[\r][\n]"
20:56:18,868 DEBUG httpclient.Wire(70) - << "Server: Apache-Coyote/1.1[\r][\n]"
20:56:18,870 DEBUG httpclient.Wire(70) - << "Content-Type: text/xml;charset=UTF-8[\r][\n]"
20:56:18,871 DEBUG httpclient.Wire(70) - << "Transfer-Encoding: chunked[\r][\n]"
20:56:18,872 DEBUG httpclient.Wire(70) - << "Date: Fri, 30 Dec 2016 11:58:14 GMT[\r][\n]"
20:56:18,873 DEBUG httpclient.Wire(70) - << "[\r][\n]"
20:56:18,898 DEBUG httpclient.Wire(84) - << "1"
20:56:18,899 DEBUG httpclient.Wire(84) - << "e"
20:56:18,900 DEBUG httpclient.Wire(84) - << "b"
20:56:18,901 DEBUG httpclient.Wire(84) - << "[\r]"
20:56:18,902 DEBUG httpclient.Wire(70) - << "[\n]"
20:56:18,902 DEBUG httpclient.Wire(84) - << "<?xm"
20:56:18,912 DEBUG httpclient.Wire(84) - << "l version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:so"
20:56:18,919 DEBUG httpclient.Wire(84) - << "apenv="http://schemas.xmlsoap.org/soap/envelope/"><soapenv:Body><ns:serviceResponse xmlns:ns="http://kernel.ablinkbank.sinosoft.com"><ns:return>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iR0JLIj8+DQo8VHJhbkRhdGE+DQogIDxIZWFkPg0KICAgIDxGbGFnPjE8L0ZsYWc+DQogICAgPERlc2M+uMO6z82s06HLorrFsrvOqjE1zrujrMfrusu21LrzwrzI66OhPC9EZXNjPg0KICA8L0hlYWQ+DQo8L1RyYW5EYXRhPg0KDQo=</ns:return></ns:serviceResponse></soapenv:Body></soapenv:Envelope>"
20:56:18,925 INFO net.CallWebsvcAtomSvc(109) - 投保单号101012016010151录单核保(service)耗时：2.976s
20:56:18,927 INFO common.SaveMessage(59) - 848_9_0_outSvc.xml IO输出耗时:0.0010s
20:56:18,927 INFO net.CallWebsvcAtomSvc(128) - 保存报文完毕！848_9_0_outSvc.xml
20:56:18,927 INFO net.CallWebsvcAtomSvc(130) - Out CallWebsvcAtomSvc.service()!
20:56:18,928 INFO common.Log4jPrint(20) - -----------------------------------------------
20:56:18,928 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:56:18,928 INFO service.NewContInput(132) - 错误描述长度：19
20:56:18,930 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 该合同印刷号不为15位，请核对后录入！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:138)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:56:18,996 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:56:18,997 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:56:18,998 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=848,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='20160101',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='101012016010151',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=3,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='848_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=205615,ModifyDate=20161128,ModifyTime=205618,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=848
20:56:19,015 INFO service.NewContInput(237) - Out NewContInput.service()!
20:56:19,016 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
20:56:19,038 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:56:19,039 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:56:19,040 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
20:56:19,061 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:56:19,068 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:56:19,068 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:56:19,073 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
20:56:19,073 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:56:19,078 INFO common.SaveMessage(59) - 848_12_1012_out.xml IO输出耗时:0.0020s
20:56:19,078 INFO newNet.CcbNetImpl(178) - 保存报文完毕！848_12_1012_out.xml
20:56:19,080 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>846</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2067</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128205615123</SYS_RECV_TIME><SYS_RESP_TIME>20161128205619072</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>19</SYS_RESP_DESC_LEN><SYS_RESP_DESC>璇ュ板峰蜂涓15浣锛璇锋稿瑰褰ワ?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>20160101</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:56:19,081 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:56:19,084 INFO test.NewCCBTestUI(444) - 返回报文长度：2051
20:56:19,085 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：4.811s
20:56:19,098 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
20:56:19,148 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:56:19,148 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=848
20:56:19,173 INFO common.Log4jPrint(20) - -------------------------
20:56:19,174 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:56:19,174 INFO common.Log4jPrint(20) - -------------------------
20:56:19,182 INFO common.Log4jPrint(20) - i=1
20:56:19,208 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:56:19,208 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:56:19,209 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=848,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='20160101',Operator='5201300004',FuncFlag=1012,TranDate=20161128,TranTime=145205,ProposalPrtNo='101012016010151',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='该合同印刷号不为15位，请核对后录入！',UsedTime=3,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='4.283',Bak4=null,Bak5=null,InNoDoc='848_3_1012_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=205615,ModifyDate=20161128,ModifyTime=205618,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='848_12_1012_out.xml' where LogNo=848
20:56:19,222 INFO midplat.Ybt4Socket(170) - 处理总耗时：4.323s
20:56:19,223 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
21:28:36,636 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
21:29:56,397 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@54fedfb6
21:29:56,407 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
21:29:56,413 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
21:29:56,414 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
21:29:56,417 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
21:29:56,418 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
21:29:56,419 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
21:29:56,424 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,025) and length=23653 bytes!
21:29:56,517 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
21:29:56,526 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
21:29:56,527 INFO common.Log4jPrint(20) - End reset System.out!
21:29:56,529 INFO net.SocketConf(27) - Into SocketConf.load()...
21:29:56,530 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
21:29:56,531 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,028) and length=711 bytes!
21:29:56,534 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
21:29:56,535 INFO net.SocketConf(60) - Out SocketConf.load()!
21:29:56,552 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
21:29:56,553 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
21:29:56,563 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
21:29:56,563 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
21:29:56,564 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
21:29:56,570 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
21:29:56,571 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
21:29:56,571 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
21:29:56,578 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
21:29:56,579 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
21:29:56,579 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
21:29:56,587 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
21:29:56,588 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
21:29:56,588 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
21:30:02,026 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
21:30:02,037 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
21:30:02,037 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
21:30:02,038 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,026) and length=14122 bytes!
21:30:02,044 INFO test.NewCCBTestUI(416) - 请求报文长度：1480
21:30:02,045 INFO test.NewCCBTestUI(430) - 收到返回报文！
21:30:02,046 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
21:30:02,068 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

21:30:02,069 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
21:30:02,071 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
21:30:02,077 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
21:30:02,793 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
21:30:02,942 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
21:30:03,083 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
21:30:03,089 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
21:30:03,090 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
21:30:03,091 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
21:30:03,094 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1480
21:30:03,095 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

21:30:03,099 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
21:30:03,099 INFO newNet.CcbNetImpl(58) - mTranCom==============03
21:30:03,257 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
21:30:03,257 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
21:30:03,260 INFO common.SaveMessage(59) - 854_3_111_in.xml IO输出耗时:0.0020s
21:30:03,260 INFO newNet.CcbNetImpl(68) - 保存报文完毕！854_3_111_in.xml
21:30:03,261 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
21:30:03,261 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
21:30:03,263 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
21:30:03,270 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
21:30:03,276 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
21:30:03,277 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
21:30:03,277 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,128) and length=1563 bytes!
21:30:03,613 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
21:30:03,616 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

21:30:03,616 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
21:30:03,763 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
21:30:03,763 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
21:30:03,772 INFO service.GreenTest(24) - Into GreenTest.service()...
21:30:03,772 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
21:30:03,782 INFO common.Log4jPrint(20) - 进程名：854
21:30:03,782 INFO common.Log4jPrint(20) - trancom:3
21:30:03,782 INFO common.Log4jPrint(20) - FuncFlag:111
21:30:03,783 INFO common.Log4jPrint(20) - mHeadEle.getChildText854_3_111_in.xml
21:30:03,866 INFO common.Log4jPrint(20) - 进入更新后的InsPart
21:30:03,868 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 854,3,'13099','108011rv11468393261001200','5201300004',111,20161128,150051,-1,-1,'127.0.0.1','854_3_111_in.xml',20161128,213003,20161128,213003 )
21:30:03,889 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
21:30:03,890 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
21:30:03,958 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:30:03,959 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:30:03,960 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=854,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.119',Bak4='0.0',Bak5=null,InNoDoc='854_3_111_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=213003,ModifyDate=20161128,ModifyTime=213003,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=854
21:30:03,984 INFO service.GreenTest(90) - Out GreenTest.service()!
21:30:03,985 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
21:30:03,991 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
21:30:03,992 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
21:30:03,993 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,196) and length=3402 bytes!
21:30:04,010 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
21:30:04,019 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

21:30:04,020 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
21:30:04,032 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
21:30:04,033 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
21:30:04,038 INFO common.SaveMessage(59) - 854_6_111_out.xml IO输出耗时:0.0030s
21:30:04,038 INFO newNet.CcbNetImpl(178) - 保存报文完毕！854_6_111_out.xml
21:30:04,039 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128213003271</SYS_RECV_TIME><SYS_RESP_TIME>20161128213004031</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161128</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

21:30:04,040 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
21:30:04,043 INFO test.NewCCBTestUI(444) - 返回报文长度：1752
21:30:04,044 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：2.007s
21:30:04,061 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
21:30:04,101 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:30:04,101 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=854
21:30:04,129 INFO common.Log4jPrint(20) - -------------------------
21:30:04,130 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
21:30:04,130 INFO common.Log4jPrint(20) - -------------------------
21:30:04,139 INFO common.Log4jPrint(20) - i=1
21:30:04,196 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:30:04,197 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:30:04,198 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=854,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='1.049',Bak4='0.0',Bak5=null,InNoDoc='854_3_111_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=213003,ModifyDate=20161128,ModifyTime=213003,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='854_6_111_out.xml' where LogNo=854
21:30:04,258 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.168s
21:30:04,258 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
21:44:56,480 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4e1a70b8
21:44:56,488 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
21:44:56,493 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
21:44:56,494 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
21:44:56,496 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
21:44:56,497 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
21:44:56,498 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
21:44:56,502 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,025) and length=23653 bytes!
21:44:56,572 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
21:44:56,585 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
21:44:56,586 INFO common.Log4jPrint(20) - End reset System.out!
21:44:56,589 INFO net.SocketConf(27) - Into SocketConf.load()...
21:44:56,589 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
21:44:56,590 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,028) and length=711 bytes!
21:44:56,593 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
21:44:56,594 INFO net.SocketConf(60) - Out SocketConf.load()!
21:44:56,612 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
21:44:56,612 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
21:44:56,621 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
21:44:56,622 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
21:44:56,622 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
21:44:56,629 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
21:44:56,629 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
21:44:56,630 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
21:44:56,637 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
21:44:56,637 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
21:44:56,638 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
21:44:56,644 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
21:44:56,646 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
21:44:56,645 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
21:45:13,447 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
21:45:13,458 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
21:45:13,458 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
21:45:13,459 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,026) and length=14122 bytes!
21:45:13,466 INFO test.NewCCBTestUI(416) - 请求报文长度：1480
21:45:13,467 INFO test.NewCCBTestUI(430) - 收到返回报文！
21:45:13,501 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
21:45:13,524 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

21:45:13,525 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
21:45:13,528 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
21:45:13,534 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
21:45:14,203 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
21:45:14,257 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
21:45:14,343 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
21:45:14,354 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
21:45:14,355 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
21:45:14,356 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
21:45:14,359 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：1480
21:45:14,360 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><SYS_HDR_LEN>0</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><SYS_TX_VRSN>01</SYS_TX_VRSN><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_RESERVED>0</SYS_RESERVED><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161128150051498</SYS_REQ_TIME><SYS_TIME_LEFT>000119961</SYS_TIME_LEFT><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><LnkInTst_Fld_1>????????</LnkInTst_Fld_1><LnkInTst_Fld_2>??????ζ?</LnkInTst_Fld_2></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

21:45:14,373 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53818152
21:45:14,373 INFO newNet.CcbNetImpl(58) - mTranCom==============03
21:45:14,502 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
21:45:14,503 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
21:45:14,505 INFO common.SaveMessage(59) - 860_3_111_in.xml IO输出耗时:0.0020s
21:45:14,506 INFO newNet.CcbNetImpl(68) - 保存报文完毕！860_3_111_in.xml
21:45:14,506 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
21:45:14,507 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
21:45:14,509 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.GreenTest
21:45:14,515 INFO format.GreenTest(40) - Into GreenTest.noStd2Std()...
21:45:14,520 INFO format.GreenTestInXsl(26) - Into GreenTestInXsl.load()...
21:45:14,520 INFO format.GreenTestInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl...
21:45:14,520 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,128) and length=1563 bytes!
21:45:14,807 INFO format.GreenTestInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestIn.xsl!
21:45:14,810 INFO format.GreenTestInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 交易渠道 --><TranCom>03</TranCom><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 连通测试字段一 --><BkDetail1><xsl:value-of select="LnkInTst_Fld_1" /></BkDetail1><!-- 连通测试字段二 --><BkDetail2><xsl:value-of select="LnkInTst_Fld_2" /></BkDetail2></Body></xsl:template></xsl:stylesheet>

21:45:14,810 INFO format.GreenTestInXsl(64) - Out GreenTestInXsl.load()!
21:45:14,956 INFO format.GreenTest(68) - Out GreenTest.noStd2Std()!
21:45:14,956 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.GreenTest
21:45:14,965 INFO service.GreenTest(24) - Into GreenTest.service()...
21:45:14,965 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
21:45:14,975 INFO common.Log4jPrint(20) - 进程名：860
21:45:14,975 INFO common.Log4jPrint(20) - trancom:3
21:45:14,975 INFO common.Log4jPrint(20) - FuncFlag:111
21:45:14,975 INFO common.Log4jPrint(20) - mHeadEle.getChildText860_3_111_in.xml
21:45:15,061 INFO common.Log4jPrint(20) - 进入更新后的InsPart
21:45:15,062 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 860,3,'13099','108011rv11468393261001200','5201300004',111,20161128,150051,-1,-1,'127.0.0.1','860_3_111_in.xml',20161128,214514,20161128,214514 )
21:45:15,116 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
21:45:15,117 INFO service.GreenTest(34) - Into GreenTest.service()...-->authorityCheck.submitData(mHeadEle)交易权限
21:45:15,163 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:45:15,164 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:45:15,165 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=860,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='0.154',Bak4='0.0010',Bak5=null,InNoDoc='860_3_111_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=214514,ModifyDate=20161128,ModifyTime=214515,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=860
21:45:15,181 INFO service.GreenTest(90) - Out GreenTest.service()!
21:45:15,182 INFO format.GreenTest(73) - Into GreenTest.std2NoStd()...
21:45:15,190 INFO format.GreenTestOutXsl(26) - Into GreenTestOutXsl.load()...
21:45:15,191 INFO format.GreenTestOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl...
21:45:15,192 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,196) and length=3402 bytes!
21:45:15,210 INFO format.GreenTestOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/GreenTestOut.xsl!
21:45:15,219 INFO format.GreenTestOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- #返回信息一 --><Ret_Inf_1><xsl:value-of select="BkDetail1" /></Ret_Inf_1><!-- #返回信息二 --><Ret_Inf_2><xsl:value-of select="Ret_Inf_2" /></Ret_Inf_2></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template></xsl:stylesheet>

21:45:15,220 INFO format.GreenTestOutXsl(64) - Out GreenTestOutXsl.load()!
21:45:15,227 INFO format.GreenTest(124) - Out GreenTest.std2NoStd()!
21:45:15,227 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
21:45:15,244 INFO common.SaveMessage(59) - 860_6_111_out.xml IO输出耗时:0.015s
21:45:15,244 INFO newNet.CcbNetImpl(178) - 保存报文完毕！860_6_111_out.xml
21:45:15,246 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>829</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>1756</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>1020010011487142051011147</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>754</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161128214514515</SYS_RECV_TIME><SYS_RESP_TIME>20161128214515226</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>00</SYS_TX_STATUS><SYS_RESP_CODE>000000000000</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>缁跨娴璇浜ゆ锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><Ret_Inf_1>????????</Ret_Inf_1><Ret_Inf_2>??????味?</Ret_Inf_2></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>108011rv11468393261001200</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002901014000600</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161117</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53818152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161128</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>108011rv11468393261001200</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

21:45:15,246 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
21:45:15,249 INFO test.NewCCBTestUI(444) - 返回报文长度：1752
21:45:15,251 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：1.793s
21:45:15,268 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
21:45:15,326 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:45:15,327 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=860
21:45:15,351 INFO common.Log4jPrint(20) - -------------------------
21:45:15,352 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
21:45:15,352 INFO common.Log4jPrint(20) - -------------------------
21:45:15,373 INFO common.Log4jPrint(20) - i=1
21:45:15,434 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
21:45:15,435 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
21:45:15,436 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=860,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='108011rv11468393261001200',Operator='5201300004',FuncFlag=111,TranDate=20161128,TranTime=150051,ProposalPrtNo=null,ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom='86',RCode=0,RText='绿灯测试交易成功！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='1.018',Bak4='0.0010',Bak5=null,InNoDoc='860_3_111_in.xml',MakeDate=20161128,InDoc=null,OutDoc=null,MakeTime=214514,ModifyDate=20161128,ModifyTime=214515,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='860_6_111_out.xml' where LogNo=860
21:45:15,452 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.097s
21:45:15,452 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
