09:25:27,374 DEBUG net.SocketListenerF5(40) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7bbf68a9
09:25:27,384 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:25:27,384 DEBUG common.SysInfo(30) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:25:27,384 DEBUG common.SysInfo(33) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:25:27,475 DEBUG common.SysInfo(42) - MIDPLAT_HOME = null
09:25:27,475 DEBUG common.SysInfo(68) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:25:27,475 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:25:27,475 INFO common.XmlConf(80) - conf file modified at (2017-01-04 17:18:44,578) and length=26178 bytes!
09:25:27,545 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:25:27,545 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:25:27,545 INFO common.Log4jPrint(20) - End reset System.out!
09:25:27,555 INFO net.SocketConf(27) - Into SocketConf.load()...
09:25:27,555 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:25:27,555 INFO common.XmlConf(80) - conf file modified at (2017-01-04 17:01:41,538) and length=789 bytes!
09:25:27,555 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:25:27,555 INFO net.SocketConf(60) - Out SocketConf.load()!
09:25:27,565 INFO net.SocketListenerF5(73) - Into SocketListenerF5.contextInitialized()...
09:25:27,575 INFO net.SocketListenerF5(91) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:25:27,575 INFO net.SocketListenerF5(104) - 0_Socket(农业银行)加载成功!
09:25:27,575 INFO net.SocketListenerF5$Server(194) - 监听端口 35006
09:25:27,575 INFO net.SocketListenerF5(91) - 1_Socket(贵州银行): port=35017; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:25:27,585 INFO net.SocketListenerF5(104) - 1_Socket(贵州银行)加载成功!
09:25:27,585 INFO net.SocketListenerF5(91) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:25:27,585 INFO net.SocketListenerF5$Server(194) - 监听端口 35017
09:25:27,585 INFO net.SocketListenerF5(104) - 2_Socket(中国银行)加载成功!
09:25:27,595 INFO net.SocketListenerF5(91) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:25:27,595 INFO net.SocketListenerF5$Server(194) - 监听端口 52004
09:25:27,595 INFO net.SocketListenerF5(104) - 3_Socket(建设银行)加载成功!
09:25:27,595 INFO net.SocketListenerF5(112) - Out SocketListenerF5.contextInitialized()!
09:25:27,595 INFO net.SocketListenerF5$Server(194) - 监听端口 39871
09:26:41,745 INFO newccb.NewCcbConf(28) - Into NewCcbConf.load()...
09:26:41,745 INFO newccb.NewCcbConf(32) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:26:41,755 INFO common.XmlConf(80) - conf file modified at (2017-01-04 17:01:41,537) and length=15234 bytes!
09:26:41,765 INFO newccb.NewCcbConf(49) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:26:41,786 INFO newccb.NewCcbConf(65) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><!-- <TranCom outcode="13">13</TranCom> --><TranCom outcode="13">03</TranCom><!-- 201612151117 --><CoreNo>010072</CoreNo><!-- <AgentCom>1301010001</AgentCom>代理机构编码:建设银行贵州贵阳世纪城网点 --><AgentCom>5201300003</AgentCom><!-- <preNet>com.sinosoft.midplat.newccb.net.NewCcbNetImpl</preNet> --><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><business><!-- 元素 --><name>实时投保</name><!-- 属性 --><funcFlag outcode="P53819113">1012</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.NewCont</format><service>com.sinosoft.midplat.newccb.service.NewContInput</service></business><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><!-- 交易 --><name>日终与保险公司对账（保全类）</name><!-- 交易名称 --><funcFlag outcode="P53817104">1048</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 银行网点 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 报文转换模块 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 业务处理模块 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/bq/</LocalDir><!-- 本地目录 --></business><business><!-- 交易 --><name>发送银行端单证信息</name><!-- 交易名称 --><funcFlag outcode="P53817105">3006</funcFlag><!-- 交易码 --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时时间 --><NodeNo>370684208</NodeNo><!-- 网点代码 --><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><!-- 服务类 --><CoreNo>010072</CoreNo><!-- 核心号 --><LocalDir>/ybttest/newccb/dz/</LocalDir><!-- 本地目录 --></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business><business><name>更新非实时业务状态</name><funcFlag outcode="P538191E4">1080</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.UpdateServiceStatus</format><service>com.sinosoft.midplat.newccb.service.ContUpdateServiceStatus</service></business><business><name>查询非实时缴费信息</name><funcFlag outcode="P53819153">1090</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPaymentInfo</format><service>com.sinosoft.midplat.newccb.service.NewQueryPaymentInfo</service></business></newccb>

09:26:41,796 INFO newccb.NewCcbConf(68) - Out NewCcbConf.load()!
09:26:41,796 DEBUG common.NoFactory(36) - ClusterId=2; ClusterCount=3
09:26:41,816 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:26:42,556 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:26:42,646 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:26:42,776 INFO midplat.Ybt4Socket(34) - TranLogNo:13565
09:26:42,776 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:26:42,786 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:26:42,786 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:26:42,786 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
09:26:42,817 ERROR midplat.Ybt4Socket(159) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:80)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:66)
09:26:42,827 INFO newNet.CcbNetImpl(104) - Into CcbNetImpl.send()...
09:26:42,827 INFO common.Log4jPrint(20) - ==================send====
09:26:42,827 ERROR midplat.Ybt4Socket(169) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:109)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:167)
09:26:43,957 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:26:43,957 INFO common.Log4jPrint(20) - null
09:26:43,957 INFO common.Log4jPrint(20) - null
09:26:43,957 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='null'
09:26:44,018 INFO common.Log4jPrint(20) - i=0
09:26:44,028 ERROR midplat.Ybt4Socket(178) - 查询Tranlog表异常!
09:26:44,038 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.252s
09:26:44,038 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
09:26:55,268 INFO midplat.Ybt4Socket(34) - TranLogNo:13571
09:26:55,268 INFO midplat.Ybt4Socket(48) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:26:55,268 INFO net.SocketNetImpl(40) - 客户端IP：127.0.0.1；服务端口：39871
09:26:55,268 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:26:55,268 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
09:26:55,278 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11414
09:26:55,289 INFO newNet.CcbNetImpl(54) - 新建行交易码为==P53819113
09:26:55,289 INFO newNet.CcbNetImpl(58) - mTranCom==============03
09:26:55,289 INFO newNet.CcbNetImpl(59) - AgentCom==============5201300003
09:26:55,439 DEBUG common.SaveMessage(23) - SavePath_HOME = f:\
09:26:55,439 DEBUG common.SaveMessage(41) - SavePath_HOME = f:/
09:26:55,449 INFO common.SaveMessage(94) - 13574_3_1012_in.xml IO输出耗时:0.01s
09:26:55,449 INFO newNet.CcbNetImpl(68) - 保存报文完毕！13574_3_1012_in.xml
09:26:55,459 INFO newNet.CcbNetImpl(95) - 增加标准报文头节点后报文：
09:26:55,459 INFO newNet.CcbNetImpl(99) - Out CcbNetImpl.receive()!
09:26:55,459 INFO midplat.Ybt4Socket(130) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
09:26:55,469 INFO format.NewCont(78) - Into NewCont.noStd2Std()...
09:26:55,479 INFO format.NewContInXsl(40) - Into NewContInXsl.load()...
09:26:55,479 INFO format.NewContInXsl(45) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
09:26:55,479 INFO common.XslCache(70) - conf file modified at (2017-01-05 18:07:52,034) and length=25795 bytes!
09:26:55,899 INFO format.NewContInXsl(63) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
09:26:55,909 INFO format.NewContInXsl(77) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><!-- 映射为核心国籍字段 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></Address><!--单位地址 --><WorkAddress><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></WorkAddress><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode><xsl:call-template name="tran_JobCode"><xsl:with-param name="JobCode"><xsl:value-of select="Plchd_Ocp_Cd" /></xsl:with-param></xsl:call-template></JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><!-- 核心字段 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /><!-- 新建行投保人和被保人关系类型代码字段 --></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><!-- 映射为核心国籍字段 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode><xsl:call-template name="tran_JobCode"><xsl:with-param name="JobCode"><xsl:value-of select="Rcgn_Ocp_Cd" /></xsl:with-param></xsl:call-template></JobCode><!-- 被保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Rcgn_Yr_IncmAm)" /></YearSalary><!-- 建行转核心请求XSL，核心字段写成建行字段 --><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><!-- 核心字段 --><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /><!-- 新建行受益人和被保人关系类型代码字段 --></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><!-- 万能型 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><!-- 缴费频次[方式]:趸交 --><PayEndYear>1000</PayEndYear><!-- 缴费年期年龄:1000 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期类型:年--></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><!-- 缴费年龄 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期 --></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><!-- 缴费期数 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 交费年期 --></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码:年领 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期类别代码为04[至某特定年龄] --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险期间类型为A[年龄] --><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期类别代码为05 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险期间类型为A --><!-- 保险年期年龄[保险期限] --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><!-- 否则，保险期间类型为保险周期代码 --><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><!-- 新建行请求报文国籍字段转换为核心请求报文国籍字段[新建行国籍：核心国籍] --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 124">CAN</xsl:if><!-- 加拿大 --><xsl:if test="$Nationality = 156">CHN</xsl:if><!--中国 --><xsl:if test="$Nationality = 158">TW</xsl:if><!--台湾 --><xsl:if test="$Nationality = 344">HK</xsl:if><!--香港 --><xsl:if test="$Nationality = 392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 410">KOR</xsl:if><!--韩国--><xsl:if test="$Nationality = 446">MO</xsl:if><!--澳门 --><xsl:if test="$Nationality = 643">RUS</xsl:if><!--俄罗斯联邦 --><xsl:if test="$Nationality = 826">ENG</xsl:if><!--英国--><xsl:if test="$Nationality = 840">USA</xsl:if><!--美国 --><xsl:if test="$Nationality = 999">OTH</xsl:if><!--其他国家和地区 --><xsl:if test="$Nationality = 036">AUS</xsl:if><!--澳大利亚--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式[保险年期类别] --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 一次:趸交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 按周期:年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 至某特定年龄[确定年] --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><!-- 邮寄 --><xsl:when test="$pbSendMode = 2">1</xsl:when><!-- 电子发送 --><xsl:when test="$pbSendMode = 3">1</xsl:when><!-- 指定柜台领取 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 居民身份证 --><xsl:when test="$idtype = '1011'">0</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1020'">2</xsl:when><!-- 军人身份证件 --><xsl:when test="$idtype = '1030'">2</xsl:when><!-- 武警身份证件 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1052'">1</xsl:when><!-- 外国护照 --><xsl:when test="$idtype = '1070'">F</xsl:when><!-- 港澳居民往来内地通行证 --><xsl:when test="$idtype = '1080'">F</xsl:when><!-- 台湾居民来往大陆通行证--><xsl:when test="$idtype = '1120'">1</xsl:when><!-- 外国人居留证--><xsl:when test="$idtype = '1999'">99</xsl:when><!-- 其他证件（个人） --><xsl:when test="$idtype = '2010'">99</xsl:when><!-- 营业执照 --><xsl:when test="$idtype = '2020'">99</xsl:when><!-- 组织机构代码证 --><xsl:when test="$idtype = '2030'">99</xsl:when><!-- 社会团体法人登记证书 --><xsl:when test="$idtype = '2040'">99</xsl:when><!-- 事业法人登记证书 --><xsl:when test="$idtype = '2090'">99</xsl:when><!-- 税务登记证 --><xsl:when test="$idtype = '2999'">99</xsl:when><!-- 其他证件（对公） --><xsl:otherwise><xsl:value-of select="99" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><!-- 投保人与被保人关系、受益人与被保人关系转换一致 --><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0132004">09</xsl:when><!--雇佣关系 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--子女:儿子 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--子女:女儿 --><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--祖孙:孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--祖孙:孙女--><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父母:父亲--><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--父母:母亲--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖孙:祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖孙:祖母--><xsl:when test="$RelaToInsured = 0133031">04</xsl:when><!--祖孙:外祖父--><xsl:when test="$RelaToInsured = 0133032">04</xsl:when><!--祖孙:外祖母--><xsl:when test="$RelaToInsured = 0133033">04</xsl:when><!--祖孙:外孙--><xsl:when test="$RelaToInsured = 0133034">04</xsl:when><!--祖孙:外孙女--><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133999">06</xsl:when><!-- 其他关系 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template><!--职业代码--><xsl:template name="tran_JobCode"><xsl:param name="JobCode" /><xsl:choose><xsl:when test="$JobCode = 'A0000'">1050104</xsl:when><!-- 工厂企业负责人--><xsl:when test="$JobCode = 'B0000'">2021301</xsl:when><!-- 计算机硬件技术人员 --><xsl:when test="$JobCode = 'C0000'">3030201</xsl:when><!-- 电信业务营业员 --><xsl:when test="$JobCode = 'D0000'">4030501</xsl:when><!-- 餐厅服务员 --><xsl:when test="$JobCode = 'E0000'">5010101</xsl:when><!-- 农夫 --><xsl:when test="$JobCode = 'F0000'">6051006</xsl:when><!-- 办公小机械制造装配工 --><xsl:when test="$JobCode = 'Y0000'">8000002</xsl:when><!-- 退休人员 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:26:55,909 INFO format.NewContInXsl(85) - Out NewContInXsl.load()!
09:26:56,069 INFO common.Log4jPrint(20) - sdfsdfsdfewre===6.0E7
09:26:56,069 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
09:26:56,069 INFO common.Log4jPrint(20) - sdfsdfsdfewre===0.0
09:26:56,089 INFO common.Log4jPrint(20) - ================0133010
09:26:56,089 INFO common.Log4jPrint(20) - ================02
09:26:56,089 INFO common.Log4jPrint(20) - ++++++++++++++++02
09:26:56,089 INFO format.NewCont(205) - Out NewCont.noStd2Std()!
09:26:56,089 INFO midplat.Ybt4Socket(139) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
09:26:56,099 INFO service.NewContInput(50) - Into NewContInput.service()...
09:26:56,099 DEBUG service.ServiceImpl(65) - Into ServiceImpl.insertTranLog()...
09:26:56,099 INFO common.Log4jPrint(20) - 进程名：13574
09:26:56,099 INFO common.Log4jPrint(20) - trancom:3
09:26:56,099 INFO common.Log4jPrint(20) - FuncFlag:1012
09:26:56,099 INFO common.Log4jPrint(20) - mHeadEle.getChildText13574_3_1012_in.xml
09:26:56,159 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:26:56,159 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 13574,3,'110378300','108011rv11482485308004450','93910092',1012,20170106,172847,'101011234567585',-1,-1,'??????','127.0.0.1','13574_3_1012_in.xml',20170106,92656,20170106,92656,'320177196306261011','??????','123456789','011A0100' )
09:26:56,189 DEBUG service.ServiceImpl(207) - Out ServiceImpl.insertTranLog()!
09:26:56,189 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='101011234567585' and MakeDate>=20170106 and MakeTime>=92336
09:26:56,359 ERROR service.NewContInput(241) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 受益人与被保人关系有误！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:117)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
09:26:56,420 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:26:56,420 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:26:56,420 INFO common.Log4jPrint(20) - 108011rv11482485308004450
09:26:56,420 INFO common.Log4jPrint(20) - 108011rv11482485308004450
09:26:56,420 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=13574,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11482485308004450',Operator='93910092',FuncFlag=1012,TranDate=20170106,TranTime=172847,ProposalPrtNo='101011234567585',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='受益人与被保人关系有误！',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='13574_3_1012_in.xml',MakeDate=20170106,InDoc=null,OutDoc=null,MakeTime=92656,ModifyDate=20170106,ModifyTime=92656,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='123456789',ProductId='011A0100',OutNoDoc=null where TranNo='108011rv11482485308004450'
09:26:56,510 INFO service.NewContInput(262) - Out NewContInput.service()!
09:26:56,510 INFO format.NewCont(211) - Into NewCont.std2NoStd()...
09:26:56,530 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
09:26:56,530 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
09:26:56,530 INFO common.XslCache(70) - conf file modified at (2017-01-04 16:45:10,102) and length=7233 bytes!
09:26:56,550 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
09:26:56,560 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="substring(/TranData/Body/ProposalPrtNo,1,13)" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:26:56,560 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
09:26:56,560 INFO format.NewCont(270) - Out NewCont.std2NoStd()!
09:26:56,560 INFO newNet.CcbNetImpl(104) - Into CcbNetImpl.send()...
09:26:56,570 INFO common.SaveMessage(94) - 13574_6_1012_out.xml IO输出耗时:0.0s
09:26:56,570 INFO newNet.CcbNetImpl(182) - 保存报文完毕！13574_6_1012_out.xml
09:26:56,580 INFO newNet.CcbNetImpl(185) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX>
   <TX_HEADER>
      <SYS_HDR_LEN>839</SYS_HDR_LEN>
      <SYS_PKG_VRSN>01</SYS_PKG_VRSN>
      <SYS_TTL_LEN>1942</SYS_TTL_LEN>
      <SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID>
      <SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID>
      <SYS_TX_TYPE>020000</SYS_TX_TYPE>
      <SYS_EVT_TRACE_ID>1020018031483262927006140</SYS_EVT_TRACE_ID>
      <SYS_SND_SERIAL_NO>1000000000</SYS_SND_SERIAL_NO>
      <SYS_PKG_TYPE>1</SYS_PKG_TYPE>
      <SYS_MSG_LEN>728</SYS_MSG_LEN>
      <SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
      <SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
      <SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
      <SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
      <SYS_RECV_TIME>20170106092655469</SYS_RECV_TIME>
      <SYS_RESP_TIME>20170106092656560</SYS_RESP_TIME>
      <SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE>
      <SYS_TX_STATUS>01</SYS_TX_STATUS>
      <SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE>
      <SYS_RESP_DESC_LEN>12</SYS_RESP_DESC_LEN>
      <SYS_RESP_DESC>受益人与被保人关系有误！</SYS_RESP_DESC>
   </TX_HEADER>
   <TX_BODY>
      <COMMON>
         <FILE_LIST_PACK>
            <FILE_NUM>0</FILE_NUM>
            <FILE_MODE>0</FILE_MODE>
            <FILE_NODE />
            <FILE_NAME_PACK />
            <FILE_PATH_PACK />
            <FILE_INFO>
               <FILE_NAME />
               <FILE_PATH />
            </FILE_INFO>
         </FILE_LIST_PACK>
      </COMMON>
      <ENTITY>
         <APP_ENTITY>
            <AgIns_Pkg_ID />
            <Cvr_Num>0</Cvr_Num>
            <Bu_List />
            <Ins_BillNo />
            <Tot_InsPrem_Amt />
            <Init_PyF_Amt />
            <Anulz_InsPrem_Amt />
            <Ins_Co_Acrdt_Stff_Nm />
            <InsCoAcrStCrQuaCtf_ID />
            <InsPrem_PyF_MtdCd />
            <AgInsRgAutoDdcn_AccNo />
            <EcIst_PyF_Amt_Inf />
            <InsPrem_PyF_Prd_Num />
            <InsPrem_PyF_Cyc_Cd />
         </APP_ENTITY>
         <COM_ENTITY>
            <Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
            <Ins_Co_ID>010079</Ins_Co_ID>
            <SvPt_Jrnl_No>108011rv11482485308004450</SvPt_Jrnl_No>
            <TXN_ITT_CHNL_ID>002911037830000        </TXN_ITT_CHNL_ID>
            <TXN_ITT_CHNL_CGY_CODE>20170029</TXN_ITT_CHNL_CGY_CODE>
            <CCBIns_ID>110378300</CCBIns_ID>
            <CCB_EmpID>93910092</CCB_EmpID>
            <OprgDay_Prd>20170101</OprgDay_Prd>
            <LNG_ID>zh-cn</LNG_ID>
            <SYS_TX_CODE>P53819113</SYS_TX_CODE>
            <Ins_Co_Acg_Dt />
            <Ins_Co_Jrnl_No />
            <Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel>
         </COM_ENTITY>
      </ENTITY>
   </TX_BODY>
</TX>


09:26:56,590 INFO newNet.CcbNetImpl(190) - Out CcbNetImpl.send()!
09:26:56,651 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:26:56,652 INFO common.Log4jPrint(20) - 108011rv11482485308004450
09:26:56,652 INFO common.Log4jPrint(20) - 108011rv11482485308004450
09:26:56,652 INFO common.Log4jPrint(20) - mSql: select * from TranLog where TranNo='108011rv11482485308004450'
09:26:56,742 INFO common.Log4jPrint(20) - -------------------------
09:26:56,742 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:26:56,742 INFO common.Log4jPrint(20) - -------------------------
09:26:56,752 INFO common.Log4jPrint(20) - i=1
09:26:56,802 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:26:56,802 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:26:56,802 INFO common.Log4jPrint(20) - 108011rv11482485308004450
09:26:56,802 INFO common.Log4jPrint(20) - 108011rv11482485308004450
09:26:56,802 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=13574,TranCom=3,ZoneNo=null,NodeNo='110378300',TranNo='108011rv11482485308004450',Operator='93910092',FuncFlag=1012,TranDate=20170106,TranTime=172847,ProposalPrtNo='101011234567585',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='受益人与被保人关系有误！',UsedTime=0,AppntName='??????',Bak1='127.0.0.1',Bak2=null,Bak3='1.484',Bak4=null,Bak5=null,InNoDoc='13574_3_1012_in.xml',MakeDate=20170106,InDoc=null,OutDoc=null,MakeTime=92656,ModifyDate=20170106,ModifyTime=92656,AppntIDNo='320177196306261011',InsuredName='??????',InsuredIDNo='123456789',ProductId='011A0100',OutNoDoc='13574_6_1012_out.xml' where TranNo='108011rv11482485308004450'
09:26:56,822 INFO midplat.Ybt4Socket(192) - 处理总耗时：1.554s
09:26:56,822 INFO midplat.Ybt4Socket(194) - Out Ybt4Socket.run()!
10:31:27,632 INFO format.NewContInXsl(40) - Into NewContInXsl.load()...
10:31:27,634 INFO format.NewContInXsl(45) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
10:31:27,636 INFO common.XslCache(70) - conf file modified at (2017-01-06 10:31:21,454) and length=25820 bytes!
10:31:27,708 INFO format.NewContInXsl(63) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
10:31:27,723 INFO format.NewContInXsl(77) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.no13To15(Ins_Bl_Prt_No)" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><!-- 映射为核心国籍字段 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></Address><!--单位地址 --><WorkAddress><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></WorkAddress><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode><xsl:call-template name="tran_JobCode"><xsl:with-param name="JobCode"><xsl:value-of select="Plchd_Ocp_Cd" /></xsl:with-param></xsl:call-template></JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><!-- 核心字段 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /><!-- 新建行投保人和被保人关系类型代码字段 --></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><!-- 映射为核心国籍字段 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode><xsl:call-template name="tran_JobCode"><xsl:with-param name="JobCode"><xsl:value-of select="Rcgn_Ocp_Cd" /></xsl:with-param></xsl:call-template></JobCode><!-- 被保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Rcgn_Yr_IncmAm)" /></YearSalary><!-- 建行转核心请求XSL，核心字段写成建行字段 --><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><!-- 核心字段 --><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /><!-- 新建行受益人和被保人关系类型代码字段 --></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><!-- 受益类型 --><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><!-- 万能型 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><!-- 缴费频次[方式]:趸交 --><PayEndYear>1000</PayEndYear><!-- 缴费年期年龄:1000 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期类型:年--></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><!-- 缴费年龄 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 缴费年期 --></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><!-- 缴费期数 --><PayEndYearFlag>Y</PayEndYearFlag><!-- 交费年期 --></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码:年领 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期类别代码为04[至某特定年龄] --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险期间类型为A[年龄] --><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期类别代码为05 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险期间类型为A --><!-- 保险年期年龄[保险期限] --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><!-- 否则，保险期间类型为保险周期代码 --><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><!-- 新建行请求报文国籍字段转换为核心请求报文国籍字段[新建行国籍：核心国籍] --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 124">CAN</xsl:if><!-- 加拿大 --><xsl:if test="$Nationality = 156">CHN</xsl:if><!--中国 --><xsl:if test="$Nationality = 158">TW</xsl:if><!--台湾 --><xsl:if test="$Nationality = 344">HK</xsl:if><!--香港 --><xsl:if test="$Nationality = 392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 410">KOR</xsl:if><!--韩国--><xsl:if test="$Nationality = 446">MO</xsl:if><!--澳门 --><xsl:if test="$Nationality = 643">RUS</xsl:if><!--俄罗斯联邦 --><xsl:if test="$Nationality = 826">ENG</xsl:if><!--英国--><xsl:if test="$Nationality = 840">USA</xsl:if><!--美国 --><xsl:if test="$Nationality = 999">OTH</xsl:if><!--其他国家和地区 --><xsl:if test="$Nationality = 036">AUS</xsl:if><!--澳大利亚--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式[保险年期类别] --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 一次:趸交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 按周期:年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 至某特定年龄[确定年] --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><!-- 邮寄 --><xsl:when test="$pbSendMode = 2">1</xsl:when><!-- 电子发送 --><xsl:when test="$pbSendMode = 3">1</xsl:when><!-- 指定柜台领取 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 居民身份证 --><xsl:when test="$idtype = '1011'">0</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1020'">2</xsl:when><!-- 军人身份证件 --><xsl:when test="$idtype = '1030'">2</xsl:when><!-- 武警身份证件 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1052'">1</xsl:when><!-- 外国护照 --><xsl:when test="$idtype = '1070'">F</xsl:when><!-- 港澳居民往来内地通行证 --><xsl:when test="$idtype = '1080'">F</xsl:when><!-- 台湾居民来往大陆通行证--><xsl:when test="$idtype = '1120'">1</xsl:when><!-- 外国人居留证--><xsl:when test="$idtype = '1999'">99</xsl:when><!-- 其他证件（个人） --><xsl:when test="$idtype = '2010'">99</xsl:when><!-- 营业执照 --><xsl:when test="$idtype = '2020'">99</xsl:when><!-- 组织机构代码证 --><xsl:when test="$idtype = '2030'">99</xsl:when><!-- 社会团体法人登记证书 --><xsl:when test="$idtype = '2040'">99</xsl:when><!-- 事业法人登记证书 --><xsl:when test="$idtype = '2090'">99</xsl:when><!-- 税务登记证 --><xsl:when test="$idtype = '2999'">99</xsl:when><!-- 其他证件（对公） --><xsl:otherwise><xsl:value-of select="99" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><!-- 投保人与被保人关系、受益人与被保人关系转换一致 --><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0132004">09</xsl:when><!--雇佣关系 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--子女:儿子 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--子女:女儿 --><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--祖孙:孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--祖孙:孙女--><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父母:父亲--><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--父母:母亲--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖孙:祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖孙:祖母--><xsl:when test="$RelaToInsured = 0133031">04</xsl:when><!--祖孙:外祖父--><xsl:when test="$RelaToInsured = 0133032">04</xsl:when><!--祖孙:外祖母--><xsl:when test="$RelaToInsured = 0133033">04</xsl:when><!--祖孙:外孙--><xsl:when test="$RelaToInsured = 0133034">04</xsl:when><!--祖孙:外孙女--><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133999">06</xsl:when><!-- 其他关系 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template><!--职业代码--><xsl:template name="tran_JobCode"><xsl:param name="JobCode" /><xsl:choose><xsl:when test="$JobCode = 'A0000'">1050104</xsl:when><!-- 工厂企业负责人--><xsl:when test="$JobCode = 'B0000'">2021301</xsl:when><!-- 计算机硬件技术人员 --><xsl:when test="$JobCode = 'C0000'">3030201</xsl:when><!-- 电信业务营业员 --><xsl:when test="$JobCode = 'D0000'">4030501</xsl:when><!-- 餐厅服务员 --><xsl:when test="$JobCode = 'E0000'">5010101</xsl:when><!-- 农夫 --><xsl:when test="$JobCode = 'F0000'">6051006</xsl:when><!-- 办公小机械制造装配工 --><xsl:when test="$JobCode = 'Y0000'">8000002</xsl:when><!-- 退休人员 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:31:27,724 INFO format.NewContInXsl(85) - Out NewContInXsl.load()!
17:19:10,798 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7cc792d4
17:19:10,879 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:19:10,882 DEBUG common.SysInfo(24) - basepath.r = /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:19:10,883 DEBUG common.SysInfo(26) - BasePath = /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/classes/
17:19:10,909 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
17:19:10,910 DEBUG common.SysInfo(48) - Home = /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/
17:19:10,911 INFO midplat.MidplatConf(35) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:19:10,914 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=23579 bytes!
17:19:11,320 INFO midplat.MidplatConf(51) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:19:11,327 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:19:11,328 INFO common.Log4jPrint(20) - End reset System.out!
17:19:11,375 INFO net.SocketConf(27) - Into SocketConf.load()...
17:19:11,375 INFO net.SocketConf(30) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:19:11,376 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=711 bytes!
17:19:11,380 INFO net.SocketConf(46) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:19:11,381 INFO net.SocketConf(60) - Out SocketConf.load()!
17:19:11,708 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
17:19:11,709 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:19:11,725 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
17:19:11,726 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:19:11,729 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
17:19:11,729 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:19:11,732 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
17:19:11,733 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
17:19:11,732 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
17:19:11,736 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:19:11,732 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
17:19:11,738 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
17:19:11,739 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
17:19:11,739 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
17:22:17,232 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
17:22:17,234 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
17:22:17,235 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@4e6d670a
17:22:17,236 INFO common.Log4jPrint(20) - Start revert System.out...
17:22:17,238 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
17:22:17,239 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:22:17,239 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:22:17,238 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:22:17,238 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:22:17,614 INFO boc.BocConf(22) - Into BocConf.load()...
17:22:17,615 INFO boc.BocConf(25) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/boc.xml...
17:22:17,616 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=3586 bytes!
17:22:17,621 INFO boc.BocConf(41) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/boc.xml!
17:22:17,622 INFO boc.BocConf(47) - Out BocConf.load()!
17:22:17,624 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
17:22:17,625 INFO newccb.NewCcbConf(28) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:22:17,625 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=14122 bytes!
17:22:17,637 INFO newccb.NewCcbConf(44) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:22:17,666 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

17:22:17,702 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
17:22:17,704 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
17:22:17,704 INFO gzbank.GZBankConf(25) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
17:22:17,705 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=1791 bytes!
17:22:17,708 INFO gzbank.GZBankConf(41) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
17:22:17,708 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
17:54:23,996 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@172fb0af
17:54:24,016 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:54:24,018 DEBUG common.SysInfo(24) - basepath.r = /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:54:24,019 DEBUG common.SysInfo(26) - BasePath = /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/classes/
17:54:24,020 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
17:54:24,021 DEBUG common.SysInfo(48) - Home = /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/
17:54:24,022 INFO midplat.MidplatConf(35) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:54:24,024 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=23579 bytes!
17:54:24,238 INFO midplat.MidplatConf(51) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:54:24,254 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:54:24,255 INFO common.Log4jPrint(20) - End reset System.out!
17:54:24,264 INFO net.SocketConf(27) - Into SocketConf.load()...
17:54:24,264 INFO net.SocketConf(30) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:54:24,266 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=711 bytes!
17:54:24,269 INFO net.SocketConf(46) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:54:24,270 INFO net.SocketConf(60) - Out SocketConf.load()!
17:54:24,337 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
17:54:24,338 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:54:24,353 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
17:54:24,354 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:54:24,359 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
17:54:24,361 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:54:24,361 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
17:54:24,359 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
17:54:24,373 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
17:54:24,374 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:54:24,374 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
17:54:24,384 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
17:54:24,384 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
17:54:24,385 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
17:54:56,923 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
17:54:56,923 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
17:54:56,924 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@a166bd
17:54:56,924 INFO common.Log4jPrint(20) - Start revert System.out...
17:54:56,925 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
17:54:56,925 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:54:56,926 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:54:56,927 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:54:56,926 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
17:54:57,204 INFO boc.BocConf(22) - Into BocConf.load()...
17:54:57,205 INFO boc.BocConf(25) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/boc.xml...
17:54:57,206 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=3586 bytes!
17:54:57,239 INFO boc.BocConf(41) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/boc.xml!
17:54:57,239 INFO boc.BocConf(47) - Out BocConf.load()!
17:54:57,241 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
17:54:57,241 INFO newccb.NewCcbConf(28) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:54:57,242 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=14122 bytes!
17:54:57,503 INFO newccb.NewCcbConf(44) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:54:57,754 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

17:54:57,805 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
17:54:57,807 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
17:54:57,808 INFO gzbank.GZBankConf(25) - Start load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
17:54:57,809 INFO common.XmlConf(62) - conf file modified at (2016-11-25 12:32:00,000) and length=1791 bytes!
17:54:57,814 INFO gzbank.GZBankConf(41) - End load /F:/Tomcat/apache-tomcat-6.0.47/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
17:54:57,815 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
