09:25:24,089 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
09:25:24,241 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:25:24,277 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:25:24,277 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:25:24,358 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:25:24,359 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:25:24,359 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:25:24,387 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,025) and length=23653 bytes!
09:25:24,503 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:25:24,561 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:25:24,562 INFO common.Log4jPrint(20) - End reset System.out!
09:25:24,579 INFO net.SocketConf(27) - Into SocketConf.load()...
09:25:24,580 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:25:24,581 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,028) and length=711 bytes!
09:25:24,617 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:25:24,618 INFO net.SocketConf(60) - Out SocketConf.load()!
09:25:24,742 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:25:24,743 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:25:24,863 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:25:24,864 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:25:24,864 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:25:25,005 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:25:25,005 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:25:25,006 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:25:25,023 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:25:25,023 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:25:25,023 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:25:25,033 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:25:25,033 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:25:25,033 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:26:45,966 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
09:26:45,967 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
09:26:45,969 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@6a6014f7
09:26:45,970 INFO common.Log4jPrint(20) - Start revert System.out...
09:26:45,971 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
09:26:46,032 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:26:46,032 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:26:46,032 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:26:46,032 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:26:46,283 INFO boc.BocConf(22) - Into BocConf.load()...
09:26:46,283 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
09:26:46,284 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,023) and length=3586 bytes!
09:26:46,290 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
09:26:46,290 INFO boc.BocConf(47) - Out BocConf.load()!
09:26:46,319 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
09:26:46,319 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:26:46,320 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,026) and length=14122 bytes!
09:26:46,337 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:26:46,353 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

09:26:46,354 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
09:26:46,367 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
09:26:46,368 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
09:26:46,368 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,024) and length=1791 bytes!
09:26:46,383 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
09:26:46,384 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
09:26:51,850 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@44f0853
09:26:51,859 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:26:51,864 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:26:51,865 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:26:51,867 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:26:51,867 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:26:51,868 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:26:51,872 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,025) and length=23653 bytes!
09:26:51,942 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:26:51,952 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:26:51,953 INFO common.Log4jPrint(20) - End reset System.out!
09:26:51,955 INFO net.SocketConf(27) - Into SocketConf.load()...
09:26:51,956 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:26:51,956 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,028) and length=711 bytes!
09:26:51,960 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:26:51,960 INFO net.SocketConf(60) - Out SocketConf.load()!
09:26:51,979 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:26:51,979 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:26:51,989 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:26:51,989 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:26:51,989 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:26:51,997 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:26:51,997 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:26:51,998 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:26:52,003 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:26:52,003 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:26:52,003 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:26:52,009 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:26:52,010 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:26:52,010 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:27:04,375 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
09:27:04,377 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
09:27:04,378 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@6257828d
09:27:04,379 INFO common.Log4jPrint(20) - Start revert System.out...
09:27:04,380 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
09:27:04,407 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:27:04,407 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:27:04,407 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:27:04,407 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:27:04,458 INFO boc.BocConf(22) - Into BocConf.load()...
09:27:04,458 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
09:27:04,459 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,023) and length=3586 bytes!
09:27:04,463 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
09:27:04,463 INFO boc.BocConf(47) - Out BocConf.load()!
09:27:04,477 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
09:27:04,477 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:27:04,478 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,026) and length=14122 bytes!
09:27:04,487 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:27:04,499 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

09:27:04,500 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
09:27:04,506 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
09:27:04,506 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
09:27:04,507 INFO common.XmlConf(62) - conf file modified at (2016-11-28 21:29:51,024) and length=1791 bytes!
09:27:04,510 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
09:27:04,510 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
09:27:18,455 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@55443800
09:27:18,463 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:27:18,468 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:27:18,468 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:27:18,470 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:27:18,471 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:27:18,471 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:27:18,475 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
09:27:18,552 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:27:18,562 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:27:18,563 INFO common.Log4jPrint(20) - End reset System.out!
09:27:18,566 INFO net.SocketConf(27) - Into SocketConf.load()...
09:27:18,567 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:27:18,568 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
09:27:18,572 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:27:18,573 INFO net.SocketConf(60) - Out SocketConf.load()!
09:27:18,591 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:27:18,592 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:27:18,602 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:27:18,602 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:27:18,603 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:27:18,610 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:27:18,610 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:27:18,610 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:27:18,617 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:27:18,617 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:27:18,618 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:27:18,623 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:27:18,623 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:27:18,623 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:28:24,167 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
09:28:24,178 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:28:24,182 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:28:24,183 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:28:24,185 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:28:24,186 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:28:24,186 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:28:24,191 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
09:28:24,285 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:28:24,297 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:28:24,298 INFO common.Log4jPrint(20) - End reset System.out!
09:28:24,300 INFO net.SocketConf(27) - Into SocketConf.load()...
09:28:24,301 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:28:24,302 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
09:28:24,305 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:28:24,306 INFO net.SocketConf(60) - Out SocketConf.load()!
09:28:24,330 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:28:24,331 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:28:24,345 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:28:24,346 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:28:24,346 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:28:24,355 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:28:24,355 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:28:24,357 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:28:24,365 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:28:24,366 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:28:24,365 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:28:24,374 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:28:24,375 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:28:24,374 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:29:08,114 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
09:29:08,114 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
09:29:08,114 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@7b19753
09:29:08,114 INFO common.Log4jPrint(20) - Start revert System.out...
09:29:08,114 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
09:29:08,130 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:29:08,130 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:29:08,130 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:29:08,130 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
09:29:08,162 INFO boc.BocConf(22) - Into BocConf.load()...
09:29:08,162 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
09:29:08,162 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
09:29:08,177 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
09:29:08,177 INFO boc.BocConf(47) - Out BocConf.load()!
09:29:08,193 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
09:29:08,193 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:29:08,193 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,702) and length=14122 bytes!
09:29:08,193 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:29:08,209 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

09:29:08,209 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
09:29:08,224 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
09:29:08,224 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
09:29:08,224 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,538) and length=1791 bytes!
09:29:08,224 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
09:29:08,224 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
09:29:25,178 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@71b8b3bb
09:29:25,178 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:29:25,178 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:29:25,178 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:29:25,193 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:29:25,193 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:29:25,193 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:29:25,193 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
09:29:25,272 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:29:25,288 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:29:25,288 INFO common.Log4jPrint(20) - End reset System.out!
09:29:25,288 INFO net.SocketConf(27) - Into SocketConf.load()...
09:29:25,288 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:29:25,288 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
09:29:25,288 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:29:25,288 INFO net.SocketConf(60) - Out SocketConf.load()!
09:29:25,303 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:29:25,303 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:29:25,319 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:29:25,319 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:29:25,319 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:29:25,319 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:29:25,319 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:29:25,319 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:29:25,335 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:29:25,335 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:29:25,335 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:29:25,335 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:29:25,335 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:29:25,335 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:29:35,200 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
09:29:35,215 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
09:29:35,215 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:29:35,215 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,702) and length=14122 bytes!
09:29:35,231 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:29:35,247 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
09:29:35,247 INFO test.NewCCBTestUI(430) - 收到返回报文！
09:29:35,247 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

09:29:35,247 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
09:29:35,263 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
09:29:35,279 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:29:36,124 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:29:36,171 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:29:36,233 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:29:36,266 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
09:29:36,281 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:29:36,281 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
09:29:36,297 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
09:29:36,297 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161127145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

09:29:36,312 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
09:29:36,312 INFO newNet.CcbNetImpl(58) - mTranCom==============03
09:29:36,500 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
09:29:36,500 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
09:29:36,515 INFO common.SaveMessage(59) - 866_3_1012_in.xml IO输出耗时:0.015s
09:29:36,515 INFO newNet.CcbNetImpl(68) - 保存报文完毕！866_3_1012_in.xml
09:29:36,515 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
09:29:36,515 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
09:29:36,515 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
09:29:36,546 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
09:29:36,640 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:29:36,640 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
09:29:36,640 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
09:29:37,139 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
09:29:37,155 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

09:29:37,155 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:29:37,404 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
09:29:37,404 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
09:29:37,437 INFO common.Log4jPrint(20) - ================0133011
09:29:37,437 INFO common.Log4jPrint(20) - ================03
09:29:37,437 INFO common.Log4jPrint(20) - ++++++++++++++++03
09:29:37,437 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
09:29:37,437 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
09:29:37,577 INFO service.NewContInput(43) - Into NewContInput.service()...
09:29:37,577 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
09:29:37,608 INFO common.Log4jPrint(20) - 进程名：866
09:29:37,608 INFO common.Log4jPrint(20) - trancom:3
09:29:37,608 INFO common.Log4jPrint(20) - FuncFlag:1012
09:29:37,608 INFO common.Log4jPrint(20) - mHeadEle.getChildText866_3_1012_in.xml
09:29:37,639 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:29:37,639 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 866,3,'13099','demaxiya200164','5201300004',1012,20161127,145205,'210414131200027',-1,-1,'????','127.0.0.1','866_3_1012_in.xml',20161129,92937,20161129,92937,'230803197906010035','????','230803197906010035','011A0100' )
09:29:37,655 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
09:29:37,655 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=92617
09:29:37,780 INFO common.RuleXsl(155) - Into RuleXsl.load()...
09:29:37,780 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
09:29:37,780 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
09:29:37,827 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
09:29:37,827 INFO common.RuleXsl(179) - Out RuleXsl.load()!
09:29:37,827 INFO common.RuleXml(198) - Into RuleXml.load()...
09:29:37,827 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
09:29:37,827 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,721) and length=10207 bytes!
09:29:37,827 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
09:29:37,827 INFO common.RuleXml(215) - Out RuleXml.load()!
09:29:37,827 INFO common.RuleParser(49) - Into RuleParser.check()...
09:29:37,827 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
09:29:37,858 INFO common.Log4jPrint(20) - 对邮编进行校验
09:29:37,858 INFO common.Log4jPrint(20) - 对邮编进行校验
09:29:37,858 INFO common.Log4jPrint(20) - 返回的结果是:0
09:29:37,858 INFO common.Log4jPrint(20) - 对邮编进行校验
09:29:37,858 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

09:29:37,873 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:103)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
09:29:37,936 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:29:37,936 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:29:37,936 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=866,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='866_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=92937,ModifyDate=20161129,ModifyTime=92937,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=866
09:29:37,951 INFO service.NewContInput(237) - Out NewContInput.service()!
09:29:37,951 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
09:29:37,998 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
09:29:37,998 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
09:29:37,998 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
09:29:38,029 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
09:29:38,045 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:29:38,045 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
09:29:38,045 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
09:29:38,045 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
09:29:38,061 INFO common.SaveMessage(59) - 866_6_1012_out.xml IO输出耗时:0.016s
09:29:38,061 INFO newNet.CcbNetImpl(178) - 保存报文完毕！866_6_1012_out.xml
09:29:38,061 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2046</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129092936546</SYS_RECV_TIME><SYS_RESP_TIME>20161129092938045</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

09:29:38,061 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
09:29:38,061 INFO test.NewCCBTestUI(444) - 返回报文长度：2042
09:29:38,076 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：2.846s
09:29:38,092 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:29:38,092 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=866
09:29:38,092 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
09:29:38,141 INFO common.Log4jPrint(20) - -------------------------
09:29:38,141 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:29:38,141 INFO common.Log4jPrint(20) - -------------------------
09:29:38,141 INFO common.Log4jPrint(20) - i=1
09:29:38,172 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:29:38,172 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:29:38,172 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=866,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='1.875',Bak4=null,Bak5=null,InNoDoc='866_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=92937,ModifyDate=20161129,ModifyTime=92937,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='866_6_1012_out.xml' where LogNo=866
09:29:38,187 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.921s
09:29:38,187 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
09:34:04,841 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4883d37a
09:34:04,857 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:34:04,857 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:34:04,857 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:34:04,857 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:34:04,857 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:34:04,857 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:34:04,857 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
09:34:04,936 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:34:04,936 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:34:04,936 INFO common.Log4jPrint(20) - End reset System.out!
09:34:04,952 INFO net.SocketConf(27) - Into SocketConf.load()...
09:34:04,952 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:34:04,952 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
09:34:04,952 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:34:04,952 INFO net.SocketConf(60) - Out SocketConf.load()!
09:34:04,967 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:34:04,967 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:34:04,983 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:34:04,983 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:34:04,983 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:34:04,983 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:34:04,983 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:34:04,983 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:34:04,998 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:34:04,998 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:34:04,998 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:34:04,998 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:34:04,998 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:34:04,998 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:34:10,387 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 4: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:150)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 3 more
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:150)
Caused by: org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	... 11 more
Caused by: 
org.apache.xerces.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.
	at org.apache.xerces.impl.io.UTF8Reader.invalidByte(Unknown Source)
	at org.apache.xerces.impl.io.UTF8Reader.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.scanData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanComment(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:63)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:150)
09:34:10,434 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
09:34:10,465 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
09:34:10,465 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:34:10,465 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,702) and length=14122 bytes!
09:34:10,481 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:34:10,498 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

09:34:10,498 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
09:34:10,498 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
09:34:10,513 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:34:11,137 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:34:11,231 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:34:11,293 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:34:11,293 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
09:34:11,293 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:34:11,293 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
09:34:11,309 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:75)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
09:34:11,324 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
09:34:11,324 INFO common.Log4jPrint(20) - ==================send====
09:34:11,324 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
09:34:11,857 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:34:11,857 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=872
09:34:12,217 INFO common.Log4jPrint(20) - i=0
09:34:12,263 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
09:34:12,263 INFO midplat.Ybt4Socket(170) - 处理总耗时：0.97s
09:34:12,263 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
09:34:33,044 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@2a801059
09:34:33,060 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:34:33,060 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:34:33,060 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:34:33,060 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:34:33,060 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:34:33,060 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:34:33,076 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
09:34:33,139 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:34:33,155 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:34:33,155 INFO common.Log4jPrint(20) - End reset System.out!
09:34:33,155 INFO net.SocketConf(27) - Into SocketConf.load()...
09:34:33,170 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:34:33,170 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
09:34:33,170 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:34:33,170 INFO net.SocketConf(60) - Out SocketConf.load()!
09:34:33,186 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:34:33,186 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:34:33,186 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:34:33,186 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:34:33,186 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:34:33,201 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:34:33,201 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:34:33,201 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:34:33,201 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:34:33,201 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:34:33,201 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:34:33,217 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:34:33,217 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:34:33,217 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:34:38,229 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
09:34:38,244 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
09:34:38,244 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:34:38,244 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,702) and length=14122 bytes!
09:34:38,260 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:34:38,260 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
09:34:38,260 INFO test.NewCCBTestUI(430) - 收到返回报文！
09:34:38,275 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

09:34:38,275 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
09:34:38,275 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
09:34:38,292 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:34:39,699 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:34:39,794 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:34:39,840 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:34:39,856 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
09:34:39,872 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:34:39,872 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
09:34:39,872 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
09:34:39,887 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161127145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

09:34:39,903 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
09:34:39,903 INFO newNet.CcbNetImpl(58) - mTranCom==============03
09:34:40,028 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
09:34:40,028 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
09:34:40,028 INFO common.SaveMessage(59) - 872_3_1012_in.xml IO输出耗时:0.0s
09:34:40,028 INFO newNet.CcbNetImpl(68) - 保存报文完毕！872_3_1012_in.xml
09:34:40,028 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
09:34:40,043 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
09:34:40,043 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
09:34:40,043 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
09:34:40,059 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:34:40,059 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
09:34:40,059 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
09:34:40,355 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
09:34:40,371 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

09:34:40,371 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:34:40,527 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
09:34:40,527 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
09:34:40,542 INFO common.Log4jPrint(20) - ================0133011
09:34:40,542 INFO common.Log4jPrint(20) - ================03
09:34:40,542 INFO common.Log4jPrint(20) - ++++++++++++++++03
09:34:40,542 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
09:34:40,542 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
09:34:40,558 INFO service.NewContInput(43) - Into NewContInput.service()...
09:34:40,558 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
09:34:40,574 INFO common.Log4jPrint(20) - 进程名：872
09:34:40,574 INFO common.Log4jPrint(20) - trancom:3
09:34:40,574 INFO common.Log4jPrint(20) - FuncFlag:1012
09:34:40,574 INFO common.Log4jPrint(20) - mHeadEle.getChildText872_3_1012_in.xml
09:34:40,636 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:34:40,636 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 872,3,'13099','demaxiya200164','5201300004',1012,20161127,145205,'210414131200027',-1,-1,'????','127.0.0.1','872_3_1012_in.xml',20161129,93440,20161129,93440,'230803197906010035','????','230803197906010035','011A0100' )
09:34:40,652 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
09:34:40,667 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=93120
09:34:40,776 INFO common.RuleXsl(155) - Into RuleXsl.load()...
09:34:40,776 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
09:34:40,776 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
09:34:40,840 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
09:34:40,840 INFO common.RuleXsl(179) - Out RuleXsl.load()!
09:34:40,840 INFO common.RuleXml(198) - Into RuleXml.load()...
09:34:40,840 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
09:34:40,840 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,721) and length=10207 bytes!
09:34:40,855 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
09:34:40,855 INFO common.RuleXml(215) - Out RuleXml.load()!
09:34:40,855 INFO common.RuleParser(49) - Into RuleParser.check()...
09:34:40,855 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
09:34:40,855 INFO common.Log4jPrint(20) - 对邮编进行校验
09:34:40,855 INFO common.Log4jPrint(20) - 对邮编进行校验
09:34:40,855 INFO common.Log4jPrint(20) - 返回的结果是:0
09:34:40,855 INFO common.Log4jPrint(20) - 对邮编进行校验
09:34:40,871 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

09:34:40,871 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:103)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
09:34:40,902 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:34:40,902 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:34:40,902 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=872,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='872_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=93440,ModifyDate=20161129,ModifyTime=93440,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=872
09:34:40,933 INFO service.NewContInput(237) - Out NewContInput.service()!
09:34:40,949 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
09:34:40,965 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
09:34:40,965 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
09:34:40,965 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
09:34:40,980 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
09:34:40,980 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:34:40,980 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
09:34:40,980 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
09:34:40,980 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
09:34:40,996 INFO common.SaveMessage(59) - 872_6_1012_out.xml IO输出耗时:0.0s
09:34:40,996 INFO newNet.CcbNetImpl(178) - 保存报文完毕！872_6_1012_out.xml
09:34:40,996 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2046</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129093440043</SYS_RECV_TIME><SYS_RESP_TIME>20161129093440980</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

09:34:40,996 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
09:34:40,996 INFO test.NewCCBTestUI(444) - 返回报文长度：2042
09:34:40,996 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：2.752s
09:34:41,011 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 2: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
Caused by: org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 4 more
Caused by: 
org.xml.sax.SAXParseException: The element type "SYS_RESP_DESC" must be terminated by the matching end-tag "</SYS_RESP_DESC>".
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at test.NewCCBTestUI.main(NewCCBTestUI.java:152)
09:34:41,496 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:34:41,496 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=872
09:34:41,887 INFO common.Log4jPrint(20) - -------------------------
09:34:41,887 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:34:41,887 INFO common.Log4jPrint(20) - -------------------------
09:34:41,950 INFO common.Log4jPrint(20) - i=1
09:34:42,372 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:34:42,372 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:34:42,372 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=872,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='2.078',Bak4=null,Bak5=null,InNoDoc='872_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=93440,ModifyDate=20161129,ModifyTime=93440,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='872_6_1012_out.xml' where LogNo=872
09:34:42,465 INFO midplat.Ybt4Socket(170) - 处理总耗时：2.593s
09:34:42,465 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
09:36:36,719 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
09:36:36,734 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
09:36:36,734 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
09:36:36,734 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
09:36:36,734 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
09:36:36,734 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
09:36:36,750 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
09:36:36,750 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
09:36:36,813 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
09:36:36,829 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
09:36:36,829 INFO common.Log4jPrint(20) - End reset System.out!
09:36:36,829 INFO net.SocketConf(27) - Into SocketConf.load()...
09:36:36,829 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
09:36:36,829 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
09:36:36,844 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
09:36:36,844 INFO net.SocketConf(60) - Out SocketConf.load()!
09:36:36,860 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
09:36:36,860 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
09:36:36,876 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
09:36:36,876 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
09:36:36,876 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
09:36:36,876 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
09:36:36,876 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
09:36:36,876 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
09:36:36,891 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
09:36:36,891 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
09:36:36,891 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
09:36:36,891 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
09:36:36,891 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
09:36:36,891 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
09:36:41,579 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
09:36:41,595 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
09:36:41,595 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
09:36:41,595 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,702) and length=14122 bytes!
09:36:41,595 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
09:36:41,595 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
09:36:41,595 INFO test.NewCCBTestUI(430) - 收到返回报文！
09:36:41,629 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

09:36:41,638 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
09:36:41,640 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
09:36:41,640 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
09:36:42,233 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
09:36:42,311 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
09:36:42,404 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
09:36:42,404 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
09:36:42,420 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
09:36:42,420 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
09:36:42,420 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
09:36:42,420 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

09:36:42,436 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
09:36:42,436 INFO newNet.CcbNetImpl(58) - mTranCom==============03
09:36:42,560 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
09:36:42,560 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
09:36:42,576 INFO common.SaveMessage(59) - 878_3_1012_in.xml IO输出耗时:0.016s
09:36:42,576 INFO newNet.CcbNetImpl(68) - 保存报文完毕！878_3_1012_in.xml
09:36:42,576 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
09:36:42,576 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
09:36:42,576 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
09:36:42,592 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
09:36:42,592 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
09:36:42,592 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
09:36:42,592 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
09:36:42,905 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
09:36:42,920 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

09:36:42,936 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
09:36:43,093 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
09:36:43,093 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
09:36:43,108 INFO common.Log4jPrint(20) - ================0133011
09:36:43,108 INFO common.Log4jPrint(20) - ================03
09:36:43,108 INFO common.Log4jPrint(20) - ++++++++++++++++03
09:36:43,108 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
09:36:43,108 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
09:36:43,124 INFO service.NewContInput(43) - Into NewContInput.service()...
09:36:43,124 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
09:36:43,140 INFO common.Log4jPrint(20) - 进程名：878
09:36:43,140 INFO common.Log4jPrint(20) - trancom:3
09:36:43,140 INFO common.Log4jPrint(20) - FuncFlag:1012
09:36:43,140 INFO common.Log4jPrint(20) - mHeadEle.getChildText878_3_1012_in.xml
09:36:43,202 INFO common.Log4jPrint(20) - 进入更新后的InsPart
09:36:43,202 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 878,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'????','127.0.0.1','878_3_1012_in.xml',20161129,93643,20161129,93643,'230803197906010035','????','230803197906010035','011A0100' )
09:36:43,218 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
09:36:43,218 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=93323
09:36:43,311 INFO common.RuleXsl(155) - Into RuleXsl.load()...
09:36:43,311 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
09:36:43,311 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
09:36:43,358 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
09:36:43,358 INFO common.RuleXsl(179) - Out RuleXsl.load()!
09:36:43,358 INFO common.RuleXml(198) - Into RuleXml.load()...
09:36:43,358 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
09:36:43,358 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,721) and length=10207 bytes!
09:36:43,358 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
09:36:43,358 INFO common.RuleXml(215) - Out RuleXml.load()!
09:36:43,358 INFO common.RuleParser(49) - Into RuleParser.check()...
09:36:43,358 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
09:36:43,374 INFO common.Log4jPrint(20) - 对邮编进行校验
09:36:43,374 INFO common.Log4jPrint(20) - 对邮编进行校验
09:36:43,374 INFO common.Log4jPrint(20) - 返回的结果是:0
09:36:43,374 INFO common.Log4jPrint(20) - 对邮编进行校验
09:36:43,374 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

09:36:43,374 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
09:36:43,374 INFO common.RuleParser(62) - Out RuleParser.check()!
09:36:43,374 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
09:36:43,420 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
09:36:43,420 INFO common.SaveMessage(59) - 878_6_0_inSvc.xml IO输出耗时:0.0s
09:36:43,420 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！878_6_0_inSvc.xml
09:36:43,420 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
09:36:43,420 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
09:36:44,638 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
09:36:50,183 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
09:36:50,183 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
09:36:50,183 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
09:36:50,183 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
09:36:50,183 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
09:36:50,199 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
09:36:50,199 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
09:36:50,199 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
09:36:50,199 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection refused: connect
09:36:50,199 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
09:36:50,199 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
09:36:50,199 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
09:36:50,199 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
09:36:50,199 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
09:36:50,199 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
09:36:50,199 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
09:36:50,199 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
09:36:50,199 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
09:36:50,199 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
09:36:50,199 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
09:36:50,214 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
09:36:50,215 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
09:36:50,215 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
09:36:50,215 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
09:36:50,215 INFO common.Log4jPrint(20) - 	... 13 more
09:36:50,215 INFO common.Log4jPrint(20) - -----------------------------------------------
09:36:50,215 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
09:36:50,215 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
09:36:50,278 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:36:50,278 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:36:50,278 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=878,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=7,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='878_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=93643,ModifyDate=20161129,ModifyTime=93650,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=878
09:36:50,293 INFO service.NewContInput(237) - Out NewContInput.service()!
09:36:50,293 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
09:36:50,325 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
09:36:50,325 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
09:36:50,325 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
09:36:50,325 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
09:36:50,340 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

09:36:50,340 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
09:36:50,340 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
09:36:50,340 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
09:36:50,356 INFO common.SaveMessage(59) - 878_9_1012_out.xml IO输出耗时:0.016s
09:36:50,356 INFO newNet.CcbNetImpl(178) - 保存报文完毕！878_9_1012_out.xml
09:36:50,356 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2019</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129093642592</SYS_RECV_TIME><SYS_RESP_TIME>20161129093650340</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

09:36:50,356 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
09:36:50,356 INFO test.NewCCBTestUI(444) - 返回报文长度：2029
09:36:50,356 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：8.761s
09:36:50,387 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:36:50,387 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=878
09:36:50,405 INFO common.Log4jPrint(20) - -------------------------
09:36:50,405 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
09:36:50,405 INFO common.Log4jPrint(20) - -------------------------
09:36:50,420 INFO common.Log4jPrint(20) - i=1
09:36:50,451 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
09:36:50,451 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
09:36:50,451 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=878,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=7,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='8.0',Bak4=null,Bak5=null,InNoDoc='878_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=93643,ModifyDate=20161129,ModifyTime=93650,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='878_9_1012_out.xml' where LogNo=878
09:36:50,483 INFO midplat.Ybt4Socket(170) - 处理总耗时：8.063s
09:36:50,483 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:18:00,435 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
10:18:00,450 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:18:00,450 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:18:00,450 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:18:00,450 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:18:00,450 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:18:00,450 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:18:00,450 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:18:00,528 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:18:00,544 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:18:00,544 INFO common.Log4jPrint(20) - End reset System.out!
10:18:00,544 INFO net.SocketConf(27) - Into SocketConf.load()...
10:18:00,544 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:18:00,544 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:18:00,544 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:18:00,606 INFO net.SocketConf(60) - Out SocketConf.load()!
10:18:00,606 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:18:00,622 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:18:00,623 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:18:00,623 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:18:00,623 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:18:00,638 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:18:00,638 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:18:00,638 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:18:00,638 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:18:00,638 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:18:00,638 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:18:00,638 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:18:00,638 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:18:00,638 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:18:07,105 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
10:18:07,120 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
10:18:07,120 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
10:18:07,120 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,702) and length=14122 bytes!
10:18:07,136 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
10:18:07,136 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
10:18:07,136 INFO test.NewCCBTestUI(430) - 收到返回报文！
10:18:07,152 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

10:18:07,167 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
10:18:07,167 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:18:07,167 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:18:09,308 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:18:09,825 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:18:10,482 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:18:10,498 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
10:18:10,498 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:18:10,498 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
10:18:10,498 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
10:18:10,515 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

10:18:10,530 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
10:18:10,530 INFO newNet.CcbNetImpl(58) - mTranCom==============03
10:18:10,655 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:18:10,655 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:18:10,671 INFO common.SaveMessage(59) - 884_3_1012_in.xml IO输出耗时:0.016s
10:18:10,671 INFO newNet.CcbNetImpl(68) - 保存报文完毕！884_3_1012_in.xml
10:18:10,671 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
10:18:10,671 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
10:18:10,671 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
10:18:10,671 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
10:18:10,686 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:18:10,686 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
10:18:10,686 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
10:18:10,998 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
10:18:11,014 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

10:18:11,014 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:18:11,170 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
10:18:11,170 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:18:11,185 INFO common.Log4jPrint(20) - ================0133011
10:18:11,185 INFO common.Log4jPrint(20) - ================03
10:18:11,185 INFO common.Log4jPrint(20) - ++++++++++++++++03
10:18:11,185 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
10:18:11,185 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
10:18:11,201 INFO service.NewContInput(43) - Into NewContInput.service()...
10:18:11,201 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:18:11,217 INFO common.Log4jPrint(20) - 进程名：884
10:18:11,217 INFO common.Log4jPrint(20) - trancom:3
10:18:11,217 INFO common.Log4jPrint(20) - FuncFlag:1012
10:18:11,217 INFO common.Log4jPrint(20) - mHeadEle.getChildText884_3_1012_in.xml
10:18:11,513 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:18:11,513 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 884,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'????','127.0.0.1','884_3_1012_in.xml',20161129,101811,20161129,101811,'230803197906010035','????','230803197906010035','011A0100' )
10:18:11,545 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:18:11,545 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=101451
10:18:12,420 INFO common.RuleXsl(155) - Into RuleXsl.load()...
10:18:12,420 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
10:18:12,420 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
10:18:12,467 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
10:18:12,467 INFO common.RuleXsl(179) - Out RuleXsl.load()!
10:18:12,467 INFO common.RuleXml(198) - Into RuleXml.load()...
10:18:12,467 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
10:18:12,467 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,721) and length=10207 bytes!
10:18:12,482 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
10:18:12,482 INFO common.RuleXml(215) - Out RuleXml.load()!
10:18:12,482 INFO common.RuleParser(49) - Into RuleParser.check()...
10:18:12,482 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
10:18:12,482 INFO common.Log4jPrint(20) - 对邮编进行校验
10:18:12,482 INFO common.Log4jPrint(20) - 对邮编进行校验
10:18:12,482 INFO common.Log4jPrint(20) - 返回的结果是:0
10:18:12,482 INFO common.Log4jPrint(20) - 对邮编进行校验
10:18:12,498 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

10:18:12,498 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
10:18:12,498 INFO common.RuleParser(62) - Out RuleParser.check()!
10:18:12,498 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
10:18:12,513 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
10:18:12,513 INFO common.SaveMessage(59) - 884_6_0_inSvc.xml IO输出耗时:0.0s
10:18:12,513 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！884_6_0_inSvc.xml
10:18:12,513 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
10:18:12,513 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
10:18:12,765 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
10:18:20,311 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
10:18:20,311 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
10:18:20,311 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
10:18:20,311 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
10:18:20,311 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
10:18:20,326 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
10:18:20,326 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
10:18:20,326 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:18:20,326 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection refused: connect
10:18:20,326 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
10:18:20,326 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
10:18:20,326 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
10:18:20,326 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
10:18:20,326 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
10:18:20,326 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
10:18:20,326 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
10:18:20,326 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
10:18:20,326 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
10:18:20,326 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
10:18:20,326 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
10:18:20,342 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
10:18:20,343 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
10:18:20,343 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
10:18:20,343 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
10:18:20,343 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
10:18:20,343 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
10:18:20,343 INFO common.Log4jPrint(20) - 	... 13 more
10:18:20,343 INFO common.Log4jPrint(20) - -----------------------------------------------
10:18:20,343 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
10:18:20,343 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:18:20,780 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:18:20,780 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:18:20,780 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=884,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=9,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='884_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=101811,ModifyDate=20161129,ModifyTime=101820,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=884
10:18:20,811 INFO service.NewContInput(237) - Out NewContInput.service()!
10:18:20,811 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
10:18:20,827 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
10:18:20,827 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
10:18:20,827 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
10:18:20,842 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
10:18:20,858 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:18:20,858 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
10:18:20,858 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
10:18:20,858 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
10:18:20,873 INFO common.SaveMessage(59) - 884_9_1012_out.xml IO输出耗时:0.015s
10:18:20,873 INFO newNet.CcbNetImpl(178) - 保存报文完毕！884_9_1012_out.xml
10:18:20,873 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2019</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129101810686</SYS_RECV_TIME><SYS_RESP_TIME>20161129101820858</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

10:18:20,873 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
10:18:20,873 INFO test.NewCCBTestUI(444) - 返回报文长度：2029
10:18:20,873 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：13.753s
10:18:22,435 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:18:22,451 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=884
10:18:23,078 INFO common.Log4jPrint(20) - -------------------------
10:18:23,078 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:18:23,094 INFO common.Log4jPrint(20) - -------------------------
10:18:23,281 INFO common.Log4jPrint(20) - i=1
10:18:23,359 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:18:23,359 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:18:23,359 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=884,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=9,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='12.783',Bak4=null,Bak5=null,InNoDoc='884_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=101811,ModifyDate=20161129,ModifyTime=101820,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='884_9_1012_out.xml' where LogNo=884
10:18:23,484 INFO midplat.Ybt4Socket(170) - 处理总耗时：12.986s
10:18:23,484 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:34:17,617 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4883d37a
10:34:17,632 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:34:17,632 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:34:17,632 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:34:17,632 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:34:17,632 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:34:17,665 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:34:17,666 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:34:17,760 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:34:17,760 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:34:17,776 INFO common.Log4jPrint(20) - End reset System.out!
10:34:17,776 INFO net.SocketConf(27) - Into SocketConf.load()...
10:34:17,776 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:34:17,776 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:34:17,776 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:34:17,776 INFO net.SocketConf(60) - Out SocketConf.load()!
10:34:17,791 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:34:17,791 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:34:17,807 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:34:17,807 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:34:17,807 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:34:17,807 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:34:17,807 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:34:17,807 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:34:17,807 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:34:17,807 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:34:17,807 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:34:17,822 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:34:17,822 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:34:17,822 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:34:42,754 INFO test.NewCCBTestUI(404) - Socket连接127.0.0.1:39871
10:34:42,754 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
10:34:42,754 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
10:34:42,754 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,702) and length=14122 bytes!
10:34:42,770 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
10:34:42,770 INFO test.NewCCBTestUI(416) - 请求报文长度：8879
10:34:42,770 INFO test.NewCCBTestUI(430) - 收到返回报文！
10:34:42,786 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

10:34:42,786 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
10:34:42,802 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:34:42,802 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:34:44,487 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:34:44,974 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:34:45,176 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
10:34:45,192 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
10:34:45,192 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:34:45,192 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
10:34:45,208 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：8879
10:34:45,208 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="GBK"?>
<TX><TX_HEADER><!--Э?l???--><SYS_HDR_LEN>0</SYS_HDR_LEN><!--Э?l???????--><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--??????Z??????Э??汾???01??--><SYS_TTL_LEN>0</SYS_TTL_LEN><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--???????????--><SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--?????????????--><SYS_TX_CODE>P53819113</SYS_TX_CODE><!--??????--><SYS_TX_VRSN>01</SYS_TX_VRSN><!--????汾??--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!--????????--><SYS_RESERVED /><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--???????????--><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--????????--><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>0</SYS_MSG_LEN><!--????????????,0????????δ????,1????????????????????????,2:?????????????μ???,3????????????????--><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--???????????--><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--????????????,0:δ???--><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--??????????(yyyyMMddHHmmssNNN)--><SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--????????????--><SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--??????????,00:??????--></TX_HEADER><TX_BODY><!--??????--><COMMON><!--?????--><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /></FILE_LIST_PACK></COMMON><ENTITY><!--?????--><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???л???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID></COM_ENTITY><APP_ENTITY><!--?????--><Plchd_Nm>????</Plchd_Nm><Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--???????????--><Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--????????--><Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--??????????--><Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No><Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--?????Ч????--><Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--????Ч????--><Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--?????????--><PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--??????????--><Plchd_City_Cd>110000</Plchd_City_Cd><!--??????д???--><Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--????????????--><Plchd_Dtl_Adr_Cntnt>????????????????????125??</Plchd_Dtl_Adr_Cntnt><!--??????????--><Plchd_Comm_Adr>????????????????????125??</Plchd_Comm_Adr><!--??????????--><Plchd_ZipECD>100086</Plchd_ZipECD><!--?????????????--><PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--????绰??????--><PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--????绰???????--><Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--????绰????--><PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--????绰??????--><Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--????绰????--><Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr><Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--???????????--><Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--?????????????--><Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--???????????--><InsPrem_Bdgt_Amt /><Rsdnt_TpCd>1</Rsdnt_TpCd><!--???????????--><RspbPsn_Nm /><Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--????????????????????--><Rcgn_Nm>????</Rcgn_Nm><Rcgn_CPA_FullNm /><Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd><Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt><Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd><Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No><Rcgn_Crdt_EfDt /><Rcgn_Crdt_ExpDt /><Rcgn_Nat_Cd>156</Rcgn_Nat_Cd><RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd><Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd><Rcgn_City_Cd>110000</Rcgn_City_Cd><Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd><Rcgn_Dtl_Adr_Cntnt>????????????????????125??</Rcgn_Dtl_Adr_Cntnt><Rcgn_Comm_Adr>????????????????????125??</Rcgn_Comm_Adr><Rcgn_ZipECD>100086</Rcgn_ZipECD><RcgnFixTelItnl_DstcNo /><RcgnFixTelDmst_DstcNo /><Rcgn_Fix_TelNo /><RcgnMoveTelItnlDstcNo /><Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo><Rcgn_Email_Adr /><Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd><Rcgn_Yr_IncmAm /><Rcgn_LvFr_Pps_Lnd_Num /><Pps_List /><Benf_Num>2</Benf_Num><!--?????????--><Benf_List><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--?????????????--><Benf_SN>1</Benf_SN><!--?????????--><Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--?????????????--><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--??????--><Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--????????--><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--??????????--><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--?????????????????????--><Bnft_Pct>1.0000</Bnft_Pct><!--???????--><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail><Benf_Detail><AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><Benf_SN>2</Benf_SN><Benf_Bnft_Seq>2</Benf_Bnft_Seq><Benf_Nm>С????</Benf_Nm><Benf_Gnd_Cd>02</Benf_Gnd_Cd><Benf_Brth_Dt>19950101</Benf_Brth_Dt><Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><Benf_Crdt_No>000000111</Benf_Crdt_No><Benf_Crdt_EfDt /><Benf_Crdt_ExpDt /><Benf_Nat_Cd /><Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><Bnft_Pct>1.0000</Bnft_Pct><BenfCtcAdr_CtyRgon_Cd /><Benf_Prov_Cd /><Benf_City_Cd /><Benf_CntyAndDstc_Cd /><Benf_Dtl_Adr_Cntnt /><Benf_Comm_Adr /></Benf_Detail></Benf_List><AgIns_Pkg_ID /><!--???????????--><Cvr_Num>1</Cvr_Num><!--???????--><Busi_List><Busi_Detail><Cvr_ID>011A0100</Cvr_ID><Cvr_Nm>????????????</Cvr_Nm><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--????????--><Ins_Cps>199</Ins_Cps><!--???????--><InsPrem_Amt>199000.00</InsPrem_Amt><!--??????--><Ins_Cvr /><Ins_Scm_Inf /><Opt_Part_DieIns_Amt /><FTm_Extr_Adl_InsPrem /><Emgr_CtcPsn /><EmgrCtcPsnAndRcReTpCd /><Emgr_Ctc_Tel /><AgIns_Ln_Ctr_ID /><Ln_Ctr_ExpDt /><Upd_Loan_Amt /><PrimBlInsPolcyVchr_No /><InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--????????????--><InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--??????????--><InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--?????????????--><ExpPrmmRcvModCgyCd /><SvBnf_Drw_Cyc_Cd /><ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--??????????--><XtraDvdn_Pcsg_MtdCd /><RdAmtPyCls_Ind /><Anuty_Drw_CgyCd /><Anuty_Drw_Prd_Num /><Anuty_Drw_Cyc_Cd /><Anuty_Pcsg_MtdCd /><Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--??????????????--><Ins_Ddln>5</Ins_Ddln><!--????????--><Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--???????????--><Ivs_MtdCd /><Auto_RnwCv_Ind /><Rsrv_Fld_1 /><Rsrv_Fld_2 /><Rsrv_Fld_3 /><Rsrv_Fld_4 /><Rsrv_Fld_5 /><Rsrv_Fld_6 /><Rsrv_Fld_7 /><Rsrv_Fld_8 /><Rsrv_Fld_9 /><Rsrv_Fld_10 /><IvsAc_Num>0</IvsAc_Num><!--??????????--><PayAcctCode_List /></Busi_Detail></Busi_List><Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--???????--><Minr_Acm_Cvr /><InsPolcy_Pswd /><Inv_No /><Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--?????????--><Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--??????????--><Dspt_Arbtr_Inst_Nm /><InsPolcy_Rcv_MtdCd /><Ins_Prj_CgyCd /><PydFeeOutBill_CgyCd /><InsPolcyActSaleRgonID /><Ins_CsLs_Prvd_Rgon_ID /><Pstcrpt_Rmrk /><InsPolcy_Intnd_EfDt /><InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--???????????????--><CstMgr_Blng_CCBIns_ID /><Lv1_Br_No>110000000</Lv1_Br_No><!--??????к?--><BO_Nm>?й??????й??????????????????</BO_Nm><!--??????--><BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--??????????????????????--><BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--????????????????????Ч????--><BO_Sale_Stff_Nm>???</BO_Sale_Stff_Nm><!--??????????????--><BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--?????????????--><Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--??????????????????????????--><InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--????????????????????Ч????--><BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--???????????????????--><BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--?????????????????????--><Rnew_PyF_PyMd_Cd /><Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--??????????--><Plchd_Drw_AccNo /><Rcgn_AccNo /><Benf_AccNo /><Rsrv_Fld_11 /><Rsrv_Fld_12 /><Rsrv_Fld_13 /><Rsrv_Fld_14 /><Rsrv_Fld_15 /><Rsrv_Fld_16 /><Rsrv_Fld_17 /><Rsrv_Fld_18 /><Rsrv_Fld_19 /><Rsrv_Fld_20 /><Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--??????????????????--><Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--?????????Ч??--></APP_ENTITY></ENTITY></TX_BODY><TX_EMB /></TX>

10:34:45,254 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
10:34:45,254 INFO newNet.CcbNetImpl(58) - mTranCom==============03
10:34:45,364 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:34:45,364 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:34:45,364 INFO common.SaveMessage(59) - 890_3_1012_in.xml IO输出耗时:0.0s
10:34:45,364 INFO newNet.CcbNetImpl(68) - 保存报文完毕！890_3_1012_in.xml
10:34:45,379 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
10:34:45,379 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
10:34:45,379 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
10:34:45,379 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
10:34:45,395 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
10:34:45,395 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
10:34:45,395 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
10:34:45,691 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
10:34:45,724 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

10:34:45,726 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
10:34:45,866 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
10:34:45,897 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
10:34:45,913 INFO common.Log4jPrint(20) - ================0133011
10:34:45,913 INFO common.Log4jPrint(20) - ================03
10:34:45,913 INFO common.Log4jPrint(20) - ++++++++++++++++03
10:34:45,913 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
10:34:45,913 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
10:34:45,913 INFO service.NewContInput(43) - Into NewContInput.service()...
10:34:45,913 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:34:45,929 INFO common.Log4jPrint(20) - 进程名：890
10:34:45,929 INFO common.Log4jPrint(20) - trancom:3
10:34:45,929 INFO common.Log4jPrint(20) - FuncFlag:1012
10:34:45,929 INFO common.Log4jPrint(20) - mHeadEle.getChildText890_3_1012_in.xml
10:34:46,147 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:34:46,147 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 890,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'????','127.0.0.1','890_3_1012_in.xml',20161129,103445,20161129,103445,'230803197906010035','????','230803197906010035','011A0100' )
10:34:46,256 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:34:46,256 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=103126
10:34:46,725 INFO common.RuleXsl(155) - Into RuleXsl.load()...
10:34:46,725 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
10:34:46,725 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
10:34:46,804 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
10:34:46,804 INFO common.RuleXsl(179) - Out RuleXsl.load()!
10:34:46,804 INFO common.RuleXml(198) - Into RuleXml.load()...
10:34:46,804 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
10:34:46,804 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,721) and length=10207 bytes!
10:34:46,804 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
10:34:46,804 INFO common.RuleXml(215) - Out RuleXml.load()!
10:34:46,804 INFO common.RuleParser(49) - Into RuleParser.check()...
10:34:46,804 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
10:34:46,820 INFO common.Log4jPrint(20) - 对邮编进行校验
10:34:46,820 INFO common.Log4jPrint(20) - 对邮编进行校验
10:34:46,820 INFO common.Log4jPrint(20) - 返回的结果是:0
10:34:46,820 INFO common.Log4jPrint(20) - 对邮编进行校验
10:34:46,820 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

10:34:46,820 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
10:34:46,820 INFO common.RuleParser(62) - Out RuleParser.check()!
10:34:46,820 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
10:34:46,835 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
10:34:46,835 INFO common.SaveMessage(59) - 890_6_0_inSvc.xml IO输出耗时:0.0s
10:34:46,835 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！890_6_0_inSvc.xml
10:34:46,835 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
10:34:46,835 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
10:34:47,085 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
10:34:52,117 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
10:34:52,117 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
10:34:52,117 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
10:34:52,117 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
10:34:52,117 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
10:34:52,133 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
10:34:52,133 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
10:34:52,133 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:34:52,133 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection refused: connect
10:34:52,133 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
10:34:52,133 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
10:34:52,133 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
10:34:52,133 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
10:34:52,133 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
10:34:52,133 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
10:34:52,133 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
10:34:52,133 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
10:34:52,133 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
10:34:52,133 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
10:34:52,133 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
10:34:52,148 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
10:34:52,149 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
10:34:52,149 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
10:34:52,149 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
10:34:52,149 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
10:34:52,149 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
10:34:52,149 INFO common.Log4jPrint(20) - 	... 13 more
10:34:52,149 INFO common.Log4jPrint(20) - -----------------------------------------------
10:34:52,149 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
10:34:52,149 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:34:52,430 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:34:52,430 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:34:52,430 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=890,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=6,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='890_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=103445,ModifyDate=20161129,ModifyTime=103452,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=890
10:34:52,461 INFO service.NewContInput(237) - Out NewContInput.service()!
10:34:52,461 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
10:34:52,493 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
10:34:52,493 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
10:34:52,493 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
10:34:52,508 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
10:34:52,524 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:34:52,524 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
10:34:52,524 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
10:34:52,524 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
10:34:52,524 INFO common.SaveMessage(59) - 890_9_1012_out.xml IO输出耗时:0.0s
10:34:52,524 INFO newNet.CcbNetImpl(178) - 保存报文完毕！890_9_1012_out.xml
10:34:52,524 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2019</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129103445379</SYS_RECV_TIME><SYS_RESP_TIME>20161129103452524</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--??????--><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--?????????--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--?????????--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--??????????????--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--??????????????--><CCBIns_ID>13099</CCBIns_ID><!--???谢???&??????--><CCB_EmpID>5201300004</CCB_EmpID><!--??????????&???????--><OprgDay_Prd>20150921</OprgDay_Prd><!--??????--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

10:34:52,524 INFO test.NewCCBTestUI(444) - 返回报文长度：2029
10:34:52,524 INFO test.NewCCBTestUI(448) - 客户端接收返回报文完毕！耗时：9.77s
10:34:52,524 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
10:34:52,699 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:34:52,699 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=890
10:34:52,949 INFO common.Log4jPrint(20) - -------------------------
10:34:52,949 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:34:52,949 INFO common.Log4jPrint(20) - -------------------------
10:34:53,058 INFO common.Log4jPrint(20) - i=1
10:34:53,245 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:34:53,245 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:34:53,245 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=890,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=6,AppntName='????',Bak1='127.0.0.1',Bak2=null,Bak3='7.866',Bak4=null,Bak5=null,InNoDoc='890_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=103445,ModifyDate=20161129,ModifyTime=103452,AppntIDNo='230803197906010035',InsuredName='????',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='890_9_1012_out.xml' where LogNo=890
10:34:53,465 INFO midplat.Ybt4Socket(170) - 处理总耗时：8.273s
10:34:53,465 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:43:41,905 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4631ff23
10:43:41,905 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:43:41,920 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:43:41,920 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:43:41,920 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:43:41,920 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:43:41,920 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:43:41,920 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:43:41,998 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:43:41,998 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:43:41,998 INFO common.Log4jPrint(20) - End reset System.out!
10:43:42,014 INFO net.SocketConf(27) - Into SocketConf.load()...
10:43:42,014 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:43:42,014 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:43:42,014 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:43:42,014 INFO net.SocketConf(60) - Out SocketConf.load()!
10:43:42,030 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:43:42,030 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:43:42,045 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:43:42,045 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:43:42,045 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:43:42,045 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:43:42,045 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:43:42,045 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:43:42,061 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:43:42,061 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:43:42,061 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:43:42,061 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:43:42,061 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:43:42,061 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:43:46,932 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
10:43:46,948 INFO boc.BocConf(22) - Into BocConf.load()...
10:43:46,948 INFO test.BOCSocketTest(114) - 请求报文长度：1184
kspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
10:43:46,948 INFO test.BOCSocketTest(121) - 发送请求报文！
10:43:46,948 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
10:43:46,948 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
10:43:46,948 INFO test.BOCSocketTest(131) - 收到返回报文！
10:43:46,948 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
10:43:46,948 INFO boc.BocConf(47) - Out BocConf.load()!
10:43:46,963 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:43:46,963 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:43:47,526 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:43:47,682 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:43:47,776 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
10:43:47,823 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
10:43:47,823 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:43:47,823 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
10:43:47,839 INFO net.BocNetImpl(34) - 请求报文长度：1184
10:43:47,995 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:43:47,995 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:43:48,027 INFO common.SaveMessage(59) - 896_3_101_in.xml IO输出耗时:0.032s
10:43:48,027 INFO net.BocNetImpl(67) - 保存非标准报文完毕！896_3_101_in.xml
10:43:48,027 INFO net.BocNetImpl(70) - 交易标示101
10:43:48,027 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
10:43:48,027 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
10:43:48,058 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
10:43:48,089 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
10:43:48,089 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
10:43:48,089 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
10:43:48,401 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
10:43:48,401 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

10:43:48,401 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
10:43:48,526 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
10:43:48,526 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
10:43:48,542 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
10:43:48,542 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:43:48,557 INFO common.Log4jPrint(20) - 进程名：896
10:43:48,557 INFO common.Log4jPrint(20) - trancom:3
10:43:48,557 INFO common.Log4jPrint(20) - FuncFlag:101
10:43:48,557 INFO common.Log4jPrint(20) - mHeadEle.getChildText896_3_101_in.xml
10:43:48,589 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:43:48,589 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 896,3,'0010','20035','2016062807199458','0871077',101,20160628,102535,'100030000195733','B0091316',-1,-1,'127.0.0.1','2016062807198232','896_3_101_in.xml',20161129,104348,20161129,104348 )
10:43:48,604 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:43:48,604 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
10:43:48,604 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195733' and MakeDate=20161129 and TranCom=3 and NodeNo='20035'
10:43:48,733 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:43:48,811 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:43:48,827 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:43:48,827 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=896,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199458',Operator='0871077',FuncFlag=101,TranDate=20160628,TranTime=102535,ProposalPrtNo='100030000195733',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='896_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=104348,ModifyDate=20161129,ModifyTime=104348,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=896
10:43:48,842 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
10:43:48,842 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
10:43:48,858 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
10:43:48,858 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
10:43:48,858 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
10:43:48,936 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
10:43:48,951 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:43:48,951 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
10:43:48,983 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.boc.format.ContConfirm.std2NoStd(ContConfirm.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
10:43:48,983 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
10:43:48,983 INFO common.SaveMessage(59) - 2016062807199458_1002_104348.xml IO输出耗时:0.0s
10:43:48,983 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807199458_1002_104348.xml
10:43:48,983 INFO net.BocNetImpl(119) - 返回报文长度：127
10:43:48,983 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
10:43:48,983 INFO test.BOCSocketTest(143) - 返回报文长度：1
10:43:48,983 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：2.035s
10:43:49,015 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:43:49,015 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=896
10:43:49,047 INFO common.Log4jPrint(20) - -------------------------
10:43:49,063 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:43:49,063 INFO common.Log4jPrint(20) - -------------------------
10:43:49,063 INFO common.Log4jPrint(20) - i=1
10:43:49,094 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:43:49,094 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:43:49,094 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=896,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199458',Operator='0871077',FuncFlag=101,TranDate=20160628,TranTime=102535,ProposalPrtNo='100030000195733',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3='1.255',Bak4=null,Bak5=null,InNoDoc='896_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=104348,ModifyDate=20161129,ModifyTime=104348,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='896_3_101_in.xml' where LogNo=896
10:43:49,094 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
10:43:49,125 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.302s
10:43:49,125 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:46:34,830 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4e1a70b8
10:46:34,830 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:46:34,830 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:46:34,830 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:46:34,846 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:46:34,846 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:46:34,927 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:46:34,928 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:46:34,990 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:46:35,006 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:46:35,006 INFO common.Log4jPrint(20) - End reset System.out!
10:46:35,006 INFO net.SocketConf(27) - Into SocketConf.load()...
10:46:35,006 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:46:35,006 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:46:35,006 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:46:35,006 INFO net.SocketConf(60) - Out SocketConf.load()!
10:46:35,021 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:46:35,021 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:46:35,037 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:46:35,037 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:46:35,037 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:46:35,037 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:46:35,037 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:46:35,037 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:46:35,052 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:46:35,052 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:46:35,052 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:46:35,052 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:46:35,052 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:46:35,052 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:46:38,051 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
10:46:38,066 INFO boc.BocConf(22) - Into BocConf.load()...
10:46:38,066 INFO test.BOCSocketTest(114) - 请求报文长度：1184
kspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
10:46:38,066 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
10:46:38,066 INFO test.BOCSocketTest(121) - 发送请求报文！
10:46:38,066 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
10:46:38,066 INFO test.BOCSocketTest(131) - 收到返回报文！
10:46:38,066 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
10:46:38,066 INFO boc.BocConf(47) - Out BocConf.load()!
10:46:38,082 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:46:38,082 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:46:38,660 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:46:38,723 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:46:38,801 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
10:46:38,817 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
10:46:38,817 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:46:38,817 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
10:46:38,833 INFO net.BocNetImpl(34) - 请求报文长度：1184
10:46:38,973 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:46:38,973 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:46:38,989 INFO common.SaveMessage(59) - 902_3_101_in.xml IO输出耗时:0.016s
10:46:38,989 INFO net.BocNetImpl(67) - 保存非标准报文完毕！902_3_101_in.xml
10:46:38,989 INFO net.BocNetImpl(70) - 交易标示101
10:46:38,989 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
10:46:38,989 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
10:46:38,989 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
10:46:38,989 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
10:46:38,989 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
10:46:38,989 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
10:46:39,254 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
10:46:39,254 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

10:46:39,269 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
10:46:39,380 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
10:46:39,380 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
10:46:39,380 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
10:46:39,380 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:46:39,395 INFO common.Log4jPrint(20) - 进程名：902
10:46:39,395 INFO common.Log4jPrint(20) - trancom:3
10:46:39,395 INFO common.Log4jPrint(20) - FuncFlag:101
10:46:39,395 INFO common.Log4jPrint(20) - mHeadEle.getChildText902_3_101_in.xml
10:46:39,442 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:46:39,442 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 902,3,'0010','20035','2016062807199458','0871077',101,20161129,102535,'100030000195733','B0091316',-1,-1,'127.0.0.1','2016062807198232','902_3_101_in.xml',20161129,104639,20161129,104639 )
10:46:39,473 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:46:39,473 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
10:46:39,473 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195733' and MakeDate=20161129 and TranCom=3 and NodeNo='20035'
10:46:39,598 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:46:39,645 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:46:39,645 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:46:39,645 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=902,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199458',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195733',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='902_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=104639,ModifyDate=20161129,ModifyTime=104639,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=902
10:46:39,660 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
10:46:39,660 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
10:46:39,660 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
10:46:39,676 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
10:46:39,676 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
10:46:39,730 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
10:46:39,746 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:46:39,746 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
10:46:39,761 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.boc.format.ContConfirm.std2NoStd(ContConfirm.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
10:46:39,761 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
10:46:39,761 INFO common.SaveMessage(59) - 2016062807199458_1002_104639.xml IO输出耗时:0.0s
10:46:39,761 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807199458_1002_104639.xml
10:46:39,761 INFO net.BocNetImpl(119) - 返回报文长度：127
10:46:39,761 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
10:46:39,761 INFO test.BOCSocketTest(143) - 返回报文长度：1
10:46:39,761 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：1.695s
10:46:39,793 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:46:39,793 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=902
10:46:39,825 INFO common.Log4jPrint(20) - -------------------------
10:46:39,856 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:46:39,856 INFO common.Log4jPrint(20) - -------------------------
10:46:39,856 INFO common.Log4jPrint(20) - i=1
10:46:39,887 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
10:46:39,887 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:46:39,887 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:46:39,887 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=902,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199458',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195733',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3='1.039',Bak4=null,Bak5=null,InNoDoc='902_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=104639,ModifyDate=20161129,ModifyTime=104639,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='902_3_101_in.xml' where LogNo=902
10:46:39,903 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.086s
10:46:39,903 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:49:01,066 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4edc024a
10:49:01,081 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:49:01,081 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:49:01,081 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:49:01,081 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:49:01,081 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:49:01,081 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:49:01,081 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:49:01,160 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:49:01,176 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:49:01,176 INFO common.Log4jPrint(20) - End reset System.out!
10:49:01,176 INFO net.SocketConf(27) - Into SocketConf.load()...
10:49:01,176 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:49:01,176 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:49:01,176 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:49:01,176 INFO net.SocketConf(60) - Out SocketConf.load()!
10:49:01,192 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:49:01,192 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:49:01,207 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:49:01,207 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:49:01,207 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:49:01,207 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:49:01,207 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:49:01,207 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:49:01,223 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:49:01,223 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:49:01,223 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:49:01,223 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:49:01,223 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:49:01,223 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:49:04,588 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
10:49:04,603 INFO boc.BocConf(22) - Into BocConf.load()...
10:49:04,603 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
10:49:04,603 INFO test.BOCSocketTest(114) - 请求报文长度：1184
10:49:04,603 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
10:49:04,603 INFO test.BOCSocketTest(121) - 发送请求报文！
10:49:04,603 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
10:49:04,603 INFO test.BOCSocketTest(131) - 收到返回报文！
10:49:04,603 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
10:49:04,603 INFO boc.BocConf(47) - Out BocConf.load()!
10:49:04,619 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:49:04,619 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:49:05,197 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:49:05,291 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:49:05,353 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
10:49:05,369 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
10:49:05,369 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:49:05,369 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
10:49:05,384 INFO net.BocNetImpl(34) - 请求报文长度：1184
10:49:05,525 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:49:05,525 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:49:05,525 INFO common.SaveMessage(59) - 908_3_101_in.xml IO输出耗时:0.0s
10:49:05,525 INFO net.BocNetImpl(67) - 保存非标准报文完毕！908_3_101_in.xml
10:49:05,525 INFO net.BocNetImpl(70) - 交易标示101
10:49:05,525 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
10:49:05,525 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
10:49:05,540 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
10:49:05,540 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
10:49:05,540 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
10:49:05,540 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
10:49:05,808 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
10:49:05,808 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

10:49:05,823 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
10:49:05,933 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
10:49:05,933 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
10:49:05,933 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
10:49:05,933 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:49:05,949 INFO common.Log4jPrint(20) - 进程名：908
10:49:05,949 INFO common.Log4jPrint(20) - trancom:3
10:49:05,949 INFO common.Log4jPrint(20) - FuncFlag:101
10:49:05,949 INFO common.Log4jPrint(20) - mHeadEle.getChildText908_3_101_in.xml
10:49:06,011 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:49:06,011 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 908,3,'0010','20035','2016062807199459','0871077',101,20161129,102535,'100030000195733','B0091316',-1,-1,'127.0.0.1','2016062807198232','908_3_101_in.xml',20161129,104905,20161129,104905 )
10:49:06,027 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:49:06,027 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
10:49:06,027 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195733' and MakeDate=20161129 and TranCom=3 and NodeNo='20035'
10:49:06,152 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:49:06,214 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:49:06,214 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:49:06,214 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=908,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195733',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='908_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=104905,ModifyDate=20161129,ModifyTime=104906,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=908
10:49:06,230 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
10:49:06,230 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
10:49:06,245 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
10:49:06,245 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
10:49:06,245 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
10:49:06,323 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
10:49:06,339 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:49:06,355 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
10:49:06,370 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.boc.format.ContConfirm.std2NoStd(ContConfirm.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
10:49:06,370 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
10:49:06,370 INFO common.SaveMessage(59) - 2016062807199459_1002_104906.xml IO输出耗时:0.0s
10:49:06,370 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807199459_1002_104906.xml
10:49:06,370 INFO net.BocNetImpl(119) - 返回报文长度：127
10:49:06,370 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
10:49:06,370 INFO test.BOCSocketTest(143) - 返回报文长度：1
10:49:06,370 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：1.767s
10:49:06,418 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:49:06,418 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=908
10:49:06,496 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
10:49:06,449 INFO common.Log4jPrint(20) - -------------------------
10:49:06,527 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:49:06,528 INFO common.Log4jPrint(20) - -------------------------
10:49:06,528 INFO common.Log4jPrint(20) - i=1
10:49:06,591 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:49:06,591 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:49:06,591 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=908,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195733',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3='1.159',Bak4=null,Bak5=null,InNoDoc='908_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=104905,ModifyDate=20161129,ModifyTime=104906,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='908_3_101_in.xml' where LogNo=908
10:49:06,606 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.237s
10:49:06,606 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:50:11,413 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6e9770a3
10:50:11,429 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:50:11,429 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:50:11,429 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:50:11,429 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:50:11,429 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:50:11,429 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:50:11,444 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:50:11,508 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:50:11,508 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:50:11,508 INFO common.Log4jPrint(20) - End reset System.out!
10:50:11,508 INFO net.SocketConf(27) - Into SocketConf.load()...
10:50:11,523 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:50:11,523 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:50:11,523 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:50:11,523 INFO net.SocketConf(60) - Out SocketConf.load()!
10:50:11,539 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:50:11,539 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:50:11,555 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:50:11,555 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:50:11,555 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:50:11,555 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:50:11,555 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:50:11,555 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:50:11,555 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:50:11,555 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:50:11,555 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:50:11,570 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:50:11,570 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:50:11,570 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:50:18,789 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
10:50:18,789 INFO boc.BocConf(22) - Into BocConf.load()...
10:50:18,789 INFO test.BOCSocketTest(114) - 请求报文长度：1184
10:50:18,789 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
10:50:18,789 INFO test.BOCSocketTest(121) - 发送请求报文！
10:50:18,789 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
10:50:18,789 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
10:50:18,789 INFO test.BOCSocketTest(131) - 收到返回报文！
10:50:18,805 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
10:50:18,805 INFO boc.BocConf(47) - Out BocConf.load()!
10:50:18,805 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:50:18,822 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:50:20,694 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:50:20,758 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:50:20,852 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
10:50:20,867 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
10:50:20,867 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:50:20,867 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
10:50:20,867 INFO net.BocNetImpl(34) - 请求报文长度：1184
10:50:21,023 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:50:21,023 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:50:21,039 INFO common.SaveMessage(59) - 914_3_101_in.xml IO输出耗时:0.016s
10:50:21,039 INFO net.BocNetImpl(67) - 保存非标准报文完毕！914_3_101_in.xml
10:50:21,039 INFO net.BocNetImpl(70) - 交易标示101
10:50:21,039 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
10:50:21,039 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
10:50:21,039 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
10:50:21,054 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
10:50:21,054 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
10:50:21,054 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
10:50:21,304 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
10:50:21,304 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

10:50:21,304 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
10:50:21,413 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
10:50:21,413 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
10:50:21,429 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
10:50:21,429 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:50:21,429 INFO common.Log4jPrint(20) - 进程名：914
10:50:21,429 INFO common.Log4jPrint(20) - trancom:3
10:50:21,429 INFO common.Log4jPrint(20) - FuncFlag:101
10:50:21,429 INFO common.Log4jPrint(20) - mHeadEle.getChildText914_3_101_in.xml
10:50:21,476 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:50:21,476 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 914,3,'0010','20035','2016062807199459','0871077',101,20161129,102535,'100030000195734','B0091316',-1,-1,'127.0.0.1','2016062807198232','914_3_101_in.xml',20161129,105021,20161129,105021 )
10:50:21,491 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:50:21,491 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
10:50:21,491 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195734' and MakeDate=20161129 and TranCom=3 and NodeNo='20035'
10:50:21,678 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:50:21,742 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:50:21,742 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:50:21,742 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=914,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195734',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='914_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=105021,ModifyDate=20161129,ModifyTime=105021,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=914
10:50:21,773 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
10:50:21,774 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
10:50:21,774 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
10:50:21,774 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
10:50:21,774 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
10:50:21,852 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
10:50:21,868 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:50:21,868 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
10:50:21,883 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.boc.format.ContConfirm.std2NoStd(ContConfirm.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
10:50:21,883 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
10:50:21,883 INFO common.SaveMessage(59) - 2016062807199459_1002_105021.xml IO输出耗时:0.0s
10:50:21,883 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016062807199459_1002_105021.xml
10:50:21,883 INFO net.BocNetImpl(119) - 返回报文长度：127
10:50:21,883 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
10:50:21,883 INFO test.BOCSocketTest(143) - 返回报文长度：1
10:50:21,883 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：3.094s
10:50:21,915 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:50:21,915 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=914
10:50:21,947 INFO common.Log4jPrint(20) - -------------------------
10:50:21,947 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:50:21,947 INFO common.Log4jPrint(20) - -------------------------
10:50:21,962 INFO common.Log4jPrint(20) - i=1
10:50:22,009 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
10:50:22,009 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:50:22,009 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:50:22,009 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=914,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016062807199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195734',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3='1.095',Bak4=null,Bak5=null,InNoDoc='914_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=105021,ModifyDate=20161129,ModifyTime=105021,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='914_3_101_in.xml' where LogNo=914
10:50:22,041 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.174s
10:50:22,041 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:51:27,115 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@2a801059
10:51:27,131 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:51:27,131 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:51:27,131 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:51:27,131 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:51:27,131 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:51:27,131 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:51:27,131 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:51:27,210 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:51:27,210 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:51:27,210 INFO common.Log4jPrint(20) - End reset System.out!
10:51:27,225 INFO net.SocketConf(27) - Into SocketConf.load()...
10:51:27,225 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:51:27,225 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:51:27,225 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:51:27,225 INFO net.SocketConf(60) - Out SocketConf.load()!
10:51:27,241 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:51:27,241 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:51:27,257 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:51:27,257 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:51:27,257 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:51:27,257 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:51:27,257 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:51:27,257 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:51:27,272 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:51:27,272 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:51:27,272 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:51:27,272 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:51:27,272 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:51:27,272 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:51:30,721 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
10:51:30,737 INFO boc.BocConf(22) - Into BocConf.load()...
10:51:30,737 INFO test.BOCSocketTest(114) - 请求报文长度：1184
10:51:30,737 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
10:51:30,737 INFO test.BOCSocketTest(121) - 发送请求报文！
10:51:30,737 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
10:51:30,737 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
10:51:30,737 INFO test.BOCSocketTest(131) - 收到返回报文！
10:51:30,737 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
10:51:30,737 INFO boc.BocConf(47) - Out BocConf.load()!
10:51:30,752 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:51:30,752 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:51:34,532 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:51:34,658 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:51:34,910 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
10:51:34,925 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
10:51:34,925 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:51:34,925 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
10:51:34,941 INFO net.BocNetImpl(34) - 请求报文长度：1184
10:51:35,066 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:51:35,066 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:51:35,081 INFO common.SaveMessage(59) - 920_3_101_in.xml IO输出耗时:0.015s
10:51:35,081 INFO net.BocNetImpl(67) - 保存非标准报文完毕！920_3_101_in.xml
10:51:35,081 INFO net.BocNetImpl(70) - 交易标示101
10:51:35,081 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
10:51:35,081 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
10:51:35,097 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
10:51:35,097 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
10:51:35,097 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
10:51:35,097 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
10:51:35,362 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
10:51:35,362 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

10:51:35,362 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
10:51:35,471 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
10:51:35,471 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
10:51:35,487 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
10:51:35,487 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:51:35,487 INFO common.Log4jPrint(20) - 进程名：920
10:51:35,487 INFO common.Log4jPrint(20) - trancom:3
10:51:35,487 INFO common.Log4jPrint(20) - FuncFlag:101
10:51:35,487 INFO common.Log4jPrint(20) - mHeadEle.getChildText920_3_101_in.xml
10:51:35,643 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:51:35,643 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 920,3,'0010','20035','2016112907199459','0871077',101,20161129,102535,'100030000195734','B0091316',-1,-1,'127.0.0.1','2016062807198232','920_3_101_in.xml',20161129,105135,20161129,105135 )
10:51:35,706 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:51:35,706 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
10:51:35,706 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195734' and MakeDate=20161129 and TranCom=3 and NodeNo='20035'
10:51:35,957 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:51:36,051 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:51:36,051 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:51:36,051 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=920,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195734',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='920_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=105135,ModifyDate=20161129,ModifyTime=105135,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=920
10:51:36,129 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
10:51:36,129 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
10:51:36,129 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
10:51:36,129 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
10:51:36,129 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
10:51:36,207 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
10:51:36,222 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:51:36,222 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
10:51:36,238 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.boc.format.ContConfirm.std2NoStd(ContConfirm.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
10:51:36,238 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
10:51:36,238 INFO common.SaveMessage(59) - 2016112907199459_1002_105136.xml IO输出耗时:0.0s
10:51:36,238 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016112907199459_1002_105136.xml
10:51:36,238 INFO net.BocNetImpl(119) - 返回报文长度：127
10:51:36,238 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
10:51:36,238 INFO test.BOCSocketTest(143) - 返回报文长度：1
10:51:36,238 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：5.501s
10:51:36,364 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
10:51:36,458 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:51:36,458 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=920
10:51:36,879 INFO common.Log4jPrint(20) - -------------------------
10:51:36,895 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:51:36,895 INFO common.Log4jPrint(20) - -------------------------
10:51:36,912 INFO common.Log4jPrint(20) - i=1
10:51:37,036 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:51:37,036 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:51:37,036 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=920,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195734',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3='1.987',Bak4=null,Bak5=null,InNoDoc='920_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=105135,ModifyDate=20161129,ModifyTime=105135,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='920_3_101_in.xml' where LogNo=920
10:51:37,068 INFO midplat.Ybt4Socket(170) - 处理总耗时：2.143s
10:51:37,068 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:56:36,988 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
10:56:37,003 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:56:37,003 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:56:37,003 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:56:37,003 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:56:37,003 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:56:37,019 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:56:37,019 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:56:37,082 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:56:37,082 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:56:37,082 INFO common.Log4jPrint(20) - End reset System.out!
10:56:37,098 INFO net.SocketConf(27) - Into SocketConf.load()...
10:56:37,098 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:56:37,098 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:56:37,098 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:56:37,098 INFO net.SocketConf(60) - Out SocketConf.load()!
10:56:37,113 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:56:37,113 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:56:37,113 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:56:37,113 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:56:37,113 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:56:37,129 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:56:37,129 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:56:37,129 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:56:37,129 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:56:37,129 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:56:37,129 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:56:37,145 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:56:37,145 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:56:37,145 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:56:40,017 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
10:56:40,033 INFO boc.BocConf(22) - Into BocConf.load()...
10:56:40,033 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
10:56:40,033 INFO test.BOCSocketTest(114) - 请求报文长度：1184
10:56:40,033 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
10:56:40,033 INFO test.BOCSocketTest(121) - 发送请求报文！
10:56:40,033 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
10:56:40,033 INFO test.BOCSocketTest(131) - 收到返回报文！
10:56:40,033 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
10:56:40,033 INFO boc.BocConf(47) - Out BocConf.load()!
10:56:40,048 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:56:40,065 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:56:40,928 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:56:41,022 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:56:41,147 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
10:56:41,162 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
10:56:41,162 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:56:41,162 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
10:56:41,178 INFO net.BocNetImpl(34) - 请求报文长度：1184
10:56:41,304 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:56:41,304 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:56:41,319 INFO common.SaveMessage(59) - 926_3_101_in.xml IO输出耗时:0.015s
10:56:41,319 INFO net.BocNetImpl(67) - 保存非标准报文完毕！926_3_101_in.xml
10:56:41,319 INFO net.BocNetImpl(70) - 交易标示101
10:56:41,319 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
10:56:41,319 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
10:56:41,319 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
10:56:41,335 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
10:56:41,335 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
10:56:41,335 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
10:56:41,584 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
10:56:41,600 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

10:56:41,600 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
10:56:41,709 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
10:56:41,709 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
10:56:41,709 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
10:56:41,709 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:56:41,726 INFO common.Log4jPrint(20) - 进程名：926
10:56:41,726 INFO common.Log4jPrint(20) - trancom:3
10:56:41,726 INFO common.Log4jPrint(20) - FuncFlag:101
10:56:41,726 INFO common.Log4jPrint(20) - mHeadEle.getChildText926_3_101_in.xml
10:56:41,773 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:56:41,773 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 926,3,'0010','20035','2016112907199459','0871077',101,20161129,102535,'100030000195735','B0091316',-1,-1,'127.0.0.1','2016062807198232','926_3_101_in.xml',20161129,105641,20161129,105641 )
10:56:41,788 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:56:41,788 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
10:56:41,788 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195735' and MakeDate=20161129 and TranCom=3 and NodeNo='20035'
10:56:41,991 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
10:56:42,087 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:56:42,087 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:56:42,087 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=926,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195735',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='926_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=105641,ModifyDate=20161129,ModifyTime=105641,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=926
10:56:42,133 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
10:56:42,133 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
10:56:42,149 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
10:56:42,149 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
10:56:42,149 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
10:56:42,212 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
10:56:42,228 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

10:56:42,228 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
10:56:42,244 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.boc.format.ContConfirm.std2NoStd(ContConfirm.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
10:56:42,259 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
10:56:42,290 INFO common.SaveMessage(59) - 2016112907199459_1002_105642.xml IO输出耗时:0.031s
10:56:42,290 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016112907199459_1002_105642.xml
10:56:42,290 INFO net.BocNetImpl(119) - 返回报文长度：127
10:56:42,290 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
10:56:42,290 INFO test.BOCSocketTest(143) - 返回报文长度：1
10:56:42,290 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：2.257s
10:56:42,416 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
10:56:42,480 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:56:42,480 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=926
10:56:42,573 INFO common.Log4jPrint(20) - -------------------------
10:56:42,573 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
10:56:42,589 INFO common.Log4jPrint(20) - -------------------------
10:56:42,620 INFO common.Log4jPrint(20) - i=1
10:56:42,667 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
10:56:42,667 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
10:56:42,667 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=926,TranCom=3,ZoneNo='0010',NodeNo='20035',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195735',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2='2016062807198232',Bak3='1.458',Bak4=null,Bak5=null,InNoDoc='926_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=105641,ModifyDate=20161129,ModifyTime=105641,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='926_3_101_in.xml' where LogNo=926
10:56:42,698 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.536s
10:56:42,698 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
10:58:03,720 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7c6576d5
10:58:03,720 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:58:03,720 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:58:03,736 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:58:03,736 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:58:03,736 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:58:03,736 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:58:03,736 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:58:03,815 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:58:03,830 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:58:03,830 INFO common.Log4jPrint(20) - End reset System.out!
10:58:03,830 INFO net.SocketConf(27) - Into SocketConf.load()...
10:58:03,830 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:58:03,830 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:58:03,830 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:58:03,830 INFO net.SocketConf(60) - Out SocketConf.load()!
10:58:03,846 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:58:03,846 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:58:03,862 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:58:03,862 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:58:03,862 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:58:03,862 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:58:03,862 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:58:03,862 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:58:03,877 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:58:03,877 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:58:03,877 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:58:03,877 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:58:03,877 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:58:03,877 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:59:15,634 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@3db158db
10:59:15,634 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
10:59:15,649 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
10:59:15,649 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
10:59:15,649 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
10:59:15,649 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
10:59:15,649 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
10:59:15,649 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
10:59:15,728 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
10:59:15,728 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
10:59:15,728 INFO common.Log4jPrint(20) - End reset System.out!
10:59:15,728 INFO net.SocketConf(27) - Into SocketConf.load()...
10:59:15,728 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
10:59:15,744 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
10:59:15,744 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
10:59:15,744 INFO net.SocketConf(60) - Out SocketConf.load()!
10:59:15,759 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
10:59:15,759 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
10:59:15,759 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
10:59:15,759 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
10:59:15,759 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
10:59:15,775 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
10:59:15,775 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
10:59:15,775 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
10:59:15,775 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
10:59:15,775 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
10:59:15,775 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
10:59:15,791 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
10:59:15,791 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
10:59:15,791 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
10:59:20,710 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
10:59:20,725 INFO boc.BocConf(22) - Into BocConf.load()...
10:59:20,725 INFO test.BOCSocketTest(114) - 请求报文长度：1184
10:59:20,725 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
10:59:20,725 INFO test.BOCSocketTest(121) - 发送请求报文！
10:59:20,725 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
10:59:20,725 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
10:59:20,725 INFO test.BOCSocketTest(131) - 收到返回报文！
10:59:20,725 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
10:59:20,725 INFO boc.BocConf(47) - Out BocConf.load()!
10:59:20,743 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
10:59:20,743 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
10:59:21,492 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
10:59:21,554 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
10:59:21,663 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
10:59:21,679 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
10:59:21,679 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
10:59:21,679 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
10:59:21,679 INFO net.BocNetImpl(34) - 请求报文长度：1184
10:59:21,819 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
10:59:21,819 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
10:59:21,835 INFO common.SaveMessage(59) - 932_3_101_in.xml IO输出耗时:0.016s
10:59:21,835 INFO net.BocNetImpl(67) - 保存非标准报文完毕！932_3_101_in.xml
10:59:21,835 INFO net.BocNetImpl(70) - 交易标示101
10:59:21,835 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
10:59:21,835 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
10:59:21,851 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
10:59:21,851 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
10:59:21,851 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
10:59:21,851 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
10:59:22,148 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
10:59:22,148 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

10:59:22,148 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
10:59:22,273 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
10:59:22,273 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
10:59:22,288 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
10:59:22,288 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
10:59:22,288 INFO common.Log4jPrint(20) - 进程名：932
10:59:22,288 INFO common.Log4jPrint(20) - trancom:3
10:59:22,288 INFO common.Log4jPrint(20) - FuncFlag:101
10:59:22,288 INFO common.Log4jPrint(20) - mHeadEle.getChildText932_3_101_in.xml
10:59:22,335 INFO common.Log4jPrint(20) - 进入更新后的InsPart
10:59:22,335 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 932,3,'0010','20035','2016112907199459','0871077',101,20161129,102535,'100030000195735','B0091316',-1,-1,'127.0.0.1','2016112907198232','932_3_101_in.xml',20161129,105922,20161129,105922 )
10:59:22,366 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
10:59:22,366 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
10:59:22,366 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195735' and MakeDate=20161129 and TranCom=3 and NodeNo='20035'
11:15:51,046 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4e1a70b8
11:15:51,062 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:15:51,062 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:15:51,062 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:15:51,077 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
11:15:51,077 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:15:51,077 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:15:51,077 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
11:15:51,156 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:15:51,172 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:15:51,172 INFO common.Log4jPrint(20) - End reset System.out!
11:15:51,172 INFO net.SocketConf(27) - Into SocketConf.load()...
11:15:51,172 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:15:51,172 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
11:15:51,172 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:15:51,172 INFO net.SocketConf(60) - Out SocketConf.load()!
11:15:51,203 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
11:15:51,203 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:15:51,219 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
11:15:51,219 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
11:15:51,219 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:15:51,219 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
11:15:51,219 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
11:15:51,219 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:15:51,234 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
11:15:51,234 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
11:15:51,234 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:15:51,234 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
11:15:51,234 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
11:15:51,234 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
11:15:56,874 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
11:15:56,889 INFO boc.BocConf(22) - Into BocConf.load()...
11:15:56,889 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
11:15:56,889 INFO test.BOCSocketTest(114) - 请求报文长度：1216
11:15:56,889 INFO test.BOCSocketTest(121) - 发送请求报文！
11:15:56,889 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
11:15:56,889 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
11:15:56,889 INFO test.BOCSocketTest(131) - 收到返回报文！
11:15:56,889 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
11:15:56,889 INFO boc.BocConf(47) - Out BocConf.load()!
11:15:56,905 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:15:56,923 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:15:57,562 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:15:57,640 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:15:57,750 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
11:15:57,766 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
11:15:57,766 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:15:57,766 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
11:15:57,766 INFO net.BocNetImpl(34) - 请求报文长度：1216
11:15:57,906 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:15:57,906 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:15:57,906 INFO common.SaveMessage(59) - 938_3_101_in.xml IO输出耗时:0.0s
11:15:57,906 INFO net.BocNetImpl(67) - 保存非标准报文完毕！938_3_101_in.xml
11:15:57,906 INFO net.BocNetImpl(70) - 交易标示101
11:15:57,906 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
11:15:57,922 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
11:15:57,922 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
11:15:57,922 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
11:15:57,922 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
11:15:57,922 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
11:15:58,188 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
11:15:58,204 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

11:15:58,204 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
11:15:58,313 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
11:15:58,313 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
11:15:58,329 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
11:15:58,329 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
11:15:58,344 INFO common.Log4jPrint(20) - 进程名：938
11:15:58,344 INFO common.Log4jPrint(20) - trancom:3
11:15:58,344 INFO common.Log4jPrint(20) - FuncFlag:101
11:15:58,344 INFO common.Log4jPrint(20) - mHeadEle.getChildText938_3_101_in.xml
11:15:58,375 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:15:58,375 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 938,3,'0010','0010','2016112907199459','0871077',101,20161129,102535,'100030000195735','B0091316',-1,-1,'127.0.0.1','2016112907198232','938_3_101_in.xml',20161129,111558,20161129,111558 )
11:15:58,391 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
11:15:58,391 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
11:15:58,391 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195735' and MakeDate=20161129 and TranCom=3 and NodeNo='0010'
11:24:03,055 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@2a801059
11:24:03,071 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:24:03,071 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:24:03,071 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:24:03,071 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
11:24:03,071 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:24:03,102 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:24:03,102 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
11:24:03,181 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:24:03,181 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:24:03,181 INFO common.Log4jPrint(20) - End reset System.out!
11:24:03,181 INFO net.SocketConf(27) - Into SocketConf.load()...
11:24:03,181 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:24:03,181 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
11:24:03,197 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:24:03,197 INFO net.SocketConf(60) - Out SocketConf.load()!
11:24:03,212 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
11:24:03,212 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:24:03,212 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
11:24:03,212 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
11:24:03,212 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:24:03,228 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
11:24:03,228 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
11:24:03,228 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:24:03,228 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
11:24:03,228 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
11:24:03,228 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:24:03,243 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
11:24:03,243 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
11:24:03,243 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
11:24:06,976 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
11:24:06,991 INFO boc.BocConf(22) - Into BocConf.load()...
11:24:06,991 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
11:24:06,991 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
11:24:06,991 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
11:24:06,991 INFO test.BOCSocketTest(131) - 收到返回报文！
11:24:06,991 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
11:24:06,991 INFO boc.BocConf(47) - Out BocConf.load()!
11:24:07,007 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:24:07,024 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:24:07,679 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:24:07,841 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:24:07,997 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
11:24:08,013 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
11:24:08,013 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:24:08,013 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
11:24:08,029 INFO net.BocNetImpl(34) - 请求报文长度：1216
11:24:08,170 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:24:08,170 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:24:08,185 INFO common.SaveMessage(59) - 944_3_101_in.xml IO输出耗时:0.015s
11:24:08,185 INFO net.BocNetImpl(67) - 保存非标准报文完毕！944_3_101_in.xml
11:24:08,185 INFO net.BocNetImpl(70) - 交易标示101
11:24:08,185 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
11:24:08,185 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
11:24:08,185 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
11:24:08,185 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
11:24:08,185 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
11:24:08,201 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
11:24:08,451 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
11:24:08,451 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

11:24:08,466 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
11:24:08,575 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
11:24:08,575 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
11:24:08,591 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
11:24:08,591 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
11:24:08,591 INFO common.Log4jPrint(20) - 进程名：944
11:24:08,591 INFO common.Log4jPrint(20) - trancom:3
11:24:08,591 INFO common.Log4jPrint(20) - FuncFlag:101
11:24:08,591 INFO common.Log4jPrint(20) - mHeadEle.getChildText944_3_101_in.xml
11:24:08,685 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:24:08,685 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 944,3,'0010','0010','2016112907199459','0871077',101,20161129,102535,'100030000195735','B0091316',-1,-1,'127.0.0.1','2016112907198232','944_3_101_in.xml',20161129,112408,20161129,112408 )
11:24:08,716 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
11:24:08,716 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
11:24:08,716 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195735' and MakeDate=20161129 and TranCom=3 and NodeNo='0010'
11:29:51,759 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
11:29:51,993 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@5e0eb724
11:29:52,009 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:29:52,009 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:29:52,009 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:29:52,009 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
11:29:52,009 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:29:52,009 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:29:52,009 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
11:29:52,103 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:29:52,103 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:29:52,103 INFO common.Log4jPrint(20) - End reset System.out!
11:29:52,103 INFO net.SocketConf(27) - Into SocketConf.load()...
11:29:52,103 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:29:52,103 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
11:29:52,119 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:29:52,119 INFO net.SocketConf(60) - Out SocketConf.load()!
11:29:52,134 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
11:29:52,134 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:29:52,134 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
11:29:52,134 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
11:29:52,134 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:29:52,150 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
11:29:52,150 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
11:29:52,150 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:29:52,150 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
11:29:52,150 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
11:29:52,150 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:29:52,150 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
11:29:52,150 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
11:29:52,150 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
11:29:52,290 INFO boc.BocConf(22) - Into BocConf.load()...
11:29:52,290 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
11:29:52,290 INFO test.BOCSocketTest(114) - 请求报文长度：1216
11:29:52,290 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,466) and length=3586 bytes!
11:29:52,290 INFO test.BOCSocketTest(121) - 发送请求报文！
11:29:52,290 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
11:29:52,290 INFO test.BOCSocketTest(131) - 收到返回报文！
11:29:52,290 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
11:29:52,290 INFO boc.BocConf(47) - Out BocConf.load()!
11:29:52,306 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:29:52,306 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:29:53,164 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:29:53,227 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:29:53,337 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
11:29:53,352 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
11:29:53,352 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:29:53,352 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
11:29:53,352 INFO net.BocNetImpl(34) - 请求报文长度：1216
11:29:53,493 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:29:53,493 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:29:53,508 INFO common.SaveMessage(59) - 950_3_101_in.xml IO输出耗时:0.015s
11:29:53,508 INFO net.BocNetImpl(67) - 保存非标准报文完毕！950_3_101_in.xml
11:29:53,508 INFO net.BocNetImpl(70) - 交易标示101
11:29:53,508 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
11:29:53,508 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
11:29:53,508 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
11:29:53,524 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
11:29:53,524 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
11:29:53,524 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
11:29:53,789 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
11:29:53,789 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

11:29:53,789 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
11:29:53,898 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
11:29:53,898 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
11:29:53,914 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
11:29:53,914 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
11:29:53,929 INFO common.Log4jPrint(20) - 进程名：950
11:29:53,929 INFO common.Log4jPrint(20) - trancom:3
11:29:53,929 INFO common.Log4jPrint(20) - FuncFlag:101
11:29:53,929 INFO common.Log4jPrint(20) - mHeadEle.getChildText950_3_101_in.xml
11:29:53,976 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:29:53,976 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 950,3,'0010','0010','2016112907199459','0871077',101,20161129,102535,'100030000195735','B0091316',-1,-1,'127.0.0.1','2016112907198232','950_3_101_in.xml',20161129,112953,20161129,112953 )
11:29:54,007 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
11:29:54,007 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
11:40:47,871 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
11:40:47,887 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
11:40:47,887 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
11:40:47,887 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
11:40:47,887 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
11:40:47,887 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
11:40:47,902 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
11:40:47,902 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
11:40:47,981 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
11:40:47,981 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
11:40:47,981 INFO common.Log4jPrint(20) - End reset System.out!
11:40:47,981 INFO net.SocketConf(27) - Into SocketConf.load()...
11:40:47,981 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
11:40:47,981 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
11:40:47,997 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
11:40:47,997 INFO net.SocketConf(60) - Out SocketConf.load()!
11:40:48,012 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
11:40:48,012 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
11:40:48,012 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
11:40:48,012 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
11:40:48,012 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
11:40:48,028 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
11:40:48,028 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
11:40:48,028 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
11:40:48,028 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
11:40:48,028 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
11:40:48,028 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
11:40:48,044 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
11:40:48,044 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
11:40:48,044 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
11:40:54,010 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
11:40:54,025 INFO boc.BocConf(22) - Into BocConf.load()...
11:40:54,025 INFO test.BOCSocketTest(114) - 请求报文长度：1216
11:40:54,025 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
11:40:54,025 INFO test.BOCSocketTest(121) - 发送请求报文！
11:40:54,025 INFO common.XmlConf(62) - conf file modified at (2016-11-29 11:40:28,681) and length=3632 bytes!
11:40:54,025 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.015s
11:40:54,025 INFO test.BOCSocketTest(131) - 收到返回报文！
11:40:54,025 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
11:40:54,025 INFO boc.BocConf(47) - Out BocConf.load()!
11:40:54,041 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
11:40:54,041 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
11:40:54,713 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
11:40:54,842 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
11:40:54,966 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
11:40:54,982 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
11:40:54,982 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
11:40:54,982 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
11:40:54,982 INFO net.BocNetImpl(34) - 请求报文长度：1216
11:40:55,169 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
11:40:55,169 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
11:40:55,201 INFO common.SaveMessage(59) - 956_3_101_in.xml IO输出耗时:0.032s
11:40:55,201 INFO net.BocNetImpl(67) - 保存非标准报文完毕！956_3_101_in.xml
11:40:55,201 INFO net.BocNetImpl(70) - 交易标示101
11:40:55,201 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
11:40:55,201 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
11:40:55,201 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
11:40:55,217 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
11:40:55,217 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
11:40:55,217 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
11:40:55,482 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
11:40:55,482 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

11:40:55,482 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
11:40:55,607 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
11:40:55,607 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
11:40:55,623 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
11:40:55,623 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
11:40:55,623 INFO common.Log4jPrint(20) - 进程名：956
11:40:55,623 INFO common.Log4jPrint(20) - trancom:11
11:40:55,623 INFO common.Log4jPrint(20) - FuncFlag:101
11:40:55,623 INFO common.Log4jPrint(20) - mHeadEle.getChildText956_3_101_in.xml
11:40:55,669 INFO common.Log4jPrint(20) - 进入更新后的InsPart
11:40:55,669 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 956,11,'0010','0010','2016112907199459','0871077',101,20161129,102535,'100030000195735','B0091316',-1,-1,'127.0.0.1','2016112907198232','956_3_101_in.xml',20161129,114055,20161129,114055 )
11:40:55,685 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
11:40:55,685 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
11:42:39,926 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195735' and MakeDate=20161129 and TranCom=11 and NodeNo='0010'
11:42:45,158 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
11:42:50,612 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
11:42:50,612 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
11:42:50,612 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=956,TranCom=11,ZoneNo='0010',NodeNo='0010',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195735',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=114,AppntName=null,Bak1='127.0.0.1',Bak2='2016112907198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='956_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=114055,ModifyDate=20161129,ModifyTime=114249,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=956
11:42:50,753 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
11:42:53,579 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
11:42:53,594 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
11:42:53,594 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
11:42:53,594 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
11:42:53,799 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
11:42:53,877 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

11:42:53,908 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
12:26:48,527 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@3db158db
12:26:48,542 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:26:48,542 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:26:48,542 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:26:48,542 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
12:26:48,542 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:26:48,561 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:26:48,563 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
12:26:48,657 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:26:48,657 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:26:48,657 INFO common.Log4jPrint(20) - End reset System.out!
12:26:48,672 INFO net.SocketConf(27) - Into SocketConf.load()...
12:26:48,672 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:26:48,672 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
12:26:48,672 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:26:48,672 INFO net.SocketConf(60) - Out SocketConf.load()!
12:26:48,688 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
12:26:48,688 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:26:48,703 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
12:26:48,703 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:26:48,703 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
12:26:48,703 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
12:26:48,703 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
12:26:48,703 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:26:48,719 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
12:26:48,719 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
12:26:48,719 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:26:48,735 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
12:26:48,735 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
12:26:48,735 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
12:26:55,260 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
12:26:55,276 INFO boc.BocConf(22) - Into BocConf.load()...
12:26:55,276 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
12:26:55,276 INFO test.BOCSocketTest(114) - 请求报文长度：1216
12:26:55,276 INFO common.XmlConf(62) - conf file modified at (2016-11-29 11:40:28,681) and length=3632 bytes!
12:26:55,276 INFO test.BOCSocketTest(121) - 发送请求报文！
12:26:55,276 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
12:26:55,276 INFO test.BOCSocketTest(131) - 收到返回报文！
12:26:55,276 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
12:26:55,276 INFO boc.BocConf(47) - Out BocConf.load()!
12:26:55,292 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:26:55,292 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:26:55,761 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:26:55,809 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:26:55,872 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
12:26:55,887 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
12:26:55,887 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:26:55,887 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
12:26:55,887 INFO net.BocNetImpl(34) - 请求报文长度：1216
12:26:56,028 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:26:56,028 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:26:56,028 INFO common.SaveMessage(59) - 962_3_101_in.xml IO输出耗时:0.0s
12:26:56,028 INFO net.BocNetImpl(67) - 保存非标准报文完毕！962_3_101_in.xml
12:26:56,028 INFO net.BocNetImpl(70) - 交易标示101
12:26:56,028 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
12:26:56,028 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.ContConfirm
12:26:56,043 INFO format.ContConfirm(27) - Into ContConfirm.noStd2Std()...
12:26:56,043 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
12:26:56,043 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl...
12:26:56,043 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,621) and length=1510 bytes!
12:26:56,309 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmIn.xsl!
12:26:56,309 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="InsuReq"><TranData><!-- 核心收费签单请求报文 --><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><ClientIp>127.0.0.1</ClientIp><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><Prem><xsl:value-of select="Main/Premium" /></Prem><OldTranNo><xsl:value-of select="Main/OriginTransNo" /></OldTranNo><ContNo /><ContPrtNo><xsl:value-of select="Main/PrintNo" /></ContPrtNo><PayMode /><AcctNo><xsl:value-of select="Main/PayAcc" /></AcctNo></Body></TranData></xsl:template></xsl:stylesheet>

12:26:56,324 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
12:26:56,434 INFO format.ContConfirm(34) - Out ContConfirm.noStd2Std()!
12:26:56,434 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContConfirm
12:26:56,450 INFO service.NewContConfirm(32) - Into NewContConfirm.service()...
12:26:56,450 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
12:26:56,512 INFO common.Log4jPrint(20) - 进程名：962
12:26:56,512 INFO common.Log4jPrint(20) - trancom:11
12:26:56,512 INFO common.Log4jPrint(20) - FuncFlag:101
12:26:56,512 INFO common.Log4jPrint(20) - mHeadEle.getChildText962_3_101_in.xml
12:26:56,544 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:26:56,544 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,OtherNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 962,11,'0010','0010','2016112907199459','0871077',101,20161129,102535,'100030000195735','B0091316',-1,-1,'127.0.0.1','2016112907198232','962_3_101_in.xml',20161129,122656,20161129,122656 )
12:26:56,559 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
12:26:56,559 INFO service.NewContConfirm(44) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
12:27:01,506 INFO service.NewContConfirm(123) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='100030000195735' and MakeDate=20161129 and TranCom=11 and NodeNo='0010'
12:27:03,382 ERROR service.NewContConfirm(206) - 新单承保交易失败！
com.sinosoft.midplat.exception.MidplatException: 非当日同一网点所出保单，不能进行该操作！
	at com.sinosoft.midplat.service.NewContConfirm.service(NewContConfirm.java:126)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:27:03,414 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:27:03,414 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:27:03,414 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=962,TranCom=11,ZoneNo='0010',NodeNo='0010',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195735',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=6,AppntName=null,Bak1='127.0.0.1',Bak2='2016112907198232',Bak3=null,Bak4=null,Bak5=null,InNoDoc='962_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=122656,ModifyDate=20161129,ModifyTime=122703,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=962
12:27:03,430 INFO service.NewContConfirm(224) - Out NewContConfirm.service()!
12:27:03,430 INFO format.ContConfirm(46) - Into ContConfirm.std2NoStd()...
12:27:03,430 INFO format.ContConfirmOutXsl(26) - Into ContConfirmOutXsl.load()...
12:27:03,430 INFO format.ContConfirmOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl...
12:27:03,430 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:47,761) and length=21966 bytes!
12:27:03,476 INFO format.ContConfirmOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/ContConfirmOut.xsl!
12:27:03,492 INFO format.ContConfirmOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="TranData"><InsuReq><!-- 中国银行缴费出单响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo></Main><xsl:if test="Head/Flag='0'"><Policy><ApplyNo><xsl:value-of select="Body/ProposalPrtNo" /></ApplyNo><PolicyNo><xsl:value-of select="Body/ContNo" /></PolicyNo><PrintNo><xsl:value-of select="Body/ContPrtNo" /></PrintNo><ApplyDate><xsl:value-of select="Body/Risk/PolApplyDate" /></ApplyDate><TotalPrem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></TotalPrem><InsuAmount><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Amnt)" /></InsuAmount><xsl:if test="Body/Risk/InsuYearFlag='1000Y'"><PayEndDate>99999999</PayEndDate></xsl:if><xsl:if test="Body/Risk/InsuYearFlag!='1000Y'"><PayEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PayEndDate></xsl:if><PolEffDate><xsl:value-of select="Body/Risk/CValiDate" /></PolEffDate><PolEndDate><xsl:value-of select="Body/Risk/InsuEndDate" /></PolEndDate></Policy><Print><PaperTypeCount>1</PaperTypeCount><Paper><PaperType>1</PaperType><PaperTitle /><PageCount>2</PageCount><PageContent><RowCount /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text></Row><Row><xsl:text>　</xsl:text>保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row /><Row><xsl:text>　</xsl:text>保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Row><Row><xsl:text>　</xsl:text><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(string(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday)),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Row><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:call-template name="tran_Sex"><xsl:with-param name="Sex"><xsl:value-of select="/TranData/Body/Appnt/Sex" /></xsl:with-param></xsl:call-template><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Row></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Row><xsl:text>　</xsl:text><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Row></xsl:when></xsl:choose><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Row><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text>趸交        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="PayIntv" /></xsl:with-param></xsl:call-template><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元
		  </Row></xsl:for-each><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>保险费合计：<xsl:value-of select="/TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" />元）</Row><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Row><xsl:text>　</xsl:text>红利领取方式：<xsl:apply-templates select="/TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Row></xsl:when><xsl:otherwise><Row><xsl:text>　</xsl:text>（本栏空白）</Row><Row /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Row /><Row /><Row /><Row /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Row /><Row /><Row /></xsl:when><xsl:when test="$num=3"><Row /><Row /></xsl:when><xsl:when test="$num=4"><Row /></xsl:when><xsl:otherwise /></xsl:choose><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　</xsl:text>银行网点名称：<xsl:value-of select="/TranData/Body/AgentComName" /></Row><Row><xsl:text>　</xsl:text>银行销售人员姓名/代码：<xsl:value-of select="/TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/SaleStaff,44)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Row><Row><xsl:text>　</xsl:text>银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="/TranData/Body/AgentPhone" /></Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Row><Row /><Row /></Details></PageContent><PageContent><RowCount>58</RowCount><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Details><Row /><Row /><Row /><Row /><Row /><Row /><Row><xsl:text>　　　</xsl:text>                                     现金价值表                     </Row><Row /><Row><xsl:text>　　　</xsl:text>保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Row><Row><xsl:text>　　　</xsl:text>险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　　　　</xsl:text>  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Row><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Row><xsl:text>　　　</xsl:text>------------------------------------------------------------------------------------------------</Row><Row><xsl:text>　　　</xsl:text>*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Row><Row><xsl:text>　　　</xsl:text>金价值额。投保后所做的各项变更可能使本表不再适用。</Row><Row><xsl:text>　　　</xsl:text>*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Row><Row><xsl:text>　　　</xsl:text>公司来电垂询。</Row><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /><Row /></Details></PageContent></Paper></Print></xsl:if></InsuReq></xsl:template><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!--性别转换--><xsl:template name="tran_Sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">男</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">女</xsl:when><!-- 女 --><xsl:otherwise>默认</xsl:otherwise></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">趸交</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">年交</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">半年交</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">季交</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">月交</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">不定期交</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:27:03,523 INFO format.ContConfirmOutXsl(64) - Out ContConfirmOutXsl.load()!
12:27:03,539 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NullPointerException
	at com.sinosoft.midplat.boc.format.ContConfirm.std2NoStd(ContConfirm.java:82)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
12:27:03,539 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
12:27:03,570 INFO common.SaveMessage(59) - 2016112907199459_1002_122703.xml IO输出耗时:0.031s
12:27:03,570 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016112907199459_1002_122703.xml
12:27:03,570 INFO net.BocNetImpl(119) - 返回报文长度：127
12:27:03,570 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
12:27:03,570 INFO test.BOCSocketTest(143) - 返回报文长度：1
12:27:03,570 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：8.294s
12:27:03,602 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:27:03,602 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=962
12:27:03,633 INFO common.Log4jPrint(20) - -------------------------
12:27:03,633 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:27:03,633 INFO common.Log4jPrint(20) - -------------------------
12:27:03,633 INFO common.Log4jPrint(20) - i=1
12:27:03,665 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:27:03,665 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:27:03,665 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=962,TranCom=11,ZoneNo='0010',NodeNo='0010',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195735',ContNo=null,OtherNo='B0091316',AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='非当日同一网点所出保单，不能进行该操作！',UsedTime=6,AppntName=null,Bak1='127.0.0.1',Bak2='2016112907198232',Bak3='7.746',Bak4=null,Bak5=null,InNoDoc='962_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=122656,ModifyDate=20161129,ModifyTime=122703,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='962_3_101_in.xml' where LogNo=962
12:27:03,680 INFO midplat.Ybt4Socket(170) - 处理总耗时：7.793s
12:27:03,680 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:27:03,696 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipChar(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
12:34:42,604 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13899213
12:34:42,604 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:34:42,619 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:34:42,619 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:34:42,619 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
12:34:42,619 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:34:42,619 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:34:42,619 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,611) and length=23653 bytes!
12:34:42,729 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:34:42,745 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:34:42,745 INFO common.Log4jPrint(20) - End reset System.out!
12:34:42,745 INFO net.SocketConf(27) - Into SocketConf.load()...
12:34:42,745 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:34:42,745 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,774) and length=711 bytes!
12:34:42,745 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:34:42,745 INFO net.SocketConf(60) - Out SocketConf.load()!
12:34:42,761 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
12:34:42,776 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:34:42,776 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
12:34:42,776 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
12:34:42,776 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:34:42,792 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
12:34:42,792 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
12:34:42,792 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:34:42,792 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
12:34:42,792 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
12:34:42,792 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:34:42,807 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
12:34:42,807 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
12:34:42,807 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
12:34:47,260 INFO test.BOCSocketTest(102) - Socket连接127.0.0.1:52004
12:34:47,276 INFO boc.BocConf(22) - Into BocConf.load()...
12:34:47,276 INFO test.BOCSocketTest(114) - 请求报文长度：1216
12:34:47,276 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
12:34:47,276 INFO test.BOCSocketTest(121) - 发送请求报文！
12:34:47,276 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:34:31,906) and length=3743 bytes!
12:34:47,276 INFO test.BOCSocketTest(125) - 客户端请求发送完毕！耗时：0.0s
12:34:47,276 INFO test.BOCSocketTest(131) - 收到返回报文！
12:34:47,276 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
12:34:47,276 INFO boc.BocConf(47) - Out BocConf.load()!
12:34:47,292 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:34:47,308 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:34:47,854 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:34:47,901 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:34:47,979 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.boc.net.BocNetImpl
12:34:47,995 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：52004
12:34:47,995 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:34:47,995 INFO net.BocNetImpl(29) - Into BocNetImpl.receive()...
12:34:48,010 INFO net.BocNetImpl(34) - 请求报文长度：1216
12:34:48,151 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:34:48,151 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:34:48,166 INFO common.SaveMessage(59) - 968_3_101_in.xml IO输出耗时:0.015s
12:34:48,166 INFO net.BocNetImpl(67) - 保存非标准报文完毕！968_3_101_in.xml
12:34:48,166 INFO net.BocNetImpl(70) - 交易标示101
12:34:48,166 INFO net.BocNetImpl(94) - Out BocNetImpl.receive()!
12:34:48,166 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.boc.format.NewCont
12:34:48,213 INFO format.NewCont(23) - Into NewCont.noStd2Std()...
12:34:48,213 INFO format.NewCont(24) - 第三方请求报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <!--投保基本信息-->
      <TranDate>20161129</TranDate>
      <!--交易日期(MakeDate)-->
      <TranTime>102535</TranTime>
      <!--交易时间-->
      <BankCode>BOC</BankCode>
      <!--银行代码-->
      <InsuId>0024</InsuId>
      <!--保险公司代码-->
      <ZoneNo>0010</ZoneNo>
      <!--地区代码-->
      <BrNo>0010</BrNo>
      &gt;
      <!--网点代码(NodeNo)-->
      <TellerNo>0871077</TellerNo>
      <!--柜员代码-->
      <TransNo>2016112907199459</TransNo>
      <!--交易流水号-->
      <TranCode>1002</TranCode>
      <!--交易码-->
      <Channel>1</Channel>
      <!--渠道标识-->
      <OriginTransNo>2016112907198232</OriginTransNo>
      <!--原出单交易流水号-->
      <ApplyNo>100030000195735</ApplyNo>
      <!--投保单号(ProposalPrtNo)-->
      <PrintNo>B0091316</PrintNo>
      <!--保单印刷号-->
      <Password />
      <!--保单密码-->
      <Premium>2000.00</Premium>
      <!--保险费-->
      <PayAcc>6217860100001192252</PayAcc>
      <!--银行账户-->
   </Main>
   <BaseInfo>
      <!--核心请求报文-->
      <BankCode>9006</BankCode>
      <!--银行代码-->
      <ZoneNo>0010</ZoneNo>
      <!--地区代码-->
      <BrNo />
      <!--交易流水号-->
      <TranNo>2016112907199459</TranNo>
      <!--交易流水号-->
      <FuncFlag>01</FuncFlag>
      <!--交易类型-->
      <InsuID />
      <!--保险公司代码-->
   </BaseInfo>
   <Head>
      <FuncFlag>101</FuncFlag>
      <TranCom>3</TranCom>
      <InNoDoc>968_3_101_in.xml</InNoDoc>
      <AgentCom />
      <AgentCode />
      <ClientIp>127.0.0.1</ClientIp>
   </Head>
</InsuReq>


12:34:48,213 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:34:48,213 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl...
12:34:48,213 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:48,771) and length=15351 bytes!
12:34:48,509 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContIn.xsl!
12:34:48,525 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="InsuReq"><TranData><!--核心录单自核请求报文--><Head><TranDate><xsl:value-of select="Main/TranDate" /></TranDate><TranTime><xsl:value-of select="Main/TranTime" /></TranTime><NodeNo><xsl:value-of select="Main/BrNo" /></NodeNo><BankCode><xsl:value-of select="Main/BankCode" /></BankCode><TellerNo><xsl:value-of select="Main/TellerNo" /></TellerNo><TranNo><xsl:value-of select="Main/TransNo" /></TranNo><ZoneNo><xsl:value-of select="Main/ZoneNo" /></ZoneNo><ClientIp>127.0.0.1</ClientIp><TranCom><xsl:value-of select="Head/TranCom" /></TranCom><FuncFlag><xsl:value-of select="Head/FuncFlag" /></FuncFlag><AgentCom /><AgentCode /><InNoDoc><xsl:value-of select="Head/InNoDoc" /></InNoDoc></Head><Body><SaleChannel><xsl:call-template name="tran_Channel"><xsl:with-param name="Channel"><xsl:value-of select="Main/Channel" /></xsl:with-param></xsl:call-template></SaleChannel><ProposalPrtNo><xsl:value-of select="Main/ApplyNo" /></ProposalPrtNo><ContPrtNo /><PolApplyDate><xsl:value-of select="Main/ApplyDate" /></PolApplyDate><AccNo><xsl:value-of select="Risks/Appendix/PayAcc" /></AccNo><AccName><xsl:value-of select="Risks/Appendix/PayAccName" /></AccName><GetPolMode>1</GetPolMode><HealthNotice><xsl:value-of select="Risks/Appendix/HealthFlag" /></HealthNotice><SaleName><xsl:value-of select="Main/SellTellerName" /></SaleName><SaleStaff><xsl:value-of select="Main/SellTeller" /></SaleStaff><SaleCertNo><xsl:value-of select="Main/SellCertID" /></SaleCertNo><Lv1BrNo /><Appnt><Name><xsl:value-of select="Appnt/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Appnt/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Appnt/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Appnt/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Appnt/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Appnt/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Appnt/Nationality" /></Nationality><AddressContent><xsl:value-of select="Appnt/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode /><Address><xsl:value-of select="Appnt/HomeAddr" /></Address><ZipCode><xsl:value-of select="Appnt/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Appnt/HomePhone" /></Phone><Mobile><xsl:value-of select="Appnt/MobilePhone" /></Mobile><Email><xsl:value-of select="Appnt/Email" /></Email><JobCode>3010101</JobCode><YearSalary><xsl:value-of select="Appnt/Income div 10000" /></YearSalary><FamilyYearSalary><xsl:value-of select="Appnt/FamilyIncome div 10000" /></FamilyYearSalary><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Appnt/RelaToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><DenType><xsl:value-of select="Appnt/ResiType" /></DenType></Appnt><Insured><Name><xsl:value-of select="Insured/Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Insured/Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Insured/Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="Insured/IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="Insured/IDNo" /></IDNo><IdExpDate><xsl:value-of select="Insured/IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Insured/Nationality" /></Nationality><AddressContent><xsl:value-of select="Insured/HomeAddr" /></AddressContent><FixTelDmstDstcNo /><MobileItlDstcNo /><NationalityCode>0156</NationalityCode><Address><xsl:value-of select="Insured/HomeAddr" /></Address><ZipCode><xsl:value-of select="Insured/HomeZipCode" /></ZipCode><Phone><xsl:value-of select="Insured/HomePhone" /></Phone><Mobile><xsl:value-of select="Insured/MobilePhone" /></Mobile><Email><xsl:value-of select="Insured/Email" /></Email><JobCode>3010101</JobCode><RcgnYrIncmAm /><CovSumAmt /><RiskAssessmentResult /><RiskAssessmentEndDate /><PremiumBudget /></Insured><xsl:for-each select="Bnfs/Bnf"><Bnf><Type><xsl:call-template name="tran_Type"><xsl:with-param name="Type"><xsl:value-of select="Type" /></xsl:with-param></xsl:call-template></Type><BenfSN /><Grade><xsl:value-of select="Order" /></Grade><Name><xsl:value-of select="Name" /></Name><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Sex" /></xsl:with-param></xsl:call-template></Sex><Birthday><xsl:value-of select="Birthday" /></Birthday><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="IDType"><xsl:value-of select="IDType" /></xsl:with-param></xsl:call-template></IDType><IDNo><xsl:value-of select="IDNo" /></IDNo><IdExpDate><xsl:value-of select="IDEndDate" /></IdExpDate><Nationality><xsl:value-of select="Nationality" /></Nationality><RelaToInsured><xsl:call-template name="tran_relatoinsured"><xsl:with-param name="RelaToInsured"><xsl:value-of select="RelationToInsured" /></xsl:with-param></xsl:call-template></RelaToInsured><Lot><xsl:value-of select="Percent" /></Lot><AddressContent><xsl:value-of select="HomeAddr" /></AddressContent><BenfCommAdr /><BeneficType /></Bnf></xsl:for-each><xsl:variable name="MainCode"><xsl:value-of select="Risks/Risk[MainSubFlag='1']/Code" /></xsl:variable><xsl:for-each select="Risks/Risk"><Risk><RiskCode><xsl:value-of select="Code" /></RiskCode><MainRiskCode><xsl:value-of select="$MainCode" /></MainRiskCode><RiskName /><AgInsPkgID /><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsuAmount)" /></Amnt><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Premium)" /></Prem><Mult><xsl:value-of select="Unit" /></Mult><PayMode>B</PayMode><PayIntv><xsl:call-template name="tran_PayIntv"><xsl:with-param name="PayIntv"><xsl:value-of select="../Appendix/PayIntv" /></xsl:with-param></xsl:call-template></PayIntv><PayEndYear><xsl:value-of select="PayEndYear" /></PayEndYear><PayEndYearFlag><xsl:call-template name="tran_PayEndYearFlag"><xsl:with-param name="PayEndYearFlag"><xsl:value-of select="PayEndYearFlag" /></xsl:with-param></xsl:call-template></PayEndYearFlag><GetIntv /><GetYearFlag><xsl:call-template name="tran_GetYearFlag"><xsl:with-param name="GetYearFlag"><xsl:value-of select="../Appendix/GetYearFlag" /></xsl:with-param></xsl:call-template></GetYearFlag><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="../Appendix/BonusGetMode" /></xsl:with-param></xsl:call-template></BonusGetMode><SubFlag /><GetYear><xsl:value-of select="../Appendix/GetYear" /></GetYear><InsuYearFlag><xsl:call-template name="tran_InsuYearFlag"><xsl:with-param name="InsuYearFlag"><xsl:value-of select="InsuYearFlag" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="InsuYear" /></InsuYear><GetBankCode /><GetBankAccNo /><GetAccName /><AutoPayFlag /></Risk></xsl:for-each></Body></TranData></xsl:template><!--销售渠道--><xsl:template name="tran_Channel"><xsl:param name="Channel" /><xsl:choose><xsl:when test="$Channel = '1'">0</xsl:when><!--柜面--><xsl:when test="$Channel = '2'">07</xsl:when><!--网银 --><xsl:when test="$Channel = '4'">06</xsl:when><!--自助终端 --><xsl:otherwise /></xsl:choose></xsl:template><!--性别转换--><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:choose><xsl:when test="$Sex = '0'">0</xsl:when><!-- 男--><xsl:when test="$Sex = '1'">1</xsl:when><!-- 女 --><xsl:otherwise /></xsl:choose></xsl:template><!-- 证件类型     --><xsl:template name="tran_idtype"><!--证件类型--><xsl:param name="IDType" /><xsl:choose><xsl:when test="$IDType = '01'">0</xsl:when><!-- 身份证 --><xsl:when test="$IDType = '02'">C</xsl:when><!-- 临时身份证 --><xsl:when test="$IDType = '03'">1</xsl:when><!--护照 --><xsl:when test="$IDType = '04'">4</xsl:when><!-- 户口本 --><xsl:when test="$IDType = '05'">2</xsl:when><!--军官证 --><xsl:when test="$IDType = '06'">D</xsl:when><!-- 警官证 --><xsl:when test="$IDType = '08'">8</xsl:when><!--外交人员身份证--><xsl:when test="$IDType = '09'">8</xsl:when><!-- 外国人居留许可证 --><xsl:when test="$IDType = '10'">8</xsl:when><!-- 边民出入境通行证 --><xsl:when test="$IDType = '11'">8</xsl:when><!-- 其他 --><xsl:when test="$IDType = '47'">F</xsl:when><!-- 港澳居民来往内地通行证（香港） --><xsl:when test="$IDType = '48'">F</xsl:when><!-- 港澳居民来往内地通行证（澳门） --><xsl:when test="$IDType = '49'">F</xsl:when><!-- 台湾居民来往大陆通行证 --><xsl:otherwise>8</xsl:otherwise></xsl:choose></xsl:template><!--投被保人关系 --><xsl:template name="tran_relatoinsured"><xsl:param name="RelaToInsured" /><xsl:choose><xsl:when test="$RelaToInsured = '01'">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = '02'">02</xsl:when><!--配偶--><xsl:when test="$RelaToInsured = '03'">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = '04'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '05'">01</xsl:when><!--父母 --><xsl:when test="$RelaToInsured = '06'">03</xsl:when><!--子女 --><xsl:when test="$RelaToInsured = '07'">03</xsl:when><!--子女--><xsl:when test="$RelaToInsured = '08'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '09'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '10'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:when test="$RelaToInsured = '11'">04</xsl:when><!-- 祖父祖母、孙子女 --><xsl:otherwise>06</xsl:otherwise></xsl:choose></xsl:template><!--收益人类型 --><xsl:template name="tran_Type"><xsl:param name="Type" /><xsl:choose><xsl:when test="$Type = '1'">1</xsl:when><!--身故 --><xsl:when test="$Type = '2'">0</xsl:when><!--生存--><xsl:when test="$Type = '3'">2</xsl:when><!--红利  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费方式--><xsl:template name="tran_PayIntv"><xsl:param name="PayIntv" /><xsl:choose><xsl:when test="$PayIntv = '01'">0</xsl:when><!--趸交 --><xsl:when test="$PayIntv = '02'">12</xsl:when><!--年交--><xsl:when test="$PayIntv = '03'">6</xsl:when><!--半年交  --><xsl:when test="$PayIntv = '04'">3</xsl:when><!--季交  --><xsl:when test="$PayIntv = '05'">1</xsl:when><!--月交  --><xsl:when test="$PayIntv = '06'">-1</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--缴费年期年龄标志--><xsl:template name="tran_PayEndYearFlag"><xsl:param name="PayEndYearFlag" /><xsl:choose><xsl:when test="$PayEndYearFlag = '00'" /><!--无关 --><xsl:when test="$PayEndYearFlag = '01'">A</xsl:when><!--趸交--><xsl:when test="$PayEndYearFlag = '02'">Y</xsl:when><!--年交  --><xsl:when test="$PayEndYearFlag = '05'">M</xsl:when><!--月交  --><xsl:when test="$PayEndYearFlag = '06'">D</xsl:when><!--日缴  --><xsl:when test="$PayEndYearFlag = '07'">A</xsl:when><!--缴至某确定年龄  --><xsl:otherwise /></xsl:choose></xsl:template><!--领取年期年龄标志--><xsl:template name="tran_GetYearFlag"><xsl:param name="GetYearFlag" /><xsl:choose><xsl:when test="$GetYearFlag = '00'" /><!--无关 --><xsl:when test="$GetYearFlag = '01'" /><!--趸领--><xsl:when test="$GetYearFlag = '02'">Y</xsl:when><!--年领  --><xsl:when test="$GetYearFlag = '03'" /><!--半年领  --><xsl:when test="$GetYearFlag = '04'" /><!--季领  --><xsl:when test="$GetYearFlag = '05'">M</xsl:when><!--不定期交  --><xsl:otherwise /></xsl:choose></xsl:template><!--红利领取方式--><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:choose><xsl:when test="$BonusGetMode = '0'">4</xsl:when><!--无关 --><xsl:when test="$BonusGetMode = '1'">1</xsl:when><!--趸领--><xsl:when test="$BonusGetMode = '2'">2</xsl:when><!--年领  --><xsl:when test="$BonusGetMode = '3'">3</xsl:when><!--半年领  --><xsl:when test="$BonusGetMode = '4'">5</xsl:when><!--季领  --><xsl:otherwise /></xsl:choose></xsl:template><!--保险年期年龄标志--><xsl:template name="tran_InsuYearFlag"><xsl:param name="InsuYearFlag" /><xsl:choose><xsl:when test="$InsuYearFlag = '01'">Y</xsl:when><!--年保 --><xsl:when test="$InsuYearFlag = '03'">M</xsl:when><!--月保--><xsl:when test="$InsuYearFlag = '04'">D</xsl:when><!--日保 --><xsl:when test="$InsuYearFlag = '05'">A</xsl:when><!--按年龄保  --><xsl:when test="$InsuYearFlag = '06'">1000Y</xsl:when><!--保终身 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:34:48,541 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:34:48,666 INFO format.NewCont(33) - 请求核心报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <TranDate>20161129</TranDate>
      <TranTime>102535</TranTime>
      <NodeNo>0010</NodeNo>
      <BankCode>BOC</BankCode>
      <TellerNo>0871077</TellerNo>
      <TranNo>2016112907199459</TranNo>
      <ZoneNo>0010</ZoneNo>
      <ClientIp>127.0.0.1</ClientIp>
      <TranCom>3</TranCom>
      <FuncFlag>101</FuncFlag>
      <AgentCom />
      <AgentCode />
      <InNoDoc>968_3_101_in.xml</InNoDoc>
   </Head>
   <Body>
      <SaleChannel>0</SaleChannel>
      <ProposalPrtNo>100030000195735</ProposalPrtNo>
      <ContPrtNo />
      <PolApplyDate />
      <AccNo />
      <AccName />
      <GetPolMode>1</GetPolMode>
      <HealthNotice />
      <SaleName />
      <SaleStaff />
      <SaleCertNo />
      <Lv1BrNo />
      <Appnt>
         <Name />
         <Sex />
         <Birthday />
         <IDType>8</IDType>
         <IDNo />
         <IdExpDate />
         <Nationality />
         <AddressContent />
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode />
         <Address />
         <ZipCode />
         <Phone />
         <Mobile />
         <Email />
         <JobCode>3010101</JobCode>
         <YearSalary>NaN</YearSalary>
         <FamilyYearSalary>NaN</FamilyYearSalary>
         <RelaToInsured>06</RelaToInsured>
         <DenType />
      </Appnt>
      <Insured>
         <Name />
         <Sex />
         <Birthday />
         <IDType>8</IDType>
         <IDNo />
         <IdExpDate />
         <Nationality />
         <AddressContent />
         <FixTelDmstDstcNo />
         <MobileItlDstcNo />
         <NationalityCode>0156</NationalityCode>
         <Address />
         <ZipCode />
         <Phone />
         <Mobile />
         <Email />
         <JobCode>3010101</JobCode>
         <RcgnYrIncmAm />
         <CovSumAmt />
         <RiskAssessmentResult />
         <RiskAssessmentEndDate />
         <PremiumBudget />
      </Insured>
   </Body>
</TranData>


12:34:48,666 INFO format.NewCont(34) - Out NewCont.noStd2Std()!
12:34:48,666 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.service.NewContInput
12:34:48,682 INFO service.NewContInput(33) - Into NewContInput.service()...
12:34:48,682 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
12:34:48,698 INFO common.Log4jPrint(20) - 进程名：968
12:34:48,698 INFO common.Log4jPrint(20) - trancom:3
12:34:48,698 INFO common.Log4jPrint(20) - FuncFlag:101
12:34:48,698 INFO common.Log4jPrint(20) - mHeadEle.getChildText968_3_101_in.xml
12:34:48,760 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:34:48,760 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,ZoneNo,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 968,3,'0010','0010','2016112907199459','0871077',101,20161129,102535,'100030000195735',-1,-1,'127.0.0.1','968_3_101_in.xml',20161129,123448,20161129,123448 )
12:34:48,776 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
12:34:48,776 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='100030000195735' and MakeDate>=20161129 and MakeTime>=123128
12:34:48,856 INFO common.RuleXsl(155) - Into RuleXsl.load()...
12:34:48,856 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
12:34:48,856 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
12:34:48,887 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
12:34:48,887 INFO common.RuleXsl(179) - Out RuleXsl.load()!
12:34:48,887 INFO common.RuleXml(198) - Into RuleXml.load()...
12:34:48,887 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
12:34:48,887 INFO common.XmlConf(62) - conf file modified at (2016-11-29 09:27:13,721) and length=10207 bytes!
12:34:48,902 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
12:34:48,902 INFO common.RuleXml(215) - Out RuleXml.load()!
12:34:48,902 INFO common.RuleParser(49) - Into RuleParser.check()...
12:34:48,902 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:34:48,918 INFO common.Log4jPrint(20) - 对邮编进行校验
12:34:48,918 INFO common.Log4jPrint(20) - 返回的结果是:0
12:34:48,918 INFO common.Log4jPrint(20) - 对邮编进行校验
12:34:48,918 INFO common.Log4jPrint(20) - 返回的结果是:0
12:34:48,918 INFO common.Log4jPrint(20) - 对邮编进行校验
12:34:48,918 INFO common.Log4jPrint(20) - 返回的结果是:0
12:34:48,918 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>缴费账户不能为空</msg><msg>投保日期不能为空</msg><msg>投保日期必须为当天</msg><msg>投保人姓名不能为空</msg><msg>投保人出生日期不能为空</msg><msg>投保人证件号码不能为空</msg><msg>投保人通讯地址不能为空</msg><msg>投保人邮编不能为空</msg><msg>被保人姓名不能为空</msg><msg>被保人出生日期不能为空</msg><msg>被保人证件号码不能为空</msg><msg>被保人邮寄地址不能为空</msg><msg>被保人邮编不能为空</msg></rules>

12:34:48,918 ERROR service.NewContInput(181) - 新单试算交易失败！
com.sinosoft.midplat.exception.MidplatException: 缴费账户不能为空
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.service.NewContInput.service(NewContInput.java:75)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:34:48,965 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:34:48,965 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:34:48,965 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=968,TranCom=3,ZoneNo='0010',NodeNo='0010',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195735',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='缴费账户不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='968_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=123448,ModifyDate=20161129,ModifyTime=123448,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=968
12:34:48,980 INFO service.NewContInput(200) - Out NewContInput.service()!
12:34:48,980 INFO format.NewCont(39) - Into NewCont.std2NoStd()...
12:34:48,980 INFO format.NewCont(40) - 核心返回报文:<?xml version="1.0"?>
<TranData>
   <Head>
      <Flag>1</Flag>
      <Desc>缴费账户不能为空</Desc>
   </Head>
</TranData>


12:34:48,996 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:34:48,996 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl...
12:34:48,996 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:38:48,847) and length=1114 bytes!
12:34:49,027 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/boc/format/NewContOut.xsl!
12:34:49,043 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TranData"><InsuReq><!-- 中国银行保费试算响应报文 --><Main><TranDate><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Date()" /></TranDate><TranTime><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur6Time()" /></TranTime><InsuId /><ZoneNo /><BrNo /><TellerNo /><TransNo /><TranCode /><xsl:if test="Head/Flag='0'"><ResultCode>0000</ResultCode></xsl:if><xsl:if test="Head/Flag='1'"><ResultCode>0001</ResultCode></xsl:if><ResultInfo><xsl:value-of select="Head/Desc" /></ResultInfo><ApplyNo><xsl:value-of select="Body/ContNo" /></ApplyNo><Premium><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Body/Prem)" /></Premium></Main></InsuReq></xsl:template></xsl:stylesheet>

12:34:49,043 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:34:49,058 INFO format.NewCont(49) - 返回给第三方报文:<?xml version="1.0"?>
<InsuReq>
   <Main>
      <TranDate>20161129</TranDate>
      <TranTime>123449</TranTime>
      <InsuId>0024</InsuId>
      <ZoneNo>0010</ZoneNo>
      <BrNo>0010</BrNo>
      <TellerNo>0871077</TellerNo>
      <TransNo>2016112907199459</TransNo>
      <TranCode>1002</TranCode>
      <ResultCode>0001</ResultCode>
      <ResultInfo>缴费账户不能为空</ResultInfo>
      <ApplyNo />
      <Premium />
   </Main>
</InsuReq>


12:34:49,058 INFO format.NewCont(50) - Out NewCont.std2NoStd()!
12:34:49,058 INFO net.BocNetImpl(99) - Into BocNetImpl.send()...
12:34:49,058 INFO common.SaveMessage(59) - 2016112907199459_1002_123449.xml IO输出耗时:0.0s
12:34:49,058 INFO net.BocNetImpl(114) - 返回银行报文保存完毕！2016112907199459_1002_123449.xml
12:34:49,058 INFO net.BocNetImpl(119) - 返回报文长度：367
12:34:49,074 INFO net.BocNetImpl(128) - Out BocNetImpl.send()!
12:34:49,074 INFO test.BOCSocketTest(143) - 返回报文长度：3
12:34:49,074 INFO test.BOCSocketTest(156) - 客户端接收返回报文完毕！耗时：1.798s
12:34:49,090 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:34:49,090 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=968
12:34:49,122 INFO common.Log4jPrint(20) - -------------------------
12:34:49,122 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:34:49,122 INFO common.Log4jPrint(20) - -------------------------
12:34:49,153 INFO common.Log4jPrint(20) - i=1
12:34:49,184 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:34:49,184 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:34:49,184 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=968,TranCom=3,ZoneNo='0010',NodeNo='0010',TranNo='2016112907199459',Operator='0871077',FuncFlag=101,TranDate=20161129,TranTime=102535,ProposalPrtNo='100030000195735',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='缴费账户不能为空',UsedTime=0,AppntName=null,Bak1='127.0.0.1',Bak2=null,Bak3='1.158',Bak4=null,Bak5=null,InNoDoc='968_3_101_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=123448,ModifyDate=20161129,ModifyTime=123448,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='968_3_101_in.xml' where LogNo=968
12:34:49,200 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.205s
12:34:49,200 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
12:34:49,200 ERROR common.JdomUtil(80) - xml格式有误，解析失败！
org.jdom.input.JDOMParseException: Error on line 1: XML document structures must start and end within the same entity.
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:504)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
Caused by: org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	... 5 more
Caused by: 
org.xml.sax.SAXParseException: XML document structures must start and end within the same entity.
	at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
	at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)
	at org.apache.xerces.impl.XMLEntityScanner.skipSpaces(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanPIData(Unknown Source)
	at org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)
	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)
	at org.jdom.input.SAXBuilder.build(SAXBuilder.java:489)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:78)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:47)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:38)
	at com.sinosoft.midplat.common.JdomUtil.build(JdomUtil.java:30)
	at test.BOCSocketTest.main(BOCSocketTest.java:86)
12:46:55,333 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4640b181
12:46:55,349 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
12:46:55,349 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
12:46:55,349 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
12:46:55,349 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
12:46:55,349 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
12:46:55,380 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
12:46:55,380 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,306) and length=23653 bytes!
12:46:55,459 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
12:46:55,475 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
12:46:55,475 INFO common.Log4jPrint(20) - End reset System.out!
12:46:55,475 INFO net.SocketConf(27) - Into SocketConf.load()...
12:46:55,475 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
12:46:55,475 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=711 bytes!
12:46:55,475 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
12:46:55,475 INFO net.SocketConf(60) - Out SocketConf.load()!
12:46:55,490 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
12:46:55,490 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
12:46:55,506 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
12:46:55,506 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
12:46:55,506 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
12:46:55,506 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
12:46:55,506 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
12:46:55,506 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
12:46:55,521 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
12:46:55,521 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
12:46:55,521 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
12:46:55,521 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
12:46:55,521 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
12:46:55,521 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
12:47:08,251 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
12:47:08,267 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
12:47:08,267 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
12:47:08,267 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,307) and length=14122 bytes!
12:47:08,267 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
12:47:08,298 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

12:47:08,299 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
12:47:08,299 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
12:47:08,299 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
12:47:08,845 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
12:47:08,892 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
12:47:08,954 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
12:47:08,970 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
12:47:08,970 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
12:47:08,970 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
12:47:08,985 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
12:47:08,985 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161127145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


12:47:09,001 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
12:47:09,001 INFO newNet.CcbNetImpl(58) - mTranCom==============03
12:47:09,126 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
12:47:09,126 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
12:47:09,141 INFO common.SaveMessage(59) - 974_3_1012_in.xml IO输出耗时:0.015s
12:47:09,141 INFO newNet.CcbNetImpl(68) - 保存报文完毕！974_3_1012_in.xml
12:47:09,141 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
12:47:09,141 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
12:47:09,157 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
12:47:09,157 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
12:47:09,157 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
12:47:09,157 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
12:47:09,157 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
12:47:09,469 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
12:47:09,485 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

12:47:09,500 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
12:47:09,642 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
12:47:09,657 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
12:47:09,673 INFO common.Log4jPrint(20) - ================0133011
12:47:09,673 INFO common.Log4jPrint(20) - ================03
12:47:09,673 INFO common.Log4jPrint(20) - ++++++++++++++++03
12:47:09,673 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
12:47:09,673 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
12:47:09,673 INFO service.NewContInput(43) - Into NewContInput.service()...
12:47:09,673 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
12:47:09,688 INFO common.Log4jPrint(20) - 进程名：974
12:47:09,688 INFO common.Log4jPrint(20) - trancom:3
12:47:09,688 INFO common.Log4jPrint(20) - FuncFlag:1012
12:47:09,688 INFO common.Log4jPrint(20) - mHeadEle.getChildText974_3_1012_in.xml
12:47:09,720 INFO common.Log4jPrint(20) - 进入更新后的InsPart
12:47:09,720 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 974,3,'13099','demaxiya200164','5201300004',1012,20161127,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','974_3_1012_in.xml',20161129,124709,20161129,124709,'230803197906010035','张燕','230803197906010035','011A0100' )
12:47:09,735 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
12:47:09,735 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=124349
12:47:09,813 INFO common.RuleXsl(155) - Into RuleXsl.load()...
12:47:09,813 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
12:47:09,813 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
12:47:09,860 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
12:47:09,860 INFO common.RuleXsl(179) - Out RuleXsl.load()!
12:47:09,876 INFO common.RuleXml(198) - Into RuleXml.load()...
12:47:09,876 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
12:47:09,876 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=10207 bytes!
12:47:09,876 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
12:47:09,876 INFO common.RuleXml(215) - Out RuleXml.load()!
12:47:09,876 INFO common.RuleParser(49) - Into RuleParser.check()...
12:47:09,876 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
12:47:09,891 INFO common.Log4jPrint(20) - 对邮编进行校验
12:47:09,891 INFO common.Log4jPrint(20) - 对邮编进行校验
12:47:09,891 INFO common.Log4jPrint(20) - 返回的结果是:0
12:47:09,891 INFO common.Log4jPrint(20) - 对邮编进行校验
12:47:09,891 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

12:47:09,891 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:103)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
12:47:09,922 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:47:09,922 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:47:09,922 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=974,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='974_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=124709,ModifyDate=20161129,ModifyTime=124709,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=974
12:47:09,938 INFO service.NewContInput(237) - Out NewContInput.service()!
12:47:09,938 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
12:47:09,954 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
12:47:09,954 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
12:47:09,954 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
12:47:09,985 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
12:47:09,985 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

12:47:09,985 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
12:47:09,985 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
12:47:09,985 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
12:47:09,985 INFO common.SaveMessage(59) - 974_6_1012_out.xml IO输出耗时:0.0s
12:47:09,985 INFO newNet.CcbNetImpl(178) - 保存报文完毕！974_6_1012_out.xml
12:47:09,985 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2122</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129124709157</SYS_RECV_TIME><SYS_RESP_TIME>20161129124709985</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

12:47:10,000 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
12:47:10,078 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:47:10,078 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=974
12:47:10,094 INFO common.Log4jPrint(20) - -------------------------
12:47:10,094 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
12:47:10,094 INFO common.Log4jPrint(20) - -------------------------
12:47:10,110 INFO common.Log4jPrint(20) - i=1
12:47:10,143 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
12:47:10,143 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
12:47:10,143 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=974,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='1.14',Bak4=null,Bak5=null,InNoDoc='974_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=124709,ModifyDate=20161129,ModifyTime=124709,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='974_6_1012_out.xml' where LogNo=974
12:47:10,143 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.173s
12:47:10,158 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:11:13,558 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@45cfd3b2
14:11:13,578 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:11:13,582 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:11:13,583 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:11:13,585 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:11:13,586 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:11:13,586 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:11:13,590 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,306) and length=23653 bytes!
14:11:13,652 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:11:13,660 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:11:13,661 INFO common.Log4jPrint(20) - End reset System.out!
14:11:13,663 INFO net.SocketConf(27) - Into SocketConf.load()...
14:11:13,663 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:11:13,664 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=711 bytes!
14:11:13,667 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:11:13,667 INFO net.SocketConf(60) - Out SocketConf.load()!
14:11:13,682 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:11:13,683 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:11:13,691 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:11:13,692 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:11:13,692 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:11:13,697 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:11:13,697 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:11:13,698 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:11:13,703 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:11:13,703 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:11:13,703 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:11:13,708 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:11:13,709 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:11:13,709 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:11:26,386 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
14:11:26,387 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
14:11:26,389 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@588491b8
14:11:26,390 INFO common.Log4jPrint(20) - Start revert System.out...
14:11:26,391 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
14:11:26,424 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:26,424 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:26,424 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:26,424 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:26,511 INFO boc.BocConf(22) - Into BocConf.load()...
14:11:26,511 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
14:11:26,512 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,303) and length=3734 bytes!
14:11:26,523 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
14:11:26,523 INFO boc.BocConf(47) - Out BocConf.load()!
14:11:26,536 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:11:26,537 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:11:26,537 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,307) and length=14122 bytes!
14:11:26,556 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:11:26,569 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:11:26,570 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:11:26,583 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
14:11:26,583 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
14:11:26,584 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,305) and length=1791 bytes!
14:11:26,598 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
14:11:26,599 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
14:11:28,722 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@64e0fcac
14:11:28,730 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:11:28,736 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:11:28,736 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:11:28,739 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:11:28,740 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:11:28,741 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:11:28,745 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,306) and length=23653 bytes!
14:11:28,820 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:11:28,828 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:11:28,828 INFO common.Log4jPrint(20) - End reset System.out!
14:11:28,831 INFO net.SocketConf(27) - Into SocketConf.load()...
14:11:28,831 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:11:28,832 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=711 bytes!
14:11:28,836 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:11:28,837 INFO net.SocketConf(60) - Out SocketConf.load()!
14:11:28,852 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:11:28,853 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:11:28,862 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:11:28,862 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:11:28,862 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:11:28,869 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:11:28,869 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:11:28,869 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:11:28,874 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:11:28,875 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:11:28,875 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:11:28,879 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:11:28,880 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:11:28,880 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:11:33,920 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
14:11:33,921 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
14:11:33,922 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@6a6078e7
14:11:33,923 INFO common.Log4jPrint(20) - Start revert System.out...
14:11:33,924 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
14:11:33,954 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:33,954 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:33,954 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:33,954 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:11:34,006 INFO boc.BocConf(22) - Into BocConf.load()...
14:11:34,006 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
14:11:34,007 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,303) and length=3734 bytes!
14:11:34,010 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
14:11:34,011 INFO boc.BocConf(47) - Out BocConf.load()!
14:11:34,026 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:11:34,026 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:11:34,027 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,307) and length=14122 bytes!
14:11:34,036 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:11:34,049 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:11:34,050 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:11:34,055 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
14:11:34,055 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
14:11:34,056 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,305) and length=1791 bytes!
14:11:34,059 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
14:11:34,059 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
14:11:42,267 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7619cc1b
14:11:42,276 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:11:42,280 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:11:42,281 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:11:42,283 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:11:42,284 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:11:42,284 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:11:42,288 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,306) and length=23653 bytes!
14:11:42,360 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:11:42,368 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:11:42,369 INFO common.Log4jPrint(20) - End reset System.out!
14:11:42,371 INFO net.SocketConf(27) - Into SocketConf.load()...
14:11:42,372 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:11:42,373 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=711 bytes!
14:11:42,376 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:11:42,376 INFO net.SocketConf(60) - Out SocketConf.load()!
14:11:42,392 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:11:42,393 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:11:42,402 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:11:42,402 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:11:42,402 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:11:42,408 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:11:42,408 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:11:42,408 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:11:42,414 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:11:42,414 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:11:42,414 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:11:42,421 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:11:42,422 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:11:42,421 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:11:50,560 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:11:50,571 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:11:50,572 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:11:50,572 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,307) and length=14122 bytes!
14:11:50,581 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:11:50,603 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:11:50,604 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:11:50,606 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:11:50,612 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:11:51,139 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:11:51,238 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:11:51,349 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:11:51,383 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:11:51,384 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:11:51,384 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:11:51,387 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
14:11:51,388 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161127145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


14:11:51,406 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
14:11:51,406 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:11:51,554 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
14:11:51,554 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
14:11:51,571 INFO common.SaveMessage(59) - 980_3_1012_in.xml IO输出耗时:0.017s
14:11:51,571 INFO newNet.CcbNetImpl(68) - 保存报文完毕！980_3_1012_in.xml
14:11:51,574 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:11:51,576 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:11:51,578 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
14:11:51,610 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
14:11:51,653 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
14:11:51,653 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
14:11:51,654 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
14:11:51,975 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
14:11:51,991 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

14:11:51,993 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
14:11:52,189 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
14:11:52,191 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
14:11:52,223 INFO common.Log4jPrint(20) - ================0133011
14:11:52,223 INFO common.Log4jPrint(20) - ================03
14:11:52,223 INFO common.Log4jPrint(20) - ++++++++++++++++03
14:11:52,223 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
14:11:52,224 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
14:11:52,254 INFO service.NewContInput(43) - Into NewContInput.service()...
14:11:52,256 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:11:52,265 INFO common.Log4jPrint(20) - 进程名：980
14:11:52,266 INFO common.Log4jPrint(20) - trancom:3
14:11:52,266 INFO common.Log4jPrint(20) - FuncFlag:1012
14:11:52,266 INFO common.Log4jPrint(20) - mHeadEle.getChildText980_3_1012_in.xml
14:11:52,301 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:11:52,301 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 980,3,'13099','demaxiya200164','5201300004',1012,20161127,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','980_3_1012_in.xml',20161129,141152,20161129,141152,'230803197906010035','张燕','230803197906010035','011A0100' )
14:11:52,317 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:11:52,319 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=140832
14:11:52,420 INFO common.RuleXsl(155) - Into RuleXsl.load()...
14:11:52,421 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
14:11:52,422 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
14:11:52,482 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
14:11:52,483 INFO common.RuleXsl(179) - Out RuleXsl.load()!
14:11:52,483 INFO common.RuleXml(198) - Into RuleXml.load()...
14:11:52,483 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
14:11:52,484 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=10207 bytes!
14:11:52,500 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
14:11:52,501 INFO common.RuleXml(215) - Out RuleXml.load()!
14:11:52,501 INFO common.RuleParser(49) - Into RuleParser.check()...
14:11:52,501 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
14:11:52,516 INFO common.Log4jPrint(20) - 对邮编进行校验
14:11:52,517 INFO common.Log4jPrint(20) - 对邮编进行校验
14:11:52,517 INFO common.Log4jPrint(20) - 返回的结果是:0
14:11:52,519 INFO common.Log4jPrint(20) - 对邮编进行校验
14:11:52,522 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules><msg>投保日期必须为当天</msg></rules>

14:11:52,524 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 投保日期必须为当天
	at com.sinosoft.midplat.common.RuleParser.checkByXsl(RuleParser.java:79)
	at com.sinosoft.midplat.common.RuleParser.check(RuleParser.java:53)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:103)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:11:52,598 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:11:52,599 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:11:52,600 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=980,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='980_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=141152,ModifyDate=20161129,ModifyTime=141152,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=980
14:11:52,615 INFO service.NewContInput(237) - Out NewContInput.service()!
14:11:52,616 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
14:11:52,659 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
14:11:52,660 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
14:11:52,661 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
14:11:52,691 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
14:11:52,700 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

14:11:52,701 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
14:11:52,707 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
14:11:52,707 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:11:52,713 INFO common.SaveMessage(59) - 980_6_1012_out.xml IO输出耗时:0.0020s
14:11:52,714 INFO newNet.CcbNetImpl(178) - 保存报文完毕！980_6_1012_out.xml
14:11:52,716 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>819</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2122</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129141151612</SYS_RECV_TIME><SYS_RESP_TIME>20161129141152706</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>9</SYS_RESP_DESC_LEN><SYS_RESP_DESC>淇ユ蹇椤讳负褰澶?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:11:52,717 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
14:11:52,751 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:11:52,752 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=980
14:11:52,913 INFO common.Log4jPrint(20) - -------------------------
14:11:52,914 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:11:52,914 INFO common.Log4jPrint(20) - -------------------------
14:11:52,925 INFO common.Log4jPrint(20) - i=1
14:11:52,957 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:11:52,958 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:11:52,958 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=980,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='投保日期必须为当天',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='1.542',Bak4=null,Bak5=null,InNoDoc='980_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=141152,ModifyDate=20161129,ModifyTime=141152,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='980_6_1012_out.xml' where LogNo=980
14:11:52,973 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.589s
14:11:52,973 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:14:28,444 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7eb05acd
14:14:28,453 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:14:28,457 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:14:28,457 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:14:28,460 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:14:28,461 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:14:28,462 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:14:28,468 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,306) and length=23653 bytes!
14:14:28,541 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:14:28,550 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:14:28,551 INFO common.Log4jPrint(20) - End reset System.out!
14:14:28,553 INFO net.SocketConf(27) - Into SocketConf.load()...
14:14:28,553 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:14:28,554 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=711 bytes!
14:14:28,557 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:14:28,558 INFO net.SocketConf(60) - Out SocketConf.load()!
14:14:28,572 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:14:28,572 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:14:28,582 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:14:28,583 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:14:28,583 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:14:28,587 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:14:28,588 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:14:28,588 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:14:28,594 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:14:28,594 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:14:28,595 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:14:28,600 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:14:28,600 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:14:28,600 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:14:39,312 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:14:39,327 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:14:39,328 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:14:39,328 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,307) and length=14122 bytes!
14:14:39,338 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:14:39,363 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:14:39,545 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:14:39,548 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:14:39,553 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:14:39,998 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:14:40,046 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:14:40,124 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:14:40,129 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:14:40,130 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:14:40,130 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:14:40,133 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
14:14:40,133 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


14:14:40,141 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
14:14:40,141 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:14:40,268 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
14:14:40,268 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
14:14:40,294 INFO common.SaveMessage(59) - 986_3_1012_in.xml IO输出耗时:0.025s
14:14:40,295 INFO newNet.CcbNetImpl(68) - 保存报文完毕！986_3_1012_in.xml
14:14:40,297 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:14:40,299 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:14:40,301 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
14:14:40,306 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
14:14:40,314 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
14:14:40,314 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
14:14:40,315 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
14:14:40,602 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
14:14:40,617 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

14:14:40,618 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
14:14:40,765 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
14:14:40,765 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
14:14:40,779 INFO common.Log4jPrint(20) - ================0133011
14:14:40,779 INFO common.Log4jPrint(20) - ================03
14:14:40,779 INFO common.Log4jPrint(20) - ++++++++++++++++03
14:14:40,779 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
14:14:40,780 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
14:14:40,785 INFO service.NewContInput(43) - Into NewContInput.service()...
14:14:40,786 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:14:40,794 INFO common.Log4jPrint(20) - 进程名：986
14:14:40,794 INFO common.Log4jPrint(20) - trancom:3
14:14:40,795 INFO common.Log4jPrint(20) - FuncFlag:1012
14:14:40,795 INFO common.Log4jPrint(20) - mHeadEle.getChildText986_3_1012_in.xml
14:14:40,826 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:14:40,827 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 986,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','986_3_1012_in.xml',20161129,141440,20161129,141440,'230803197906010035','张燕','230803197906010035','011A0100' )
14:14:40,840 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:14:40,841 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=141120
14:14:40,968 INFO common.RuleXsl(155) - Into RuleXsl.load()...
14:14:40,968 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
14:14:40,969 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
14:14:41,008 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
14:14:41,009 INFO common.RuleXsl(179) - Out RuleXsl.load()!
14:14:41,009 INFO common.RuleXml(198) - Into RuleXml.load()...
14:14:41,009 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
14:14:41,010 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=10207 bytes!
14:14:41,014 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
14:14:41,014 INFO common.RuleXml(215) - Out RuleXml.load()!
14:14:41,015 INFO common.RuleParser(49) - Into RuleParser.check()...
14:14:41,015 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
14:14:41,021 INFO common.Log4jPrint(20) - 对邮编进行校验
14:14:41,022 INFO common.Log4jPrint(20) - 对邮编进行校验
14:14:41,023 INFO common.Log4jPrint(20) - 返回的结果是:0
14:14:41,024 INFO common.Log4jPrint(20) - 对邮编进行校验
14:14:41,028 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

14:14:41,028 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
14:14:41,028 INFO common.RuleParser(62) - Out RuleParser.check()!
14:14:41,028 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
14:14:41,062 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
14:14:41,064 INFO common.SaveMessage(59) - 986_6_0_inSvc.xml IO输出耗时:0.0020s
14:14:41,064 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！986_6_0_inSvc.xml
14:14:41,065 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:14:41,065 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:14:42,277 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
14:16:07,529 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
14:16:07,530 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
14:16:07,530 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
14:16:07,531 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
14:16:07,531 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
14:16:07,531 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
14:16:07,532 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
14:16:07,532 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
14:16:07,533 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
14:16:07,533 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
14:16:07,533 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
14:16:07,534 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
14:16:07,534 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
14:16:07,535 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
14:16:07,535 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:16:07,536 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
14:16:07,536 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
14:16:07,537 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
14:16:07,537 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
14:16:07,537 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
14:16:07,538 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
14:16:07,538 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
14:16:07,539 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
14:16:07,539 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
14:16:07,539 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
14:16:07,540 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
14:16:07,540 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
14:16:07,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
14:16:07,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
14:16:07,541 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
14:16:07,542 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
14:16:07,542 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
14:16:07,542 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
14:16:07,543 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
14:16:07,543 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
14:16:07,544 INFO common.Log4jPrint(20) - 	... 13 more
14:16:07,544 INFO common.Log4jPrint(20) - -----------------------------------------------
14:16:07,544 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
14:16:07,546 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:16:07,584 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:16:07,585 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:16:07,585 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=986,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=86,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='986_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=141440,ModifyDate=20161129,ModifyTime=141607,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=986
14:16:07,602 INFO service.NewContInput(237) - Out NewContInput.service()!
14:16:07,602 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
14:16:07,609 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
14:16:07,610 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
14:16:07,610 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
14:16:07,620 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
14:16:07,625 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

14:16:07,626 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
14:16:07,629 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
14:16:07,629 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:16:07,635 INFO common.SaveMessage(59) - 986_9_1012_out.xml IO输出耗时:0.0020s
14:16:07,635 INFO newNet.CcbNetImpl(178) - 保存报文完毕！986_9_1012_out.xml
14:16:07,637 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129141440307</SYS_RECV_TIME><SYS_RESP_TIME>20161129141607629</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:16:07,637 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
14:16:07,672 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:16:07,672 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=986
14:16:07,742 INFO common.Log4jPrint(20) - -------------------------
14:16:07,743 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:16:07,743 INFO common.Log4jPrint(20) - -------------------------
14:16:07,751 INFO common.Log4jPrint(20) - i=1
14:16:07,779 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:16:07,779 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:16:07,780 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=986,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=86,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='87.621',Bak4=null,Bak5=null,InNoDoc='986_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=141440,ModifyDate=20161129,ModifyTime=141607,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='986_9_1012_out.xml' where LogNo=986
14:16:07,792 INFO midplat.Ybt4Socket(170) - 处理总耗时：87.662s
14:16:07,792 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:22:40,179 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:22:40,189 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:22:40,190 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:22:40,190 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:22:40,191 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:22:40,191 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：2156
14:22:40,191 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<SYS_HDR_LEN>0</SYS_HDR_LEN>
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN>
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID>
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID>
		<SYS_TX_CODE>P53819152</SYS_TX_CODE>
		<SYS_TX_VRSN>01</SYS_TX_VRSN>
		<SYS_TX_TYPE>020000</SYS_TX_TYPE>
		<SYS_RESERVED>0</SYS_RESERVED>
		<SYS_EVT_TRACE_ID>108011rv11445937134019617</SYS_EVT_TRACE_ID>
		<SYS_SND_SERIAL_NO>3000000000</SYS_SND_SERIAL_NO>
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<SYS_IS_ENCRYPTED>0</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE>
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE>
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161127145205993</SYS_REQ_TIME>
		<SYS_TIME_LEFT>033000000</SYS_TIME_LEFT>
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE>
	</TX_HEADER>
	<TX_BODY>
		<COMMON>
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY>
			<COM_ENTITY>
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID>
				<SvPt_Jrnl_No>demaxiya200204</SvPt_Jrnl_No>
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID>
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE>
				<CCBIns_ID>13099</CCBIns_ID>
				<CCB_EmpID>5201300004</CCB_EmpID>
				<OprgDay_Prd>20161116</OprgDay_Prd>
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY>
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd>
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20010101</Plchd_Crdt_EfDt>
				<Plchd_Crdt_ExpDt>99991231</Plchd_Crdt_ExpDt>
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd>
				<Ins_BillNo>210414131200027</Ins_BillNo><!--投保单号-->
				<Ins_PyF_Amt>199000.00</Ins_PyF_Amt><!--保费-->
				<InsPrem_PyMd_Cd>2</InsPrem_PyMd_Cd>
				<CCB_AccNo>4367466013650209947</CCB_AccNo>
				<Ins_Co_Jrnl_No>demaxiya200164</Ins_Co_Jrnl_No><!--原交易保险公司流水号-->
				<Lv1_Br_No>110000000</Lv1_Br_No>
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>
14:22:40,193 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819152
14:22:40,194 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:22:40,197 INFO common.SaveMessage(59) - 992_12_1014_in.xml IO输出耗时:0.0020s
14:22:40,197 INFO newNet.CcbNetImpl(68) - 保存报文完毕！992_12_1014_in.xml
14:22:40,197 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:22:40,198 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:22:40,200 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.ContConfirm
14:22:40,260 INFO format.ContConfirm(37) - Into ContConfirm.noStd2Std()...
14:22:40,306 INFO format.ContConfirmInXsl(26) - Into ContConfirmInXsl.load()...
14:22:40,306 INFO format.ContConfirmInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl...
14:22:40,306 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:29,759) and length=3093 bytes!
14:22:40,360 INFO format.ContConfirmInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmIn.xsl!
14:22:40,366 INFO format.ContConfirmInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output method="xml" indent="yes" /><xsl:template match="TX"><TranData><!-- 核心收费签单请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><!-- 银行端ip[非必须] 
					<ClientIp>127.0.0.1</ClientIp> --><!-- 交易渠道 --><TranCom>13</TranCom><!-- 交易类型 --><!-- <FuncFlag><xsl:value-of select="TX_HEADER/SYS_TX_CODE" /></FuncFlag>  --><!-- 服务id 
					<ServiceId>1</ServiceId> --><!-- 生产上用下面方式，上面为了测试所以加上下面字段--><!-- 交易类型 服务类中添加--><!-- 服务id 服务类中添加--><!-- 银行端ip[非必须] 服务类中添加--><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><BankCode>0104</BankCode><!-- 投保单(印刷)号 --><ProposalPrtNo><xsl:value-of select="Ins_BillNo" /></ProposalPrtNo><!-- 保费缴纳金额 --><Prem><xsl:value-of select="Ins_PyF_Amt" /></Prem><!--原来的交易流水号--><OldTranNo><xsl:value-of select="Ins_Co_Jrnl_No" /></OldTranNo><!-- 保险单号 --><ContNo /><!-- 保单合同印刷号 --><ContPrtNo /><!-- 首期缴费方式 --><BkPayMode><xsl:call-template name="tran_BKPayMode"><xsl:with-param name="PayMode"><xsl:value-of select="InsPrem_PyMd_Cd" /></xsl:with-param></xsl:call-template></BkPayMode><!-- 首期缴费帐号 --><BkAcctNo><xsl:value-of select="CCB_AccNo" /></BkAcctNo></Body></xsl:template><!-- 首期缴费方式 --><xsl:template name="tran_BKPayMode"><xsl:param name="PayMode">0</xsl:param><xsl:if test="$PayMode = 1">0</xsl:if><!-- 现金 --><xsl:if test="$PayMode = 2">0</xsl:if><!-- 折代扣 --><xsl:if test="$PayMode = 3">0</xsl:if><!-- 卡代扣 --><xsl:if test="$PayMode = 9">0</xsl:if><!-- 对公代扣 --></xsl:template></xsl:stylesheet>

14:22:40,367 INFO format.ContConfirmInXsl(64) - Out ContConfirmInXsl.load()!
14:22:40,374 INFO format.ContConfirm(56) - Out ContConfirm.noStd2Std()!
14:22:40,375 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContConfirm
14:22:40,394 INFO service.NewContConfirm(35) - Into NewContConfirm.service()...
14:22:40,394 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:22:40,395 INFO common.Log4jPrint(20) - 进程名：992
14:22:40,395 INFO common.Log4jPrint(20) - trancom:13
14:22:40,395 INFO common.Log4jPrint(20) - FuncFlag:1014
14:22:40,396 INFO common.Log4jPrint(20) - mHeadEle.getChildText992_12_1014_in.xml
14:22:40,444 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:22:40,444 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,Bak1,Bak2,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime ) values ( 992,13,'13099','demaxiya200204','5201300004',1014,20161127,145205,'210414131200027',-1,-1,'127.0.0.1','demaxiya200164','992_12_1014_in.xml',20161129,142240,20161129,142240 )
14:22:40,459 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:22:40,459 INFO service.NewContConfirm(46) - Into NewContInput.service()...-->authority(cInXmlDoc)网点与权限 添加代理
14:22:40,460 INFO service.NewContConfirm(75) - select ProposalPrtNo from TranLog where TranDate = 20161129 and TranNo = 'null' and RCode=0 
14:22:40,460 INFO service.NewContConfirm(87) - select otherNo from TranLog where TranDate = 20161129 and TranNo = 'null' and RCode=0 
14:22:40,461 INFO common.Log4jPrint(20) - ExecSQL : select otherNo from TranLog where TranDate = 20161129 and TranNo = 'null' and RCode=0 
14:22:40,543 INFO service.NewContConfirm(132) - select * from Cont where Type=0 and State=1 and ProposalPrtNo='210414131200027' and MakeDate=20161129 and TranCom=13 and NodeNo='13099'
14:22:40,870 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
14:22:40,875 INFO common.SaveMessage(59) - 992_15_1_inSvc.xml IO输出耗时:0.0040s
14:22:40,876 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！992_15_1_inSvc.xml
14:22:40,876 INFO common.Log4jPrint(20) - start call 收费签单(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:22:40,877 INFO net.CallWebsvcAtomSvc(66) - start call 收费签单(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:24:04,938 ERROR service.NewContConfirm(253) - 新单确认交易失败！
org.apache.axis2.AxisFault: Connection timed out: connect
	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
	at com.sinosoft.midplat.newccb.service.NewContConfirm.service(NewContConfirm.java:141)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
	... 13 more
14:24:04,995 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:24:04,996 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:24:04,997 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=992,TranCom=13,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200204',Operator='5201300004',FuncFlag=1014,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='Connection timed out: connect',UsedTime=84,AppntName=null,Bak1='127.0.0.1',Bak2='demaxiya200164',Bak3=null,Bak4=null,Bak5=null,InNoDoc='992_12_1014_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=142240,ModifyDate=20161129,ModifyTime=142404,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc=null where LogNo=992
14:24:05,013 INFO service.NewContConfirm(272) - Out NewContConfirm.service()!
14:24:05,014 INFO format.ContConfirm(68) - Into ContConfirm.std2NoStd()...
14:24:05,016 INFO common.Log4jPrint(20) - 使用的样式表：null
14:24:05,034 INFO format.ContConfirmOutXsl(34) - Into ContConfirmOutXsl.load()...
14:24:05,035 INFO format.ContConfirmOutXsl(37) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl...
14:24:05,037 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:29,933) and length=33664 bytes!
14:24:05,117 INFO format.ContConfirmOutXsl(53) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/ContConfirmOut_Cash.xsl!
14:24:05,132 INFO format.ContConfirmOutXsl(64) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:output indent="yes" /><xsl:template match="/"><TX><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE /><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 主险险种编号 --><MainIns_Cvr_ID><xsl:value-of select="/TranData/Body/Risk/MainRiskCode" /></MainIns_Cvr_ID><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 保单失效日期--><InsPolcy_ExpDt><xsl:value-of select="/TranData/Body/Risk/InsuEndDate" /></InsPolcy_ExpDt><!-- 保单领取日期 --><InsPolcy_Rcv_Dt><xsl:value-of select="/TranData/Body/Risk/GetStartDate" /></InsPolcy_Rcv_Dt><!-- 保单号 --><InsPolcy_No><xsl:value-of select="/TranData/Body/ContNo" /></InsPolcy_No><!-- 保险缴纳金额 --><Ins_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk/Prem)" /></Ins_PyF_Amt><!-- 投保人电子邮件地址--><Plchd_Email_Adr><xsl:value-of select="/TranData/Body/Appnt/Email" /></Plchd_Email_Adr><!-- 保单投保日期--><InsPolcy_Ins_Dt><xsl:value-of select="/TranData/Body/Risk/PolApplyDate" /></InsPolcy_Ins_Dt><!-- 保单生效日期 --><InsPolcy_EfDt><xsl:value-of select="/TranData/Body/Risk/CValiDate" /></InsPolcy_EfDt><!-- 代理保险期缴代扣账号 --><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="/TranData/Body/Risk/Prem" /></EcIst_PyF_Amt_Inf><!-- 保费缴费方式代码 --><InsPrem_PyF_MtdCd><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_MtdCd><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码 --><InsPrem_PyF_Cyc_Cd><xsl:call-template name="tran_PbPayPerCode"><xsl:with-param name="PbPayPerCode"><xsl:value-of select="/TranData/Body/Risk/PayIntv" /></xsl:with-param></xsl:call-template></InsPrem_PyF_Cyc_Cd><!-- 保单犹豫期 --><InsPolcy_HsitPrd><xsl:value-of select="/TranData/Body/HesitatePeriod" /></InsPolcy_HsitPrd><!-- #循环记录条数 PDF文件个数 --><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><!-- 返回文件数量 --><!-- 	<Ret_File_Num><xsl:value-of select="/TranData/Body/Ret_File_Num"/></Ret_File_Num> --><Ret_File_Num>3</Ret_File_Num><!-- 	<xsl:for-each select="/TranData/Body/Detail_List">
								<Detail_List>
									<Prmpt_Inf_Dsc><xsl:value-of select="Prmpt_Inf_Dsc"/></Prmpt_Inf_Dsc>
									<AgIns_Vchr_TpCd><xsl:value-of select="AgIns_Vchr_TpCd"/></AgIns_Vchr_TpCd>
									<Rvl_Rcrd_Num><xsl:value-of select="Rvl_Rcrd_Num"/></Rvl_Rcrd_Num>
									<xsl:for-each>
										<Detail>
											<Ret_Inf><xsl:value-of select="Detail/Ret_Inf"/></Ret_Inf>
										</Detail>
									</xsl:for-each>
								</Detail_List>
							</xsl:for-each>   --><Detail_List><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第一页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 --><!-- 	1	保单
										2	批单
										3	现金价值单
										4	发票
										5	代理凭证
										6	投保单
										7	客户权益保障确认书 --><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><!--一行打印的内容--><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="MainRisk" select="/TranData/Body/Risk[RiskCode=MainRiskCode]" /><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf>　</Ret_Inf><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="/TranData/Body/ContNo" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 48)" />货币单位：人民币/元 </Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同成立日：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 41)" />保险合同生效日期：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.date8to10(/TranData/Body/Risk/CValiDate)" /></Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Appnt/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Appnt/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Appnt/Birthday),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Appnt/IDNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>被保人姓名：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(/TranData/Body/Insured/Name, 12)" /><xsl:text>性别：</xsl:text><xsl:apply-templates select="/TranData/Body/Insured/Sex" /><xsl:text /><xsl:text>    年龄：</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.DateUtil.getAge(/TranData/Body/Insured/Birthday),2)" /><xsl:text /><xsl:text>证件号码：</xsl:text><xsl:value-of select="/TranData/Body/Insured/IDNo" /></Ret_Inf><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="flag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="sflag" select="java:java.lang.Boolean.parseBoolean('true')" /><xsl:variable name="num" select="count(/TranData/Body/Bnf) " /><xsl:for-each select="/TranData/Body/Bnf"><Ret_Inf><xsl:text /><xsl:text />受益人姓名: <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Name, 12)" /><xsl:text>性别:</xsl:text><xsl:text /><xsl:apply-templates select="Sex" /><xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Grade, 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(Lot, 3, $Falseflag)" /><xsl:text>%</xsl:text></Ret_Inf></xsl:for-each><xsl:choose><xsl:when test="$num = 0"><Ret_Inf><xsl:text /><xsl:text />受益人姓名:<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' 法定', 13)" /><xsl:text>性别:</xsl:text><xsl:text />--<xsl:text /><xsl:text>受益顺序: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 10)" /><xsl:text>受益比例:</xsl:text><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('--', 3, $Falseflag)" /></Ret_Inf></xsl:when></xsl:choose><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />险种名称                          保险期间    交费年期    交费方式  （基本）保额/份数   保险费</Ret_Inf><xsl:for-each select="/TranData/Body/Risk"><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /><xsl:variable name="Prem" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /><Ret_Inf><!-- 险种名称 --><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(RiskName, 36)" /><xsl:choose><xsl:when test="InsuYearFlag = 'A'"><xsl:text>至</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>周岁</xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>年  </xsl:text></xsl:when><xsl:when test="InsuYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>月  </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(InsuYear, 2,$Falseflag)" /><xsl:text>日</xsl:text></xsl:otherwise></xsl:choose><xsl:text /><xsl:choose><xsl:when test="PayIntv = 0"><xsl:text> 趸交       </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'Y'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>年        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'M'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>月        </xsl:text></xsl:when><xsl:when test="PayEndYearFlag = 'D'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>日        </xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(PayEndYear, 2,$Falseflag)" /><xsl:text>周岁    </xsl:text></xsl:otherwise></xsl:choose><xsl:apply-templates select="PayIntv" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Amnt,11,$Falseflag)" /><xsl:text>元</xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($Prem,13,$Falseflag)" />元</Ret_Inf></xsl:for-each><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />保险费合计：<xsl:value-of select="TranData/Body/PremText" />（RMB <xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Prem)" />元）</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 此处打印的是（此栏空白），不是红利领取方式 --><xsl:when test="Risk[RiskCode=MainRiskCode]/RiskCode != '221201'"><Ret_Inf><xsl:text />红利领取方式：<xsl:apply-templates select="TranData/Body/Risk[RiskCode=MainRiskCode]/BonusGetMode" /></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text />（本栏空白）</Ret_Inf><Ret_Inf /></xsl:otherwise></xsl:choose><xsl:choose><xsl:when test="$num=1 or $num=0"><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><!-- 受益人个数为0或者个数为1的情况是一样的，受益人的信息都占一行 --><xsl:when test="$num=2"><Ret_Inf /><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=3"><Ret_Inf /><Ret_Inf /></xsl:when><xsl:when test="$num=4"><Ret_Inf /></xsl:when><xsl:otherwise /></xsl:choose><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text /><xsl:text>特别约定：</xsl:text><xsl:choose><xsl:when test="$MainRisk/SpecContent = ''"><xsl:text>（无）</xsl:text></xsl:when><xsl:otherwise><xsl:value-of select="$MainRisk/SpecContent" /></xsl:otherwise></xsl:choose></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />银行网点名称：<xsl:value-of select="TranData/Body/AgentComName" /></Ret_Inf><Ret_Inf><xsl:text />银行销售人员姓名/代码：<xsl:value-of select="TranData/Body/SaleName" />/<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/SaleStaff,40)" />打印时间：<xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur10Date()" /><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtil.getCur8Time()" /></Ret_Inf><Ret_Inf><xsl:text />银保经理姓名：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 54)" />银保经理电话：<xsl:value-of select="TranData/Body/AgentPhone" /></Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><!--<Ret_Inf />--><Ret_Inf /><Ret_Inf><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(' ', 76,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.DateUtilZR.date8to11($MainRisk/SignDate)" /></Ret_Inf><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Amnt" select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(TranData/Body/Amnt)" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('false')" /><xsl:variable name="MainRisk" select="TranData/Body/Risk[RiskCode=MainRiskCode]" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第二页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>3</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        现金价值表                     </Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text />保险合同号：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/ContNo, 50)" /><xsl:text />基本保险金额： <xsl:value-of select="$Amnt" /></Ret_Inf><Ret_Inf><xsl:text />险种名称：<xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_($MainRisk/RiskName, 52)" />货币单位：人民币/元</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />  保单年度末  现金价值  | 保单年度末  现金价值  | 保单年度末  现金价值</Ret_Inf><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><xsl:text /><xsl:apply-templates select="/TranData/Body/Risk/CashValues" /><Ret_Inf><xsl:text />------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf><xsl:text />*现金价值表中给出的现金价值为客户已足额缴纳保单年度内所有保险费的情况下，各保单年度末所对应的现</Ret_Inf><Ret_Inf><xsl:text />金价值额。投保后所做的各项变更可能使本表不再适用。</Ret_Inf><Ret_Inf><xsl:text />*对于本现金价值表中未列出的保单年度末现金价值及两个保单年度中间任意一天的本合同的现金价值，可向</Ret_Inf><Ret_Inf><xsl:text />公司来电垂询。</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /></Detail></Detail_List><Detail_List><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><!-- 提示信息描述 --><Prmpt_Inf_Dsc>保单第三页</Prmpt_Inf_Dsc><!-- 代理保险凭证代码 ?--><AgIns_Vchr_TpCd>9</AgIns_Vchr_TpCd><!-- #循环记录条数 --><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text />                                        保险合同送达回执</Ret_Inf><Ret_Inf /><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>投保人: </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/Appnt/Name, 19)" /><xsl:text>银保经理姓名：      </xsl:text><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(TranData/Body/AgentName, 18)" /><xsl:text>银保经理代码：</xsl:text><xsl:value-of select="TranData/Body/AgentCode" /></Ret_Inf><xsl:choose><!-- 保驾护航产品（221201） 没有产品说明说明书，智赢C有 --><xsl:when test="TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221201' and TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode!='221301'"><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书和产品说明书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:when><xsl:otherwise><Ret_Inf><xsl:text /><xsl:text>    本投保人已收到贵公司的保险合同（保险合同号: </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>），本保险合同包括保险单、现</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>金价值表、保险条款等相关资料，经审核确认保险合同内容正确无误。本人已阅读过产品条款、投保提示</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>书，确认已了解并认可保险合同的全部内容，知晓本人的权利和义务。</xsl:text></Ret_Inf></xsl:otherwise></xsl:choose><Ret_Inf><xsl:text /><xsl:text>    投保人签名：                                    签收日期：         年     月     日</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>                                      以下栏由公司人员填写</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>------------------------------------------------------------------------------------------------</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>    保险合同号为 </xsl:text><xsl:value-of select="TranData/Body/ContNo" /><xsl:text>的保险合同已送达客户，由客户亲笔签字确认，现将保险合同送达</xsl:text></Ret_Inf><Ret_Inf><xsl:text /><xsl:text>回执交回。</xsl:text></Ret_Inf><Ret_Inf /><Ret_Inf><xsl:text /><xsl:text>    银保经理签名：	          经办人签字：           日期：      年     月     日</xsl:text></Ret_Inf></Detail></Detail_List></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 循环取现金价值信息 --><xsl:template name="Cashs" match="CashValues"><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode != '221301'"><xsl:for-each select="CashValue[EndYear &lt; (26)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+25)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+25)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+25)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+50)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+50)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+50)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if><xsl:if test="/TranData/Body/Risk[RiskCode=MainRiskCode]/RiskCode = '221301'"><xsl:for-each select="CashValue[EndYear &lt; (34)]"><xsl:variable name="EndYear" select="EndYear" /><xsl:variable name="Falseflag" select="java:java.lang.Boolean.parseBoolean('true')" /><Ret_Inf><xsl:text /><xsl:choose><xsl:when test="EndYear!='' and Cash!='-'"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(EndYear,6,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Cash),13,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:text /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',13,$Falseflag)" /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+33)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+33)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+33)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose> |   <xsl:choose><xsl:when test="../CashValue[EndYear=($EndYear+66)]/EndYear!=''"><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(../CashValue[EndYear=($EndYear+66)]/EndYear,2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_(java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(../CashValue[EndYear=($EndYear+66)]/Cash),17,$Falseflag)" /></xsl:when><xsl:otherwise><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',2,$Falseflag)" /><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fillStrWith_('-',14,$Falseflag)" /><xsl:text /></xsl:otherwise></xsl:choose></Ret_Inf></xsl:for-each></xsl:if></xsl:template><!-- 缴费频次/保费缴纳方式 --><xsl:template match="PayIntv"><xsl:choose><xsl:when test=".=12">年交     </xsl:when><!-- 年缴 --><xsl:when test=".=1">月交      </xsl:when><!-- 月缴 --><xsl:when test=".=6">半年交    </xsl:when><!-- 半年缴 --><xsl:when test=".=3">季交      </xsl:when><!-- 季缴 --><xsl:when test=".=0">趸交     </xsl:when><!-- 趸缴 --><xsl:when test=".=-1">不定期交  </xsl:when><!-- 不定期 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv" /><xsl:choose><xsl:when test="$payintv = -1">01</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 0">02</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 12">03</xsl:when><!-- 年交 --><xsl:when test="$payintv = 98">04</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 99">05</xsl:when><!-- 终身交费 --></xsl:choose></xsl:template><!-- 保费缴纳周期代码 --><xsl:template name="tran_PbPayPerCode"><xsl:param name="PbPayPerCode" /><xsl:choose><xsl:when test="$PbPayPerCode = 3">0201</xsl:when><!-- 季交 --><xsl:when test="$PbPayPerCode = 0">0100</xsl:when><!-- 趸交 --><xsl:when test="$PbPayPerCode = 12">0203</xsl:when><!-- 年交 --><xsl:when test="$PbPayPerCode = 6">0202</xsl:when><!-- 半年交 --><xsl:when test="$PbPayPerCode = 1">0204</xsl:when><!-- 月交 --><xsl:otherwise><xsl:value-of select="9999" /></xsl:otherwise></xsl:choose></xsl:template><!-- 红利领取方式的转换 --><xsl:template match="Risk[RiskCode=MainRiskCode]/BonusGetMode"><xsl:choose><xsl:when test=".=1">累积生息</xsl:when><xsl:when test=".=2">领取现金</xsl:when><xsl:when test=".=3">抵交保费</xsl:when><xsl:when test=".=5">增额交清</xsl:when><xsl:when test=".=''">累积生息  </xsl:when><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 性别 --><xsl:template name="tran_sex" match="Sex"><xsl:choose><xsl:when test=".=0">男</xsl:when><!-- 男 --><xsl:when test=".=1">女</xsl:when><!-- 女 --><xsl:when test=".=2">其他</xsl:when><!-- 其他 --><xsl:otherwise>--</xsl:otherwise></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>

14:24:05,134 INFO format.ContConfirmOutXsl(72) - Out ContConfirmOutXsl.load()!
14:24:05,164 ERROR common.DateUtil(63) - 日期-格式不匹配！:yyyyMMdd
java.text.ParseException: Unparseable date: ""
	at java.text.DateFormat.parse(DateFormat.java:337)
	at com.sinosoft.midplat.common.DateUtil.parseDate(DateUtil.java:61)
	at com.sinosoft.midplat.common.DateUtil.getAge(DateUtil.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:343)
	at org.apache.xalan.extensions.ExtensionHandlerJavaPackage.callFunction(ExtensionHandlerJavaPackage.java:440)
	at org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:222)
	at org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:473)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:208)
	at org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:199)
	at org.apache.xpath.Expression.executeCharsToContentHandler(Expression.java:313)
	at org.apache.xalan.templates.ElemValueOf.execute(ElemValueOf.java:274)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.templates.ElemLiteralResult.execute(ElemLiteralResult.java:1376)
	at org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2400)
	at org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2270)
	at org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1356)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:709)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1273)
	at org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1251)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:255)
	at org.jdom.transform.XSLTransformer.transform(XSLTransformer.java:239)
	at com.sinosoft.midplat.newccb.format.ContConfirm.std2NoStd(ContConfirm.java:91)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:133)
14:24:05,179 INFO format.ContConfirm(139) - Out ContConfirm.std2NoStd()!
14:24:05,179 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:24:05,182 INFO common.SaveMessage(59) - 992_18_1014_out.xml IO输出耗时:0.0020s
14:24:05,182 INFO newNet.CcbNetImpl(178) - 保存报文完毕！992_18_1014_out.xml
14:24:05,183 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>832</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>3061</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>108011</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>108011rv11445937134019617</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>3000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>728</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129142240261</SYS_RECV_TIME><SYS_RESP_TIME>20161129142405178</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>29</SYS_RESP_DESC_LEN><SYS_RESP_DESC>Connection timed out: connect</SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE /><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><MainIns_Cvr_ID /><AgIns_Pkg_ID /><InsPolcy_ExpDt /><InsPolcy_Rcv_Dt /><InsPolcy_No /><Ins_PyF_Amt /><Plchd_Email_Adr /><InsPolcy_Ins_Dt /><InsPolcy_EfDt /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_MtdCd /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd>9999</InsPrem_PyF_Cyc_Cd><InsPolcy_HsitPrd /><Rvl_Rcrd_Num>0</Rvl_Rcrd_Num><Ret_File_Num>3</Ret_File_Num><Detail_List><Prmpt_Inf_Dsc>淇绗涓椤?/Prmpt_Inf_Dsc><AgIns_Vchr_TpCd>1</AgIns_Vchr_TpCd><Rvl_Rcrd_Num>52</Rvl_Rcrd_Num><Detail><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>?/Ret_Inf><Ret_Inf>         淇╁凤                                                璐у浣锛浜烘甯/?</Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf /><Ret_Inf>         淇╁绔ワ2016-11-29                                         淇╁ユ锛?/Ret_Inf><Ret_Inf>         ------------------------------------------------------------------------------------------------</Ret_Inf><Ret_Inf>         淇浜哄锛            у锛?      骞撮锛?/Ret_Inf></Detail></Detail_List></APP_ENTITY><COM_ENTITY><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><SvPt_Jrnl_No>demaxiya200204</SvPt_Jrnl_No><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><CCBIns_ID>13099</CCBIns_ID><CCB_EmpID>5201300004</CCB_EmpID><OprgDay_Prd>20161116</OprgDay_Prd><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819152</SYS_TX_CODE><Ins_Co_Acg_Dt>20161127</Ins_Co_Acg_Dt><Ins_Co_Jrnl_No>demaxiya200204</Ins_Co_Jrnl_No><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:24:05,184 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
14:24:05,240 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:24:05,240 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=992
14:24:05,279 INFO common.Log4jPrint(20) - -------------------------
14:24:05,280 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:24:05,280 INFO common.Log4jPrint(20) - -------------------------
14:24:05,319 INFO common.Log4jPrint(20) - i=1
14:24:05,390 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:24:05,391 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:24:05,392 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=992,TranCom=13,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200204',Operator='5201300004',FuncFlag=1014,TranDate=20161127,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='Connection timed out: connect',UsedTime=84,AppntName=null,Bak1='127.0.0.1',Bak2='demaxiya200164',Bak3='85.129',Bak4=null,Bak5=null,InNoDoc='992_12_1014_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=142240,ModifyDate=20161129,ModifyTime=142404,AppntIDNo=null,InsuredName=null,InsuredIDNo=null,ProductId=null,OutNoDoc='992_18_1014_out.xml' where LogNo=992
14:24:05,408 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.218s
14:24:05,409 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:27:53,966 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6d79953c
14:27:53,974 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:27:53,978 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:27:53,979 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:27:53,980 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:27:53,981 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:27:53,982 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:27:53,985 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,306) and length=23653 bytes!
14:27:54,066 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:27:54,078 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:27:54,079 INFO common.Log4jPrint(20) - End reset System.out!
14:27:54,081 INFO net.SocketConf(27) - Into SocketConf.load()...
14:27:54,082 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:27:54,083 INFO common.XmlConf(62) - conf file modified at (2016-11-29 12:46:50,308) and length=711 bytes!
14:27:54,086 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:27:54,086 INFO net.SocketConf(60) - Out SocketConf.load()!
14:27:54,106 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:27:54,106 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:27:54,119 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:27:54,119 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:27:54,119 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:27:54,126 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:27:54,126 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:27:54,126 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:27:54,131 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:27:54,131 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:27:54,131 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:27:54,137 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:27:54,138 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:27:54,137 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:28:00,621 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:28:00,632 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:28:00,632 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:28:00,633 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
14:28:00,641 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:28:00,661 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:28:00,662 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:28:00,664 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:28:00,670 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:28:01,167 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:28:01,221 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:28:01,280 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:28:01,295 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:28:01,297 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:28:01,298 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:28:01,305 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
14:28:01,306 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


14:28:01,321 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
14:28:01,322 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:28:01,441 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
14:28:01,441 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
14:28:01,447 INFO common.SaveMessage(59) - 998_3_1012_in.xml IO输出耗时:0.0050s
14:28:01,447 INFO newNet.CcbNetImpl(68) - 保存报文完毕！998_3_1012_in.xml
14:28:01,449 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:28:01,451 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:28:01,453 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
14:28:01,459 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
14:28:01,467 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
14:28:01,467 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
14:28:01,467 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
14:28:01,765 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
14:28:01,780 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

14:28:01,782 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
14:28:01,935 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
14:28:01,936 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
14:28:01,950 INFO common.Log4jPrint(20) - ================0133011
14:28:01,950 INFO common.Log4jPrint(20) - ================03
14:28:01,950 INFO common.Log4jPrint(20) - ++++++++++++++++03
14:28:01,950 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
14:28:01,950 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
14:28:01,956 INFO service.NewContInput(43) - Into NewContInput.service()...
14:28:01,957 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:28:01,965 INFO common.Log4jPrint(20) - 进程名：998
14:28:01,966 INFO common.Log4jPrint(20) - trancom:3
14:28:01,966 INFO common.Log4jPrint(20) - FuncFlag:1012
14:28:01,966 INFO common.Log4jPrint(20) - mHeadEle.getChildText998_3_1012_in.xml
14:28:02,082 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:28:02,083 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 998,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','998_3_1012_in.xml',20161129,142801,20161129,142801,'230803197906010035','张燕','230803197906010035','011A0100' )
14:28:02,097 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:28:02,099 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=142442
14:28:02,202 INFO common.RuleXsl(155) - Into RuleXsl.load()...
14:28:02,203 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
14:28:02,204 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
14:28:02,244 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
14:28:02,251 INFO common.RuleXsl(179) - Out RuleXsl.load()!
14:28:02,251 INFO common.RuleXml(198) - Into RuleXml.load()...
14:28:02,252 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
14:28:02,252 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=10207 bytes!
14:28:02,257 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
14:28:02,257 INFO common.RuleXml(215) - Out RuleXml.load()!
14:28:02,257 INFO common.RuleParser(49) - Into RuleParser.check()...
14:28:02,257 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
14:28:02,264 INFO common.Log4jPrint(20) - 对邮编进行校验
14:28:02,265 INFO common.Log4jPrint(20) - 对邮编进行校验
14:28:02,266 INFO common.Log4jPrint(20) - 返回的结果是:0
14:28:02,267 INFO common.Log4jPrint(20) - 对邮编进行校验
14:28:02,271 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

14:28:02,271 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
14:28:02,271 INFO common.RuleParser(62) - Out RuleParser.check()!
14:28:02,271 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
14:28:02,276 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
14:28:02,279 INFO common.SaveMessage(59) - 998_6_0_inSvc.xml IO输出耗时:0.0020s
14:28:02,279 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！998_6_0_inSvc.xml
14:28:02,280 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:28:02,280 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:28:02,519 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
14:28:04,187 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
14:28:04,188 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
14:28:04,189 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@4826dfcc
14:28:04,190 INFO common.Log4jPrint(20) - Start revert System.out...
14:28:04,194 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
14:28:04,208 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:28:04,208 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:28:04,208 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:28:04,208 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
14:28:05,566 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6d79953c
14:28:05,573 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:28:05,576 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:28:05,576 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:28:05,576 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:28:05,577 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:28:05,577 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:28:05,579 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
14:28:05,780 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:28:05,787 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:28:05,788 INFO common.Log4jPrint(20) - End reset System.out!
14:28:05,789 INFO net.SocketConf(27) - Into SocketConf.load()...
14:28:05,789 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:28:05,790 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
14:28:05,792 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:28:05,792 INFO net.SocketConf(60) - Out SocketConf.load()!
14:28:05,804 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:28:05,804 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:28:05,811 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:28:05,812 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:28:05,812 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:28:05,816 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:28:05,816 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:28:05,816 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:28:05,820 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:28:05,820 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:28:05,820 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:28:05,824 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:28:05,825 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:28:05,825 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:28:23,906 INFO common.Log4jPrint(20) - 	at org.apache.commons.logging.impl.Log4JCategoryLog.trace(Log4JCategoryLog.java:148)
14:28:23,907 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.releaseConnection(HttpConnection.java:1174)
14:28:23,908 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.releaseConnection(MultiThreadedHttpConnectionManager.java:1423)
14:28:23,908 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:222)
14:28:23,909 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
14:28:23,910 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
14:28:23,910 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
14:28:23,911 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
14:28:23,911 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
14:28:23,912 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
14:28:23,912 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
14:28:23,913 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
14:28:23,913 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
14:28:23,914 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
14:28:23,915 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
14:28:23,915 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
14:28:23,916 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
14:28:23,916 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
14:28:23,917 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
14:28:23,917 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:28:23,918 INFO common.Log4jPrint(20) - -----------------------------------------------
14:28:23,921 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConnPool.getConnection(DBConnPool.java:78)
14:28:23,921 INFO common.Log4jPrint(20) - 	at com.sinosoft.lis.db.TranLogDB.getInfo(TranLogDB.java:182)
14:28:23,922 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:156)
14:29:01,089 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@630f41e9
14:29:01,098 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:29:01,102 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:29:01,102 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:29:01,104 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:29:01,105 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:29:01,106 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:29:01,109 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
14:29:01,177 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:29:01,188 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:29:01,189 INFO common.Log4jPrint(20) - End reset System.out!
14:29:01,191 INFO net.SocketConf(27) - Into SocketConf.load()...
14:29:01,192 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:29:01,193 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
14:29:01,196 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:29:01,196 INFO net.SocketConf(60) - Out SocketConf.load()!
14:29:01,217 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:29:01,218 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:29:01,229 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:29:01,230 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:29:01,230 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:29:01,235 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:29:01,236 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:29:01,235 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:29:01,243 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:29:01,244 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:29:01,244 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:29:01,249 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:29:01,249 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:29:01,250 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:29:06,507 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:29:06,518 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:29:06,518 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:29:06,518 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
14:29:06,527 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:29:06,547 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:29:06,548 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:29:06,550 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:29:06,556 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:29:07,143 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:29:07,220 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:29:07,283 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:29:07,297 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:29:07,299 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:29:07,301 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:29:07,309 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
14:29:07,310 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


14:29:07,335 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
14:29:07,335 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:29:07,455 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
14:29:07,456 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
14:29:07,461 INFO common.SaveMessage(59) - 1004_3_1012_in.xml IO输出耗时:0.0050s
14:29:07,461 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1004_3_1012_in.xml
14:29:07,463 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:29:07,465 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:29:07,467 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
14:29:07,472 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
14:29:07,480 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
14:29:07,480 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
14:29:07,481 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
14:29:07,766 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
14:29:07,782 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

14:29:07,783 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
14:29:07,949 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
14:29:07,950 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
14:29:07,965 INFO common.Log4jPrint(20) - ================0133011
14:29:07,965 INFO common.Log4jPrint(20) - ================03
14:29:07,965 INFO common.Log4jPrint(20) - ++++++++++++++++03
14:29:07,966 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
14:29:07,966 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
14:29:07,971 INFO service.NewContInput(43) - Into NewContInput.service()...
14:29:07,972 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:29:07,982 INFO common.Log4jPrint(20) - 进程名：1004
14:29:07,982 INFO common.Log4jPrint(20) - trancom:3
14:29:07,983 INFO common.Log4jPrint(20) - FuncFlag:1012
14:29:07,983 INFO common.Log4jPrint(20) - mHeadEle.getChildText1004_3_1012_in.xml
14:29:08,031 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:29:08,032 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1004,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1004_3_1012_in.xml',20161129,142907,20161129,142907,'230803197906010035','张燕','230803197906010035','011A0100' )
14:29:08,050 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:29:08,051 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=142548
14:29:08,107 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 此保单数据正在处理中，请稍候！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:73)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:29:08,164 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:29:08,165 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:29:08,165 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1004,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1004_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=142907,ModifyDate=20161129,ModifyTime=142908,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1004
14:29:08,178 INFO service.NewContInput(237) - Out NewContInput.service()!
14:29:08,178 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
14:29:08,186 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
14:29:08,187 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
14:29:08,187 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
14:29:08,197 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
14:29:08,206 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

14:29:08,208 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
14:29:08,212 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
14:29:08,212 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:29:08,233 INFO common.SaveMessage(59) - 1004_6_1012_out.xml IO输出耗时:0.0010s
14:29:08,233 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1004_6_1012_out.xml
14:29:08,234 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>838</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2141</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129142907473</SYS_RECV_TIME><SYS_RESP_TIME>20161129142908211</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>15</SYS_RESP_DESC_LEN><SYS_RESP_DESC>姝や版姝ｅㄥ涓锛璇风?锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:29:08,235 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
14:29:08,268 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:29:08,268 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1004
14:29:08,291 INFO common.Log4jPrint(20) - -------------------------
14:29:08,292 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:29:08,292 INFO common.Log4jPrint(20) - -------------------------
14:29:08,304 INFO common.Log4jPrint(20) - i=1
14:29:08,364 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:29:08,364 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:29:08,365 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1004,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='1.006',Bak4=null,Bak5=null,InNoDoc='1004_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=142907,ModifyDate=20161129,ModifyTime=142908,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1004_6_1012_out.xml' where LogNo=1004
14:29:08,379 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.08s
14:29:08,379 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:32:45,979 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7cf01771
14:32:45,988 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:32:45,992 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:32:45,992 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:32:45,994 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:32:45,995 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:32:45,995 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:32:45,998 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
14:32:46,065 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:32:46,074 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:32:46,075 INFO common.Log4jPrint(20) - End reset System.out!
14:32:46,078 INFO net.SocketConf(27) - Into SocketConf.load()...
14:32:46,079 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:32:46,080 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
14:32:46,084 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:32:46,084 INFO net.SocketConf(60) - Out SocketConf.load()!
14:32:46,100 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:32:46,101 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:32:46,110 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:32:46,110 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:32:46,111 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:32:46,115 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:32:46,115 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:32:46,115 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:32:46,120 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:32:46,120 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:32:46,120 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:32:46,125 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:32:46,125 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:32:46,125 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:32:50,035 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:32:50,045 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:32:50,046 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:32:50,046 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
14:32:50,054 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:32:50,076 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:32:50,077 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:32:50,079 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:32:50,087 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:32:50,552 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:32:50,609 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:32:50,671 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:32:50,685 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:32:50,686 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:32:50,687 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:32:50,692 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
14:32:50,693 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


14:32:50,707 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
14:32:50,708 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:32:50,823 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
14:32:50,823 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
14:32:50,828 INFO common.SaveMessage(59) - 1010_3_1012_in.xml IO输出耗时:0.0050s
14:32:50,828 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1010_3_1012_in.xml
14:32:50,831 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:32:50,833 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:32:50,835 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
14:32:50,840 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
14:32:50,848 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
14:32:50,849 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
14:32:50,849 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
14:32:51,140 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
14:32:51,164 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

14:32:51,165 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
14:32:51,349 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
14:32:51,349 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
14:32:51,365 INFO common.Log4jPrint(20) - ================0133011
14:32:51,365 INFO common.Log4jPrint(20) - ================03
14:32:51,365 INFO common.Log4jPrint(20) - ++++++++++++++++03
14:32:51,365 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
14:32:51,366 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
14:32:51,371 INFO service.NewContInput(43) - Into NewContInput.service()...
14:32:51,372 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:32:51,382 INFO common.Log4jPrint(20) - 进程名：1010
14:32:51,382 INFO common.Log4jPrint(20) - trancom:3
14:32:51,383 INFO common.Log4jPrint(20) - FuncFlag:1012
14:32:51,383 INFO common.Log4jPrint(20) - mHeadEle.getChildText1010_3_1012_in.xml
14:32:51,423 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:32:51,423 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1010,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1010_3_1012_in.xml',20161129,143251,20161129,143251,'230803197906010035','张燕','230803197906010035','011A0100' )
14:32:51,438 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:32:51,439 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=142931
14:32:51,497 INFO common.RuleXsl(155) - Into RuleXsl.load()...
14:32:51,498 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
14:32:51,498 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
14:32:51,533 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
14:32:51,533 INFO common.RuleXsl(179) - Out RuleXsl.load()!
14:32:51,534 INFO common.RuleXml(198) - Into RuleXml.load()...
14:32:51,535 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
14:32:51,535 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=10207 bytes!
14:32:51,540 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
14:32:51,541 INFO common.RuleXml(215) - Out RuleXml.load()!
14:32:51,541 INFO common.RuleParser(49) - Into RuleParser.check()...
14:32:51,541 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
14:32:51,548 INFO common.Log4jPrint(20) - 对邮编进行校验
14:32:51,549 INFO common.Log4jPrint(20) - 对邮编进行校验
14:32:51,550 INFO common.Log4jPrint(20) - 返回的结果是:0
14:32:51,552 INFO common.Log4jPrint(20) - 对邮编进行校验
14:32:51,555 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

14:32:51,555 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
14:32:51,555 INFO common.RuleParser(62) - Out RuleParser.check()!
14:32:51,556 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
14:32:51,561 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
14:32:51,563 INFO common.SaveMessage(59) - 1010_6_0_inSvc.xml IO输出耗时:0.0020s
14:32:51,564 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1010_6_0_inSvc.xml
14:32:51,565 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:32:51,565 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:32:51,811 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
14:34:16,216 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
14:34:16,217 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
14:34:16,217 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
14:34:16,218 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
14:34:16,218 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
14:34:16,219 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
14:34:16,219 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
14:34:16,219 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
14:34:16,220 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
14:34:16,220 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
14:34:16,220 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
14:34:16,221 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
14:34:16,221 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
14:34:16,222 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
14:34:16,222 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:34:16,223 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
14:34:16,223 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
14:34:16,224 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
14:34:16,224 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
14:34:16,224 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
14:34:16,225 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
14:34:16,225 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
14:34:16,226 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
14:34:16,226 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
14:34:16,227 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
14:34:16,227 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
14:34:16,227 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
14:34:16,228 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
14:34:16,229 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
14:34:16,229 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
14:34:16,230 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
14:34:16,230 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
14:34:16,230 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
14:34:16,231 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
14:34:16,231 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
14:34:16,232 INFO common.Log4jPrint(20) - 	... 13 more
14:34:16,232 INFO common.Log4jPrint(20) - -----------------------------------------------
14:34:16,233 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
14:34:16,237 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:34:16,289 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:34:16,290 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:34:16,290 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1010,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1010_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=143251,ModifyDate=20161129,ModifyTime=143416,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1010
14:34:16,306 INFO service.NewContInput(237) - Out NewContInput.service()!
14:34:16,307 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
14:34:16,314 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
14:34:16,315 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
14:34:16,315 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
14:34:16,323 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
14:34:16,328 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

14:34:16,328 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
14:34:16,332 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
14:34:16,332 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:34:16,336 INFO common.SaveMessage(59) - 1010_9_1012_out.xml IO输出耗时:0.0020s
14:34:16,336 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1010_9_1012_out.xml
14:34:16,337 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129143250842</SYS_RECV_TIME><SYS_RESP_TIME>20161129143416331</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:34:16,338 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
14:34:16,376 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:34:16,377 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1010
14:34:16,408 INFO common.Log4jPrint(20) - -------------------------
14:34:16,409 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:34:16,410 INFO common.Log4jPrint(20) - -------------------------
14:34:16,418 INFO common.Log4jPrint(20) - i=1
14:34:16,455 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:34:16,455 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:34:16,456 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1010,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.733',Bak4=null,Bak5=null,InNoDoc='1010_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=143251,ModifyDate=20161129,ModifyTime=143416,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1010_9_1012_out.xml' where LogNo=1010
14:34:16,469 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.783s
14:34:16,469 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:51:18,586 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@695cd9c0
14:51:18,595 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
14:51:18,599 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
14:51:18,600 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
14:51:18,602 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
14:51:18,603 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
14:51:18,604 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
14:51:18,607 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
14:51:18,682 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
14:51:18,691 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
14:51:18,692 INFO common.Log4jPrint(20) - End reset System.out!
14:51:18,694 INFO net.SocketConf(27) - Into SocketConf.load()...
14:51:18,695 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
14:51:18,696 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
14:51:18,699 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
14:51:18,700 INFO net.SocketConf(60) - Out SocketConf.load()!
14:51:18,717 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
14:51:18,718 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
14:51:18,768 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
14:51:18,768 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
14:51:18,769 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
14:51:18,774 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
14:51:18,775 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
14:51:18,774 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
14:51:18,781 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
14:51:18,782 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
14:51:18,782 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
14:51:18,788 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
14:51:18,788 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
14:51:18,789 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
14:51:56,186 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
14:51:56,186 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
14:51:56,186 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
14:51:56,219 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
14:51:56,234 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

14:51:56,250 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
14:51:56,250 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
14:51:56,250 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
14:51:56,750 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
14:51:56,831 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
14:51:56,893 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:51:56,909 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:51:56,940 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:51:56,941 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:56:00,232 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:56:00,248 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:56:00,248 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:56:00,248 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:56:00,248 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:56:00,248 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
14:56:00,248 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


14:56:00,264 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
14:56:00,264 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:56:00,405 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
14:56:00,405 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
14:56:00,405 INFO common.SaveMessage(59) - 1022_3_1012_in.xml IO输出耗时:0.0s
14:56:00,405 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1022_3_1012_in.xml
14:56:00,405 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:56:00,405 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:56:00,421 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
14:56:00,421 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
14:56:00,436 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
14:56:00,436 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
14:56:00,436 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
14:56:00,733 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
14:56:00,748 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

14:56:00,748 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
14:56:00,920 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
14:56:00,920 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
14:56:00,936 INFO common.Log4jPrint(20) - ================0133011
14:56:00,936 INFO common.Log4jPrint(20) - ================03
14:56:00,936 INFO common.Log4jPrint(20) - ++++++++++++++++03
14:56:00,936 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
14:56:00,936 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
14:58:26,445 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
14:58:26,445 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
14:58:26,445 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
14:58:26,445 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
14:58:26,445 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
14:58:26,445 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
14:58:26,445 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


14:58:26,460 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
14:58:26,460 INFO newNet.CcbNetImpl(58) - mTranCom==============03
14:58:26,460 INFO common.SaveMessage(59) - 1028_6_1012_in.xml IO输出耗时:0.0s
14:58:26,460 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1028_6_1012_in.xml
14:58:26,477 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
14:58:26,477 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
14:58:26,477 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
14:58:26,477 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
14:58:26,493 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
14:58:26,493 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
14:58:26,508 INFO common.Log4jPrint(20) - ================0133011
14:58:26,508 INFO common.Log4jPrint(20) - ================03
14:58:26,508 INFO common.Log4jPrint(20) - ++++++++++++++++03
14:58:26,508 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
14:58:26,508 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
14:58:29,027 INFO service.NewContInput(43) - Into NewContInput.service()...
14:58:29,042 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:58:29,059 INFO common.Log4jPrint(20) - 进程名：1022
14:58:29,059 INFO common.Log4jPrint(20) - trancom:3
14:58:29,059 INFO common.Log4jPrint(20) - FuncFlag:1012
14:58:29,059 INFO common.Log4jPrint(20) - mHeadEle.getChildText1022_3_1012_in.xml
14:58:29,090 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:58:29,090 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1022,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1022_3_1012_in.xml',20161129,145829,20161129,145829,'230803197906010035','张燕','230803197906010035','011A0100' )
14:58:29,106 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:58:30,444 INFO service.NewContInput(43) - Into NewContInput.service()...
14:58:30,460 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
14:58:30,460 INFO common.Log4jPrint(20) - 进程名：1028
14:58:30,460 INFO common.Log4jPrint(20) - trancom:3
14:58:30,460 INFO common.Log4jPrint(20) - FuncFlag:1012
14:58:30,460 INFO common.Log4jPrint(20) - mHeadEle.getChildText1028_6_1012_in.xml
14:58:30,492 INFO common.Log4jPrint(20) - 进入更新后的InsPart
14:58:30,492 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1028,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1028_6_1012_in.xml',20161129,145830,20161129,145830,'230803197906010035','张燕','230803197906010035','011A0100' )
14:58:30,508 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
14:58:30,950 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=145509
14:58:31,028 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 此保单数据正在处理中，请稍候！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:73)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:58:31,059 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:58:31,059 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:58:31,059 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1022,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=92,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1022_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=145829,ModifyDate=20161129,ModifyTime=145831,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1022
14:58:31,074 INFO service.NewContInput(237) - Out NewContInput.service()!
14:58:31,074 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
14:58:31,074 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
14:58:31,074 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
14:58:31,090 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
14:58:31,090 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
14:58:31,106 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

14:58:31,106 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
14:58:31,106 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
14:58:31,106 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:58:31,106 INFO common.SaveMessage(59) - 1022_9_1012_out.xml IO输出耗时:0.0s
14:58:31,106 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1022_9_1012_out.xml
14:58:31,106 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>838</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2141</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129145600421</SYS_RECV_TIME><SYS_RESP_TIME>20161129145831106</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>15</SYS_RESP_DESC_LEN><SYS_RESP_DESC>姝や版姝ｅㄥ涓锛璇风?锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:58:31,106 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:183)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
14:58:31,152 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:58:31,152 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1022
14:58:31,152 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=145510
14:58:31,168 INFO common.Log4jPrint(20) - -------------------------
14:58:31,168 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:58:31,168 INFO common.Log4jPrint(20) - -------------------------
14:58:31,184 INFO common.Log4jPrint(20) - i=1
14:58:31,324 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
14:58:31,386 INFO common.RuleXsl(155) - Into RuleXsl.load()...
14:58:31,386 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
14:58:31,386 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
14:58:31,433 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
14:58:31,433 INFO common.RuleXsl(179) - Out RuleXsl.load()!
14:58:31,433 INFO common.RuleXml(198) - Into RuleXml.load()...
14:58:31,433 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
14:58:31,433 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=10207 bytes!
14:58:31,433 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
14:58:31,433 INFO common.RuleXml(215) - Out RuleXml.load()!
14:58:31,433 INFO common.RuleParser(49) - Into RuleParser.check()...
14:58:31,433 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
14:58:31,449 INFO common.Log4jPrint(20) - 对邮编进行校验
14:58:31,449 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:58:31,449 INFO common.Log4jPrint(20) - 对邮编进行校验
14:58:31,449 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:58:31,449 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1022,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=92,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='150.936',Bak4=null,Bak5=null,InNoDoc='1022_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=145829,ModifyDate=20161129,ModifyTime=145831,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1022_9_1012_out.xml' where LogNo=1022
14:58:31,449 INFO common.Log4jPrint(20) - 返回的结果是:0
14:58:31,464 INFO common.Log4jPrint(20) - 对邮编进行校验
14:58:31,464 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

14:58:31,464 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
14:58:31,464 INFO common.RuleParser(62) - Out RuleParser.check()!
14:58:31,464 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
14:58:31,464 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
14:58:31,481 INFO common.SaveMessage(59) - 1028_12_0_inSvc.xml IO输出耗时:0.017s
14:58:31,481 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1028_12_0_inSvc.xml
14:58:31,481 INFO midplat.Ybt4Socket(170) - 处理总耗时：151.233s
14:58:31,481 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
14:58:31,481 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:58:31,481 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
14:58:31,731 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
14:59:56,304 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
14:59:56,304 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
14:59:56,304 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
14:59:56,304 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
14:59:56,304 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
14:59:56,319 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
14:59:56,319 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
14:59:56,319 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:59:56,319 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
14:59:56,319 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
14:59:56,319 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
14:59:56,319 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
14:59:56,319 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
14:59:56,319 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
14:59:56,319 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
14:59:56,319 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
14:59:56,319 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
14:59:56,319 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
14:59:56,319 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
14:59:56,319 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
14:59:56,335 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
14:59:56,336 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
14:59:56,336 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
14:59:56,336 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
14:59:56,336 INFO common.Log4jPrint(20) - 	... 13 more
14:59:56,336 INFO common.Log4jPrint(20) - -----------------------------------------------
14:59:56,336 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
14:59:56,336 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
14:59:56,367 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:59:56,367 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:59:56,367 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1028,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1028_6_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=145830,ModifyDate=20161129,ModifyTime=145956,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1028
14:59:56,398 INFO service.NewContInput(237) - Out NewContInput.service()!
14:59:56,398 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
14:59:56,398 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
14:59:56,398 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
14:59:56,398 INFO common.SaveMessage(59) - 1028_15_1012_out.xml IO输出耗时:0.0s
14:59:56,398 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1028_15_1012_out.xml
14:59:56,398 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129145826477</SYS_RECV_TIME><SYS_RESP_TIME>20161129145956398</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

14:59:56,398 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
14:59:56,461 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:59:56,461 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1028
14:59:56,476 INFO common.Log4jPrint(20) - -------------------------
14:59:56,476 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
14:59:56,476 INFO common.Log4jPrint(20) - -------------------------
14:59:56,492 INFO common.Log4jPrint(20) - i=1
14:59:56,523 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
14:59:56,539 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
14:59:56,539 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1028,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='90.047',Bak4=null,Bak5=null,InNoDoc='1028_6_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=145830,ModifyDate=20161129,ModifyTime=145956,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1028_15_1012_out.xml' where LogNo=1028
14:59:56,554 INFO midplat.Ybt4Socket(170) - 处理总耗时：90.109s
14:59:56,554 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:00:12,145 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7f328c7a
15:00:12,161 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:00:12,161 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:00:12,161 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:00:12,161 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:00:12,161 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:00:12,177 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:00:12,177 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:00:12,240 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:00:12,256 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:00:12,256 INFO common.Log4jPrint(20) - End reset System.out!
15:00:12,256 INFO net.SocketConf(27) - Into SocketConf.load()...
15:00:12,256 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:00:12,256 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:00:12,271 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:00:12,271 INFO net.SocketConf(60) - Out SocketConf.load()!
15:00:12,287 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:00:12,287 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:00:12,287 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:00:12,287 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:00:12,287 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:00:12,302 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:00:12,302 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:00:12,302 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:00:12,302 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:00:12,302 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:00:12,302 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:00:12,302 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:00:12,302 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:00:12,302 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:00:14,734 INFO test.NewCCBTestUI_new(83) - Socket连接10.2.0.31:39871
15:01:34,204 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7f328c7a
15:01:34,220 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:01:34,220 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:01:34,220 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:01:34,220 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:01:34,235 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:01:34,235 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:01:34,235 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:01:34,283 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:01:34,299 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:01:34,299 INFO common.Log4jPrint(20) - End reset System.out!
15:01:34,299 INFO net.SocketConf(27) - Into SocketConf.load()...
15:01:34,299 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:01:34,299 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:01:34,299 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:01:34,299 INFO net.SocketConf(60) - Out SocketConf.load()!
15:01:34,314 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:01:34,314 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:01:34,330 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:01:34,330 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:01:34,330 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:01:34,330 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:01:34,330 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:01:34,330 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:01:34,346 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:01:34,346 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:01:34,346 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:01:34,346 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:01:34,346 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:01:34,346 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:01:45,275 INFO test.NewCCBTestUI_new(83) - Socket连接10.2.0.31:39871
15:05:18,648 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:05:18,648 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:05:18,649 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
15:05:18,669 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:05:18,691 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:05:18,692 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:05:18,695 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:05:18,700 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:05:19,300 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:05:19,364 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:05:19,424 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:05:19,440 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:05:19,441 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:05:19,443 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:05:39,393 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NumberFormatException: For input string: "yiuan"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:449)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:42)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
15:05:39,403 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:05:39,404 INFO common.Log4jPrint(20) - ==================send====
15:05:39,405 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
15:05:39,490 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:05:39,491 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1034
15:05:39,535 INFO common.Log4jPrint(20) - i=0
15:05:39,540 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:05:39,541 INFO midplat.Ybt4Socket(170) - 处理总耗时：20.1s
15:05:39,542 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:06:00,068 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:06:00,069 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:06:00,071 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:06:00,071 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:06:10,719 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.lang.NumberFormatException: For input string: "d:"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:449)
	at java.lang.Integer.parseInt(Integer.java:499)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:42)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
15:06:10,720 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:06:10,721 INFO common.Log4jPrint(20) - ==================send====
15:06:10,722 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
15:06:10,758 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:06:10,759 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1040
15:06:10,800 INFO common.Log4jPrint(20) - i=0
15:06:10,801 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
15:06:10,802 INFO midplat.Ybt4Socket(170) - 处理总耗时：10.731s
15:06:10,803 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:06:54,732 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6c1989b5
15:06:54,740 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:06:54,744 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:06:54,744 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:06:54,746 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:06:54,746 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:06:54,747 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:06:54,750 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:06:54,811 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:06:54,818 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:06:54,819 INFO common.Log4jPrint(20) - End reset System.out!
15:06:54,821 INFO net.SocketConf(27) - Into SocketConf.load()...
15:06:54,821 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:06:54,822 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:06:54,824 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:06:54,825 INFO net.SocketConf(60) - Out SocketConf.load()!
15:06:54,840 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:06:54,840 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:06:54,849 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:06:54,849 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:06:54,849 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:06:54,854 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:06:54,855 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:06:54,854 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:06:54,862 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:06:54,862 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:06:54,862 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:06:54,867 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:06:54,867 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:06:54,867 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:07:42,892 INFO test.NewCCBTestUI_new(83) - Socket连接10.2.0.31:39871
15:17:34,904 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
15:17:34,904 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
15:17:34,905 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@581de498
15:17:34,905 INFO common.Log4jPrint(20) - Start revert System.out...
15:17:34,906 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
15:17:34,920 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
15:17:34,933 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
15:17:34,933 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
15:17:34,921 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
15:17:34,966 INFO boc.BocConf(22) - Into BocConf.load()...
15:17:34,967 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
15:17:34,968 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,359) and length=3734 bytes!
15:17:34,974 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
15:17:34,975 INFO boc.BocConf(47) - Out BocConf.load()!
15:17:34,988 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:17:34,989 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:17:34,989 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
15:17:34,999 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:17:35,012 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:17:35,014 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:17:35,018 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
15:17:35,019 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
15:17:35,019 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,361) and length=1791 bytes!
15:17:35,023 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
15:17:35,023 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
15:17:43,379 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@460c5e9c
15:17:43,387 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:17:43,391 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:17:43,391 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:17:43,393 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:17:43,394 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:17:43,394 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:17:43,398 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:17:43,467 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:17:43,476 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:17:43,477 INFO common.Log4jPrint(20) - End reset System.out!
15:17:43,479 INFO net.SocketConf(27) - Into SocketConf.load()...
15:17:43,479 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:17:43,480 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:17:43,483 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:17:43,483 INFO net.SocketConf(60) - Out SocketConf.load()!
15:17:43,496 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:17:43,497 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:17:43,505 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:17:43,505 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:17:43,505 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:17:43,509 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:17:43,510 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:17:43,510 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:17:43,514 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:17:43,515 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:17:43,515 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:17:43,520 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:17:43,520 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:17:43,520 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:17:48,619 INFO test.NewCCBTestUI_new(83) - Socket连接10.2.0.31:39871
15:18:06,473 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@630f41e9
15:18:06,484 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:18:06,490 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:18:06,491 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:18:06,494 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:18:06,494 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:18:06,495 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:18:06,498 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:18:06,568 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:18:06,577 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:18:06,578 INFO common.Log4jPrint(20) - End reset System.out!
15:18:06,580 INFO net.SocketConf(27) - Into SocketConf.load()...
15:18:06,580 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:18:06,581 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:18:06,584 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:18:06,584 INFO net.SocketConf(60) - Out SocketConf.load()!
15:18:06,599 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:18:06,599 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:18:06,609 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:18:06,609 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:18:06,609 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:18:06,616 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:18:06,616 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:18:06,617 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:18:06,624 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:18:06,624 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:18:06,625 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:18:06,632 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:18:06,632 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:18:06,632 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:18:12,610 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
15:18:12,620 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:18:12,620 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:18:12,621 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
15:18:12,630 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:18:12,651 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:18:12,652 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:18:12,654 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:18:12,660 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:18:40,098 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:18:40,161 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:18:40,223 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:18:40,232 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:18:40,233 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:18:40,234 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:18:40,238 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
15:18:40,239 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


15:18:40,254 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
15:18:40,254 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:18:40,376 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:18:40,376 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:18:40,382 INFO common.SaveMessage(59) - 1034_3_1012_in.xml IO输出耗时:0.0050s
15:18:40,382 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1034_3_1012_in.xml
15:18:40,384 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:18:40,387 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:18:40,389 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
15:18:40,396 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
15:18:40,403 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
15:18:40,404 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
15:18:40,404 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
15:18:40,692 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
15:18:40,707 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

15:18:40,708 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
15:18:40,856 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
15:18:40,856 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
15:18:40,870 INFO common.Log4jPrint(20) - ================0133011
15:18:40,871 INFO common.Log4jPrint(20) - ================03
15:18:40,871 INFO common.Log4jPrint(20) - ++++++++++++++++03
15:18:40,871 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
15:18:40,871 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
15:18:40,876 INFO service.NewContInput(43) - Into NewContInput.service()...
15:18:40,878 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:18:40,887 INFO common.Log4jPrint(20) - 进程名：1034
15:18:40,887 INFO common.Log4jPrint(20) - trancom:3
15:18:40,887 INFO common.Log4jPrint(20) - FuncFlag:1012
15:18:40,887 INFO common.Log4jPrint(20) - mHeadEle.getChildText1034_3_1012_in.xml
15:18:40,965 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:18:40,966 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1034,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1034_3_1012_in.xml',20161129,151840,20161129,151840,'230803197906010035','张燕','230803197906010035','011A0100' )
15:18:40,982 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:18:40,984 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=151520
15:18:41,183 INFO common.RuleXsl(155) - Into RuleXsl.load()...
15:18:41,183 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
15:18:41,184 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
15:18:41,232 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
15:18:41,233 INFO common.RuleXsl(179) - Out RuleXsl.load()!
15:18:41,233 INFO common.RuleXml(198) - Into RuleXml.load()...
15:18:41,233 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
15:18:41,234 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=10207 bytes!
15:18:41,239 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
15:18:41,239 INFO common.RuleXml(215) - Out RuleXml.load()!
15:18:41,240 INFO common.RuleParser(49) - Into RuleParser.check()...
15:18:41,240 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
15:18:41,247 INFO common.Log4jPrint(20) - 对邮编进行校验
15:18:41,248 INFO common.Log4jPrint(20) - 对邮编进行校验
15:18:41,249 INFO common.Log4jPrint(20) - 返回的结果是:0
15:18:41,250 INFO common.Log4jPrint(20) - 对邮编进行校验
15:18:41,253 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

15:18:41,254 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
15:18:41,254 INFO common.RuleParser(62) - Out RuleParser.check()!
15:18:41,254 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
15:18:41,259 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
15:18:41,261 INFO common.SaveMessage(59) - 1034_6_0_inSvc.xml IO输出耗时:0.0020s
15:18:41,262 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1034_6_0_inSvc.xml
15:18:41,263 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:18:41,263 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:18:41,496 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:20:05,890 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
15:20:05,891 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
15:20:05,892 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
15:20:05,892 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
15:20:05,893 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
15:20:05,894 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
15:20:05,894 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
15:20:05,895 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
15:20:05,896 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
15:20:05,896 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
15:20:05,897 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
15:20:05,897 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
15:20:05,898 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
15:20:05,899 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
15:20:05,899 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:20:05,900 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
15:20:05,901 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
15:20:05,902 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
15:20:05,902 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
15:20:05,903 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
15:20:05,904 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
15:20:05,904 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
15:20:05,905 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
15:20:05,906 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
15:20:05,906 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
15:20:05,907 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
15:20:05,908 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
15:20:05,908 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
15:20:05,909 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
15:20:05,910 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
15:20:05,910 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
15:20:05,911 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
15:20:05,912 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
15:20:05,912 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
15:20:05,913 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
15:20:05,914 INFO common.Log4jPrint(20) - 	... 13 more
15:20:05,915 INFO common.Log4jPrint(20) - -----------------------------------------------
15:20:05,915 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
15:20:05,922 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:20:05,963 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:20:05,963 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:20:05,963 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1034,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1034_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=151840,ModifyDate=20161129,ModifyTime=152005,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1034
15:20:05,983 INFO service.NewContInput(237) - Out NewContInput.service()!
15:20:05,984 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
15:20:05,991 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
15:20:05,992 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
15:20:05,992 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
15:20:06,000 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
15:20:06,005 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

15:20:06,005 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
15:20:06,009 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
15:20:06,009 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:20:06,012 INFO common.SaveMessage(59) - 1034_9_1012_out.xml IO输出耗时:0.0020s
15:20:06,013 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1034_9_1012_out.xml
15:20:06,014 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129151840397</SYS_RECV_TIME><SYS_RESP_TIME>20161129152006008</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:20:06,015 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
15:20:06,070 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:20:06,070 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1034
15:20:06,115 INFO common.Log4jPrint(20) - -------------------------
15:20:06,116 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
15:20:06,116 INFO common.Log4jPrint(20) - -------------------------
15:20:06,127 INFO common.Log4jPrint(20) - i=1
15:20:06,168 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:20:06,169 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:20:06,169 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1034,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.894',Bak4=null,Bak5=null,InNoDoc='1034_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=151840,ModifyDate=20161129,ModifyTime=152005,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1034_9_1012_out.xml' where LogNo=1034
15:20:06,183 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.95s
15:20:06,183 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:23:28,329 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7eb05acd
15:23:28,344 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:23:28,360 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:23:28,360 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:23:28,360 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:23:28,360 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:23:28,375 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:23:28,375 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:23:28,454 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:23:28,454 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:23:28,454 INFO common.Log4jPrint(20) - End reset System.out!
15:23:28,470 INFO net.SocketConf(27) - Into SocketConf.load()...
15:23:28,470 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:23:28,470 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:23:28,470 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:23:28,470 INFO net.SocketConf(60) - Out SocketConf.load()!
15:23:28,486 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:23:28,486 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:23:28,486 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:23:28,486 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:23:28,486 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:23:28,501 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:23:28,501 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:23:28,501 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:23:28,501 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:23:28,501 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:23:28,501 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:23:28,501 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:23:28,501 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:23:28,501 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:23:35,891 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
15:23:35,907 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:23:35,907 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:23:35,907 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
15:23:35,907 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:23:35,922 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:23:35,922 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:23:35,939 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:23:35,939 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:23:36,703 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:23:36,859 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:23:37,064 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:23:37,080 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:23:37,080 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:23:37,080 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:23:37,080 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
15:23:37,080 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


15:23:37,112 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
15:23:37,112 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:23:37,237 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:23:37,237 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:23:37,252 INFO common.SaveMessage(59) - 1040_3_1012_in.xml IO输出耗时:0.015s
15:23:37,252 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1040_3_1012_in.xml
15:23:37,252 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:23:37,252 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:23:37,252 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
15:23:37,268 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
15:23:37,268 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
15:23:37,268 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
15:23:37,268 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
15:23:37,580 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
15:23:37,595 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

15:23:37,595 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
15:23:37,767 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
15:23:37,767 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
15:23:37,783 INFO common.Log4jPrint(20) - ================0133011
15:23:37,783 INFO common.Log4jPrint(20) - ================03
15:23:37,783 INFO common.Log4jPrint(20) - ++++++++++++++++03
15:23:37,783 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
15:23:37,783 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
15:23:37,783 INFO service.NewContInput(43) - Into NewContInput.service()...
15:23:37,783 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:23:37,798 INFO common.Log4jPrint(20) - 进程名：1040
15:23:37,798 INFO common.Log4jPrint(20) - trancom:3
15:23:37,798 INFO common.Log4jPrint(20) - FuncFlag:1012
15:23:37,798 INFO common.Log4jPrint(20) - mHeadEle.getChildText1040_3_1012_in.xml
15:23:37,861 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:23:37,861 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1040,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1040_3_1012_in.xml',20161129,152337,20161129,152337,'230803197906010035','张燕','230803197906010035','011A0100' )
15:23:37,876 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:23:37,876 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=152017
15:23:38,236 INFO common.RuleXsl(155) - Into RuleXsl.load()...
15:23:38,236 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
15:23:38,236 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
15:23:38,315 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
15:23:38,315 INFO common.RuleXsl(179) - Out RuleXsl.load()!
15:23:38,315 INFO common.RuleXml(198) - Into RuleXml.load()...
15:23:38,315 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
15:23:38,315 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=10207 bytes!
15:23:38,315 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
15:23:38,331 INFO common.RuleXml(215) - Out RuleXml.load()!
15:23:38,331 INFO common.RuleParser(49) - Into RuleParser.check()...
15:23:38,331 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
15:23:38,331 INFO common.Log4jPrint(20) - 对邮编进行校验
15:23:38,331 INFO common.Log4jPrint(20) - 对邮编进行校验
15:23:38,331 INFO common.Log4jPrint(20) - 返回的结果是:0
15:23:38,331 INFO common.Log4jPrint(20) - 对邮编进行校验
15:23:38,346 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

15:23:38,346 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
15:23:38,346 INFO common.RuleParser(62) - Out RuleParser.check()!
15:23:38,346 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
15:23:38,346 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
15:23:38,346 INFO common.SaveMessage(59) - 1040_6_0_inSvc.xml IO输出耗时:0.0s
15:23:38,346 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1040_6_0_inSvc.xml
15:23:38,346 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:23:38,346 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:23:38,565 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:25:03,024 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
15:25:03,024 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
15:25:03,024 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
15:25:03,024 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
15:25:03,024 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
15:25:03,034 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
15:25:03,034 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
15:25:03,034 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
15:25:03,034 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
15:25:03,034 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
15:25:03,034 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
15:25:03,034 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
15:25:03,034 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
15:25:03,034 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
15:25:03,034 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:25:03,034 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
15:25:03,034 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
15:25:03,034 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
15:25:03,034 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
15:25:03,034 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
15:25:03,034 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
15:25:03,034 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
15:25:03,044 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
15:25:03,044 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
15:25:03,045 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
15:25:03,045 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
15:25:03,045 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
15:25:03,045 INFO common.Log4jPrint(20) - 	... 13 more
15:25:03,045 INFO common.Log4jPrint(20) - -----------------------------------------------
15:25:03,045 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
15:25:03,045 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:25:03,115 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:25:03,115 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:25:03,115 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1040,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1040_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=152337,ModifyDate=20161129,ModifyTime=152503,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1040
15:25:03,145 INFO service.NewContInput(237) - Out NewContInput.service()!
15:25:03,145 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
15:25:03,155 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
15:25:03,155 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
15:25:03,155 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
15:25:03,165 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
15:25:03,165 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

15:25:03,165 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
15:25:03,175 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
15:25:03,175 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:25:03,175 INFO common.SaveMessage(59) - 1040_9_1012_out.xml IO输出耗时:0.0s
15:25:03,175 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1040_9_1012_out.xml
15:25:03,175 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129152337268</SYS_RECV_TIME><SYS_RESP_TIME>20161129152503175</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:25:03,185 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
15:25:03,265 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:25:03,265 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1040
15:25:03,315 INFO common.Log4jPrint(20) - -------------------------
15:25:03,315 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
15:25:03,315 INFO common.Log4jPrint(20) - -------------------------
15:25:03,325 INFO common.Log4jPrint(20) - i=1
15:25:03,355 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:25:03,355 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:25:03,355 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1040,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='86.245',Bak4=null,Bak5=null,InNoDoc='1040_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=152337,ModifyDate=20161129,ModifyTime=152503,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1040_9_1012_out.xml' where LogNo=1040
15:25:03,376 INFO midplat.Ybt4Socket(170) - 处理总耗时：86.296s
15:25:03,376 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:25:24,586 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7eb05acd
15:25:24,586 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:25:24,586 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:25:24,586 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:25:24,602 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:25:24,602 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:25:24,618 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:25:24,618 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:25:24,697 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:25:24,697 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:25:24,697 INFO common.Log4jPrint(20) - End reset System.out!
15:25:24,697 INFO net.SocketConf(27) - Into SocketConf.load()...
15:25:24,712 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:25:24,712 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:25:24,712 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:25:24,712 INFO net.SocketConf(60) - Out SocketConf.load()!
15:25:24,728 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:25:24,728 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:25:24,728 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:25:24,728 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:25:24,728 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:25:24,743 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:25:24,743 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:25:24,743 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:25:24,743 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:25:24,743 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:25:24,743 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:25:24,743 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:25:24,743 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:25:24,743 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:25:28,200 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
15:25:28,216 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:25:28,216 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:25:28,216 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
15:25:28,216 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:25:28,231 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:25:28,394 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:25:28,395 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:25:28,395 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:25:29,003 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:25:29,081 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:25:29,175 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:25:29,190 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:25:29,190 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:25:29,190 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:25:29,206 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
15:25:29,206 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


15:25:29,222 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
15:25:29,222 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:25:29,333 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:25:29,333 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:25:29,333 INFO common.SaveMessage(59) - 1046_3_1012_in.xml IO输出耗时:0.0s
15:25:29,333 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1046_3_1012_in.xml
15:25:29,333 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:25:29,348 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:25:29,348 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
15:25:29,348 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
15:25:29,348 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
15:25:29,348 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
15:25:29,348 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
15:25:29,629 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
15:25:29,645 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

15:25:29,645 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
15:25:29,785 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
15:25:29,785 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
15:25:29,801 INFO common.Log4jPrint(20) - ================0133011
15:25:29,801 INFO common.Log4jPrint(20) - ================03
15:25:29,801 INFO common.Log4jPrint(20) - ++++++++++++++++03
15:25:29,801 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
15:25:29,801 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
15:25:29,816 INFO service.NewContInput(43) - Into NewContInput.service()...
15:25:29,816 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:25:29,816 INFO common.Log4jPrint(20) - 进程名：1046
15:25:29,816 INFO common.Log4jPrint(20) - trancom:3
15:25:29,816 INFO common.Log4jPrint(20) - FuncFlag:1012
15:25:29,816 INFO common.Log4jPrint(20) - mHeadEle.getChildText1046_3_1012_in.xml
15:25:29,989 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:25:30,036 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1046,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1046_3_1012_in.xml',20161129,152529,20161129,152529,'230803197906010035','张燕','230803197906010035','011A0100' )
15:25:30,051 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:25:30,051 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=152210
15:25:30,192 INFO common.RuleXsl(155) - Into RuleXsl.load()...
15:25:30,192 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
15:25:30,192 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
15:25:30,239 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
15:25:30,239 INFO common.RuleXsl(179) - Out RuleXsl.load()!
15:25:30,239 INFO common.RuleXml(198) - Into RuleXml.load()...
15:25:30,239 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
15:25:30,239 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=10207 bytes!
15:25:30,239 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
15:25:30,239 INFO common.RuleXml(215) - Out RuleXml.load()!
15:25:30,254 INFO common.RuleParser(49) - Into RuleParser.check()...
15:25:30,254 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
15:25:30,254 INFO common.Log4jPrint(20) - 对邮编进行校验
15:25:30,254 INFO common.Log4jPrint(20) - 对邮编进行校验
15:25:30,254 INFO common.Log4jPrint(20) - 返回的结果是:0
15:25:30,254 INFO common.Log4jPrint(20) - 对邮编进行校验
15:25:30,254 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

15:25:30,254 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
15:25:30,254 INFO common.RuleParser(62) - Out RuleParser.check()!
15:25:30,254 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
15:25:30,271 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
15:25:30,302 INFO common.SaveMessage(59) - 1046_6_0_inSvc.xml IO输出耗时:0.031s
15:25:30,302 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1046_6_0_inSvc.xml
15:25:30,302 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:25:30,302 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:25:30,520 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:25:46,955 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7c6576d5
15:25:46,955 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:25:46,970 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:25:46,970 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:25:46,970 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:25:46,970 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:25:46,970 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:25:46,970 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:25:47,034 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:25:47,049 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:25:47,049 INFO common.Log4jPrint(20) - End reset System.out!
15:25:47,049 INFO net.SocketConf(27) - Into SocketConf.load()...
15:25:47,049 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:25:47,049 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:25:47,049 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:25:47,049 INFO net.SocketConf(60) - Out SocketConf.load()!
15:25:47,065 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:25:47,065 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:25:47,080 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:25:47,080 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:25:47,080 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:25:47,096 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:25:47,096 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:25:47,096 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:25:47,096 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:25:47,096 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:25:47,096 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:25:47,112 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:25:47,112 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:25:47,112 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:25:51,168 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
15:25:51,168 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:25:51,168 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:25:51,168 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
15:25:51,184 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:25:51,200 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:25:51,200 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:25:51,200 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:25:51,216 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:25:51,871 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:25:51,980 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:25:52,043 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:25:52,058 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:25:52,058 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:25:52,074 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:25:52,074 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
15:25:52,074 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


15:25:52,105 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
15:25:52,105 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:25:52,214 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:25:52,230 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:25:52,230 INFO common.SaveMessage(59) - 1052_3_1012_in.xml IO输出耗时:0.0s
15:25:52,230 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1052_3_1012_in.xml
15:25:52,245 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:25:52,245 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:25:52,245 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
15:25:52,245 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
15:25:52,262 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
15:25:52,262 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
15:25:52,262 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
15:25:52,558 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
15:25:52,590 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

15:25:52,590 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
15:25:52,746 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
15:25:52,746 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
15:25:52,761 INFO common.Log4jPrint(20) - ================0133011
15:25:52,761 INFO common.Log4jPrint(20) - ================03
15:25:52,761 INFO common.Log4jPrint(20) - ++++++++++++++++03
15:25:52,761 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
15:25:52,761 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
15:31:13,936 INFO service.NewContInput(43) - Into NewContInput.service()...
15:43:10,347 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:43:10,395 INFO common.Log4jPrint(20) - 进程名：1052
15:43:10,395 INFO common.Log4jPrint(20) - trancom:3
15:43:10,395 INFO common.Log4jPrint(20) - FuncFlag:1012
15:43:10,395 INFO common.Log4jPrint(20) - mHeadEle.getChildText1052_3_1012_in.xml
15:43:10,457 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:43:10,473 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1052,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1052_3_1012_in.xml',20161129,154310,20161129,154310,'230803197906010035','张燕','230803197906010035','011A0100' )
15:43:10,488 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:47:44,239 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=154422
15:47:44,333 ERROR service.NewContInput(217) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 此保单数据正在处理中，请稍候！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:73)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:47:44,411 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:47:44,427 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:44,427 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1052,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=1283,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1052_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=154310,ModifyDate=20161129,ModifyTime=154744,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1052
15:47:44,443 INFO service.NewContInput(237) - Out NewContInput.service()!
15:47:44,443 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
15:47:44,474 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
15:47:44,474 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
15:47:44,474 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
15:47:44,474 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
15:47:44,489 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

15:47:44,489 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
15:47:44,489 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
15:47:44,489 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:47:44,489 INFO common.SaveMessage(59) - 1052_6_1012_out.xml IO输出耗时:0.0s
15:47:44,489 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1052_6_1012_out.xml
15:47:44,489 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>838</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2141</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129152552245</SYS_RECV_TIME><SYS_RESP_TIME>20161129154744489</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>15</SYS_RESP_DESC_LEN><SYS_RESP_DESC>姝や版姝ｅㄥ涓锛璇风?锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:47:44,489 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:124)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:183)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
15:47:44,521 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:44,521 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1052
15:47:44,552 INFO common.Log4jPrint(20) - -------------------------
15:47:44,552 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
15:47:44,552 INFO common.Log4jPrint(20) - -------------------------
15:47:44,599 INFO common.Log4jPrint(20) - i=1
15:47:44,630 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:47:44,645 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:47:44,645 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1052,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=1283,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='1312.541',Bak4=null,Bak5=null,InNoDoc='1052_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=154310,ModifyDate=20161129,ModifyTime=154744,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1052_6_1012_out.xml' where LogNo=1052
15:47:44,661 INFO midplat.Ybt4Socket(170) - 处理总耗时：1312.603s
15:47:44,661 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:48:17,055 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@13b33a0e
15:48:17,070 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:48:17,070 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:48:17,070 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:48:17,070 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:48:17,070 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:48:17,086 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:48:17,086 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,363) and length=23653 bytes!
15:48:17,165 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:48:17,180 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:48:17,180 INFO common.Log4jPrint(20) - End reset System.out!
15:48:17,180 INFO net.SocketConf(27) - Into SocketConf.load()...
15:48:17,180 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:48:17,180 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=711 bytes!
15:48:17,180 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:48:17,180 INFO net.SocketConf(60) - Out SocketConf.load()!
15:48:17,196 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:48:17,196 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:48:17,212 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:48:17,212 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:48:17,212 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:48:17,212 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:48:17,212 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:48:17,212 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:48:17,227 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:48:17,227 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:48:17,227 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:48:17,227 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:48:17,227 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:48:17,227 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:48:28,614 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
15:48:28,614 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:48:28,614 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:48:28,614 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,365) and length=14122 bytes!
15:48:28,629 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:48:28,646 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:48:28,646 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:48:28,646 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:48:28,661 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:48:29,335 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:48:29,616 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:48:29,679 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:48:29,679 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:48:29,695 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:48:29,695 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:48:29,695 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
15:48:29,695 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


15:48:29,726 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
15:48:29,726 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:48:29,835 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:48:29,835 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:48:29,851 INFO common.SaveMessage(59) - 1058_3_1012_in.xml IO输出耗时:0.0s
15:48:29,851 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1058_3_1012_in.xml
15:48:29,851 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:48:29,851 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:48:29,851 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
15:48:29,867 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
15:48:29,867 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
15:48:29,867 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
15:48:29,867 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
15:48:30,147 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
15:48:30,163 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

15:48:30,163 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
15:48:30,303 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
15:48:30,303 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
15:48:30,319 INFO common.Log4jPrint(20) - ================0133011
15:48:30,319 INFO common.Log4jPrint(20) - ================03
15:48:30,319 INFO common.Log4jPrint(20) - ++++++++++++++++03
15:48:30,319 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
15:48:30,319 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
15:48:30,319 INFO service.NewContInput(43) - Into NewContInput.service()...
15:48:30,319 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:48:30,335 INFO common.Log4jPrint(20) - 进程名：1058
15:48:30,335 INFO common.Log4jPrint(20) - trancom:3
15:48:30,335 INFO common.Log4jPrint(20) - FuncFlag:1012
15:48:30,335 INFO common.Log4jPrint(20) - mHeadEle.getChildText1058_3_1012_in.xml
15:48:30,397 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:48:30,397 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1058,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1058_3_1012_in.xml',20161129,154830,20161129,154830,'230803197906010035','张燕','230803197906010035','011A0100' )
15:48:30,413 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:48:30,413 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=154510
15:48:30,491 INFO common.RuleXsl(155) - Into RuleXsl.load()...
15:48:30,491 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
15:48:30,491 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
15:48:30,553 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
15:48:30,553 INFO common.RuleXsl(179) - Out RuleXsl.load()!
15:48:30,553 INFO common.RuleXml(198) - Into RuleXml.load()...
15:48:30,553 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
15:48:30,553 INFO common.XmlConf(62) - conf file modified at (2016-11-29 14:27:57,367) and length=10207 bytes!
15:48:30,553 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
15:48:30,553 INFO common.RuleXml(215) - Out RuleXml.load()!
15:48:30,569 INFO common.RuleParser(49) - Into RuleParser.check()...
15:48:30,569 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
15:48:30,569 INFO common.Log4jPrint(20) - 对邮编进行校验
15:48:30,569 INFO common.Log4jPrint(20) - 对邮编进行校验
15:48:30,569 INFO common.Log4jPrint(20) - 返回的结果是:0
15:48:30,569 INFO common.Log4jPrint(20) - 对邮编进行校验
15:48:30,569 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

15:48:30,569 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
15:48:30,569 INFO common.RuleParser(62) - Out RuleParser.check()!
15:48:30,569 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
15:48:30,584 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
15:48:30,584 INFO common.SaveMessage(59) - 1058_6_0_inSvc.xml IO输出耗时:0.0s
15:48:30,584 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1058_6_0_inSvc.xml
15:48:30,584 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:48:30,584 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:48:30,803 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:49:55,308 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
15:49:55,308 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
15:49:55,308 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
15:49:55,308 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
15:49:55,308 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
15:49:55,324 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
15:49:55,324 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
15:49:55,324 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:49:55,324 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
15:49:55,324 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
15:49:55,324 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
15:49:55,324 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
15:49:55,324 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
15:49:55,324 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
15:49:55,324 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
15:49:55,324 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
15:49:55,324 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
15:49:55,324 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
15:49:55,324 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
15:49:55,324 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
15:49:55,339 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
15:49:55,339 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
15:49:55,340 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
15:49:55,340 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
15:49:55,340 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
15:49:55,340 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
15:49:55,340 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
15:49:55,340 INFO common.Log4jPrint(20) - 	... 13 more
15:49:55,340 INFO common.Log4jPrint(20) - -----------------------------------------------
15:49:55,340 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
15:49:55,340 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:49:55,403 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:49:55,403 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:49:55,403 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1058,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1058_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=154830,ModifyDate=20161129,ModifyTime=154955,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1058
15:49:55,418 INFO service.NewContInput(237) - Out NewContInput.service()!
15:49:55,418 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
15:49:55,418 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
15:49:55,418 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
15:49:55,418 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
15:49:55,434 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
15:49:55,434 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

15:49:55,434 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
15:49:55,434 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
15:49:55,434 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:49:55,449 INFO common.SaveMessage(59) - 1058_9_1012_out.xml IO输出耗时:0.0s
15:49:55,449 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1058_9_1012_out.xml
15:49:55,449 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129154829867</SYS_RECV_TIME><SYS_RESP_TIME>20161129154955434</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:49:55,449 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
15:49:55,481 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:49:55,481 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1058
15:49:55,512 INFO common.Log4jPrint(20) - -------------------------
15:49:55,527 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
15:49:55,527 INFO common.Log4jPrint(20) - -------------------------
15:49:55,527 INFO common.Log4jPrint(20) - i=1
15:49:55,590 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:49:55,590 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:49:55,590 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1058,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.832',Bak4=null,Bak5=null,InNoDoc='1058_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=154830,ModifyDate=20161129,ModifyTime=154955,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1058_9_1012_out.xml' where LogNo=1058
15:49:55,605 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.91s
15:49:55,605 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
15:54:15,530 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6c1989b5
15:54:15,545 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
15:54:15,545 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
15:54:15,545 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
15:54:15,545 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
15:54:15,545 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
15:54:15,545 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
15:54:15,545 INFO common.XmlConf(62) - conf file modified at (2016-11-29 15:54:14,237) and length=23653 bytes!
15:54:15,640 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
15:54:15,640 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
15:54:15,640 INFO common.Log4jPrint(20) - End reset System.out!
15:54:15,640 INFO net.SocketConf(27) - Into SocketConf.load()...
15:54:15,640 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
15:54:15,640 INFO common.XmlConf(62) - conf file modified at (2016-11-29 15:54:14,240) and length=711 bytes!
15:54:15,640 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
15:54:15,656 INFO net.SocketConf(60) - Out SocketConf.load()!
15:54:15,656 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
15:54:15,656 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
15:54:15,671 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
15:54:15,671 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
15:54:15,671 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
15:54:15,671 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
15:54:15,671 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
15:54:15,671 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
15:54:15,687 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
15:54:15,687 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
15:54:15,687 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
15:54:15,687 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
15:54:15,687 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
15:54:15,687 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
15:54:21,843 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
15:54:21,859 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
15:54:21,859 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
15:54:21,859 INFO common.XmlConf(62) - conf file modified at (2016-11-29 15:54:14,238) and length=14122 bytes!
15:54:21,859 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
15:54:21,891 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

15:54:21,891 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
15:54:21,891 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
15:54:21,891 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
15:54:22,359 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
15:54:22,437 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
15:54:22,499 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
15:54:22,499 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
15:54:22,515 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
15:54:22,515 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
15:54:22,515 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
15:54:22,515 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


15:54:22,546 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
15:54:22,546 INFO newNet.CcbNetImpl(58) - mTranCom==============03
15:54:22,655 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
15:54:22,655 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
15:54:22,655 INFO common.SaveMessage(59) - 1064_3_1012_in.xml IO输出耗时:0.0s
15:54:22,655 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1064_3_1012_in.xml
15:54:22,655 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
15:54:22,655 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
15:54:22,671 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
15:54:22,671 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
15:54:22,671 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
15:54:22,671 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
15:54:22,687 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
15:54:22,967 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
15:54:22,983 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

15:54:23,010 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
15:54:23,167 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
15:54:23,167 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
15:54:23,182 INFO common.Log4jPrint(20) - ================0133011
15:54:23,182 INFO common.Log4jPrint(20) - ================03
15:54:23,182 INFO common.Log4jPrint(20) - ++++++++++++++++03
15:54:23,182 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
15:54:23,182 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
15:54:23,182 INFO service.NewContInput(43) - Into NewContInput.service()...
15:54:23,182 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
15:54:23,198 INFO common.Log4jPrint(20) - 进程名：1064
15:54:23,198 INFO common.Log4jPrint(20) - trancom:3
15:54:23,198 INFO common.Log4jPrint(20) - FuncFlag:1012
15:54:23,198 INFO common.Log4jPrint(20) - mHeadEle.getChildText1064_3_1012_in.xml
15:54:23,245 INFO common.Log4jPrint(20) - 进入更新后的InsPart
15:54:23,245 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1064,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1064_3_1012_in.xml',20161129,155423,20161129,155423,'230803197906010035','张燕','230803197906010035','011A0100' )
15:54:23,260 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
15:54:23,260 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=155103
15:54:23,323 INFO common.RuleXsl(155) - Into RuleXsl.load()...
15:54:23,323 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
15:54:23,323 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
15:54:23,354 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
15:54:23,354 INFO common.RuleXsl(179) - Out RuleXsl.load()!
15:54:23,354 INFO common.RuleXml(198) - Into RuleXml.load()...
15:54:23,354 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
15:54:23,354 INFO common.XmlConf(62) - conf file modified at (2016-11-29 15:54:14,239) and length=10207 bytes!
15:54:23,369 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
15:54:23,369 INFO common.RuleXml(215) - Out RuleXml.load()!
15:54:23,369 INFO common.RuleParser(49) - Into RuleParser.check()...
15:54:23,369 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
15:54:23,369 INFO common.Log4jPrint(20) - 对邮编进行校验
15:54:23,369 INFO common.Log4jPrint(20) - 对邮编进行校验
15:54:23,369 INFO common.Log4jPrint(20) - 返回的结果是:0
15:54:23,369 INFO common.Log4jPrint(20) - 对邮编进行校验
15:54:23,386 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

15:54:23,386 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
15:54:23,386 INFO common.RuleParser(62) - Out RuleParser.check()!
15:54:23,387 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
15:54:23,387 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
15:54:23,387 INFO common.SaveMessage(59) - 1064_6_0_inSvc.xml IO输出耗时:0.0s
15:54:23,387 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1064_6_0_inSvc.xml
15:54:23,387 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:54:23,387 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
15:54:23,605 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
15:55:48,122 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
15:55:48,122 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
15:55:48,122 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
15:55:48,122 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
15:55:48,122 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
15:55:48,137 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
15:55:48,137 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
15:55:48,137 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:55:48,137 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
15:55:48,137 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
15:55:48,137 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
15:55:48,137 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
15:55:48,137 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
15:55:48,137 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
15:55:48,137 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
15:55:48,137 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
15:55:48,137 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
15:55:48,137 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
15:55:48,137 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
15:55:48,137 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
15:55:48,153 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
15:55:48,154 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
15:55:48,154 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
15:55:48,154 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
15:55:48,154 INFO common.Log4jPrint(20) - 	... 13 more
15:55:48,154 INFO common.Log4jPrint(20) - -----------------------------------------------
15:55:48,154 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
15:55:48,154 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
15:55:48,216 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:55:48,216 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:55:48,216 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1064,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1064_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=155423,ModifyDate=20161129,ModifyTime=155548,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1064
15:55:48,232 INFO service.NewContInput(237) - Out NewContInput.service()!
15:55:48,232 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
15:55:48,247 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
15:55:48,247 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
15:55:48,247 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
15:55:48,247 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
15:55:48,247 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

15:55:48,247 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
15:55:48,263 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
15:55:48,263 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
15:55:48,263 INFO common.SaveMessage(59) - 1064_9_1012_out.xml IO输出耗时:0.0s
15:55:48,263 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1064_9_1012_out.xml
15:55:48,263 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129155422671</SYS_RECV_TIME><SYS_RESP_TIME>20161129155548263</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

15:55:48,263 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
15:55:48,325 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:55:48,325 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1064
15:55:48,372 INFO common.Log4jPrint(20) - -------------------------
15:55:48,372 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
15:55:48,372 INFO common.Log4jPrint(20) - -------------------------
15:55:48,388 INFO common.Log4jPrint(20) - i=1
15:55:48,452 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
15:55:48,452 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
15:55:48,452 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1064,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.873',Bak4=null,Bak5=null,InNoDoc='1064_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=155423,ModifyDate=20161129,ModifyTime=155548,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1064_9_1012_out.xml' where LogNo=1064
15:55:48,468 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.953s
15:55:48,468 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:03:17,298 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@8c3c315
16:03:17,298 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:03:17,314 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:03:17,314 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:03:17,314 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
16:03:17,314 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:03:17,314 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:03:17,314 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,909) and length=23653 bytes!
16:03:17,409 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:03:17,424 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:03:17,424 INFO common.Log4jPrint(20) - End reset System.out!
16:03:17,424 INFO net.SocketConf(27) - Into SocketConf.load()...
16:03:17,424 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:03:17,424 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=711 bytes!
16:03:17,424 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:03:17,424 INFO net.SocketConf(60) - Out SocketConf.load()!
16:03:17,440 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
16:03:17,440 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:03:17,455 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
16:03:17,455 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
16:03:17,455 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:03:17,455 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
16:03:17,455 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
16:03:17,455 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:03:17,455 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
16:03:17,455 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
16:03:17,455 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:03:17,471 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
16:03:17,471 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
16:03:17,471 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
16:03:38,603 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
16:03:38,618 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:03:38,618 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:03:38,618 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,910) and length=14122 bytes!
16:03:38,618 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:03:38,651 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:03:38,651 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:03:38,651 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:03:38,651 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:03:41,464 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:03:42,089 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:03:42,728 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:03:42,744 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:03:42,744 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:03:42,744 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:03:42,744 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
16:03:42,759 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


16:03:42,776 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
16:03:42,776 INFO newNet.CcbNetImpl(58) - mTranCom==============03
16:03:42,885 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:03:42,885 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:03:42,901 INFO common.SaveMessage(59) - 1070_3_1012_in.xml IO输出耗时:0.016s
16:03:42,901 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1070_3_1012_in.xml
16:03:42,901 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:03:42,901 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:03:42,901 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
16:03:42,901 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
16:03:42,916 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
16:03:42,916 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
16:03:42,916 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
16:03:43,182 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
16:03:43,197 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

16:03:43,197 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
16:03:43,353 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
16:03:43,353 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
16:03:43,369 INFO common.Log4jPrint(20) - ================0133011
16:03:43,369 INFO common.Log4jPrint(20) - ================03
16:03:43,369 INFO common.Log4jPrint(20) - ++++++++++++++++03
16:03:43,369 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
16:03:43,369 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
16:03:43,369 INFO service.NewContInput(43) - Into NewContInput.service()...
16:03:43,369 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
16:03:43,384 INFO common.Log4jPrint(20) - 进程名：1070
16:03:43,384 INFO common.Log4jPrint(20) - trancom:3
16:03:43,384 INFO common.Log4jPrint(20) - FuncFlag:1012
16:03:43,384 INFO common.Log4jPrint(20) - mHeadEle.getChildText1070_3_1012_in.xml
16:03:44,042 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:03:44,042 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1070,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1070_3_1012_in.xml',20161129,160343,20161129,160343,'230803197906010035','张燕','230803197906010035','011A0100' )
16:03:44,136 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
16:03:44,136 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=160024
16:03:45,463 INFO common.RuleXsl(155) - Into RuleXsl.load()...
16:03:45,463 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
16:03:45,463 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
16:03:45,504 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
16:03:45,504 INFO common.RuleXsl(179) - Out RuleXsl.load()!
16:03:45,504 INFO common.RuleXml(198) - Into RuleXml.load()...
16:03:45,504 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
16:03:45,504 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=10207 bytes!
16:03:45,504 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
16:03:45,504 INFO common.RuleXml(215) - Out RuleXml.load()!
16:03:45,504 INFO common.RuleParser(49) - Into RuleParser.check()...
16:03:45,504 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
16:03:45,520 INFO common.Log4jPrint(20) - 对邮编进行校验
16:03:45,520 INFO common.Log4jPrint(20) - 对邮编进行校验
16:03:45,520 INFO common.Log4jPrint(20) - 返回的结果是:0
16:03:45,520 INFO common.Log4jPrint(20) - 对邮编进行校验
16:03:45,520 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

16:03:45,520 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
16:03:45,520 INFO common.RuleParser(62) - Out RuleParser.check()!
16:03:45,520 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
16:03:45,520 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
16:03:45,536 INFO common.SaveMessage(59) - 1070_6_0_inSvc.xml IO输出耗时:0.016s
16:03:45,536 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1070_6_0_inSvc.xml
16:03:45,536 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
16:03:45,536 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
16:03:45,754 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
16:05:10,186 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
16:05:10,186 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
16:05:10,186 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
16:05:10,186 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
16:05:10,186 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
16:05:10,201 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
16:05:10,201 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
16:05:10,201 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:05:10,201 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
16:05:10,201 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
16:05:10,201 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
16:05:10,201 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
16:05:10,201 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
16:05:10,201 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
16:05:10,201 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
16:05:10,201 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
16:05:10,201 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
16:05:10,201 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
16:05:10,201 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
16:05:10,201 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
16:05:10,217 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
16:05:10,217 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
16:05:10,217 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
16:05:10,218 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
16:05:10,218 INFO common.Log4jPrint(20) - 	... 13 more
16:05:10,218 INFO common.Log4jPrint(20) - -----------------------------------------------
16:05:10,218 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
16:05:10,218 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:05:10,405 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:05:10,405 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:05:10,405 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1070,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=86,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1070_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=160343,ModifyDate=20161129,ModifyTime=160510,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1070
16:05:10,421 INFO service.NewContInput(237) - Out NewContInput.service()!
16:05:10,421 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
16:05:10,421 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
16:05:10,421 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
16:05:10,421 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
16:05:10,436 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
16:05:10,436 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

16:05:10,436 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
16:05:10,436 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
16:05:10,436 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
16:05:10,436 INFO common.SaveMessage(59) - 1070_9_1012_out.xml IO输出耗时:0.0s
16:05:10,452 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1070_9_1012_out.xml
16:05:10,452 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129160342901</SYS_RECV_TIME><SYS_RESP_TIME>20161129160510436</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

16:05:10,452 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
16:05:10,483 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:05:10,483 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1070
16:05:10,514 INFO common.Log4jPrint(20) - -------------------------
16:05:10,514 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
16:05:10,514 INFO common.Log4jPrint(20) - -------------------------
16:05:10,514 INFO common.Log4jPrint(20) - i=1
16:05:10,592 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
16:05:10,592 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
16:05:10,592 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1070,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=86,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='87.77',Bak4=null,Bak5=null,InNoDoc='1070_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=160343,ModifyDate=20161129,ModifyTime=160510,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1070_9_1012_out.xml' where LogNo=1070
16:05:10,608 INFO midplat.Ybt4Socket(170) - 处理总耗时：87.864s
16:05:10,608 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
16:05:49,408 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29de6817
16:05:49,408 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
16:05:49,408 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
16:05:49,423 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
16:05:49,423 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
16:05:49,423 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
16:05:49,423 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
16:05:49,423 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,909) and length=23653 bytes!
16:05:49,517 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
16:05:49,532 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
16:05:49,532 INFO common.Log4jPrint(20) - End reset System.out!
16:05:49,532 INFO net.SocketConf(27) - Into SocketConf.load()...
16:05:49,532 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
16:05:49,532 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=711 bytes!
16:05:49,532 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
16:05:49,548 INFO net.SocketConf(60) - Out SocketConf.load()!
16:05:49,564 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
16:05:49,565 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
16:05:49,565 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
16:05:49,565 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
16:05:49,565 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
16:05:49,580 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
16:05:49,580 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
16:05:49,580 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
16:05:49,580 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
16:05:49,580 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
16:05:49,580 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
16:05:49,596 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
16:05:49,596 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
16:05:49,596 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
16:05:53,080 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
16:05:53,095 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
16:05:53,095 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
16:05:53,095 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,910) and length=14122 bytes!
16:05:53,095 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
16:05:53,127 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

16:05:53,127 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
16:05:53,127 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
16:05:53,127 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
16:05:53,580 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
16:05:53,689 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
16:05:53,751 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
16:05:53,767 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
16:05:53,767 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
16:05:53,767 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
16:05:53,783 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
16:05:53,783 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


16:05:53,814 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
16:05:53,814 INFO newNet.CcbNetImpl(58) - mTranCom==============03
16:05:53,939 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
16:05:53,939 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
16:05:53,954 INFO common.SaveMessage(59) - 1076_3_1012_in.xml IO输出耗时:0.015s
16:05:53,954 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1076_3_1012_in.xml
16:05:53,954 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
16:05:53,954 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
16:05:53,954 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
16:05:53,970 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
16:05:53,970 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
16:05:53,970 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
16:05:53,970 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
16:05:54,284 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
16:05:54,299 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

16:05:54,299 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
16:05:54,456 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
16:05:54,456 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
16:05:54,472 INFO common.Log4jPrint(20) - ================0133011
16:05:54,472 INFO common.Log4jPrint(20) - ================03
16:05:54,472 INFO common.Log4jPrint(20) - ++++++++++++++++03
16:05:54,472 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
16:05:54,472 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
16:06:23,856 INFO service.NewContInput(43) - Into NewContInput.service()...
16:06:37,819 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
16:06:37,851 INFO common.Log4jPrint(20) - 进程名：1076
16:06:37,851 INFO common.Log4jPrint(20) - trancom:3
16:06:37,851 INFO common.Log4jPrint(20) - FuncFlag:1012
16:06:37,851 INFO common.Log4jPrint(20) - mHeadEle.getChildText1076_3_1012_in.xml
16:06:37,898 INFO common.Log4jPrint(20) - 进入更新后的InsPart
16:06:37,898 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1076,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1076_3_1012_in.xml',20161129,160637,20161129,160637,'230803197906010035','张燕','230803197906010035','011A0100' )
16:06:37,914 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
16:11:34,996 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=160408
16:19:16,962 INFO common.RuleXsl(155) - Into RuleXsl.load()...
16:19:16,962 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
16:19:16,962 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
16:19:17,094 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
16:19:17,094 INFO common.RuleXsl(179) - Out RuleXsl.load()!
16:19:17,094 INFO common.RuleXml(198) - Into RuleXml.load()...
16:19:17,094 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
16:19:17,094 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=10207 bytes!
16:19:17,125 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
16:19:17,125 INFO common.RuleXml(215) - Out RuleXml.load()!
16:19:17,125 INFO common.RuleParser(49) - Into RuleParser.check()...
16:19:17,125 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
16:19:17,156 INFO common.Log4jPrint(20) - 对邮编进行校验
16:19:17,156 INFO common.Log4jPrint(20) - 对邮编进行校验
16:19:17,156 INFO common.Log4jPrint(20) - 返回的结果是:0
16:19:17,156 INFO common.Log4jPrint(20) - 对邮编进行校验
16:19:17,172 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

16:19:17,172 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
16:19:17,188 INFO common.RuleParser(62) - Out RuleParser.check()!
16:19:44,892 INFO service.NewContInput(106) - ------进入收益比例校验20140807------
16:25:47,085 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
16:25:47,101 INFO common.SaveMessage(59) - 1076_6_0_inSvc.xml IO输出耗时:0.016s
16:25:47,101 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1076_6_0_inSvc.xml
16:25:47,101 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
16:25:47,101 INFO net.CallWebsvcAtomSvc(66) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
16:25:47,710 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
16:33:57,100 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
16:33:57,116 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
16:33:57,116 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
16:33:57,116 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
16:33:57,116 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
16:33:57,116 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
16:33:57,131 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
16:33:57,132 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
16:33:57,132 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
16:33:57,132 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
16:33:57,132 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
16:33:57,132 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
16:33:57,148 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:104)
16:33:57,148 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:116)
16:33:57,148 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
16:33:57,148 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
16:33:57,148 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
16:33:57,148 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
16:33:57,148 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
16:33:57,148 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
16:33:57,148 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
16:33:57,148 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
16:33:57,148 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
16:33:57,148 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
16:33:57,148 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
16:33:57,164 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
16:33:57,164 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
16:33:57,164 INFO common.Log4jPrint(20) - 	... 13 more
16:35:47,535 INFO common.Log4jPrint(20) - -----------------------------------------------
16:37:03,149 INFO service.NewContInput(124) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
16:39:20,776 ERROR service.NewContInput(217) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:125)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:19:00,465 INFO test.GZBankTest(38) - 贵州银行请求报文：<?xml version="1.0"?>
<TXLife>
   <!-- 交易码-->
   <TransNo>9000102</TransNo>
   <!-- 签到银行代码-->
   <QdBankCode>BEJNY00001</QdBankCode>
   <!-- 区域银行代码-->
   <BankCode>01</BankCode>
   <!--银行网点代码 -->
   <Branch>060150001222</Branch>
   <!--保险机构代码-->
   <CarrierCode />
   <!-- 银行交易日期-->
   <TransExeDate>20161108</TransExeDate>
   <!-- 银行交易时间-->
   <TransExeTime>13:01:01</TransExeTime>
   <!-- 银行流水号-->
   <TransRefGUID>2016110800010</TransRefGUID>
   <!-- 银行操作员-->
   <Teller>5201300002</Teller>
   <!-- 银行操作员姓名-->
   <TellerName>银行操作员姓名</TellerName>
   <AgentSalesCode>1008611</AgentSalesCode>
   <AgentSalesName>朴槿惠</AgentSalesName>
   <Credentials>1008610010</Credentials>
   <BankNetUpLeaderCode />
   <BankNetUpLeaderName />
   <BankNetCredentialsNo />
   <BankNetName />
   <PolicyHolder>
      <GovtIDTC>0</GovtIDTC>
      <GovtID>371502198310206055</GovtID>
      <EffectDate>19990808</EffectDate>
      <ExpireDate>29991231</ExpireDate>
      <BirthDate>19831020</BirthDate>
      <Gender>1</Gender>
      <FullName>华贵</FullName>
      <OccupationType>3010101</OccupationType>
      <Line1>贵州省贵阳北新城区贵州银行</Line1>
      <MobileNumber>18610173098</MobileNumber>
      <DialNumber />
      <DialCode>0851</DialCode>
      <Zip>550002</Zip>
      <RelatedToInsuredRoleCode>301</RelatedToInsuredRoleCode>
      <Nation>CHN</Nation>
      <Province />
      <County />
      <Education>1</Education>
      <Marriage>2</Marriage>
      <Email />
      <ResidentsType>1</ResidentsType>
      <AnnualIncome>120000</AnnualIncome>
      <AnnualHomeIncome>1200000</AnnualHomeIncome>
      <Height />
      <Weight />
      <CompanyName />
   </PolicyHolder>
   <Insured>
      <GovtIDTC>0</GovtIDTC>
      <GovtID>371502198310206055</GovtID>
      <EffectDate>19990808</EffectDate>
      <ExpireDate>29991231</ExpireDate>
      <BirthDate>19831020</BirthDate>
      <Gender>1</Gender>
      <FullName>华贵</FullName>
      <OccupationType>3010101</OccupationType>
      <Line1>贵州省贵阳北新城区贵州银行</Line1>
      <DialCode>0851</DialCode>
      <DialNumber />
      <MobileNumber>18610173098</MobileNumber>
      <Zip>550002</Zip>
      <Nation />
      <Province />
      <County />
      <Education />
      <Marriage />
      <ResidentsType />
      <Email />
      <AnnualIncome>120000</AnnualIncome>
      <AnnualHomeIncome>1200000</AnnualHomeIncome>
      <Height />
      <Weight />
      <CompanyName />
   </Insured>
   <HOAppFormNumber>210414132201520</HOAppFormNumber>
   <ProductCode>011A0100</ProductCode>
   <PaymentAmt>1000000</PaymentAmt>
   <SubmissionDate>20161108</SubmissionDate>
   <IntialNumberOfUnits>10</IntialNumberOfUnits>
   <PaymentMode>1</PaymentMode>
   <PaymentDuration>5</PaymentDuration>
   <PayAge />
   <CpicTeller />
   <BeneficiaryIndicator>N</BeneficiaryIndicator>
   <BeneficiaryCount>0</BeneficiaryCount>
   <!--非法定时必录,与年金(生存)受益人个数之和不能超过6个-->
   <LifeBnftCount>0</LifeBnftCount>
   <LifeBnftAssign>
      <Beneficiary>
         <!--年金受益分配，循环标签用Beneficiary-->
         <BnftType>1</BnftType>
         <BnftNo>371502198310206055</BnftNo>
         <Percent>100</Percent>
      </Beneficiary>
   </LifeBnftAssign>
   <DivType>11</DivType>
   <BenefitMode>1</BenefitMode>
   <EffDate />
   <TermDate />
   <PeriodType>2</PeriodType>
   <CoverPeriod>5</CoverPeriod>
   <CoverageCount>0</CoverageCount>
   <Banking>
      <AccountType>0</AccountType>
      <AccountNumber>5804848305934</AccountNumber>
      <BankName>工商银行</BankName>
   </Banking>
   <HealthIndicator>N</HealthIndicator>
   <RiskIndicator />
</TXLife>


17:19:00,475 INFO test.GZBankTest(39) - 请求报文长度为：3728个字节
17:19:00,475 INFO test.GZBankTest(50) - 消息头长度为:19
17:21:29,863 INFO test.GZBankTest(38) - 贵州银行请求报文：<?xml version="1.0"?>
<TXLife>
   <!-- 交易码-->
   <TransNo>9000102</TransNo>
   <!-- 签到银行代码-->
   <QdBankCode>BEJNY00001</QdBankCode>
   <!-- 区域银行代码-->
   <BankCode>01</BankCode>
   <!--银行网点代码 -->
   <Branch>060150001222</Branch>
   <!--保险机构代码-->
   <CarrierCode />
   <!-- 银行交易日期-->
   <TransExeDate>20161108</TransExeDate>
   <!-- 银行交易时间-->
   <TransExeTime>13:01:01</TransExeTime>
   <!-- 银行流水号-->
   <TransRefGUID>2016110800010</TransRefGUID>
   <!-- 银行操作员-->
   <Teller>5201300002</Teller>
   <!-- 银行操作员姓名-->
   <TellerName>银行操作员姓名</TellerName>
   <AgentSalesCode>1008611</AgentSalesCode>
   <AgentSalesName>朴槿惠</AgentSalesName>
   <Credentials>1008610010</Credentials>
   <BankNetUpLeaderCode />
   <BankNetUpLeaderName />
   <BankNetCredentialsNo />
   <BankNetName />
   <PolicyHolder>
      <GovtIDTC>0</GovtIDTC>
      <GovtID>371502198310206055</GovtID>
      <EffectDate>19990808</EffectDate>
      <ExpireDate>29991231</ExpireDate>
      <BirthDate>19831020</BirthDate>
      <Gender>1</Gender>
      <FullName>华贵</FullName>
      <OccupationType>3010101</OccupationType>
      <Line1>贵州省贵阳北新城区贵州银行</Line1>
      <MobileNumber>18610173098</MobileNumber>
      <DialNumber />
      <DialCode>0851</DialCode>
      <Zip>550002</Zip>
      <RelatedToInsuredRoleCode>301</RelatedToInsuredRoleCode>
      <Nation>CHN</Nation>
      <Province />
      <County />
      <Education>1</Education>
      <Marriage>2</Marriage>
      <Email />
      <ResidentsType>1</ResidentsType>
      <AnnualIncome>120000</AnnualIncome>
      <AnnualHomeIncome>1200000</AnnualHomeIncome>
      <Height />
      <Weight />
      <CompanyName />
   </PolicyHolder>
   <Insured>
      <GovtIDTC>0</GovtIDTC>
      <GovtID>371502198310206055</GovtID>
      <EffectDate>19990808</EffectDate>
      <ExpireDate>29991231</ExpireDate>
      <BirthDate>19831020</BirthDate>
      <Gender>1</Gender>
      <FullName>华贵</FullName>
      <OccupationType>3010101</OccupationType>
      <Line1>贵州省贵阳北新城区贵州银行</Line1>
      <DialCode>0851</DialCode>
      <DialNumber />
      <MobileNumber>18610173098</MobileNumber>
      <Zip>550002</Zip>
      <Nation />
      <Province />
      <County />
      <Education />
      <Marriage />
      <ResidentsType />
      <Email />
      <AnnualIncome>120000</AnnualIncome>
      <AnnualHomeIncome>1200000</AnnualHomeIncome>
      <Height />
      <Weight />
      <CompanyName />
   </Insured>
   <HOAppFormNumber>210414132201520</HOAppFormNumber>
   <ProductCode>011A0100</ProductCode>
   <PaymentAmt>1000000</PaymentAmt>
   <SubmissionDate>20161108</SubmissionDate>
   <IntialNumberOfUnits>10</IntialNumberOfUnits>
   <PaymentMode>1</PaymentMode>
   <PaymentDuration>5</PaymentDuration>
   <PayAge />
   <CpicTeller />
   <BeneficiaryIndicator>N</BeneficiaryIndicator>
   <BeneficiaryCount>0</BeneficiaryCount>
   <!--非法定时必录,与年金(生存)受益人个数之和不能超过6个-->
   <LifeBnftCount>0</LifeBnftCount>
   <LifeBnftAssign>
      <Beneficiary>
         <!--年金受益分配，循环标签用Beneficiary-->
         <BnftType>1</BnftType>
         <BnftNo>371502198310206055</BnftNo>
         <Percent>100</Percent>
      </Beneficiary>
   </LifeBnftAssign>
   <DivType>11</DivType>
   <BenefitMode>1</BenefitMode>
   <EffDate />
   <TermDate />
   <PeriodType>2</PeriodType>
   <CoverPeriod>5</CoverPeriod>
   <CoverageCount>0</CoverageCount>
   <Banking>
      <AccountType>0</AccountType>
      <AccountNumber>5804848305934</AccountNumber>
      <BankName>工商银行</BankName>
   </Banking>
   <HealthIndicator>N</HealthIndicator>
   <RiskIndicator />
</TXLife>


17:21:29,863 INFO test.GZBankTest(39) - 请求报文长度为：3728个字节
17:21:29,863 INFO test.GZBankTest(50) - 消息头长度为:19
17:26:44,158 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29d381d2
17:26:44,166 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:26:44,170 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:26:44,170 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:26:44,172 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
17:26:44,173 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:26:44,174 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:26:44,177 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,909) and length=23653 bytes!
17:26:44,242 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:26:44,250 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:26:44,251 INFO common.Log4jPrint(20) - End reset System.out!
17:26:44,253 INFO net.SocketConf(27) - Into SocketConf.load()...
17:26:44,253 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:26:44,254 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=711 bytes!
17:26:44,257 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:26:44,257 INFO net.SocketConf(60) - Out SocketConf.load()!
17:26:44,270 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
17:26:44,271 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:26:44,279 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
17:26:44,280 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
17:26:44,280 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:26:44,284 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
17:26:44,285 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
17:26:44,285 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:26:44,292 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
17:26:44,292 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
17:26:44,293 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:26:44,297 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
17:26:44,297 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
17:26:44,298 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
17:26:51,916 INFO test.NewCCBTestUI_new(83) - Socket连接127.0.0.1:39871
17:26:51,928 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
17:26:51,928 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
17:26:51,928 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,910) and length=14122 bytes!
17:26:51,936 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
17:26:51,957 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

17:26:51,958 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
17:26:51,960 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
17:26:51,966 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
17:26:52,521 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
17:26:52,595 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
17:26:52,670 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
17:26:52,677 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
17:26:52,678 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
17:26:52,679 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
17:26:52,683 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
17:26:52,684 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


17:26:52,695 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
17:26:52,696 INFO newNet.CcbNetImpl(58) - mTranCom==============03
17:26:52,828 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
17:26:52,828 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
17:26:52,837 INFO common.SaveMessage(59) - 1082_3_1012_in.xml IO输出耗时:0.0080s
17:26:52,838 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1082_3_1012_in.xml
17:26:52,841 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
17:26:52,843 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
17:26:52,846 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
17:26:52,854 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
17:26:52,865 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
17:26:52,866 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
17:26:52,866 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
17:26:53,169 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
17:26:53,187 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

17:26:53,189 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
17:26:53,344 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
17:26:53,344 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
17:26:53,358 INFO common.Log4jPrint(20) - ================0133011
17:26:53,358 INFO common.Log4jPrint(20) - ================03
17:26:53,358 INFO common.Log4jPrint(20) - ++++++++++++++++03
17:26:53,359 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
17:26:53,359 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
17:26:53,364 INFO service.NewContInput(43) - Into NewContInput.service()...
17:26:53,365 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
17:26:53,374 INFO common.Log4jPrint(20) - 进程名：1082
17:26:53,374 INFO common.Log4jPrint(20) - trancom:3
17:26:53,374 INFO common.Log4jPrint(20) - FuncFlag:1012
17:26:53,374 INFO common.Log4jPrint(20) - mHeadEle.getChildText1082_3_1012_in.xml
17:26:53,416 INFO common.Log4jPrint(20) - 进入更新后的InsPart
17:26:53,418 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1082,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1082_3_1012_in.xml',20161129,172653,20161129,172653,'230803197906010035','张燕','230803197906010035','011A0100' )
17:26:53,434 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
17:26:53,436 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=172333
17:26:53,587 INFO common.RuleXsl(155) - Into RuleXsl.load()...
17:26:53,588 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
17:26:53,589 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
17:26:53,629 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
17:26:53,629 INFO common.RuleXsl(179) - Out RuleXsl.load()!
17:26:53,630 INFO common.RuleXml(198) - Into RuleXml.load()...
17:26:53,630 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
17:26:53,630 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=10207 bytes!
17:26:53,641 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
17:26:53,641 INFO common.RuleXml(215) - Out RuleXml.load()!
17:26:53,641 INFO common.RuleParser(49) - Into RuleParser.check()...
17:26:53,641 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
17:26:53,648 INFO common.Log4jPrint(20) - 对邮编进行校验
17:26:53,649 INFO common.Log4jPrint(20) - 对邮编进行校验
17:26:53,649 INFO common.Log4jPrint(20) - 返回的结果是:0
17:26:53,651 INFO common.Log4jPrint(20) - 对邮编进行校验
17:26:53,654 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

17:26:53,655 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
17:26:53,655 INFO common.RuleParser(62) - Out RuleParser.check()!
17:26:53,655 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
17:26:53,660 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
17:26:53,662 INFO common.SaveMessage(59) - 1082_6_0_inSvc.xml IO输出耗时:0.0020s
17:26:53,662 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1082_6_0_inSvc.xml
17:26:53,663 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
17:26:53,663 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
17:26:53,896 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
17:28:18,306 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
17:28:18,307 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
17:28:18,308 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
17:28:18,308 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
17:28:18,309 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
17:28:18,310 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
17:28:18,310 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
17:28:18,311 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
17:28:18,311 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
17:28:18,312 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
17:28:18,313 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
17:28:18,313 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
17:28:18,314 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
17:28:18,314 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
17:28:18,315 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:28:18,316 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
17:28:18,316 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
17:28:18,317 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
17:28:18,318 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
17:28:18,318 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
17:28:18,319 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
17:28:18,319 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
17:28:18,320 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
17:28:18,321 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
17:28:18,321 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
17:28:18,322 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
17:28:18,322 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
17:28:18,323 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
17:28:18,324 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
17:28:18,324 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
17:28:18,325 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
17:28:18,325 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
17:28:18,326 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
17:28:18,327 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
17:28:18,327 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
17:28:18,328 INFO common.Log4jPrint(20) - 	... 13 more
17:28:18,329 INFO common.Log4jPrint(20) - -----------------------------------------------
17:28:18,329 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
17:28:18,335 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
17:28:18,388 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:28:18,390 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:28:18,391 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1082,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1082_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=172653,ModifyDate=20161129,ModifyTime=172818,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1082
17:28:18,413 INFO service.NewContInput(245) - Out NewContInput.service()!
17:28:18,413 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
17:28:18,435 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
17:28:18,436 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
17:28:18,436 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
17:28:18,449 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
17:28:18,456 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

17:28:18,457 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
17:28:18,462 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
17:28:18,463 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
17:28:18,467 INFO common.SaveMessage(59) - 1082_9_1012_out.xml IO输出耗时:0.0010s
17:28:18,467 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1082_9_1012_out.xml
17:28:18,468 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129172652856</SYS_RECV_TIME><SYS_RESP_TIME>20161129172818461</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

17:28:18,469 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
17:28:18,562 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:28:18,562 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1082
17:28:18,584 INFO common.Log4jPrint(20) - -------------------------
17:28:18,585 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
17:28:18,585 INFO common.Log4jPrint(20) - -------------------------
17:28:18,614 INFO common.Log4jPrint(20) - i=1
17:28:18,647 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
17:28:18,648 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
17:28:18,648 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1082,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.936',Bak4=null,Bak5=null,InNoDoc='1082_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=172653,ModifyDate=20161129,ModifyTime=172818,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1082_9_1012_out.xml' where LogNo=1082
17:28:18,701 INFO midplat.Ybt4Socket(170) - 处理总耗时：86.023s
17:28:18,701 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
17:52:21,266 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@37722456
17:52:21,277 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:52:21,284 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:52:21,285 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:52:21,287 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
17:52:21,289 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:52:21,289 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:52:21,294 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,909) and length=23653 bytes!
17:52:21,405 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:52:21,415 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:52:21,417 INFO common.Log4jPrint(20) - End reset System.out!
17:52:21,419 INFO net.SocketConf(27) - Into SocketConf.load()...
17:52:21,419 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:52:21,420 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=711 bytes!
17:52:21,423 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:52:21,424 INFO net.SocketConf(60) - Out SocketConf.load()!
17:52:21,443 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
17:52:21,444 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:52:21,455 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
17:52:21,455 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
17:52:21,456 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:52:21,461 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
17:52:21,461 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:52:21,461 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
17:52:21,468 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
17:52:21,469 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:52:21,469 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
17:52:21,474 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
17:52:21,475 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
17:52:21,475 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
17:58:40,775 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@5121177e
17:58:40,784 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
17:58:40,789 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
17:58:40,789 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
17:58:40,791 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
17:58:40,792 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
17:58:40,792 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
17:58:40,797 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,909) and length=23653 bytes!
17:58:40,871 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
17:58:40,880 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
17:58:40,881 INFO common.Log4jPrint(20) - End reset System.out!
17:58:40,882 INFO net.SocketConf(27) - Into SocketConf.load()...
17:58:40,883 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
17:58:40,884 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=711 bytes!
17:58:40,887 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
17:58:40,888 INFO net.SocketConf(60) - Out SocketConf.load()!
17:58:40,914 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
17:58:40,916 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
17:58:40,924 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
17:58:40,925 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
17:58:40,925 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
17:58:40,931 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
17:58:40,932 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
17:58:40,932 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
17:58:40,937 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
17:58:40,937 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
17:58:40,937 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
17:58:40,943 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
17:58:40,944 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
17:58:40,944 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
18:52:02,924 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@6d79953c
18:52:02,932 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
18:52:02,937 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
18:52:02,937 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
18:52:02,939 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
18:52:02,940 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
18:52:02,940 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
18:52:02,944 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,909) and length=23653 bytes!
18:52:03,005 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
18:52:03,012 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
18:52:03,013 INFO common.Log4jPrint(20) - End reset System.out!
18:52:03,014 INFO net.SocketConf(27) - Into SocketConf.load()...
18:52:03,015 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
18:52:03,016 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=711 bytes!
18:52:03,018 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
18:52:03,019 INFO net.SocketConf(60) - Out SocketConf.load()!
18:52:03,033 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
18:52:03,034 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
18:52:03,042 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
18:52:03,042 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
18:52:03,043 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
18:52:03,048 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
18:52:03,048 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
18:52:03,048 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
18:52:03,053 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
18:52:03,053 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
18:52:03,054 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
18:52:03,058 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
18:52:03,058 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
18:52:03,059 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
18:53:06,107 INFO test.NewCCBTestUI_new(107) - Socket连接127.0.0.1:39871
18:53:06,123 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
18:53:06,123 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
18:53:06,124 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,910) and length=14122 bytes!
18:53:06,132 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
18:53:06,159 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

18:53:06,160 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
18:53:06,162 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
18:53:06,168 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
18:53:07,156 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
18:53:07,240 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
18:53:07,298 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
18:53:07,312 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
18:53:07,314 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
18:53:07,315 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
18:53:07,322 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
18:53:07,323 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


18:53:07,339 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
18:53:07,340 INFO newNet.CcbNetImpl(58) - mTranCom==============03
18:53:07,457 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
18:53:07,457 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
18:53:07,463 INFO common.SaveMessage(59) - 1088_3_1012_in.xml IO输出耗时:0.0040s
18:53:07,463 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1088_3_1012_in.xml
18:53:07,465 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
18:53:07,467 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
18:53:07,469 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
18:53:07,474 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
18:53:07,482 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
18:53:07,483 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
18:53:07,483 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
18:53:07,772 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
18:53:07,787 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

18:53:07,789 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
18:53:07,937 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
18:53:07,937 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
18:53:07,951 INFO common.Log4jPrint(20) - ================0133011
18:53:07,951 INFO common.Log4jPrint(20) - ================03
18:53:07,951 INFO common.Log4jPrint(20) - ++++++++++++++++03
18:53:07,951 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
18:53:07,952 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
18:53:07,957 INFO service.NewContInput(43) - Into NewContInput.service()...
18:53:07,958 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
18:53:07,966 INFO common.Log4jPrint(20) - 进程名：1088
18:53:07,967 INFO common.Log4jPrint(20) - trancom:3
18:53:07,967 INFO common.Log4jPrint(20) - FuncFlag:1012
18:53:07,967 INFO common.Log4jPrint(20) - mHeadEle.getChildText1088_3_1012_in.xml
18:53:08,057 INFO common.Log4jPrint(20) - 进入更新后的InsPart
18:53:08,058 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1088,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1088_3_1012_in.xml',20161129,185307,20161129,185307,'230803197906010035','张燕','230803197906010035','011A0100' )
18:53:08,081 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
18:53:08,083 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=184948
18:53:08,163 INFO common.RuleXsl(155) - Into RuleXsl.load()...
18:53:08,163 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
18:53:08,164 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
18:53:08,208 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
18:53:08,209 INFO common.RuleXsl(179) - Out RuleXsl.load()!
18:53:08,209 INFO common.RuleXml(198) - Into RuleXml.load()...
18:53:08,209 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
18:53:08,210 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=10207 bytes!
18:53:08,214 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
18:53:08,215 INFO common.RuleXml(215) - Out RuleXml.load()!
18:53:08,215 INFO common.RuleParser(49) - Into RuleParser.check()...
18:53:08,215 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
18:53:08,222 INFO common.Log4jPrint(20) - 对邮编进行校验
18:53:08,223 INFO common.Log4jPrint(20) - 对邮编进行校验
18:53:08,223 INFO common.Log4jPrint(20) - 返回的结果是:0
18:53:08,225 INFO common.Log4jPrint(20) - 对邮编进行校验
18:53:08,228 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

18:53:08,228 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
18:53:08,228 INFO common.RuleParser(62) - Out RuleParser.check()!
18:53:08,228 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
18:53:08,233 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
18:53:08,253 INFO common.SaveMessage(59) - 1088_6_0_inSvc.xml IO输出耗时:0.019s
18:53:08,253 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1088_6_0_inSvc.xml
18:53:08,254 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
18:53:08,255 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
18:53:08,486 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
18:54:32,927 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
18:54:32,928 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
18:54:32,929 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
18:54:32,929 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
18:54:32,930 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
18:54:32,932 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
18:54:32,933 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
18:54:32,934 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
18:54:32,934 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
18:54:32,935 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
18:54:32,936 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
18:54:32,936 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
18:54:32,937 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
18:54:32,938 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
18:54:32,938 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
18:54:32,939 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
18:54:32,941 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
18:54:32,941 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
18:54:32,942 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
18:54:32,942 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
18:54:32,942 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
18:54:32,942 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
18:54:32,943 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
18:54:32,944 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
18:54:32,944 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
18:54:32,944 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
18:54:32,945 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
18:54:32,945 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
18:54:32,945 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
18:54:32,946 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
18:54:32,946 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
18:54:32,946 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
18:54:32,947 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
18:54:32,947 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
18:54:32,947 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
18:54:32,948 INFO common.Log4jPrint(20) - 	... 13 more
18:54:32,948 INFO common.Log4jPrint(20) - -----------------------------------------------
18:54:32,948 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
18:54:32,951 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
18:54:32,990 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:54:32,990 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:54:32,990 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1088,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1088_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=185307,ModifyDate=20161129,ModifyTime=185432,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1088
18:54:33,024 INFO service.NewContInput(245) - Out NewContInput.service()!
18:54:33,024 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
18:54:33,032 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
18:54:33,032 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
18:54:33,032 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
18:54:33,040 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
18:54:33,045 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

18:54:33,046 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
18:54:33,049 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
18:54:33,050 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
18:54:33,053 INFO common.SaveMessage(59) - 1088_9_1012_out.xml IO输出耗时:0.0020s
18:54:33,053 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1088_9_1012_out.xml
18:54:33,059 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129185307475</SYS_RECV_TIME><SYS_RESP_TIME>20161129185433049</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

18:54:33,060 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
18:54:33,103 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:54:33,104 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1088
18:54:33,128 INFO common.Log4jPrint(20) - -------------------------
18:54:33,129 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
18:54:33,129 INFO common.Log4jPrint(20) - -------------------------
18:54:33,144 INFO common.Log4jPrint(20) - i=1
18:54:33,236 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
18:54:33,237 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
18:54:33,237 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1088,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=85,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.83',Bak4=null,Bak5=null,InNoDoc='1088_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=185307,ModifyDate=20161129,ModifyTime=185432,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1088_9_1012_out.xml' where LogNo=1088
18:54:33,251 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.937s
18:54:33,251 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:08:56,894 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29d381d2
19:08:56,904 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:08:56,908 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:08:56,908 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:08:56,910 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:08:56,911 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:08:56,912 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:08:56,916 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,909) and length=23653 bytes!
19:08:56,979 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:08:56,987 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:08:56,989 INFO common.Log4jPrint(20) - End reset System.out!
19:08:56,991 INFO net.SocketConf(27) - Into SocketConf.load()...
19:08:56,991 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:08:56,992 INFO common.XmlConf(62) - conf file modified at (2016-11-29 16:03:15,912) and length=711 bytes!
19:08:56,995 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:08:56,995 INFO net.SocketConf(60) - Out SocketConf.load()!
19:08:57,009 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:08:57,010 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:08:57,019 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:08:57,020 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:08:57,020 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:08:57,025 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:08:57,025 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:08:57,025 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:08:57,030 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:08:57,030 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:08:57,030 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:08:57,035 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:08:57,035 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:08:57,035 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:09:04,553 INFO test.NewCCBTestUI_new(108) - Socket连接127.0.0.1:39871
19:09:04,564 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:09:04,565 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:09:04,565 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
19:09:04,573 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:09:04,595 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:09:04,596 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:09:04,598 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:09:04,604 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:09:05,113 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:09:05,168 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:09:05,235 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:09:05,240 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:09:05,241 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:09:05,241 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:09:05,244 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
19:09:05,244 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


19:09:05,253 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
19:09:05,253 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:09:05,393 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:09:05,393 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:09:05,399 INFO common.SaveMessage(59) - 1094_3_1012_in.xml IO输出耗时:0.0050s
19:09:05,399 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1094_3_1012_in.xml
19:09:05,402 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
19:09:05,404 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:09:05,407 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
19:09:05,412 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:09:05,421 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:09:05,421 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:09:05,422 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:09:05,738 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:09:05,754 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:09:05,755 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:09:05,905 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:09:05,906 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:09:05,920 INFO common.Log4jPrint(20) - ================0133011
19:09:05,920 INFO common.Log4jPrint(20) - ================03
19:09:05,921 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:09:05,921 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:09:05,921 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
19:09:05,926 INFO service.NewContInput(43) - Into NewContInput.service()...
19:09:05,927 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:09:05,937 INFO common.Log4jPrint(20) - 进程名：1094
19:09:05,937 INFO common.Log4jPrint(20) - trancom:3
19:09:05,937 INFO common.Log4jPrint(20) - FuncFlag:1012
19:09:05,937 INFO common.Log4jPrint(20) - mHeadEle.getChildText1094_3_1012_in.xml
19:09:05,971 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:09:05,972 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1094,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1094_3_1012_in.xml',20161129,190905,20161129,190905,'230803197906010035','张燕','230803197906010035','011A0100' )
19:09:05,986 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:09:05,987 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=190545
19:09:06,090 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:09:06,091 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:09:06,092 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
19:09:06,136 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:09:06,145 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:09:06,145 INFO common.RuleXml(198) - Into RuleXml.load()...
19:09:06,146 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:09:06,146 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,169) and length=10207 bytes!
19:09:06,151 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:09:06,151 INFO common.RuleXml(215) - Out RuleXml.load()!
19:09:06,151 INFO common.RuleParser(49) - Into RuleParser.check()...
19:09:06,151 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:09:06,158 INFO common.Log4jPrint(20) - 对邮编进行校验
19:09:06,159 INFO common.Log4jPrint(20) - 对邮编进行校验
19:09:06,160 INFO common.Log4jPrint(20) - 返回的结果是:0
19:09:06,161 INFO common.Log4jPrint(20) - 对邮编进行校验
19:09:06,164 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:09:06,165 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:09:06,165 INFO common.RuleParser(62) - Out RuleParser.check()!
19:09:06,165 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
19:09:06,170 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:09:06,172 INFO common.SaveMessage(59) - 1094_6_0_inSvc.xml IO输出耗时:0.0020s
19:09:06,172 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1094_6_0_inSvc.xml
19:09:06,173 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:09:06,173 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:09:06,407 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:09:07,065 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
19:09:07,065 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
19:09:07,066 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@5c0e920f
19:09:07,067 INFO common.Log4jPrint(20) - Start revert System.out...
19:09:07,067 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
19:09:07,076 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:09:07,077 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:09:07,077 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:09:07,076 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:09:08,143 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@29d381d2
19:09:08,150 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:09:08,153 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:09:08,153 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:09:08,154 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:09:08,154 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:09:08,154 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:09:08,157 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
19:09:08,357 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:09:08,371 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:09:08,371 INFO common.Log4jPrint(20) - End reset System.out!
19:09:08,372 INFO net.SocketConf(27) - Into SocketConf.load()...
19:09:08,373 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:09:08,373 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
19:09:08,375 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:09:08,376 INFO net.SocketConf(60) - Out SocketConf.load()!
19:09:08,388 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:09:08,388 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:09:08,397 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:09:08,397 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:09:08,397 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:09:08,401 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:09:08,401 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:09:08,401 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:09:08,405 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:09:08,405 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:09:08,405 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:09:08,409 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:09:08,410 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:09:08,410 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:09:27,795 INFO common.Log4jPrint(20) - 	at org.apache.commons.logging.impl.Log4JCategoryLog.trace(Log4JCategoryLog.java:148)
19:09:27,796 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.releaseConnection(HttpConnection.java:1174)
19:09:27,797 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.releaseConnection(MultiThreadedHttpConnectionManager.java:1423)
19:09:27,797 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:222)
19:09:27,798 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
19:09:27,799 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
19:09:27,799 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
19:09:27,800 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
19:09:27,800 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
19:09:27,801 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
19:09:27,801 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
19:09:27,802 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
19:09:27,803 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
19:09:27,804 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
19:09:27,804 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
19:09:27,805 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
19:09:27,805 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
19:09:27,806 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
19:09:27,807 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
19:09:27,829 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:09:27,829 INFO common.Log4jPrint(20) - -----------------------------------------------
19:09:27,831 INFO common.Log4jPrint(20) - 	at com.sinosoft.utility.DBConnPool.getConnection(DBConnPool.java:78)
19:09:27,832 INFO common.Log4jPrint(20) - 	at com.sinosoft.lis.db.TranLogDB.getInfo(TranLogDB.java:182)
19:09:27,833 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:156)
19:09:48,378 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@5121177e
19:09:48,392 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:09:48,398 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:09:48,399 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:09:48,401 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:09:48,402 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:09:48,403 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:09:48,407 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
19:09:48,502 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:09:48,514 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:09:48,515 INFO common.Log4jPrint(20) - End reset System.out!
19:09:48,518 INFO net.SocketConf(27) - Into SocketConf.load()...
19:09:48,519 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:09:48,521 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
19:09:48,527 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:09:48,528 INFO net.SocketConf(60) - Out SocketConf.load()!
19:09:48,548 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:09:48,549 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:09:48,561 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:09:48,562 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:09:48,562 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:09:48,567 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:09:48,567 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:09:48,568 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:09:48,576 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:09:48,576 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:09:48,577 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:09:48,581 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:09:48,582 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:09:48,582 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:09:53,493 INFO test.NewCCBTestUI_new(108) - Socket连接127.0.0.1:39871
19:09:53,503 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:09:53,504 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:09:53,504 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
19:09:53,513 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:09:53,533 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:09:53,534 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:09:53,536 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:09:53,542 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:09:54,032 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:09:54,111 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:09:54,194 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:09:54,204 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:09:54,205 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:09:54,206 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:09:54,211 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
19:09:54,212 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200027</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


19:09:54,229 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
19:09:54,230 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:09:54,351 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:09:54,351 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:09:54,356 INFO common.SaveMessage(59) - 1100_3_1012_in.xml IO输出耗时:0.0050s
19:09:54,357 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1100_3_1012_in.xml
19:09:54,360 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
19:09:54,363 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:09:54,365 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
19:09:54,371 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:09:54,378 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:09:54,379 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:09:54,379 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:09:54,664 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:09:54,680 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:09:54,681 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:09:54,829 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:09:54,830 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:09:54,844 INFO common.Log4jPrint(20) - ================0133011
19:09:54,844 INFO common.Log4jPrint(20) - ================03
19:09:54,845 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:09:54,845 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:09:54,845 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
19:09:54,850 INFO service.NewContInput(43) - Into NewContInput.service()...
19:09:54,851 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:09:54,860 INFO common.Log4jPrint(20) - 进程名：1100
19:09:54,860 INFO common.Log4jPrint(20) - trancom:3
19:09:54,860 INFO common.Log4jPrint(20) - FuncFlag:1012
19:09:54,860 INFO common.Log4jPrint(20) - mHeadEle.getChildText1100_3_1012_in.xml
19:09:54,918 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:09:54,920 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1100,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200027',-1,-1,'张燕','127.0.0.1','1100_3_1012_in.xml',20161129,190954,20161129,190954,'230803197906010035','张燕','230803197906010035','011A0100' )
19:09:54,936 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:09:54,938 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200027' and MakeDate>=20161129 and MakeTime>=190634
19:09:55,024 ERROR service.NewContInput(225) - 实时投保交易失败！
com.sinosoft.midplat.exception.MidplatException: 此保单数据正在处理中，请稍候！
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:76)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:09:55,108 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:09:55,109 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:09:55,110 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1100,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1100_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=190954,ModifyDate=20161129,ModifyTime=190955,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1100
19:09:55,128 INFO service.NewContInput(245) - Out NewContInput.service()!
19:09:55,129 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
19:09:55,153 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:09:55,154 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
19:09:55,156 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
19:09:55,177 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
19:09:55,189 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:09:55,190 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:09:55,195 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
19:09:55,195 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:09:55,199 INFO common.SaveMessage(59) - 1100_6_1012_out.xml IO输出耗时:0.0020s
19:09:55,199 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1100_6_1012_out.xml
19:09:55,200 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>838</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2141</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129190954372</SYS_RECV_TIME><SYS_RESP_TIME>20161129190955194</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>15</SYS_RESP_DESC_LEN><SYS_RESP_DESC>姝や版姝ｅㄥ涓锛璇风?锛?/SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

19:09:55,201 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
19:09:55,227 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:09:55,228 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1100
19:09:55,274 INFO common.Log4jPrint(20) - -------------------------
19:09:55,275 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:09:55,275 INFO common.Log4jPrint(20) - -------------------------
19:09:55,285 INFO common.Log4jPrint(20) - i=1
19:09:55,314 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:09:55,315 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:09:55,315 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1100,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200027',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText='此保单数据正在处理中，请稍候！',UsedTime=0,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='1.08',Bak4=null,Bak5=null,InNoDoc='1100_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=190954,ModifyDate=20161129,ModifyTime=190955,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1100_6_1012_out.xml' where LogNo=1100
19:09:55,328 INFO midplat.Ybt4Socket(170) - 处理总耗时：1.123s
19:09:55,328 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:13:27,719 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@1389c036
19:13:27,759 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:13:27,763 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:13:27,764 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:13:27,766 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:13:27,766 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:13:27,767 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:13:27,770 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
19:13:27,832 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:13:27,841 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:13:27,842 INFO common.Log4jPrint(20) - End reset System.out!
19:13:27,844 INFO net.SocketConf(27) - Into SocketConf.load()...
19:13:27,845 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:13:27,845 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
19:13:27,848 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:13:27,848 INFO net.SocketConf(60) - Out SocketConf.load()!
19:13:27,863 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:13:27,863 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:13:27,872 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:13:27,872 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:13:27,872 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:13:27,877 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:13:27,877 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:13:27,877 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:13:27,882 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:13:27,882 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:13:27,882 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:13:27,887 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:13:27,887 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:13:27,887 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:13:38,757 INFO test.NewCCBTestUI_new(108) - Socket连接127.0.0.1:39871
19:13:38,768 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:13:38,768 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:13:38,769 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
19:13:38,780 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:13:38,802 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:13:38,803 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:13:38,806 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:13:38,812 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:13:39,352 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:13:39,526 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:13:39,639 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:13:39,644 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:13:39,644 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:13:39,645 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:13:39,648 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
19:13:39,648 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200028</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


19:13:39,705 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
19:13:39,705 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:13:39,817 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:13:39,817 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:13:39,822 INFO common.SaveMessage(59) - 1106_3_1012_in.xml IO输出耗时:0.0050s
19:13:39,823 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1106_3_1012_in.xml
19:13:39,825 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
19:13:39,828 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:13:39,830 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
19:13:39,836 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:13:39,844 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:13:39,844 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:13:39,844 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:13:40,130 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:13:40,145 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:13:40,147 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:13:40,295 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:13:40,296 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:13:40,310 INFO common.Log4jPrint(20) - ================0133011
19:13:40,310 INFO common.Log4jPrint(20) - ================03
19:13:40,310 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:13:40,310 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:13:40,311 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
19:13:40,316 INFO service.NewContInput(43) - Into NewContInput.service()...
19:13:40,317 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:13:40,325 INFO common.Log4jPrint(20) - 进程名：1106
19:13:40,326 INFO common.Log4jPrint(20) - trancom:3
19:13:40,326 INFO common.Log4jPrint(20) - FuncFlag:1012
19:13:40,326 INFO common.Log4jPrint(20) - mHeadEle.getChildText1106_3_1012_in.xml
19:13:40,359 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:13:40,359 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1106,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200028',-1,-1,'张燕','127.0.0.1','1106_3_1012_in.xml',20161129,191340,20161129,191340,'230803197906010035','张燕','230803197906010035','011A0100' )
19:13:40,374 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:13:40,374 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200028' and MakeDate>=20161129 and MakeTime>=191020
19:13:40,468 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:13:40,469 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:13:40,471 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
19:13:40,516 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:13:40,516 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:13:40,516 INFO common.RuleXml(198) - Into RuleXml.load()...
19:13:40,517 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:13:40,517 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,169) and length=10207 bytes!
19:13:40,522 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:13:40,522 INFO common.RuleXml(215) - Out RuleXml.load()!
19:13:40,522 INFO common.RuleParser(49) - Into RuleParser.check()...
19:13:40,522 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:13:40,529 INFO common.Log4jPrint(20) - 对邮编进行校验
19:13:40,530 INFO common.Log4jPrint(20) - 对邮编进行校验
19:13:40,530 INFO common.Log4jPrint(20) - 返回的结果是:0
19:13:40,532 INFO common.Log4jPrint(20) - 对邮编进行校验
19:13:40,535 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:13:40,536 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:13:40,536 INFO common.RuleParser(62) - Out RuleParser.check()!
19:13:40,536 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
19:13:40,541 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:13:40,543 INFO common.SaveMessage(59) - 1106_6_0_inSvc.xml IO输出耗时:0.0020s
19:13:40,543 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1106_6_0_inSvc.xml
19:13:40,544 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:13:40,544 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:13:40,778 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:15:05,178 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
19:15:05,179 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
19:15:05,180 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
19:15:05,180 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
19:15:05,181 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
19:15:05,182 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
19:15:05,183 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
19:15:05,183 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
19:15:05,184 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
19:15:05,185 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
19:15:05,185 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
19:15:05,186 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
19:15:05,186 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
19:15:05,187 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
19:15:05,188 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:15:05,189 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
19:15:05,189 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
19:15:05,190 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
19:15:05,190 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
19:15:05,191 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
19:15:05,191 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
19:15:05,192 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
19:15:05,192 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
19:15:05,193 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
19:15:05,193 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
19:15:05,194 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
19:15:05,194 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
19:15:05,195 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
19:15:05,195 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
19:15:05,196 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
19:15:05,196 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
19:15:05,197 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
19:15:05,197 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
19:15:05,198 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
19:15:05,198 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
19:15:05,199 INFO common.Log4jPrint(20) - 	... 13 more
19:15:05,199 INFO common.Log4jPrint(20) - -----------------------------------------------
19:15:05,200 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:15:05,205 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:15:05,249 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:15:05,249 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:15:05,249 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1106,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1106_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=191340,ModifyDate=20161129,ModifyTime=191505,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1106
19:15:05,263 INFO service.NewContInput(245) - Out NewContInput.service()!
19:15:05,263 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
19:15:05,271 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:15:05,271 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
19:15:05,272 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
19:15:05,279 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
19:15:05,284 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:15:05,284 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:15:05,288 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
19:15:05,288 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:15:05,292 INFO common.SaveMessage(59) - 1106_9_1012_out.xml IO输出耗时:0.0020s
19:15:05,292 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1106_9_1012_out.xml
19:15:05,293 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129191339837</SYS_RECV_TIME><SYS_RESP_TIME>20161129191505287</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

19:15:05,293 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
19:15:05,349 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:15:05,349 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1106
19:15:05,371 INFO common.Log4jPrint(20) - -------------------------
19:15:05,372 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:15:05,372 INFO common.Log4jPrint(20) - -------------------------
19:15:05,384 INFO common.Log4jPrint(20) - i=1
19:15:05,412 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:15:05,412 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:15:05,412 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1106,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.74',Bak4=null,Bak5=null,InNoDoc='1106_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=191340,ModifyDate=20161129,ModifyTime=191505,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1106_9_1012_out.xml' where LogNo=1106
19:15:05,424 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.78s
19:15:05,425 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:17:35,088 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@a00185
19:17:35,096 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
19:17:35,101 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
19:17:35,101 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
19:17:35,103 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
19:17:35,104 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
19:17:35,105 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
19:17:35,109 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
19:17:35,183 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
19:17:35,192 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
19:17:35,193 INFO common.Log4jPrint(20) - End reset System.out!
19:17:35,195 INFO net.SocketConf(27) - Into SocketConf.load()...
19:17:35,196 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
19:17:35,196 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
19:17:35,199 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
19:17:35,199 INFO net.SocketConf(60) - Out SocketConf.load()!
19:17:35,213 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
19:17:35,213 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
19:17:35,222 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
19:17:35,222 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
19:17:35,222 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
19:17:35,228 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
19:17:35,229 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
19:17:35,229 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
19:17:35,234 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
19:17:35,234 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
19:17:35,234 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
19:17:35,241 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
19:17:35,241 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
19:17:35,241 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
19:18:03,244 INFO test.NewCCBTestUI_new(108) - Socket连接127.0.0.1:39871
19:18:11,173 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
19:18:11,174 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
19:18:11,175 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
19:18:11,196 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
19:18:11,226 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

19:18:11,228 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
19:18:11,230 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
19:18:11,236 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
19:18:12,051 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
19:18:12,129 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
19:18:12,189 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
19:18:12,195 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
19:18:12,197 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
19:18:12,197 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
19:46:58,233 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
19:47:14,190 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200028</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


19:47:14,233 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
19:47:14,233 INFO newNet.CcbNetImpl(58) - mTranCom==============03
19:47:14,361 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
19:47:14,362 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
19:47:14,367 INFO common.SaveMessage(59) - 1112_3_1012_in.xml IO输出耗时:0.0050s
19:47:14,367 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1112_3_1012_in.xml
19:47:14,369 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
19:47:14,371 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
19:47:14,373 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
19:47:14,378 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
19:47:14,387 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
19:47:14,387 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
19:47:14,388 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
19:47:14,675 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
19:47:14,691 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

19:47:14,692 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
19:47:14,843 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
19:47:14,843 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
19:47:14,857 INFO common.Log4jPrint(20) - ================0133011
19:47:14,858 INFO common.Log4jPrint(20) - ================03
19:47:14,858 INFO common.Log4jPrint(20) - ++++++++++++++++03
19:47:14,858 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
19:47:14,858 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
19:47:14,863 INFO service.NewContInput(43) - Into NewContInput.service()...
19:47:14,864 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
19:47:14,873 INFO common.Log4jPrint(20) - 进程名：1112
19:47:14,873 INFO common.Log4jPrint(20) - trancom:3
19:47:14,873 INFO common.Log4jPrint(20) - FuncFlag:1012
19:47:14,873 INFO common.Log4jPrint(20) - mHeadEle.getChildText1112_3_1012_in.xml
19:47:14,908 INFO common.Log4jPrint(20) - 进入更新后的InsPart
19:47:14,909 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1112,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200028',-1,-1,'张燕','127.0.0.1','1112_3_1012_in.xml',20161129,194714,20161129,194714,'230803197906010035','张燕','230803197906010035','011A0100' )
19:47:14,927 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
19:47:14,930 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200028' and MakeDate>=20161129 and MakeTime>=194354
19:47:15,032 INFO common.RuleXsl(155) - Into RuleXsl.load()...
19:47:15,032 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
19:47:15,033 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
19:47:15,078 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
19:47:15,078 INFO common.RuleXsl(179) - Out RuleXsl.load()!
19:47:15,079 INFO common.RuleXml(198) - Into RuleXml.load()...
19:47:15,079 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
19:47:15,079 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,169) and length=10207 bytes!
19:47:15,084 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
19:47:15,084 INFO common.RuleXml(215) - Out RuleXml.load()!
19:47:15,084 INFO common.RuleParser(49) - Into RuleParser.check()...
19:47:15,084 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
19:47:15,091 INFO common.Log4jPrint(20) - 对邮编进行校验
19:47:15,092 INFO common.Log4jPrint(20) - 对邮编进行校验
19:47:15,092 INFO common.Log4jPrint(20) - 返回的结果是:0
19:47:15,094 INFO common.Log4jPrint(20) - 对邮编进行校验
19:47:15,097 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

19:47:15,098 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
19:47:15,098 INFO common.RuleParser(62) - Out RuleParser.check()!
19:47:15,098 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
19:47:15,103 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
19:47:15,105 INFO common.SaveMessage(59) - 1112_6_0_inSvc.xml IO输出耗时:0.0020s
19:47:15,106 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1112_6_0_inSvc.xml
19:47:15,107 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:47:15,107 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
19:47:15,340 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
19:48:39,739 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
19:48:39,740 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
19:48:39,740 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
19:48:39,741 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
19:48:39,742 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
19:48:39,742 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
19:48:39,743 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
19:48:39,743 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
19:48:39,744 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
19:48:39,745 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
19:48:39,745 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
19:48:39,746 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
19:48:39,746 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
19:48:39,747 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
19:48:39,748 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:48:39,749 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
19:48:39,749 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
19:48:39,750 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
19:48:39,751 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
19:48:39,751 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
19:48:39,752 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
19:48:39,753 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
19:48:39,753 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
19:48:39,754 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
19:48:39,755 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
19:48:39,756 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
19:48:39,756 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
19:48:39,757 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
19:48:39,758 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
19:48:39,758 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
19:48:39,759 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
19:48:39,759 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
19:48:39,760 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
19:48:39,761 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
19:48:39,761 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
19:48:39,762 INFO common.Log4jPrint(20) - 	... 13 more
19:48:39,763 INFO common.Log4jPrint(20) - -----------------------------------------------
19:48:39,764 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
19:48:39,770 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
19:48:39,828 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:48:39,829 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:48:39,829 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1112,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1112_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=194714,ModifyDate=20161129,ModifyTime=194839,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1112
19:48:39,852 INFO service.NewContInput(245) - Out NewContInput.service()!
19:48:39,852 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
19:48:39,860 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
19:48:39,860 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
19:48:39,860 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
19:48:39,868 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
19:48:39,873 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

19:48:39,873 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
19:48:39,877 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
19:48:39,877 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
19:48:39,881 INFO common.SaveMessage(59) - 1112_9_1012_out.xml IO输出耗时:0.0020s
19:48:39,881 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1112_9_1012_out.xml
19:48:39,882 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129194714380</SYS_RECV_TIME><SYS_RESP_TIME>20161129194839876</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

19:48:39,883 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
19:48:39,922 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:48:39,923 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1112
19:48:39,944 INFO common.Log4jPrint(20) - -------------------------
19:48:39,945 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
19:48:39,945 INFO common.Log4jPrint(20) - -------------------------
19:48:39,954 INFO common.Log4jPrint(20) - i=1
19:48:40,012 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
19:48:40,012 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
19:48:40,012 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1112,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='1827.758',Bak4=null,Bak5=null,InNoDoc='1112_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=194714,ModifyDate=20161129,ModifyTime=194839,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1112_9_1012_out.xml' where LogNo=1112
19:48:40,028 INFO midplat.Ybt4Socket(170) - 处理总耗时：1827.831s
19:48:40,028 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
19:50:01,344 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
19:50:01,346 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
19:50:01,347 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:50:01,348 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:50:01,348 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:50:01,348 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@20823c6d
19:50:01,348 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
19:50:01,351 INFO common.Log4jPrint(20) - Start revert System.out...
19:50:01,353 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
20:07:31,900 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@1b1756a4
20:07:31,909 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:07:31,914 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:07:31,914 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:07:31,916 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:07:31,917 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:07:31,918 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:07:31,921 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
20:07:31,985 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:07:31,994 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:07:31,995 INFO common.Log4jPrint(20) - End reset System.out!
20:07:31,997 INFO net.SocketConf(27) - Into SocketConf.load()...
20:07:31,998 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:07:31,998 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
20:07:32,002 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:07:32,003 INFO net.SocketConf(60) - Out SocketConf.load()!
20:07:32,017 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:07:32,017 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:07:32,028 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:07:32,028 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:07:32,028 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:07:32,033 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:07:32,034 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:07:32,034 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:07:32,040 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:07:32,040 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:07:32,040 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:07:32,045 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:07:32,045 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:07:32,045 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:07:41,002 INFO test.NewCCBTestUI_new(108) - Socket连接127.0.0.1:39871
20:07:41,012 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:07:41,013 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:07:41,013 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
20:07:41,022 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:07:41,044 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:07:41,045 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:07:41,048 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:07:41,055 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:07:41,597 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:07:41,675 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:07:41,739 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:07:41,748 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:07:41,749 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:07:41,750 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:07:47,213 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
20:10:39,644 INFO test.NewCCBTestUI_new(108) - Socket连接127.0.0.1:39871
20:10:41,896 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:10:41,898 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:10:41,899 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:10:41,900 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:10:49,864 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:75)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:46)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
20:10:49,864 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:75)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:41)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
20:10:49,877 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:10:49,877 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:10:49,888 INFO common.Log4jPrint(20) - ==================send====
20:10:49,888 INFO common.Log4jPrint(20) - ==================send====
20:10:49,888 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
20:10:49,888 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
20:10:50,083 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:10:50,084 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1124
20:10:50,144 INFO common.Log4jPrint(20) - i=0
20:10:50,147 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
20:10:50,148 INFO midplat.Ybt4Socket(170) - 处理总耗时：8.249s
20:10:50,148 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:10:50,409 INFO common.Log4jPrint(20) - DBConnPool : get connection, index is 1
20:10:50,419 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:10:50,419 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1118
20:10:50,517 INFO common.Log4jPrint(20) - i=0
20:10:50,517 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
20:10:50,518 INFO midplat.Ybt4Socket(170) - 处理总耗时：188.769s
20:10:50,518 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:11:05,118 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@7f328c7a
20:11:05,129 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:11:05,134 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:11:05,134 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:11:05,136 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:11:05,137 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:11:05,138 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:11:05,141 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
20:11:05,213 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:11:05,220 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:11:05,221 INFO common.Log4jPrint(20) - End reset System.out!
20:11:05,223 INFO net.SocketConf(27) - Into SocketConf.load()...
20:11:05,223 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:11:05,224 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
20:11:05,227 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:11:05,228 INFO net.SocketConf(60) - Out SocketConf.load()!
20:11:05,242 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:11:05,243 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:11:05,256 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:11:05,256 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:11:05,256 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:11:05,261 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:11:05,262 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:11:05,262 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:11:05,267 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:11:05,267 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:11:05,267 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:11:05,272 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:11:05,272 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:11:05,272 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:11:17,724 INFO test.NewCCBTestUI_new(108) - Socket连接127.0.0.1:39871
20:11:17,735 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:11:17,735 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:11:17,736 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
20:11:17,744 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:11:17,766 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:11:17,767 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:11:17,769 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:11:17,775 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:11:18,293 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:11:18,376 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:11:18,489 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:11:18,504 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:11:18,505 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:11:18,507 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:11:18,513 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
20:11:18,514 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200028</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


20:11:18,528 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:11:18,528 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:11:18,645 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:11:18,645 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:11:18,650 INFO common.SaveMessage(59) - 1118_3_1012_in.xml IO输出耗时:0.0050s
20:11:18,650 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1118_3_1012_in.xml
20:11:18,653 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:11:18,655 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:11:18,657 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:11:18,662 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
20:11:18,670 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:11:18,670 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:11:18,671 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
20:11:18,958 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:11:18,973 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:11:18,974 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:11:19,123 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:11:19,123 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:11:19,137 INFO common.Log4jPrint(20) - ================0133011
20:11:19,137 INFO common.Log4jPrint(20) - ================03
20:11:19,137 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:11:19,138 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
20:11:19,138 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:11:19,143 INFO service.NewContInput(43) - Into NewContInput.service()...
20:11:19,144 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:11:19,153 INFO common.Log4jPrint(20) - 进程名：1118
20:11:19,153 INFO common.Log4jPrint(20) - trancom:3
20:11:19,153 INFO common.Log4jPrint(20) - FuncFlag:1012
20:11:19,153 INFO common.Log4jPrint(20) - mHeadEle.getChildText1118_3_1012_in.xml
20:11:19,188 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:11:19,188 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1118,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200028',-1,-1,'张燕','127.0.0.1','1118_3_1012_in.xml',20161129,201119,20161129,201119,'230803197906010035','张燕','230803197906010035','011A0100' )
20:11:19,202 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:11:19,204 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200028' and MakeDate>=20161129 and MakeTime>=200759
20:11:19,302 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:11:19,303 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:11:19,304 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
20:11:19,360 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:11:19,360 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:11:19,361 INFO common.RuleXml(198) - Into RuleXml.load()...
20:11:19,361 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:11:19,361 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,169) and length=10207 bytes!
20:11:19,366 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:11:19,366 INFO common.RuleXml(215) - Out RuleXml.load()!
20:11:19,367 INFO common.RuleParser(49) - Into RuleParser.check()...
20:11:19,367 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:11:19,374 INFO common.Log4jPrint(20) - 对邮编进行校验
20:11:19,375 INFO common.Log4jPrint(20) - 对邮编进行校验
20:11:19,375 INFO common.Log4jPrint(20) - 返回的结果是:0
20:11:19,377 INFO common.Log4jPrint(20) - 对邮编进行校验
20:11:19,380 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:11:19,380 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:11:19,380 INFO common.RuleParser(62) - Out RuleParser.check()!
20:11:19,380 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
20:11:19,386 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:11:19,388 INFO common.SaveMessage(59) - 1118_6_0_inSvc.xml IO输出耗时:0.0020s
20:11:19,388 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1118_6_0_inSvc.xml
20:11:19,389 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:11:19,389 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:11:19,621 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:12:44,044 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
20:12:44,045 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
20:12:44,046 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
20:12:44,046 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
20:12:44,047 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
20:12:44,048 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
20:12:44,048 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
20:12:44,049 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
20:12:44,049 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
20:12:44,050 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
20:12:44,051 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
20:12:44,052 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
20:12:44,052 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
20:12:44,053 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
20:12:44,054 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:12:44,054 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
20:12:44,055 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
20:12:44,056 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
20:12:44,057 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
20:12:44,057 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
20:12:44,058 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
20:12:44,059 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
20:12:44,059 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
20:12:44,060 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
20:12:44,060 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
20:12:44,061 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
20:12:44,062 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
20:12:44,062 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
20:12:44,063 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
20:12:44,064 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
20:12:44,064 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
20:12:44,065 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
20:12:44,066 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
20:12:44,066 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
20:12:44,067 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
20:12:44,068 INFO common.Log4jPrint(20) - 	... 13 more
20:12:44,068 INFO common.Log4jPrint(20) - -----------------------------------------------
20:12:44,069 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:12:44,073 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:12:44,108 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:12:44,108 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:12:44,109 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1118,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1118_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=201119,ModifyDate=20161129,ModifyTime=201244,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1118
20:12:44,130 INFO service.NewContInput(245) - Out NewContInput.service()!
20:12:44,130 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
20:12:44,138 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:12:44,138 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:12:44,138 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
20:12:44,146 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:12:44,150 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:12:44,151 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:12:44,154 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
20:12:44,155 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:12:44,158 INFO common.SaveMessage(59) - 1118_9_1012_out.xml IO输出耗时:0.0020s
20:12:44,158 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1118_9_1012_out.xml
20:12:44,159 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129201118663</SYS_RECV_TIME><SYS_RESP_TIME>20161129201244154</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:12:44,160 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:12:44,204 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:12:44,205 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1118
20:12:44,224 INFO common.Log4jPrint(20) - -------------------------
20:12:44,225 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:12:44,225 INFO common.Log4jPrint(20) - -------------------------
20:12:44,234 INFO common.Log4jPrint(20) - i=1
20:12:44,293 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:12:44,293 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:12:44,293 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1118,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.729',Bak4=null,Bak5=null,InNoDoc='1118_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=201119,ModifyDate=20161129,ModifyTime=201244,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1118_9_1012_out.xml' where LogNo=1118
20:12:44,326 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.821s
20:12:44,327 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:13:41,352 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
20:13:41,354 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
20:13:41,355 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:13:41,356 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@16916f80
20:13:41,356 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:13:41,355 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:13:41,355 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:13:41,357 INFO common.Log4jPrint(20) - Start revert System.out...
20:13:41,361 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
20:13:48,673 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@5c001eb0
20:13:48,682 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:13:48,687 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:13:48,688 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:13:48,691 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:13:48,692 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:13:48,693 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:13:48,696 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
20:13:48,769 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:13:48,779 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:13:48,780 INFO common.Log4jPrint(20) - End reset System.out!
20:13:48,782 INFO net.SocketConf(27) - Into SocketConf.load()...
20:13:48,783 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:13:48,783 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
20:13:48,786 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:13:48,787 INFO net.SocketConf(60) - Out SocketConf.load()!
20:13:48,804 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:13:48,805 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:13:48,815 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:13:48,815 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:13:48,815 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:13:48,820 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:13:48,820 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:13:48,820 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:13:48,827 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:13:48,827 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:13:48,827 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:13:48,832 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:13:48,832 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:13:48,833 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:28:46,996 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
20:28:46,996 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
20:28:46,998 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@79226a77
20:28:46,999 INFO common.Log4jPrint(20) - Start revert System.out...
20:28:47,000 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
20:28:47,019 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:28:47,019 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:28:47,019 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:28:47,019 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:28:47,053 INFO boc.BocConf(22) - Into BocConf.load()...
20:28:47,054 INFO boc.BocConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml...
20:28:47,054 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,030) and length=3734 bytes!
20:28:47,058 INFO boc.BocConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/boc.xml!
20:28:47,058 INFO boc.BocConf(47) - Out BocConf.load()!
20:28:47,070 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:28:47,070 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:28:47,071 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
20:28:47,079 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:28:47,090 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:28:47,092 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:28:47,096 INFO gzbank.GZBankConf(22) - Into GZBankConf.load()...
20:28:47,097 INFO gzbank.GZBankConf(25) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml...
20:28:47,097 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,068) and length=1791 bytes!
20:28:47,100 INFO gzbank.GZBankConf(41) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/gzbank.xml!
20:28:47,100 INFO gzbank.GZBankConf(47) - Out GZBankConf.load()!
20:29:04,673 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@44cbbe
20:29:04,683 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:29:04,688 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:29:04,689 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:29:04,691 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:29:04,692 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:29:04,692 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:29:04,696 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
20:29:04,769 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:29:04,781 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:29:04,782 INFO common.Log4jPrint(20) - End reset System.out!
20:29:04,784 INFO net.SocketConf(27) - Into SocketConf.load()...
20:29:04,785 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:29:04,786 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
20:29:04,788 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:29:04,789 INFO net.SocketConf(60) - Out SocketConf.load()!
20:29:04,805 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:29:04,805 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:29:04,814 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:29:04,815 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:29:04,815 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:29:04,822 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:29:04,822 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:29:04,822 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:29:04,828 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:29:04,828 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:29:04,828 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:29:04,833 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:29:04,833 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:29:04,834 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:29:13,493 INFO test.NewCCBTestUI_new(109) - Socket连接127.0.0.1:39871
20:29:13,503 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:29:13,504 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:29:13,504 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
20:29:13,517 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:29:13,550 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:29:13,551 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:29:13,554 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:29:13,565 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:29:14,186 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:29:14,257 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:29:14,371 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:29:14,384 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:29:14,386 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:29:14,387 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:29:42,238 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
20:46:34,737 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4fa4ded3
20:46:34,746 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:46:34,751 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:46:34,752 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:46:34,754 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:46:34,755 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:46:34,756 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:46:34,760 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
20:46:34,826 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:46:34,836 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:46:34,837 INFO common.Log4jPrint(20) - End reset System.out!
20:46:34,839 INFO net.SocketConf(27) - Into SocketConf.load()...
20:46:34,839 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:46:34,840 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
20:46:34,843 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:46:34,844 INFO net.SocketConf(60) - Out SocketConf.load()!
20:46:34,860 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:46:34,860 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:46:34,869 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:46:34,870 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:46:34,870 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:46:34,878 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:46:34,878 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:46:34,878 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:46:34,883 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:46:34,883 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:46:34,884 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:46:34,891 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:46:34,891 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:46:34,891 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:46:45,685 INFO test.NewCCBTestUI_new(109) - Socket连接127.0.0.1:39871
20:46:45,697 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:46:45,697 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:46:45,698 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,158) and length=14122 bytes!
20:46:45,706 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:46:45,730 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:46:45,732 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:46:45,734 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:46:45,740 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:46:46,260 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:46:46,346 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:46:46,430 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:46:46,436 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:46:46,436 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:46:46,437 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:46:46,439 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
20:51:39,282 ERROR midplat.Ybt4Socket(140) - 系统出现非预期异常！
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at com.sinosoft.midplat.common.IOTrans.readFull(IOTrans.java:75)
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.receive(CcbNetImpl.java:46)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:64)
20:51:39,288 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:51:39,289 INFO common.Log4jPrint(20) - ==================send====
20:51:39,289 ERROR midplat.Ybt4Socket(148) - 发送返回报文异常!
java.lang.NullPointerException
	at com.sinosoft.midplat.newccb.newNet.CcbNetImpl.send(CcbNetImpl.java:105)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:146)
20:51:39,348 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:51:39,349 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1124
20:51:39,418 INFO common.Log4jPrint(20) - i=0
20:51:39,420 ERROR midplat.Ybt4Socket(157) - 查询Tranlog表异常!
20:51:39,420 INFO midplat.Ybt4Socket(170) - 处理总耗时：292.984s
20:51:39,420 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
20:51:47,492 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4934ce4a
20:51:47,500 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:51:47,506 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:51:47,507 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:51:47,509 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:51:47,534 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:51:47,535 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:51:47,540 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,117) and length=23653 bytes!
20:51:47,609 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:51:47,617 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:51:47,618 INFO common.Log4jPrint(20) - End reset System.out!
20:51:47,632 INFO net.SocketConf(27) - Into SocketConf.load()...
20:51:47,632 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:51:47,633 INFO common.XmlConf(62) - conf file modified at (2016-11-29 19:09:00,180) and length=711 bytes!
20:51:47,635 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:51:47,636 INFO net.SocketConf(60) - Out SocketConf.load()!
20:51:47,651 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:51:47,652 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:51:47,665 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:51:47,665 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:51:47,665 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:51:47,671 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:51:47,672 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:51:47,671 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:51:47,679 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:51:47,679 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:51:47,679 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:51:47,684 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:51:47,684 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:51:47,684 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:51:56,391 INFO test.NewCCBTestUI_new(109) - Socket连接127.0.0.1:39871
20:51:56,402 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:51:56,403 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:51:56,403 INFO common.XmlConf(62) - conf file modified at (2016-11-29 20:51:49,186) and length=14122 bytes!
20:51:56,413 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:51:56,436 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:51:56,437 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:51:56,440 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:51:56,446 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:51:57,017 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:51:57,106 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:51:57,222 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:51:57,228 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:51:57,229 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:51:57,229 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:51:57,232 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
20:51:57,232 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200028</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


20:51:57,240 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:51:57,241 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:51:57,397 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:51:57,397 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:51:57,403 INFO common.SaveMessage(59) - 1124_3_1012_in.xml IO输出耗时:0.0060s
20:51:57,403 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1124_3_1012_in.xml
20:51:57,406 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:51:57,408 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:51:57,410 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:51:57,415 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
20:51:57,423 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:51:57,423 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:51:57,424 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
20:51:57,723 INFO net.SocketListenerF5(85) - Into SocketListenerF5.contextDestroyed()...
20:51:57,724 INFO net.SocketListenerF5(87) - 关闭ServerSocket监听...
20:51:57,724 DEBUG net.SocketListenerF5(107) - System.out = com.sinosoft.midplat.common.Log4jPrint@34b0ede5
20:51:57,725 INFO common.Log4jPrint(20) - Start revert System.out...
20:51:57,725 INFO net.SocketListenerF5(116) - Out SocketListenerF5.contextDestroyed()!
20:51:57,728 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！39871
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:51:57,728 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35006
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:51:57,728 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！35008
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:51:57,728 ERROR net.SocketListenerF5$Server(175) - 等待客户端连接时发生I/O错误！52004
java.net.SocketException: socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
	at java.net.ServerSocket.implAccept(ServerSocket.java:462)
	at java.net.ServerSocket.accept(ServerSocket.java:430)
	at com.sinosoft.midplat.net.SocketListenerF5$Server.run(SocketListenerF5.java:153)
20:51:57,738 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:51:57,755 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:51:57,758 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:51:58,560 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4934ce4a
20:51:58,567 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:51:58,570 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:51:58,571 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:51:58,571 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:51:58,571 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:51:58,571 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:51:58,574 INFO common.XmlConf(62) - conf file modified at (2016-11-29 20:51:49,144) and length=23653 bytes!
20:51:58,785 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:51:58,792 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:51:58,792 INFO common.Log4jPrint(20) - End reset System.out!
20:51:58,794 INFO net.SocketConf(27) - Into SocketConf.load()...
20:51:58,794 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:51:58,794 INFO common.XmlConf(62) - conf file modified at (2016-11-29 20:51:49,208) and length=711 bytes!
20:51:58,796 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:51:58,797 INFO net.SocketConf(60) - Out SocketConf.load()!
20:51:58,809 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:51:58,810 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:51:58,817 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:51:58,817 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:51:58,818 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:51:58,822 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:51:58,822 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:51:58,822 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:51:58,826 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:51:58,826 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:51:58,826 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:51:58,830 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:51:58,830 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:51:58,830 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:52:17,913 DEBUG net.SocketListenerF5(31) - System.out = org.apache.tomcat.util.log.SystemLogHandler@4fa4ded3
20:52:17,922 INFO midplat.MidplatConf(32) - Into MidplatConf.load()...
20:52:17,929 DEBUG common.SysInfo(24) - basepath.r = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/basepath.r
20:52:17,930 DEBUG common.SysInfo(26) - BasePath = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/
20:52:17,932 DEBUG common.SysInfo(32) - MIDPLAT_HOME = null
20:52:17,933 DEBUG common.SysInfo(48) - Home = /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/
20:52:17,934 INFO midplat.MidplatConf(35) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml...
20:52:17,940 INFO common.XmlConf(62) - conf file modified at (2016-11-29 20:51:49,144) and length=23653 bytes!
20:52:18,032 INFO midplat.MidplatConf(51) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/midplat.xml!
20:52:18,040 INFO midplat.MidplatConf(91) - Out MidplatConf.load()!
20:52:18,042 INFO common.Log4jPrint(20) - End reset System.out!
20:52:18,045 INFO net.SocketConf(27) - Into SocketConf.load()...
20:52:18,046 INFO net.SocketConf(30) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml...
20:52:18,047 INFO common.XmlConf(62) - conf file modified at (2016-11-29 20:51:49,208) and length=711 bytes!
20:52:18,050 INFO net.SocketConf(46) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/socket.xml!
20:52:18,050 INFO net.SocketConf(60) - Out SocketConf.load()!
20:52:18,068 INFO net.SocketListenerF5(54) - Into SocketListenerF5.contextInitialized()...
20:52:18,068 INFO net.SocketListenerF5(65) - 0_Socket(农业银行): port=35006; class=com.sinosoft.midplat.abc.AbcYbt
20:52:18,079 INFO net.SocketListenerF5(72) - 0_Socket(农业银行)加载成功!
20:52:18,079 INFO net.SocketListenerF5$Server(140) - 监听端口 35006
20:52:18,079 INFO net.SocketListenerF5(65) - 1_Socket(贵州银行): port=35008; class=com.sinosoft.midplat.gzbank.GZBankYbt
20:52:18,084 INFO net.SocketListenerF5(72) - 1_Socket(贵州银行)加载成功!
20:52:18,084 INFO net.SocketListenerF5$Server(140) - 监听端口 35008
20:52:18,084 INFO net.SocketListenerF5(65) - 2_Socket(中国银行): port=52004; class=com.sinosoft.midplat.boc.BocYbt
20:52:18,089 INFO net.SocketListenerF5(72) - 2_Socket(中国银行)加载成功!
20:52:18,090 INFO net.SocketListenerF5(65) - 3_Socket(建设银行): port=39871; class=com.sinosoft.midplat.newccb.NewCcbYbt
20:52:18,089 INFO net.SocketListenerF5$Server(140) - 监听端口 52004
20:52:18,097 INFO net.SocketListenerF5(72) - 3_Socket(建设银行)加载成功!
20:52:18,098 INFO net.SocketListenerF5$Server(140) - 监听端口 39871
20:52:18,098 INFO net.SocketListenerF5(80) - Out SocketListenerF5.contextInitialized()!
20:52:29,675 INFO test.NewCCBTestUI_new(109) - Socket连接127.0.0.1:39871
20:52:29,686 INFO newccb.NewCcbConf(25) - Into NewCcbConf.load()...
20:52:29,686 INFO newccb.NewCcbConf(28) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml...
20:52:29,687 INFO common.XmlConf(62) - conf file modified at (2016-11-29 20:51:49,186) and length=14122 bytes!
20:52:29,695 INFO newccb.NewCcbConf(44) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/newccb.xml!
20:52:29,716 INFO newccb.NewCcbConf(54) - <?xml version="1.0"?>
<newccb><!-- 银行端代码定义，用于日终类交易 	<bank id="03" insu="010072" />--><bank id="03" insu="010072" /><TranCom outcode="03">03</TranCom><CoreNo>010072</CoreNo><preNet>com.sinosoft.midplat.newccb.newNet.CcbNetImpl</preNet><!-- 银联账号 --><BankNo>105</BankNo><!-- 实时投保业务 --><business><name>实时投保</name><!-- 业务名 --><funcFlag outcode="P53819113">1012</funcFlag><!--交易码  --><locktime>200</locktime><!-- 锁定时间 --><timeout>200</timeout><!-- 超时 --><format>com.sinosoft.midplat.newccb.format.NewCont</format><!-- 格式化 --><service>com.sinosoft.midplat.newccb.service.NewContInput</service><!-- 服务 --></business><!-- 新单确认业务 --><business><name>新单确认</name><funcFlag outcode="P53819152">1014</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ContConfirm</format><service>com.sinosoft.midplat.newccb.service.NewContConfirm</service></business><business><name>重打上笔</name><funcFlag outcode="P53819184">1011</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RePrint</format><service>com.sinosoft.midplat.newccb.service.ContRePrint</service></business><business><name>重控核对</name><funcFlag outcode="P538191A2">108</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CardControl</format><service>com.sinosoft.midplat.newccb.service.ContCancelCardControlCcb</service></business><business><name>确认撤销当日保单</name><funcFlag outcode="P53819142">1015</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.WriteOff</format><service>com.sinosoft.midplat.newccb.service.ContCancel</service></business><business><name>绿灯测试</name><funcFlag outcode="P53818152">111</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GreenTest</format><service>com.sinosoft.midplat.newccb.service.GreenTest</service></business><business><name>自动冲正</name><funcFlag outcode="P53818154">0004</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.AutoWriteOff</format><service>com.sinosoft.midplat.newccb.service.ContRollback</service></business><business><name>打印投保单</name><funcFlag outcode="P53819188">1031</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintAppCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintAppCont</service></business><business><name>打印保单</name><funcFlag outcode="P53819182">1032</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.PrintCont</format><service>com.sinosoft.midplat.newccb.service.NewPrintCont</service></business><business><name>查询缴纳保费信息</name><funcFlag outcode="P53819151">1033</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryPrem</format><service>com.sinosoft.midplat.newccb.service.NewQueryPrem</service></business><business><name>确认续期缴费</name><funcFlag outcode="P53819156">1034</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.RenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewRenewalPay</service></business><business><name>确认取消续期缴费</name><funcFlag outcode="P53819154">1035</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CancleRenewalPay</format><service>com.sinosoft.midplat.newccb.service.NewCancleRenewalPay</service></business><business><name>查询满期给付</name><funcFlag outcode="P53819191">1036</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewQueryExpirationPay</service></business><business><name>确认满期给付</name><funcFlag outcode="P53819192">1037</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ExpirationPay</format><service>com.sinosoft.midplat.newccb.service.NewExpirationPay</service></business><business><name>修改保单基本信息</name><funcFlag outcode="P53819161">1038</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ModifyCont</format><service>com.sinosoft.midplat.newccb.service.NewModifyCont</service></business><business><name>查询客户保单</name><funcFlag outcode="P53819176">1039</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryCont</format><service>com.sinosoft.midplat.newccb.service.NewQueryCont</service></business><business><name>查询保单详情</name><funcFlag outcode="P53819171">1040</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContDetail</format><service>com.sinosoft.midplat.newccb.service.NewQueryContDetail</service></business><business><name>查询保单历史变动信息</name><funcFlag outcode="P53819177">1041</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryContChange</format><service>com.sinosoft.midplat.newccb.service.NewQueryContChange</service></business><business><name>申请退保</name><funcFlag outcode="P53819143">1021</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ApplyReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewApplyReturnCont</service></business><business><name>确认退保</name><funcFlag outcode="P53819144">1017</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ReturnCont</format><service>com.sinosoft.midplat.newccb.service.NewReturnCont</service></business><business><name>获取保单详情查询</name><funcFlag outcode="P53817107">1042</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.GetContList</format><service>com.sinosoft.midplat.newccb.service.NewGetContList</service></business><business><name>获取保单详情取数(寿险)</name><funcFlag outcode="P53816107">1043</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.GetContList2</format><service>com.sinosoft.midplat.newccb.service.NewGetContList2</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>获取保险公司巡点员信息</name><funcFlag outcode="P538191F1">1044</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.QueryInsStaff</format><service>com.sinosoft.midplat.newccb.service.NewQueryInsStaff</service></business><business><name>试算保险产品</name><funcFlag outcode="P538161411">1045</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont</service></business><business><name>试算保险产品(寿险)</name><funcFlag outcode="P53811142">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.CalculateCont2</format><service>com.sinosoft.midplat.newccb.service.NewCalculateCont2</service></business><!--	<business>
		<name>日终与保险公司对账(账务类)</name>
		<funcFlag outcode="P53817103">3005</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.BusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>
	
 	<business>
		<name>日终与保险公司公司对账(保全类)</name>
		<funcFlag outcode="P53817104">1048</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<CoreNo>010072</CoreNo>
		<format>com.sinosoft.midplat.newccb.format.BaoQBusiBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewContBlc</service>
		<localDir>/home/ap/fserver2/rcv</localDir>
	</business>

	<business>
		<name>发送银行端单证信息</name>
		<funcFlag outcode="P53817105">3006</funcFlag>
		<locktime>200</locktime>
		<timeout>200</timeout>
		<format>com.sinosoft.midplat.newccb.format.NewCardBlc</format>
		<service>com.sinosoft.midplat.newccb.service.NewSendDocument</service>
	</business>
	--><!--
	
	--><business><name>日终与保险公司对账（账务类）</name><funcFlag outcode="P53817103">3005</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/zw/</LocalDir></business><business><name>日终与保险公司对账（保全类）</name><funcFlag outcode="P53817104">1048</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/bq/</LocalDir></business><business><name>发送银行端单证信息</name><funcFlag outcode="P53817105">3006</funcFlag><locktime>200</locktime><timeout>200</timeout><NodeNo>370684208</NodeNo><format>com.sinosoft.midplat.newccb.format.BusiBlc</format><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>/ybttest/newccb/dz/</LocalDir></business><!-- 范军说：请没有开发批量代扣代付业务的保险公司至少开发一个P53818102批量查询接口（接口仅需返回两个数据项，都固定写为0返回建行即可），以保证退保业务的正常执行。 --><business><name>批量查询</name><funcFlag outcode="P53818102">1046</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatchQuery</format><service>com.sinosoft.midplat.newccb.service.NewBatchQuery</service></business><business><name>新建行补对账</name><funcFlag outcode="">3009</funcFlag><locktime>200</locktime><timeout>200</timeout><bankcode>0104</bankcode><NodeNo>370684208</NodeNo><service>com.sinosoft.midplat.newccb.service.NewContBlc</service><CoreNo>010072</CoreNo><LocalDir>D:/YBT_SAVE_XML/ZHH/newccb/rcv/</LocalDir><ccbLocal>D:/YBT_SAVE_XML/ZHH/newccb/localrcv/</ccbLocal></business><business><name>代理保险售后提醒查询</name><funcFlag outcode="P5381B123">1052</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindQuery</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindQuery</service></business><business><name>代理保险售后提醒取数</name><funcFlag outcode="P5381B223">1053</funcFlag><locktime>200</locktime><timeout>200</timeout><ip>127.0.0.1</ip><format>com.sinosoft.midplat.newccb.format.ActInsuSaleRemindAccess</format><service>com.sinosoft.midplat.newccb.service.ActInsuSaleRemindAccess</service><LocalDir>/ybttest/newccb/snd/</LocalDir><ccbLocalDir>/home/ap/fserver2/snd/</ccbLocalDir></business><business><name>申请登记台账</name><funcFlag outcode="P538191B2">1054</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignPolicyFormat</format><service>com.sinosoft.midplat.newccb.service.SignPolicyService</service></business><business><name>确认登记台账</name><funcFlag outcode="P538191B3">1055</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.SignConfirm</format><service>com.sinosoft.midplat.newccb.service.SignConfirmService</service></business><!-- 建行批量代收付 --><business><name>批量代收代付查询</name><funcFlag outcode="P53818102">1056</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatQuery</format><service>com.sinosoft.midplat.newccb.service.ContBatQuery</service></business><business><name>批量代收代付取盘</name><funcFlag outcode="P53818103">1057</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequest</format><service>com.sinosoft.midplat.newccb.service.ContBatRequest</service></business><business><name>批量代收代付取盘结果通知</name><funcFlag outcode="P53818104">1058</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatRequestResult</format><service>com.sinosoft.midplat.newccb.service.ContBatRequestResult</service></business><business><name>批量代收代付送盘</name><funcFlag outcode="P53818105">1059</funcFlag><locktime>200</locktime><timeout>200</timeout><format>com.sinosoft.midplat.newccb.format.BatResponse</format><service>com.sinosoft.midplat.newccb.service.ContBatResponse</service></business></newccb>

20:52:29,717 INFO newccb.NewCcbConf(57) - Out NewCcbConf.load()!
20:52:29,720 DEBUG common.NoFactory(23) - ClusterId=2; ClusterCount=3
20:52:29,726 INFO common.Log4jPrint(20) - ExecSQL : select max(LogNo) from TranLog where mod(LogNo,3)=2
20:52:30,217 INFO common.Log4jPrint(20) - ExecSQL : select max(MapNo) from NodeMap where mod(MapNo,3)=2
20:52:30,281 INFO common.Log4jPrint(20) - ExecSQL : select max(RecordNo) from Cont where mod(RecordNo,3)=2
20:52:30,344 INFO midplat.Ybt4Socket(46) - 前端通讯模块：com.sinosoft.midplat.newccb.newNet.CcbNetImpl
20:52:30,349 INFO net.SocketNetImpl(35) - 客户端IP：127.0.0.1；服务端口：39871
20:52:30,349 INFO midplat.Ybt4Socket(59) - Into Ybt4Socket.run()...
20:52:30,350 INFO newNet.CcbNetImpl(37) - Into CcbNetImpl.receive()...
20:52:30,352 DEBUG newNet.CcbNetImpl(43) - 请求报文长度：11026
20:52:30,353 INFO newNet.CcbNetImpl(49) - -------------<?xml version="1.0" encoding="UTF-8"?>
<TX>
	<TX_HEADER>
		<!--协议报文头-->
		<SYS_HDR_LEN>0</SYS_HDR_LEN><!--协议报文头长度-->
		<SYS_PKG_VRSN>01</SYS_PKG_VRSN><!--本报文规范所使用的协议版本为“01”-->
		<SYS_TTL_LEN>0</SYS_TTL_LEN>
		<SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><!--发起方安全节点编号-->
		<SYS_SND_SEC_ID>108011</SYS_SND_SEC_ID><!--发送方安全节点编号-->
		<SYS_TX_CODE>P53819113</SYS_TX_CODE><!--服务码-->
		<SYS_TX_VRSN>01</SYS_TX_VRSN><!--服务版本号-->
		<SYS_TX_TYPE>020000</SYS_TX_TYPE><!--服务种类-->
		<SYS_RESERVED></SYS_RESERVED>
		<SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><!--全局事件跟踪号-->
		<SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><!--子交易序号-->
		<SYS_PKG_TYPE>1</SYS_PKG_TYPE>
		<SYS_MSG_LEN>0</SYS_MSG_LEN>
		<!--应用报文是否加密,0：应用报文未加密,1：用报文为全文及关键字段双重加密,2:应用报文仅是关键字段加密,3：应用报文仅为全文加密-->
		<SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED>
		<SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!--应用报文加密方式-->
		<SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!--应用报文压缩方式,0:未压缩-->
		<SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN>
		<SYS_REQ_TIME>20161129145205993</SYS_REQ_TIME><!--发起方交易时间(yyyyMMddHHmmssNNN)-->
		<SYS_TIME_LEFT>000118996</SYS_TIME_LEFT><!--交易剩余处理时间-->
		<SYS_PKG_STS_TYPE>00</SYS_PKG_STS_TYPE><!--报文状态类型,00:请求报文-->
	</TX_HEADER>
	<TX_BODY><!--应用报文-->
		<COMMON><!--通用域-->
			<FILE_LIST_PACK>
				<FILE_NUM>0</FILE_NUM>
				<FILE_MODE>0</FILE_MODE>
				<FILE_NODE />
				<FILE_NAME_PACK />
				<FILE_PATH_PACK />
			</FILE_LIST_PACK>
		</COMMON>
		<ENTITY><!--实体域-->
			<COM_ENTITY><!--公共域-->
				<Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm>
				<Ins_Co_ID>010019</Ins_Co_ID><!--保险公司编号-->
				<SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--服务方流水号-->
				<TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--交易发起渠道编号-->
				<TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--交易发起渠道类别-->
				<CCBIns_ID>13099</CCBIns_ID><!--建行机构编号&网点代码-->
				<CCB_EmpID>5201300004</CCB_EmpID><!--建行员工编号&柜员编码-->
				<OprgDay_Prd>20150921</OprgDay_Prd><!--营业日期-->
				<LNG_ID>zh-cn</LNG_ID>
			</COM_ENTITY>
			<APP_ENTITY><!--应用域-->
				<Plchd_Nm>张燕</Plchd_Nm>
				<Plchd_Gnd_Cd>01</Plchd_Gnd_Cd><!--投保人性别代码-->
				<Plchd_Brth_Dt>19790601</Plchd_Brth_Dt><!--出生日期-->
				<Plchd_Crdt_TpCd>1010</Plchd_Crdt_TpCd><!--证件类型代码-->
				<Plchd_Crdt_No>230803197906010035</Plchd_Crdt_No>
				<Plchd_Crdt_EfDt>20130911</Plchd_Crdt_EfDt><!--证件生效日期-->
				<Plchd_Crdt_ExpDt>20170928</Plchd_Crdt_ExpDt><!--证件失效日期-->
				<Plchd_Nat_Cd>156</Plchd_Nat_Cd><!--国家地区代码-->
				<PlchdCtcAdrCtyRgon_Cd>156</PlchdCtcAdrCtyRgon_Cd><!---->
				<Plchd_Prov_Cd>110000</Plchd_Prov_Cd><!--投保人省代码-->
				<Plchd_City_Cd>110000</Plchd_City_Cd><!--投保人市代码-->
				<Plchd_CntyAndDstc_Cd>110101</Plchd_CntyAndDstc_Cd><!--投保人区县代码-->
				<Plchd_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Plchd_Dtl_Adr_Cntnt><!--详细地址内容-->
				<Plchd_Comm_Adr>北京市西城区德胜门外大街125号</Plchd_Comm_Adr><!--投保人通讯地址-->
				<Plchd_ZipECD>100086</Plchd_ZipECD><!--投保人邮政编码-->
				<PlchdFixTelItnlDstcNo>86</PlchdFixTelItnlDstcNo><!--固定电话国际区号-->
				<PlchdFixTelDmstDstcNo>010</PlchdFixTelDmstDstcNo><!--固定电话国内区号-->
				<Plchd_Fix_TelNo>2345678</Plchd_Fix_TelNo><!--固定电话号码-->
				<PlchdMoveTelItlDstcNo>086</PlchdMoveTelItlDstcNo><!--移动电话国际区号-->
				<Plchd_Move_TelNo>17000000120</Plchd_Move_TelNo><!--移动电话号码-->
				<Plchd_Email_Adr>jiangguanqun0625@163.com</Plchd_Email_Adr>
				<Plchd_Ocp_Cd>A0000</Plchd_Ocp_Cd><!--投保人职业代码-->
				<Plchd_Yr_IncmAm>120000.00</Plchd_Yr_IncmAm><!--投保人年收入金额-->
				<Fam_Yr_IncmAm>300000.00</Fam_Yr_IncmAm><!--家庭年收入金额-->
				<InsPrem_Bdgt_Amt />
				<Rsdnt_TpCd>1</Rsdnt_TpCd><!--居民类型代码-->
				<RspbPsn_Nm />
				<Plchd_And_Rcgn_ReTpCd>0133011</Plchd_And_Rcgn_ReTpCd><!--投保人和被保人关系类型代码-->
				<Rcgn_Nm>张燕</Rcgn_Nm>
				<Rcgn_CPA_FullNm />
				<Rcgn_Gnd_Cd>01</Rcgn_Gnd_Cd>
				<Rcgn_Brth_Dt>19790601</Rcgn_Brth_Dt>
				<Rcgn_Crdt_TpCd>1010</Rcgn_Crdt_TpCd>
				<Rcgn_Crdt_No>230803197906010035</Rcgn_Crdt_No>
				<Rcgn_Crdt_EfDt />
				<Rcgn_Crdt_ExpDt />
				<Rcgn_Nat_Cd>156</Rcgn_Nat_Cd>
				<RcgnCtcAdr_CtyRgon_Cd>156</RcgnCtcAdr_CtyRgon_Cd>
				<Rcgn_Prov_Cd>110000</Rcgn_Prov_Cd>
				<Rcgn_City_Cd>110000</Rcgn_City_Cd>
				<Rcgn_CntyAndDstc_Cd>110101</Rcgn_CntyAndDstc_Cd>
				<Rcgn_Dtl_Adr_Cntnt>北京市西城区德胜门外大街125号</Rcgn_Dtl_Adr_Cntnt>
				<Rcgn_Comm_Adr>北京市西城区德胜门外大街125号</Rcgn_Comm_Adr>
				<Rcgn_ZipECD>100086</Rcgn_ZipECD>
				<RcgnFixTelItnl_DstcNo />
				<RcgnFixTelDmst_DstcNo />
				<Rcgn_Fix_TelNo />
				<RcgnMoveTelItnlDstcNo />
				<Rcgn_Move_TelNo>17000000120</Rcgn_Move_TelNo>
				<Rcgn_Email_Adr />
				<Rcgn_Ocp_Cd>A0000</Rcgn_Ocp_Cd>
				<Rcgn_Yr_IncmAm />
				<Rcgn_LvFr_Pps_Lnd_Num />
				<Pps_List>
				</Pps_List>
				<Benf_Num>2</Benf_Num><!--受益人个数-->
				<Benf_List>
					<Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd><!--受益人类型代码-->
						<Benf_SN>1</Benf_SN><!--受益人序号-->
						<Benf_Bnft_Seq>1</Benf_Bnft_Seq><!--受益人受益顺序-->
						<Benf_Nm>小王子</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd><!--性别代码-->
						<Benf_Brth_Dt>19940101</Benf_Brth_Dt><!--出生日期-->
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd><!--证件类型代码-->
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd><!--受益人和被保人关系类型代码-->
						<Bnft_Pct>1.0000</Bnft_Pct><!--受益比例-->
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
					</Benf_Detail>
          <Benf_Detail>
						<AgIns_Benf_TpCd>1</AgIns_Benf_TpCd>
						<Benf_SN>2</Benf_SN>
						<Benf_Bnft_Seq>2</Benf_Bnft_Seq>
						<Benf_Nm>小公主</Benf_Nm>
						<Benf_Gnd_Cd>02</Benf_Gnd_Cd>
						<Benf_Brth_Dt>19950101</Benf_Brth_Dt>
						<Benf_Crdt_TpCd>1020</Benf_Crdt_TpCd>
						<Benf_Crdt_No>000000111</Benf_Crdt_No>
						<Benf_Crdt_EfDt />
						<Benf_Crdt_ExpDt />
						<Benf_Nat_Cd />
						<Benf_And_Rcgn_ReTpCd>0133010</Benf_And_Rcgn_ReTpCd>
						<Bnft_Pct>1.0000</Bnft_Pct>
						<BenfCtcAdr_CtyRgon_Cd />
						<Benf_Prov_Cd />
						<Benf_City_Cd />
						<Benf_CntyAndDstc_Cd />
						<Benf_Dtl_Adr_Cntnt />
						<Benf_Comm_Adr />
          </Benf_Detail>
				</Benf_List>
				<AgIns_Pkg_ID /><!--代理保险套餐编号-->
				<Cvr_Num>1</Cvr_Num><!--险种个数-->
				<Busi_List>
					<Busi_Detail>
						<Cvr_ID>011A0100</Cvr_ID>
						<Cvr_Nm>安心保利年金保险</Cvr_Nm>
						<MainAndAdlIns_Ind>1</MainAndAdlIns_Ind><!--主附险标志-->
						<Ins_Cps>199</Ins_Cps><!--投保份数-->
						<InsPrem_Amt>199000.00</InsPrem_Amt><!--保费金额-->
						<Ins_Cvr />
						<Ins_Scm_Inf />
						<Opt_Part_DieIns_Amt />
						<FTm_Extr_Adl_InsPrem />
						<Emgr_CtcPsn />
						<EmgrCtcPsnAndRcReTpCd />
						<Emgr_Ctc_Tel />
						<AgIns_Ln_Ctr_ID />
						<Ln_Ctr_ExpDt />
						<Upd_Loan_Amt />
						<PrimBlInsPolcyVchr_No />
						<InsPrem_PyF_MtdCd>02</InsPrem_PyF_MtdCd><!--保费缴费方式代码-->
						<InsPrem_PyF_Prd_Num>1</InsPrem_PyF_Prd_Num><!--保费缴费期数-->
						<InsPrem_PyF_Cyc_Cd>0100</InsPrem_PyF_Cyc_Cd><!--保费缴费周期代码-->
						<ExpPrmmRcvModCgyCd />
						<SvBnf_Drw_Cyc_Cd />
						<ApntInsPremPyAdvnInd>1</ApntInsPremPyAdvnInd><!--约定保费垫交标志-->
						<XtraDvdn_Pcsg_MtdCd />
						<RdAmtPyCls_Ind />
						<Anuty_Drw_CgyCd />
						<Anuty_Drw_Prd_Num />
						<Anuty_Drw_Cyc_Cd />
						<Anuty_Pcsg_MtdCd />
						<Ins_Yr_Prd_CgyCd>03</Ins_Yr_Prd_CgyCd><!--保险年期类别代码-->
						<Ins_Ddln>5</Ins_Ddln><!--保险期限-->
						<Ins_Cyc_Cd>03</Ins_Cyc_Cd><!--保险周期代码-->
						<Ivs_MtdCd />
						<Auto_RnwCv_Ind />
						<Rsrv_Fld_1 />
						<Rsrv_Fld_2 />
						<Rsrv_Fld_3 />
						<Rsrv_Fld_4 />
						<Rsrv_Fld_5 />
						<Rsrv_Fld_6 />
						<Rsrv_Fld_7 />
						<Rsrv_Fld_8 />
						<Rsrv_Fld_9 />
						<Rsrv_Fld_10 />
						<IvsAc_Num>0</IvsAc_Num><!--投资账户个数-->
						<PayAcctCode_List/>
					</Busi_Detail>
				</Busi_List>
				<Ins_Bl_Prt_No>210414131200028</Ins_Bl_Prt_No><!--投保单号-->
				<Minr_Acm_Cvr />
				<InsPolcy_Pswd />
				<Inv_No />
				<Ntf_Itm_Ind>0</Ntf_Itm_Ind><!--告知事项标志-->
				<Dspt_Pcsg_MtdCd>03</Dspt_Pcsg_MtdCd><!--争议处理方式代码-->
				<Dspt_Arbtr_Inst_Nm />
				<InsPolcy_Rcv_MtdCd />
				<Ins_Prj_CgyCd />
				<PydFeeOutBill_CgyCd />
				<InsPolcyActSaleRgonID />
				<Ins_CsLs_Prvd_Rgon_ID />
				<Pstcrpt_Rmrk />
				<InsPolcy_Intnd_EfDt />
				<InsPolcy_Medm_TpCd>2</InsPolcy_Medm_TpCd><!--保单介质类型代码-->
				<CstMgr_Blng_CCBIns_ID />
				<Lv1_Br_No>110000000</Lv1_Br_No><!--一级分行号-->
				<BO_Nm>中国建设银行股份有限公司北京银地支行</BO_Nm><!--网点名称-->
				<BOInsPrAgnBsnLcns_ECD>110106667505023002</BOInsPrAgnBsnLcns_ECD><!--网点保险兼职代理业务许可证编码-->
				<BOInsPrAgBsnLcnVld_Dt>20991231</BOInsPrAgBsnLcnVld_Dt><!--网点保险兼职代理业务许可证有效日期-->
				<BO_Sale_Stff_Nm>姚娜</BO_Sale_Stff_Nm><!--网点销售人员姓名-->
				<BO_Sale_Stff_ID>95920150</BO_Sale_Stff_ID><!--网点销售人员编号-->
				<Sale_Stff_AICSQCtf_ID>00201012110000058429</Sale_Stff_AICSQCtf_ID><!--销售人员代理保险从业人员资格证书编号-->
				<InsAgnCrStQuaCtVld_Dt>20991231</InsAgnCrStQuaCtVld_Dt><!--保险代理从业人员资格证书有效日期-->
				<BOIChOfAgInsBsnPnp_ID>60516155</BOIChOfAgInsBsnPnp_ID><!--网点分管代理保险业务负责人编号-->
				<BOIChOfAgInsBsnPnp_Nm>1</BOIChOfAgInsBsnPnp_Nm><!--网点分管代理保险业务负责人姓名-->
				<Rnew_PyF_PyMd_Cd />
				<Plchd_PyF_AccNo>4367466013650209947</Plchd_PyF_AccNo><!--投保人缴费账号-->
				<Plchd_Drw_AccNo />
				<Rcgn_AccNo />
				<Benf_AccNo />
				<Rsrv_Fld_11 />
				<Rsrv_Fld_12 />
				<Rsrv_Fld_13 />
				<Rsrv_Fld_14 />
				<Rsrv_Fld_15 />
				<Rsrv_Fld_16 />
				<Rsrv_Fld_17 />
				<Rsrv_Fld_18 />
				<Rsrv_Fld_19 />
				<Rsrv_Fld_20 />
				<Cst_Rsk_Tlrnc_Cpy_Cd>04</Cst_Rsk_Tlrnc_Cpy_Cd><!--客户风险承受能力代码-->
				<Rsk_Evlt_AvlDt>20160912</Rsk_Evlt_AvlDt><!--风险测评有效期-->
			</APP_ENTITY>
		</ENTITY>
	</TX_BODY>
	<TX_EMB />
</TX>


20:52:30,361 INFO newNet.CcbNetImpl(55) - 新建行交易码为==P53819113
20:52:30,361 INFO newNet.CcbNetImpl(58) - mTranCom==============03
20:52:30,528 DEBUG common.SaveMessage(17) - SavePath_HOME = f:\
20:52:30,528 DEBUG common.SaveMessage(33) - SavePath_HOME = f:/
20:52:30,533 INFO common.SaveMessage(59) - 1124_3_1012_in.xml IO输出耗时:0.0050s
20:52:30,534 INFO newNet.CcbNetImpl(68) - 保存报文完毕！1124_3_1012_in.xml
20:52:30,537 INFO newNet.CcbNetImpl(91) - 增加标准报文头节点后报文：
20:52:30,540 INFO newNet.CcbNetImpl(95) - Out CcbNetImpl.receive()!
20:52:30,545 INFO midplat.Ybt4Socket(117) - 报文转换模块：com.sinosoft.midplat.newccb.format.NewCont
20:52:30,553 INFO format.NewCont(58) - Into NewCont.noStd2Std()...
20:52:30,564 INFO format.NewContInXsl(26) - Into NewContInXsl.load()...
20:52:30,564 INFO format.NewContInXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl...
20:52:30,565 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,642) and length=25852 bytes!
20:52:30,907 INFO format.NewContInXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContIn.xsl!
20:52:30,923 INFO format.NewContInXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="TX"><TranData><!-- 核心录单自核请求报文 --><Head><!--交易日期 --><TranDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></TranDate><!--交易时间 --><TranTime><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,8,14)" /></TranTime><!-- 银行网点 --><NodeNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCBIns_ID" /></NodeNo><!-- 银行编码 --><BankCode>0104</BankCode><!--柜员号 --><TellerNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/CCB_EmpID" /></TellerNo><!-- 交易流水号 --><TranNo><xsl:value-of select="TX_BODY/ENTITY/COM_ENTITY/SvPt_Jrnl_No" /></TranNo><xsl:copy-of select="Head/*" /></Head><!-- 报文体 --><xsl:apply-templates select="TX_BODY/ENTITY/APP_ENTITY" /></TranData></xsl:template><!-- 报文体 --><xsl:template match="TX_BODY/ENTITY/APP_ENTITY"><Body><!-- 投保单印刷号 --><ProposalPrtNo><xsl:value-of select="Ins_Bl_Prt_No" /></ProposalPrtNo><!--保单合同印刷号 (单证) 目前建行新接口不传，在打印保单传20140903--><ContPrtNo /><!-- 投保日期 --><PolApplyDate><xsl:value-of select="java:com.sinosoft.midplat.newccb.util.NewCcbFormatUtil.getTimeAndDate(//TX/TX_HEADER/SYS_REQ_TIME,0,8)" /></PolApplyDate><!--投保人缴费账号  --><AccNo><xsl:value-of select="Plchd_PyF_AccNo" /></AccNo><!-- 账户姓名 工行不传账户名默认为投保人姓名--><AccName><xsl:value-of select="Plchd_Nm" /></AccName><!-- 保单递送方式  默认全为1--><GetPolMode>1</GetPolMode><!-- 健康告知 --><HealthNotice><xsl:call-template name="healFlag"><xsl:with-param name="HealFlag"><xsl:value-of select="Ntf_Itm_Ind" /></xsl:with-param></xsl:call-template></HealthNotice><!-- 销售人员姓名  --><SaleName><xsl:value-of select="BO_Sale_Stff_Nm" /></SaleName><!-- 销售人员工号 --><SaleStaff><xsl:value-of select="BO_Sale_Stff_ID" /></SaleStaff><!-- 销售人员资格证书编号  --><SaleCertNo><xsl:value-of select="Sale_Stff_AICSQCtf_ID" /></SaleCertNo><!-- 销售人员资格证号  --><!-- 建行一级分行号 --><Lv1BrNo><xsl:value-of select="Lv1_Br_No" /></Lv1BrNo><!-- 投保人 --><Appnt><!-- 投保人姓名 --><Name><xsl:value-of select="Plchd_Nm" /></Name><!-- 投保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Plchd_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 投保人生日 --><Birthday><xsl:value-of select="Plchd_Brth_Dt" /></Birthday><!-- 投保人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Plchd_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 投保人证件号 --><IDNo><xsl:value-of select="Plchd_Crdt_No" /></IDNo><!-- 投保人证件生效日期
				<xsl:choose>
				<xsl:when test="Plchd_Crdt_EfDt=20991231" ><PlchdCrdtEfDt>99990101</PlchdCrdtEfDt></xsl:when>
				<xsl:otherwise><PlchdCrdtEfDt><xsl:value-of select="Plchd_Crdt_EfDt"/></PlchdCrdtEfDt></xsl:otherwise>
				</xsl:choose>--><!-- 投保人证件失效日期--><xsl:choose><xsl:when test="Plchd_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Plchd_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 投保人国籍 --><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Plchd_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 投保人详细地址内容 --><AddressContent><xsl:value-of select="Plchd_Dtl_Adr_Cntnt" /></AddressContent><!-- 投保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="PlchdFixTelDmstDstcNo" /></FixTelDmstDstcNo><!-- 投保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="PlchdMoveTelItlDstcNo" /></MobileItlDstcNo><!-- 投保人国家地区代码 --><NationalityCode><xsl:value-of select="Plchd_Nat_Cd" /></NationalityCode><!-- 投保人地址 --><Address><xsl:value-of select="Plchd_Comm_Adr" /></Address><!-- 投保人邮政编码--><ZipCode><xsl:value-of select="Plchd_ZipECD" /></ZipCode><!-- 投保人固定电话--><Phone><xsl:value-of select="PlchdFixTelDmstDstcNo" /><xsl:value-of select="Plchd_Fix_TelNo" /></Phone><!-- 投保人移动电话--><Mobile><xsl:value-of select="Plchd_Move_TelNo" /></Mobile><!-- 投保人邮箱--><Email><xsl:value-of select="Plchd_Email_Adr" /></Email><!-- 投保人职业代码--><JobCode>3010101</JobCode><!-- 投保人年收入 --><YearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Plchd_Yr_IncmAm)" /></YearSalary><!-- 投保人家庭年收入 --><FamilyYearSalary><xsl:value-of select="java:com.sinosoft.midplat.common.CalculateUtil.yuanToWYuan(Fam_Yr_IncmAm)" /></FamilyYearSalary><!-- 投保人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_relation"><xsl:with-param name="RelaToInsured"><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured2><xsl:value-of select="Plchd_And_Rcgn_ReTpCd" /></RelaToInsured2><!-- 投保人居民类型 --><DenType><xsl:value-of select="Rsdnt_TpCd" /></DenType></Appnt><!-- 被保人 --><Insured><!-- 被保人姓名 --><Name><xsl:value-of select="Rcgn_Nm" /></Name><!-- 被保人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Rcgn_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 被保人生日 --><Birthday><xsl:value-of select="Rcgn_Brth_Dt" /></Birthday><!-- 被保人证件类型--><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Rcgn_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 被保人证件号--><IDNo><xsl:value-of select="Rcgn_Crdt_No" /></IDNo><!-- 被保人证件失效日期--><xsl:choose><xsl:when test="Rcgn_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Rcgn_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 被保人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Rcgn_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 被保人详细地址内容 --><AddressContent><xsl:value-of select="Rcgn_Dtl_Adr_Cntnt" /></AddressContent><!-- 被保人固定电话国内区号 --><FixTelDmstDstcNo><xsl:value-of select="RcgnFixTelDmst_DstcNo" /></FixTelDmstDstcNo><!-- 被保人移动电话国际区号 --><MobileItlDstcNo><xsl:value-of select="RcgnMoveTelItnlDstcNo" /></MobileItlDstcNo><!-- 被保人国家地区代码 --><NationalityCode><xsl:value-of select="Rcgn_Nat_Cd" /></NationalityCode><!-- 被保人地址--><Address><xsl:value-of select="Rcgn_Comm_Adr" /></Address><!-- 被保人邮编--><ZipCode><xsl:value-of select="Rcgn_ZipECD" /></ZipCode><!-- 被保人固定电话--><Phone><xsl:value-of select="RcgnFixTelDmst_DstcNo" /><xsl:value-of select="Rcgn_Fix_TelNo" /></Phone><!-- 被保人移动号码--><Mobile><xsl:value-of select="Rcgn_Move_TelNo" /></Mobile><!-- 被保人邮箱--><Email><xsl:value-of select="Rcgn_Email_Adr" /></Email><!-- 被保人职业代码--><JobCode>3010101</JobCode><!-- 被保人年收入 --><RcgnYrIncmAm><xsl:value-of select="Rcgn_Yr_IncmAm" /></RcgnYrIncmAm><!-- 未成年被保险人在其他保险公司累计身故保额 --><CovSumAmt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Minr_Acm_Cvr)" /></CovSumAmt><!--客户风险承受能力代码--><RiskAssessmentResult><xsl:value-of select="Cst_Rsk_Tlrnc_Cpy_Cd" /></RiskAssessmentResult><!--风险测评有效期--><RiskAssessmentEndDate><xsl:value-of select="Rsk_Evlt_AvlDt" /></RiskAssessmentEndDate><!--预算金额--><PremiumBudget><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Bdgt_Amt)" /></PremiumBudget></Insured><!-- 受益人 --><xsl:choose><xsl:when test="Benf_Num ='0'" /><xsl:when test="Benf_Num !='0'"><!-- 		<xsl:for-each select="Benf_Detail">    建行自己发的测试报文没有Benf_List/Benf_Detail只有 Benf_Detail --><xsl:for-each select="Benf_List/Benf_Detail"><Bnf><!-- 受益人类型代码 --><Type><xsl:value-of select="AgIns_Benf_TpCd" /></Type><!-- 受益人序号 --><BenfSN><xsl:value-of select="Benf_SN" /></BenfSN><!-- 受益人受益顺序 --><Grade><xsl:value-of select="Benf_Bnft_Seq" /></Grade><!-- 受益人姓名 --><Name><xsl:value-of select="Benf_Nm" /></Name><!-- 受益人性别 --><Sex><xsl:call-template name="tran_sex"><xsl:with-param name="Sex"><xsl:value-of select="Benf_Gnd_Cd" /></xsl:with-param></xsl:call-template></Sex><!-- 受益人出生日期 --><Birthday><xsl:value-of select="Benf_Brth_Dt" /></Birthday><!-- 受益人证件类型 --><IDType><xsl:call-template name="tran_idtype"><xsl:with-param name="idtype"><xsl:value-of select="Benf_Crdt_TpCd" /></xsl:with-param></xsl:call-template></IDType><!-- 受益人证件号 --><IDNo><xsl:value-of select="Benf_Crdt_No" /></IDNo><!-- 受益人证件失效日期--><xsl:choose><xsl:when test="Benf_Crdt_ExpDt=20991231"><IdExpDate>99990101</IdExpDate></xsl:when><xsl:otherwise><IdExpDate><xsl:value-of select="Benf_Crdt_ExpDt" /></IdExpDate></xsl:otherwise></xsl:choose><!-- 受益人国籍--><Nationality><xsl:call-template name="tran_Nationality"><xsl:with-param name="Nationality"><xsl:value-of select="Benf_Nat_Cd" /></xsl:with-param></xsl:call-template></Nationality><!-- 受益人与被保人关系代码 --><RelaToInsured><xsl:call-template name="tran_Bnfrelation"><xsl:with-param name="BnfRelaToInsured"><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></xsl:with-param></xsl:call-template></RelaToInsured><RelaToInsured3><xsl:value-of select="Benf_And_Rcgn_ReTpCd" /></RelaToInsured3><!-- 受益人受益比例 --><Lot><xsl:value-of select="Bnft_Pct" /></Lot><!-- 受益人详细地址内容 --><AddressContent><xsl:value-of select="Benf_Dtl_Adr_Cntnt" /></AddressContent><!-- 受益人通讯地址 --><BenfCommAdr><xsl:value-of select="Benf_Comm_Adr" /></BenfCommAdr><BeneficType>N</BeneficType></Bnf></xsl:for-each></xsl:when></xsl:choose><xsl:choose><!-- 险种个数 --><xsl:when test="Cvr_Num ='0'" /><xsl:when test="Cvr_Num !='0'"><xsl:for-each select="Busi_List/Busi_Detail"><Risk><!-- 险种编号 --><RiskCode><xsl:value-of select="Cvr_ID" /></RiskCode><!-- 险种名称 --><RiskName><xsl:value-of select="Cvr_Nm" /></RiskName><!-- 代理保险套餐编号 --><AgInsPkgID><xsl:value-of select="AgIns_Pkg_ID" /></AgInsPkgID><!-- 保额 --><Amnt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(Ins_Cvr)" /></Amnt><!-- 保费 --><Prem><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.yuanToFen(InsPrem_Amt)" /></Prem><!-- 投保份数 --><Mult><xsl:value-of select="Ins_Cps" /></Mult><PayMode>B</PayMode><!-- 保费缴纳方式代码 --><xsl:if test="Cvr_ID='011A0100'"><PayIntv>0</PayIntv><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="Cvr_ID !='011A0100'"><PayIntv><xsl:call-template name="tran_Contpayintv"><xsl:with-param name="payintv"><xsl:value-of select="InsPrem_PyF_MtdCd" /></xsl:with-param></xsl:call-template></PayIntv><!-- 缴费年期和缴费年龄 --><xsl:if test="InsPrem_PyF_MtdCd = 02"><!-- 趸交1000Y给核心 --><PayEndYear>1000</PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if><xsl:if test="InsPrem_PyF_MtdCd != 02"><!-- 建行没有交费年期类型一说 --><PayEndYear><xsl:value-of select="InsPrem_PyF_Prd_Num" /></PayEndYear><PayEndYearFlag>Y</PayEndYearFlag></xsl:if></xsl:if><!-- 保费缴纳期数 
				<PayEndYear>
					<xsl:value-of select="InsPrem_PyF_Prd_Num" />
				</PayEndYear>--><!-- 保费缴纳周期代码 
				<PayEndYearFlag>
					<xsl:value-of select="InsPrem_PyF_Cyc_Cd" />
				</PayEndYearFlag>--><!-- 满期保险金领取方式 --><GetIntv><xsl:call-template name="tran_GetIntv"><xsl:with-param name="GetIntv"><xsl:value-of select="ExpPrmmRcvModCgyCd" /></xsl:with-param></xsl:call-template></GetIntv><!-- 生存金领取周期代码 --><GetYearFlag><xsl:call-template name="tran_LiRenteDrawMode"><xsl:with-param name="GETLiRenteDrawMode"><xsl:value-of select="SvBnf_Drw_Cyc_Cd" /></xsl:with-param></xsl:call-template></GetYearFlag><!-- 领取年龄年期标志  这个需要转换--><!-- 红利领取方式 --><BonusGetMode><xsl:call-template name="tran_BonusGetMode"><xsl:with-param name="BonusGetMode"><xsl:value-of select="XtraDvdn_Pcsg_MtdCd" /></xsl:with-param></xsl:call-template></BonusGetMode><!-- 减额交清标志 --><SubFlag><xsl:value-of select="RdAmtPyCls_Ind" /></SubFlag><!-- 年金领取类别代码
				<Anuty_Drw_CgyCd>
					<xsl:value-of select="Anuty_Drw_CgyCd" />
				</Anuty_Drw_CgyCd> --><!-- 年金领取期数 --><GetYear><xsl:value-of select="Anuty_Drw_Prd_Num" /></GetYear><!-- 领取年期 有争议之前用GetTerms--><!--保险期间--><xsl:choose><xsl:when test="Ins_Yr_Prd_CgyCd='04'"><!-- 至某特定年龄 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:when test="Ins_Yr_Prd_CgyCd='05'"><!-- 保终身 --><!-- 保险年期年龄标志 --><InsuYearFlag>A</InsuYearFlag><!-- 保险年期年龄 --><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:when><xsl:otherwise><InsuYearFlag><xsl:call-template name="tran_PbIYF"><xsl:with-param name="PbInsuYearFlag"><xsl:value-of select="Ins_Cyc_Cd" /></xsl:with-param></xsl:call-template></InsuYearFlag><InsuYear><xsl:value-of select="Ins_Ddln" /></InsuYear></xsl:otherwise></xsl:choose><!-- 领取银行编码 传空--><GetBankCode /><!-- 领取银行账户 传空--><GetBankAccNo /><!-- 领取银行户名  传空--><GetAccName /><!-- 自动垫交标志 传空--><AutoPayFlag><xsl:value-of select="ApntInsPremPyAdvnInd" /></AutoPayFlag></Risk></xsl:for-each></xsl:when></xsl:choose></Body></xsl:template><!-- 性别 --><xsl:template name="tran_sex"><xsl:param name="Sex" /><xsl:if test="$Sex = 1">0</xsl:if><!-- 男 --><xsl:if test="$Sex = 2">1</xsl:if><!-- 女 --></xsl:template><!-- 保险金领取方式 --><xsl:template name="tran_GetIntv"><xsl:param name="GetIntv" /><xsl:if test="$GetIntv = 0">0</xsl:if><!--趸领  --><xsl:if test="$GetIntv = 1">1</xsl:if><!-- 月领 --><xsl:if test="$GetIntv = 12">12</xsl:if><!-- 年领 --></xsl:template><xsl:template name="tran_LiRenteDrawMode"><xsl:param name="GETLiRenteDrawMode" /><xsl:if test="$GETLiRenteDrawMode = 0">Y</xsl:if><!--  0-一次给付  --><xsl:if test="$GETLiRenteDrawMode = 1">Y</xsl:if><!--  1-月给付  --><xsl:if test="$GETLiRenteDrawMode = 3">Y</xsl:if><!--  3-季给付  --><xsl:if test="$GETLiRenteDrawMode = 6">Y</xsl:if><!--  6-半年给付  --><xsl:if test="$GETLiRenteDrawMode = 12">Y</xsl:if><!--  12-年给付  --></xsl:template><!-- 投被保人国籍 --><xsl:template name="tran_Nationality"><xsl:param name="Nationality" /><xsl:if test="$Nationality = 0156">CHN</xsl:if><xsl:if test="$Nationality = 0344" /><!--香港 --><xsl:if test="$Nationality = 0158" /><!--台湾 --><xsl:if test="$Nationality = 0446" /><!--澳门 --><xsl:if test="$Nationality = 0392">JAN</xsl:if><!--日本 --><xsl:if test="$Nationality = 0840">USA</xsl:if><!--美国--><xsl:if test="$Nationality = 0643" /><!--俄罗斯 --><xsl:if test="$Nationality = 0826">ENG</xsl:if><!--英国 --><xsl:if test="$Nationality = 0250">FRA</xsl:if><!--法国--><xsl:if test="$Nationality = 0276">DEU</xsl:if><!--德国 --><xsl:if test="$Nationality = 0410">KOR</xsl:if><!--韩国 --><xsl:if test="$Nationality = 0702">SG</xsl:if><!--新加坡 --><xsl:if test="$Nationality = 0360">INA</xsl:if><!--印度尼西亚--><xsl:if test="$Nationality = 0356">IND</xsl:if><!--印度--><xsl:if test="$Nationality = 0380">ITA</xsl:if><!--意大利 --><xsl:if test="$Nationality = 0458">MY</xsl:if><!--马来西亚 --><xsl:if test="$Nationality = 0764">THA</xsl:if><!--泰国--><xsl:if test="$Nationality = 0999" /><!--其他--></xsl:template><!-- 红利领取方式 --><xsl:template name="tran_BonusGetMode"><xsl:param name="BonusGetMode" /><xsl:if test="$BonusGetMode = 0">2</xsl:if><!-- 直接给付 --><xsl:if test="$BonusGetMode = 1">3</xsl:if><!-- 抵交保费 --><xsl:if test="$BonusGetMode = 2">1</xsl:if><!-- 累积生息 --><xsl:if test="$BonusGetMode = 3">5</xsl:if><!-- 增额交清 --></xsl:template><!-- 保单的缴费方式 --><xsl:template name="tran_Contpayintv"><xsl:param name="payintv">0</xsl:param><xsl:choose><xsl:when test="$payintv = 01">-1</xsl:when><!-- 不定期交 --><xsl:when test="$payintv = 02">0</xsl:when><!-- 趸交 --><!--	<xsl:when test="$payintv = 1">1</xsl:when> 月交 --><!--	<xsl:when test="$payintv = 3">3</xsl:when> 季交 --><!--	<xsl:when test="$payintv = 6">6</xsl:when> 半年交 --><xsl:when test="$payintv = 03">12</xsl:when><!-- 年交 --><xsl:when test="$payintv = 04">98</xsl:when><!-- 交至某确定年 --><xsl:when test="$payintv = 05">99</xsl:when><!-- 终身交费 --><xsl:otherwise><xsl:value-of select="-1" /></xsl:otherwise></xsl:choose></xsl:template><!-- 保单传送方式?    需要和核心确认 --><xsl:template name="PbSendMode"><xsl:param name="pbSendMode" /><xsl:choose><xsl:when test="$pbSendMode = 1">1</xsl:when><xsl:when test="$pbSendMode = 2">1</xsl:when><xsl:when test="$pbSendMode = 3">1</xsl:when><xsl:otherwise /></xsl:choose></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag" /><xsl:choose><xsl:when test="$PbInsuYearFlag = 01">M</xsl:when><xsl:when test="$PbInsuYearFlag = 02">M</xsl:when><xsl:when test="$PbInsuYearFlag = 03">Y</xsl:when><xsl:when test="$PbInsuYearFlag = 04">M</xsl:when><xsl:when test="$PbInsuYearFlag = 99">D</xsl:when><xsl:otherwise><xsl:value-of select="Y" /></xsl:otherwise></xsl:choose></xsl:template><!-- 证件类型 --><xsl:template name="tran_idtype"><xsl:param name="idtype" /><xsl:choose><xsl:when test="$idtype = '1010'">0</xsl:when><!-- 公民身份证号码 --><xsl:when test="$idtype = '1022'">2</xsl:when><!-- 军官证 --><xsl:when test="$idtype = '1032'">D</xsl:when><!-- 警官证 --><xsl:when test="$idtype = '1021'">A</xsl:when><!-- 解放军士兵证 --><xsl:when test="$idtype = '1040'">4</xsl:when><!-- 户口簿 --><xsl:when test="$idtype = '1080'">B</xsl:when><!-- (港澳)回乡证及通行证 --><xsl:when test="$idtype = '1070'">B</xsl:when><!-- 台湾来内地通行证--><xsl:when test="$idtype = '1050'">1</xsl:when><!-- 护照--><xsl:when test="$idtype = '1051'">1</xsl:when><!-- (外国)护照--><xsl:when test="$idtype = '1052'">1</xsl:when><!-- (中国)护照--><xsl:when test="$idtype = '1060'">5</xsl:when><!-- 学生证--><xsl:when test="$idtype = '1999'">6</xsl:when><!-- 个人其他证件--><xsl:when test="$idtype = '2999'">6</xsl:when><!-- 对公其他证件--><xsl:when test="$idtype = '1100'">3</xsl:when><!-- 驾照 --><xsl:when test="$idtype = '1011'">C</xsl:when><!-- 临时居民身份证 --><xsl:when test="$idtype = '1160'">E</xsl:when><!-- 台湾居民身份证 台胞证 --><xsl:otherwise><xsl:value-of select="8" /><!-- 其他 --></xsl:otherwise></xsl:choose></xsl:template><!-- 投保人和被保人的 关系 --><xsl:template name="tran_relation"><xsl:param name="RelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$RelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$RelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$RelaToInsured = 0133015">01</xsl:when><!--父亲  03 子女   --><xsl:when test="$RelaToInsured = 0133016">01</xsl:when><!--母亲 03 子女 --><xsl:when test="$RelaToInsured = 0133011">03</xsl:when><!--儿子 01 父母 --><xsl:when test="$RelaToInsured = 0133012">03</xsl:when><!--女儿 01 父母--><xsl:when test="$RelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$RelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$RelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$RelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$RelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$RelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$RelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$RelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$RelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$RelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$RelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 被保人和收益人的 关系 --><xsl:template name="tran_Bnfrelation"><xsl:param name="BnfRelaToInsured">00</xsl:param><xsl:choose><xsl:when test="$BnfRelaToInsured = 0133043">00</xsl:when><!--本人 --><xsl:when test="$BnfRelaToInsured = 0133010">02</xsl:when><!--配偶 --><xsl:when test="$BnfRelaToInsured = 0133015">01</xsl:when><!--父亲     --><xsl:when test="$BnfRelaToInsured = 0133016">01</xsl:when><!--母亲  --><xsl:when test="$BnfRelaToInsured = 0133011">03</xsl:when><!--儿子 --><xsl:when test="$BnfRelaToInsured = 0133012">03</xsl:when><!--女儿 --><xsl:when test="$BnfRelaToInsured = 0133017">04</xsl:when><!--祖父--><xsl:when test="$BnfRelaToInsured = 0133018">04</xsl:when><!--祖母--><xsl:when test="$BnfRelaToInsured = 0133013">04</xsl:when><!--孙子 --><xsl:when test="$BnfRelaToInsured = 0133014">04</xsl:when><!--孙女 --><xsl:when test="$BnfRelaToInsured = 0133020">06</xsl:when><!--哥哥 --><xsl:when test="$BnfRelaToInsured = 0133019">06</xsl:when><!--姐姐--><xsl:when test="$BnfRelaToInsured = 0133035">06</xsl:when><!--弟弟--><xsl:when test="$BnfRelaToInsured = 0133036">06</xsl:when><!--妹妹--><xsl:when test="$BnfRelaToInsured = 0133021">06</xsl:when><!--其它亲属 --><xsl:when test="$BnfRelaToInsured = 0133002">06</xsl:when><!--同事 --><xsl:when test="$BnfRelaToInsured = 0133001">06</xsl:when><!--朋友--><!-- 核心没朋友啊，只能为其他喽 Update 20130226 --><xsl:otherwise>--</xsl:otherwise><!-- 没有映射的都是这样 --></xsl:choose></xsl:template><!-- 健康告知 --><xsl:template name="healFlag"><xsl:param name="HealFlag">N</xsl:param><xsl:if test="$HealFlag = 0">N</xsl:if><!-- 无健康告知 --><xsl:if test="$HealFlag = 1">Y</xsl:if><!-- 有健康告知 --></xsl:template></xsl:stylesheet>

20:52:30,925 INFO format.NewContInXsl(64) - Out NewContInXsl.load()!
20:52:31,084 INFO common.Log4jPrint(20) - sdfsdfsdfewre===1.2E7
20:52:31,084 INFO common.Log4jPrint(20) - sdfsdfsdfewre===3.0E7
20:52:31,099 INFO common.Log4jPrint(20) - ================0133011
20:52:31,099 INFO common.Log4jPrint(20) - ================03
20:52:31,099 INFO common.Log4jPrint(20) - ++++++++++++++++03
20:52:31,099 INFO format.NewCont(142) - Out NewCont.noStd2Std()!
20:52:31,100 INFO midplat.Ybt4Socket(125) - 业务处理模块：com.sinosoft.midplat.newccb.service.NewContInput
20:52:31,105 INFO service.NewContInput(43) - Into NewContInput.service()...
20:52:31,106 DEBUG service.ServiceImpl(54) - Into ServiceImpl.insertTranLog()...
20:52:31,116 INFO common.Log4jPrint(20) - 进程名：1124
20:52:31,116 INFO common.Log4jPrint(20) - trancom:3
20:52:31,116 INFO common.Log4jPrint(20) - FuncFlag:1012
20:52:31,116 INFO common.Log4jPrint(20) - mHeadEle.getChildText1124_3_1012_in.xml
20:52:31,162 INFO common.Log4jPrint(20) - 进入更新后的InsPart
20:52:31,162 INFO common.Log4jPrint(20) - mSql: insert into TranLog ( LogNo,TranCom,NodeNo,TranNo,Operator,FuncFlag,TranDate,TranTime,ProposalPrtNo,RCode,UsedTime,AppntName,Bak1,InNoDoc,MakeDate,MakeTime,ModifyDate,ModifyTime,AppntIDNo,InsuredName,InsuredIDNo,ProductId ) values ( 1124,3,'13099','demaxiya200164','5201300004',1012,20161129,145205,'210414131200028',-1,-1,'张燕','127.0.0.1','1124_3_1012_in.xml',20161129,205231,20161129,205231,'230803197906010035','张燕','230803197906010035','011A0100' )
20:52:31,178 DEBUG service.ServiceImpl(118) - Out ServiceImpl.insertTranLog()!
20:52:31,179 INFO common.Log4jPrint(20) - ExecSQL : select count(1) from TranLog where RCode=-1 and ProposalPrtNo='210414131200028' and MakeDate>=20161129 and MakeTime>=204911
20:52:31,297 INFO common.RuleXsl(155) - Into RuleXsl.load()...
20:52:31,298 INFO common.RuleXsl(158) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl...
20:52:31,298 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:49,794) and length=15584 bytes!
20:52:31,332 INFO common.RuleXsl(165) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xsl!
20:52:31,332 INFO common.RuleXsl(179) - Out RuleXsl.load()!
20:52:31,333 INFO common.RuleXml(198) - Into RuleXml.load()...
20:52:31,333 INFO common.RuleXml(201) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml...
20:52:31,333 INFO common.XmlConf(62) - conf file modified at (2016-11-29 20:51:49,196) and length=10207 bytes!
20:52:31,338 INFO common.RuleXml(208) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/conf/rule.xml!
20:52:31,338 INFO common.RuleXml(215) - Out RuleXml.load()!
20:52:31,338 INFO common.RuleParser(49) - Into RuleParser.check()...
20:52:31,339 INFO common.RuleParser(71) - Into RuleParser.checkByXsl()...
20:52:31,346 INFO common.Log4jPrint(20) - 对邮编进行校验
20:52:31,347 INFO common.Log4jPrint(20) - 对邮编进行校验
20:52:31,348 INFO common.Log4jPrint(20) - 返回的结果是:0
20:52:31,349 INFO common.Log4jPrint(20) - 对邮编进行校验
20:52:31,353 INFO common.RuleParser(75) - <?xml version="1.0"?>
<rules />

20:52:31,356 INFO common.RuleParser(82) - Out RuleParser.checkByXsl()!
20:52:31,356 INFO common.RuleParser(62) - Out RuleParser.check()!
20:52:31,356 INFO service.NewContInput(110) - ------进入收益比例校验20140807------
20:52:31,362 INFO net.CallWebsvcAtomSvc(44) - Into CallWebsvcAtomSvc.service()...
20:52:31,364 INFO common.SaveMessage(59) - 1124_6_0_inSvc.xml IO输出耗时:0.0020s
20:52:31,364 INFO net.CallWebsvcAtomSvc(59) - 保存报文完毕！1124_6_0_inSvc.xml
20:52:31,366 INFO common.Log4jPrint(20) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:52:31,366 INFO net.CallWebsvcAtomSvc(67) - start call 录单核保(http://10.0.1.160:8080/ui/services/ServiceForBankInterfaceService.service)...
20:52:31,619 WARN dialect.StAXDialectDetector(177) - Unable to determine dialect of the StAX implementation at jar:file:/F:/MyEclipse/Common/plugins/com.genuitec.eclipse.ws.xfire_9.0.0.me201211011550/lib/webservices-rt.jar!/
20:53:56,051 INFO common.Log4jPrint(20) - 	at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)
20:53:56,052 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:197)
20:53:56,053 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
20:53:56,053 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)
20:53:56,054 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)
20:53:56,055 INFO common.Log4jPrint(20) - 	at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
20:53:56,055 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
20:53:56,056 INFO common.Log4jPrint(20) - 	at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
20:53:56,056 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
20:53:56,057 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
20:53:56,057 INFO common.Log4jPrint(20) - 	at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
20:53:56,058 INFO common.Log4jPrint(20) - 	at org.apache.axis2.rpc.client.RPCServiceClient.invokeBlocking(RPCServiceClient.java:102)
20:53:56,059 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.net.CallWebsvcAtomSvc.call(CallWebsvcAtomSvc.java:105)
20:53:56,059 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:122)
20:53:56,060 INFO common.Log4jPrint(20) - 	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:53:56,061 INFO common.Log4jPrint(20) - Caused by: java.net.ConnectException: Connection timed out: connect
20:53:56,061 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.socketConnect(Native Method)
20:53:56,062 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
20:53:56,063 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
20:53:56,063 INFO common.Log4jPrint(20) - 	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
20:53:56,064 INFO common.Log4jPrint(20) - 	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
20:53:56,064 INFO common.Log4jPrint(20) - 	at java.net.Socket.connect(Socket.java:529)
20:53:56,065 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
20:53:56,066 INFO common.Log4jPrint(20) - 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
20:53:56,066 INFO common.Log4jPrint(20) - 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
20:53:56,067 INFO common.Log4jPrint(20) - 	at java.lang.reflect.Method.invoke(Method.java:597)
20:53:56,067 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.ReflectionSocketFactory.createSocket(ReflectionSocketFactory.java:140)
20:53:56,068 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.protocol.DefaultProtocolSocketFactory.createSocket(DefaultProtocolSocketFactory.java:125)
20:53:56,069 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:707)
20:53:56,069 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1361)
20:53:56,070 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:387)
20:53:56,070 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
20:53:56,071 INFO common.Log4jPrint(20) - 	at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
20:53:56,071 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
20:53:56,071 INFO common.Log4jPrint(20) - 	at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
20:53:56,072 INFO common.Log4jPrint(20) - 	... 13 more
20:53:56,072 INFO common.Log4jPrint(20) - -----------------------------------------------
20:53:56,072 INFO service.NewContInput(131) - hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh
20:53:56,076 ERROR service.NewContInput(225) - 实时投保交易失败！
java.lang.NullPointerException
	at org.jdom.output.XMLOutputter.output(XMLOutputter.java:369)
	at org.jdom.output.XMLOutputter.outputString(XMLOutputter.java:542)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:224)
	at com.sinosoft.midplat.common.JdomUtil.toStringFmt(JdomUtil.java:208)
	at com.sinosoft.midplat.common.JdomUtil.print(JdomUtil.java:150)
	at com.sinosoft.midplat.newccb.service.NewContInput.service(NewContInput.java:132)
	at com.sinosoft.midplat.Ybt4Socket.run(Ybt4Socket.java:131)
20:53:56,113 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:53:56,114 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:53:56,114 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1124,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3=null,Bak4=null,Bak5=null,InNoDoc='1124_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=205231,ModifyDate=20161129,ModifyTime=205356,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc=null where LogNo=1124
20:53:56,133 INFO service.NewContInput(245) - Out NewContInput.service()!
20:53:56,134 INFO format.NewCont(147) - Into NewCont.std2NoStd()...
20:53:56,146 INFO format.NewContOutXsl(26) - Into NewContOutXsl.load()...
20:53:56,147 INFO format.NewContOutXsl(29) - Start load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl...
20:53:56,147 INFO common.XslCache(62) - conf file modified at (2016-11-28 17:39:31,674) and length=7262 bytes!
20:53:56,161 INFO format.NewContOutXsl(45) - End load /F:/MyEclipse/workspace/.metadata/.me_tcat/webapps/HGLIFE/WEB-INF/classes/com/sinosoft/midplat/newccb/format/NewContOut.xsl!
20:53:56,165 INFO format.NewContOutXsl(56) - <?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:java="http://xml.apache.org/xslt/java" version="1.0" exclude-result-prefixes="java"><xsl:template match="/"><TX><!-- 建设银行申请实时投保（寿险）响应报文 --><!-- 报文头 --><TX_HEADER><!-- 报文头长度 --><SYS_HDR_LEN /><!-- 协议版本号 --><SYS_PKG_VRSN>01</SYS_PKG_VRSN><!-- 报文总长度 --><SYS_TTL_LEN /><!-- 发送方安全节点编号 --><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><!-- 发起发安全节点编号  转换类中添加--><SYS_REQ_SEC_ID /><!--服务种类--><SYS_TX_TYPE>020000</SYS_TX_TYPE><!-- 全局事件跟踪号  转换类中添加--><SYS_EVT_TRACE_ID /><!-- 子交易序号  转换类中添加--><SYS_SND_SERIAL_NO /><!-- 应用报文格式类型 --><SYS_PKG_TYPE>1</SYS_PKG_TYPE><!-- 应用报文长度  转换类中添加--><SYS_MSG_LEN /><!-- 应用报文是否加密 --><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><!-- 应用报文加密方式 --><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><!-- 应用报文压缩方式 --><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><!-- 捎带报文长度 --><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><!-- 服务接受时间 转换类中添加--><SYS_RECV_TIME /><!-- 服务响应时间  转换类中添加--><SYS_RESP_TIME /><!-- 报文状态类型  --><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><xsl:if test="/TranData/Head/Flag='0'"><!-- 服务状态 --><SYS_TX_STATUS>00</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE>000000000000</SYS_RESP_CODE></xsl:if><xsl:if test="/TranData/Head/Flag !='0'"><!-- 服务状态 --><SYS_TX_STATUS>01</SYS_TX_STATUS><!-- 服务响应码 --><SYS_RESP_CODE /></xsl:if><!-- 服务响应描述长度  转换类中添加--><SYS_RESP_DESC_LEN /><!-- 服务响应描述 --><SYS_RESP_DESC /><xsl:copy-of select="Head/*" /></TX_HEADER><!-- 报文体 --><TX_BODY><COMMON><FILE_LIST_PACK><!-- 文件个数 --><FILE_NUM>0</FILE_NUM><!-- 文件处理方式 --><FILE_MODE>0</FILE_MODE><!-- 文件节点 --><FILE_NODE /><!-- 打包后后文件名 --><FILE_NAME_PACK /><!-- 打包文件获取路径 --><FILE_PATH_PACK /><!-- 文件信息 --><FILE_INFO><!-- 文件信息 --><FILE_NAME /><!-- 文件路径 --><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><!-- 代理保险套餐编号 --><AgIns_Pkg_ID /><!-- 险种个数 --><Cvr_Num><xsl:value-of select="count(/TranData/Body/Risk/RiskCode)" /></Cvr_Num><Bu_List><xsl:for-each select="/TranData/Body/Risk"><Bu_Detail><!-- 险种编号 --><Cvr_ID><xsl:value-of select="RiskCode" /></Cvr_ID><!-- 主附险标志 --><xsl:if test="RiskCode != MainRiskCode"><MainAndAdlIns_Ind>0</MainAndAdlIns_Ind></xsl:if><xsl:if test="RiskCode!= MainRiskCode"><MainAndAdlIns_Ind>1</MainAndAdlIns_Ind></xsl:if><!-- 保费金额 --><InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Prem)" /></InsPrem_Amt><!-- 投保份数 --><Ins_Cps><xsl:value-of select="Mult" /></Ins_Cps><!-- 投保保额 --><Ins_Cvr><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(Amnt)" /></Ins_Cvr></Bu_Detail></xsl:for-each></Bu_List><!-- 投保单号 --><Ins_BillNo><xsl:value-of select="/TranData/Body/ProposalPrtNo" /></Ins_BillNo><!-- 总保费金额 --><Tot_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Prem)" /></Tot_InsPrem_Amt><!-- 首期缴费金额 --><Init_PyF_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Init_PyF_Amt><!-- 年化保费金额 --><Anulz_InsPrem_Amt><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></Anulz_InsPrem_Amt><!-- 保险公司派驻人员姓名 --><Ins_Co_Acrdt_Stff_Nm><xsl:value-of select="/TranData/Body/SaleName" /></Ins_Co_Acrdt_Stff_Nm><!-- 保险公司派驻人员从业资格证书编号 --><InsCoAcrStCrQuaCtf_ID><xsl:value-of select="/TranData/Body/SaleCertNo" /></InsCoAcrStCrQuaCtf_ID><!-- 保费缴费方式代码 format类中添加--><InsPrem_PyF_MtdCd /><!-- 代理保险期缴代扣账号 核心没有，建行非必填字段--><AgInsRgAutoDdcn_AccNo /><!-- 每期缴费金额信息 --><EcIst_PyF_Amt_Inf><xsl:value-of select="java:com.sinosoft.midplat.common.NumberUtil.fenToYuan(/TranData/Body/Risk[RiskCode=MainRiskCode]/Prem)" /></EcIst_PyF_Amt_Inf><!-- 保费缴费期数 --><InsPrem_PyF_Prd_Num><xsl:value-of select="/TranData/Body/Risk/PayEndYear" /></InsPrem_PyF_Prd_Num><!-- 保费缴费周期代码  format类中添加--><InsPrem_PyF_Cyc_Cd /></APP_ENTITY></ENTITY></TX_BODY></TX></xsl:template><!-- 保障年期/年龄标志 --><xsl:template name="tran_PbIYF"><xsl:param name="PbInsuYearFlag">2</xsl:param><xsl:choose><xsl:when test="$PbInsuYearFlag = ''">0</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">1</xsl:when><xsl:when test="$PbInsuYearFlag = 'Y'">2</xsl:when><xsl:when test="$PbInsuYearFlag = ''">3</xsl:when><xsl:when test="$PbInsuYearFlag = 'M'">4</xsl:when><xsl:when test="$PbInsuYearFlag = 'D'">5</xsl:when><xsl:when test="$PbInsuYearFlag = 'A'">6</xsl:when><xsl:otherwise><xsl:value-of select="0" /></xsl:otherwise></xsl:choose></xsl:template><!-- 主附险标志 no --><xsl:template name="tran_MainAndAdlIns_Ind"><xsl:param name="mainAndAdlIns_ind" /><xsl:choose><xsl:when test="$mainAndAdlIns_ind=1">1</xsl:when><!-- 主险  --><xsl:when test="$mainAndAdlIns_ind=2">0</xsl:when><!-- 附加险 --><xsl:otherwise /></xsl:choose></xsl:template></xsl:stylesheet>

20:53:56,165 INFO format.NewContOutXsl(64) - Out NewContOutXsl.load()!
20:53:56,169 INFO format.NewCont(205) - Out NewCont.std2NoStd()!
20:53:56,169 INFO newNet.CcbNetImpl(100) - Into CcbNetImpl.send()...
20:53:56,172 INFO common.SaveMessage(59) - 1124_9_1012_out.xml IO输出耗时:0.0020s
20:53:56,172 INFO newNet.CcbNetImpl(178) - 保存报文完毕！1124_9_1012_out.xml
20:53:56,173 INFO newNet.CcbNetImpl(181) - 返回给银行的报文：<?xml version="1.0" encoding="UTF-8"?>
<TX><TX_HEADER><SYS_HDR_LEN>792</SYS_HDR_LEN><SYS_PKG_VRSN>01</SYS_PKG_VRSN><SYS_TTL_LEN>2095</SYS_TTL_LEN><SYS_SND_SEC_ID>510050</SYS_SND_SEC_ID><SYS_REQ_SEC_ID>102001</SYS_REQ_SEC_ID><SYS_TX_TYPE>020000</SYS_TX_TYPE><SYS_EVT_TRACE_ID>102001070100001</SYS_EVT_TRACE_ID><SYS_SND_SERIAL_NO>4000000000</SYS_SND_SERIAL_NO><SYS_PKG_TYPE>1</SYS_PKG_TYPE><SYS_MSG_LEN>718</SYS_MSG_LEN><SYS_IS_ENCRYPTED>3</SYS_IS_ENCRYPTED><SYS_ENCRYPT_TYPE>3</SYS_ENCRYPT_TYPE><SYS_COMPRESS_TYPE>0</SYS_COMPRESS_TYPE><SYS_EMB_MSG_LEN>0</SYS_EMB_MSG_LEN><SYS_RECV_TIME>20161129205230554</SYS_RECV_TIME><SYS_RESP_TIME>20161129205356168</SYS_RESP_TIME><SYS_PKG_STS_TYPE>01</SYS_PKG_STS_TYPE><SYS_TX_STATUS>01</SYS_TX_STATUS><SYS_RESP_CODE>ZZZ072000001</SYS_RESP_CODE><SYS_RESP_DESC_LEN>0</SYS_RESP_DESC_LEN><SYS_RESP_DESC></SYS_RESP_DESC></TX_HEADER><TX_BODY><COMMON><FILE_LIST_PACK><FILE_NUM>0</FILE_NUM><FILE_MODE>0</FILE_MODE><FILE_NODE /><FILE_NAME_PACK /><FILE_PATH_PACK /><FILE_INFO><FILE_NAME /><FILE_PATH /></FILE_INFO></FILE_LIST_PACK></COMMON><ENTITY><APP_ENTITY><AgIns_Pkg_ID /><Cvr_Num>0</Cvr_Num><Bu_List /><Ins_BillNo /><Tot_InsPrem_Amt /><Init_PyF_Amt /><Anulz_InsPrem_Amt /><Ins_Co_Acrdt_Stff_Nm /><InsCoAcrStCrQuaCtf_ID /><InsPrem_PyF_MtdCd /><AgInsRgAutoDdcn_AccNo /><EcIst_PyF_Amt_Inf /><InsPrem_PyF_Prd_Num /><InsPrem_PyF_Cyc_Cd /></APP_ENTITY><COM_ENTITY><!--卞?-><Inst_Eng_ShrtNm>CCB</Inst_Eng_ShrtNm><Ins_Co_ID>010019</Ins_Co_ID><!--淇╁哥--><SvPt_Jrnl_No>demaxiya200164</SvPt_Jrnl_No><!--℃规姘村--><TXN_ITT_CHNL_ID>002911037830000</TXN_ITT_CHNL_ID><!--浜ゆ璧锋缂--><TXN_ITT_CHNL_CGY_CODE>911711</TXN_ITT_CHNL_CGY_CODE><!--浜ゆ璧锋绫诲--><CCBIns_ID>13099</CCBIns_ID><!--寤鸿烘缂&缃逛唬--><CCB_EmpID>5201300004</CCB_EmpID><!--寤鸿宸ョ&缂--><OprgDay_Prd>20150921</OprgDay_Prd><!--ヤユ--><LNG_ID>zh-cn</LNG_ID><SYS_TX_CODE>P53819113</SYS_TX_CODE><Ins_Co_Acg_Dt /><Ins_Co_Jrnl_No /><Ins_Co_Cst_Svc_Tel>4009-800-800</Ins_Co_Cst_Svc_Tel></COM_ENTITY></ENTITY></TX_BODY></TX>

20:53:56,174 INFO newNet.CcbNetImpl(186) - Out CcbNetImpl.send()!
20:53:56,235 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:53:56,235 INFO common.Log4jPrint(20) - mSql: select * from TranLog where LogNo=1124
20:53:56,256 INFO common.Log4jPrint(20) - -------------------------
20:53:56,256 INFO common.Log4jPrint(20) - this.setSchema(rs,i)=true,i=1
20:53:56,257 INFO common.Log4jPrint(20) - -------------------------
20:53:56,265 INFO common.Log4jPrint(20) - i=1
20:53:56,294 INFO common.Log4jPrint(20) - 进入更新后的UpdPart
20:53:56,294 INFO common.Log4jPrint(20) - 进入更新后的setPKWherePart
20:53:56,294 INFO common.Log4jPrint(20) - mSql: update TranLog set LogNo=1124,TranCom=3,ZoneNo=null,NodeNo='13099',TranNo='demaxiya200164',Operator='5201300004',FuncFlag=1012,TranDate=20161129,TranTime=145205,ProposalPrtNo='210414131200028',ContNo=null,OtherNo=null,AgentCom=null,AgentCode=null,AgentComName=null,AgentName=null,UnitCode=null,AgentCodeGrade=null,AgentGrade=null,ManageCom=null,RCode=1,RText=null,UsedTime=84,AppntName='张燕',Bak1='127.0.0.1',Bak2=null,Bak3='85.916',Bak4=null,Bak5=null,InNoDoc='1124_3_1012_in.xml',MakeDate=20161129,InDoc=null,OutDoc=null,MakeTime=205231,ModifyDate=20161129,ModifyTime=205356,AppntIDNo='230803197906010035',InsuredName='张燕',InsuredIDNo='230803197906010035',ProductId='011A0100',OutNoDoc='1124_9_1012_out.xml' where LogNo=1124
20:53:56,315 INFO midplat.Ybt4Socket(170) - 处理总耗时：85.966s
20:53:56,315 INFO midplat.Ybt4Socket(172) - Out Ybt4Socket.run()!
